(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function Wg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vp={exports:{}},Ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2;function rE(){if(D2)return Ec;D2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:n,type:i,key:h,ref:o!==void 0?o:null,props:c}}return Ec.Fragment=e,Ec.jsx=t,Ec.jsxs=t,Ec}var j2;function sE(){return j2||(j2=1,Vp.exports=rE()),Vp.exports}var f=sE(),Lp={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M2;function iE(){if(M2)return De;M2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.iterator;function E(I){return I===null||typeof I!="object"?null:(I=w&&I[w]||I["@@iterator"],typeof I=="function"?I:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,P={};function B(I,X,le){this.props=I,this.context=X,this.refs=P,this.updater=le||k}B.prototype.isReactComponent={},B.prototype.setState=function(I,X){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,X,"setState")},B.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function H(){}H.prototype=B.prototype;function Z(I,X,le){this.props=I,this.context=X,this.refs=P,this.updater=le||k}var ee=Z.prototype=new H;ee.constructor=Z,O(ee,B.prototype),ee.isPureReactComponent=!0;var ue=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function C(I,X,le,ae,pe,be){return le=be.ref,{$$typeof:n,type:I,key:X,ref:le!==void 0?le:null,props:be}}function A(I,X){return C(I.type,X,void 0,void 0,void 0,I.props)}function N(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function R(I){var X={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(le){return X[le]})}var D=/\/+/g;function z(I,X){return typeof I=="object"&&I!==null&&I.key!=null?R(""+I.key):X.toString(36)}function M(){}function ye(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(M,M):(I.status="pending",I.then(function(X){I.status==="pending"&&(I.status="fulfilled",I.value=X)},function(X){I.status==="pending"&&(I.status="rejected",I.reason=X)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function he(I,X,le,ae,pe){var be=typeof I;(be==="undefined"||be==="boolean")&&(I=null);var xe=!1;if(I===null)xe=!0;else switch(be){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(I.$$typeof){case n:case e:xe=!0;break;case x:return xe=I._init,he(xe(I._payload),X,le,ae,pe)}}if(xe)return pe=pe(I),xe=ae===""?"."+z(I,0):ae,ue(pe)?(le="",xe!=null&&(le=xe.replace(D,"$&/")+"/"),he(pe,X,le,"",function(ot){return ot})):pe!=null&&(N(pe)&&(pe=A(pe,le+(pe.key==null||I&&I.key===pe.key?"":(""+pe.key).replace(D,"$&/")+"/")+xe)),X.push(pe)),1;xe=0;var Ye=ae===""?".":ae+":";if(ue(I))for(var ke=0;ke<I.length;ke++)ae=I[ke],be=Ye+z(ae,ke),xe+=he(ae,X,le,be,pe);else if(ke=E(I),typeof ke=="function")for(I=ke.call(I),ke=0;!(ae=I.next()).done;)ae=ae.value,be=Ye+z(ae,ke++),xe+=he(ae,X,le,be,pe);else if(be==="object"){if(typeof I.then=="function")return he(ye(I),X,le,ae,pe);throw X=String(I),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return xe}function L(I,X,le){if(I==null)return I;var ae=[],pe=0;return he(I,ae,"","",function(be){return X.call(le,be,pe++)}),ae}function W(I){if(I._status===-1){var X=I._result;X=X(),X.then(function(le){(I._status===0||I._status===-1)&&(I._status=1,I._result=le)},function(le){(I._status===0||I._status===-1)&&(I._status=2,I._result=le)}),I._status===-1&&(I._status=0,I._result=X)}if(I._status===1)return I._result.default;throw I._result}var te=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function fe(){}return De.Children={map:L,forEach:function(I,X,le){L(I,function(){X.apply(this,arguments)},le)},count:function(I){var X=0;return L(I,function(){X++}),X},toArray:function(I){return L(I,function(X){return X})||[]},only:function(I){if(!N(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},De.Component=B,De.Fragment=t,De.Profiler=o,De.PureComponent=Z,De.StrictMode=i,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,De.__COMPILER_RUNTIME={__proto__:null,c:function(I){return J.H.useMemoCache(I)}},De.cache=function(I){return function(){return I.apply(null,arguments)}},De.cloneElement=function(I,X,le){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ae=O({},I.props),pe=I.key,be=void 0;if(X!=null)for(xe in X.ref!==void 0&&(be=void 0),X.key!==void 0&&(pe=""+X.key),X)!ce.call(X,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&X.ref===void 0||(ae[xe]=X[xe]);var xe=arguments.length-2;if(xe===1)ae.children=le;else if(1<xe){for(var Ye=Array(xe),ke=0;ke<xe;ke++)Ye[ke]=arguments[ke+2];ae.children=Ye}return C(I.type,pe,void 0,void 0,be,ae)},De.createContext=function(I){return I={$$typeof:h,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},De.createElement=function(I,X,le){var ae,pe={},be=null;if(X!=null)for(ae in X.key!==void 0&&(be=""+X.key),X)ce.call(X,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(pe[ae]=X[ae]);var xe=arguments.length-2;if(xe===1)pe.children=le;else if(1<xe){for(var Ye=Array(xe),ke=0;ke<xe;ke++)Ye[ke]=arguments[ke+2];pe.children=Ye}if(I&&I.defaultProps)for(ae in xe=I.defaultProps,xe)pe[ae]===void 0&&(pe[ae]=xe[ae]);return C(I,be,void 0,void 0,null,pe)},De.createRef=function(){return{current:null}},De.forwardRef=function(I){return{$$typeof:m,render:I}},De.isValidElement=N,De.lazy=function(I){return{$$typeof:x,_payload:{_status:-1,_result:I},_init:W}},De.memo=function(I,X){return{$$typeof:y,type:I,compare:X===void 0?null:X}},De.startTransition=function(I){var X=J.T,le={};J.T=le;try{var ae=I(),pe=J.S;pe!==null&&pe(le,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(fe,te)}catch(be){te(be)}finally{J.T=X}},De.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},De.use=function(I){return J.H.use(I)},De.useActionState=function(I,X,le){return J.H.useActionState(I,X,le)},De.useCallback=function(I,X){return J.H.useCallback(I,X)},De.useContext=function(I){return J.H.useContext(I)},De.useDebugValue=function(){},De.useDeferredValue=function(I,X){return J.H.useDeferredValue(I,X)},De.useEffect=function(I,X,le){var ae=J.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(I,X)},De.useId=function(){return J.H.useId()},De.useImperativeHandle=function(I,X,le){return J.H.useImperativeHandle(I,X,le)},De.useInsertionEffect=function(I,X){return J.H.useInsertionEffect(I,X)},De.useLayoutEffect=function(I,X){return J.H.useLayoutEffect(I,X)},De.useMemo=function(I,X){return J.H.useMemo(I,X)},De.useOptimistic=function(I,X){return J.H.useOptimistic(I,X)},De.useReducer=function(I,X,le){return J.H.useReducer(I,X,le)},De.useRef=function(I){return J.H.useRef(I)},De.useState=function(I){return J.H.useState(I)},De.useSyncExternalStore=function(I,X,le){return J.H.useSyncExternalStore(I,X,le)},De.useTransition=function(){return J.H.useTransition()},De.version="19.1.0",De}var k2;function Zg(){return k2||(k2=1,Lp.exports=iE()),Lp.exports}var U=Zg();const sn=Wg(U);var Up={exports:{}},Tc={},zp={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function aE(){return O2||(O2=1,function(n){function e(L,W){var te=L.length;L.push(W);e:for(;0<te;){var fe=te-1>>>1,I=L[fe];if(0<o(I,W))L[fe]=W,L[te]=I,te=fe;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var W=L[0],te=L.pop();if(te!==W){L[0]=te;e:for(var fe=0,I=L.length,X=I>>>1;fe<X;){var le=2*(fe+1)-1,ae=L[le],pe=le+1,be=L[pe];if(0>o(ae,te))pe<I&&0>o(be,ae)?(L[fe]=be,L[pe]=te,fe=pe):(L[fe]=ae,L[le]=te,fe=le);else if(pe<I&&0>o(be,te))L[fe]=be,L[pe]=te,fe=pe;else break e}}return W}function o(L,W){var te=L.sortIndex-W.sortIndex;return te!==0?te:L.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var g=[],y=[],x=1,w=null,E=3,k=!1,O=!1,P=!1,B=!1,H=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ue(L){for(var W=t(y);W!==null;){if(W.callback===null)i(y);else if(W.startTime<=L)i(y),W.sortIndex=W.expirationTime,e(g,W);else break;W=t(y)}}function J(L){if(P=!1,ue(L),!O)if(t(g)!==null)O=!0,ce||(ce=!0,z());else{var W=t(y);W!==null&&he(J,W.startTime-L)}}var ce=!1,C=-1,A=5,N=-1;function R(){return B?!0:!(n.unstable_now()-N<A)}function D(){if(B=!1,ce){var L=n.unstable_now();N=L;var W=!0;try{e:{O=!1,P&&(P=!1,Z(C),C=-1),k=!0;var te=E;try{t:{for(ue(L),w=t(g);w!==null&&!(w.expirationTime>L&&R());){var fe=w.callback;if(typeof fe=="function"){w.callback=null,E=w.priorityLevel;var I=fe(w.expirationTime<=L);if(L=n.unstable_now(),typeof I=="function"){w.callback=I,ue(L),W=!0;break t}w===t(g)&&i(g),ue(L)}else i(g);w=t(g)}if(w!==null)W=!0;else{var X=t(y);X!==null&&he(J,X.startTime-L),W=!1}}break e}finally{w=null,E=te,k=!1}W=void 0}}finally{W?z():ce=!1}}}var z;if(typeof ee=="function")z=function(){ee(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ye=M.port2;M.port1.onmessage=D,z=function(){ye.postMessage(null)}}else z=function(){H(D,0)};function he(L,W){C=H(function(){L(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(L){switch(E){case 1:case 2:case 3:var W=3;break;default:W=E}var te=E;E=W;try{return L()}finally{E=te}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var te=E;E=L;try{return W()}finally{E=te}},n.unstable_scheduleCallback=function(L,W,te){var fe=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?fe+te:fe):te=fe,L){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=te+I,L={id:x++,callback:W,priorityLevel:L,startTime:te,expirationTime:I,sortIndex:-1},te>fe?(L.sortIndex=te,e(y,L),t(g)===null&&L===t(y)&&(P?(Z(C),C=-1):P=!0,he(J,te-fe))):(L.sortIndex=I,e(g,L),O||k||(O=!0,ce||(ce=!0,z()))),L},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(L){var W=E;return function(){var te=E;E=W;try{return L.apply(this,arguments)}finally{E=te}}}}(Bp)),Bp}var P2;function oE(){return P2||(P2=1,zp.exports=aE()),zp.exports}var Fp={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V2;function lE(){if(V2)return cn;V2=1;var n=Zg();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:x}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,cn.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,x)},cn.flushSync=function(g){var y=h.T,x=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=x,i.d.f()}},cn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},cn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},cn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,w=m(x,y.crossOrigin),E=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:k}):x==="script"&&i.d.X(g,{crossOrigin:w,integrity:E,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},cn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=m(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},cn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,w=m(x,y.crossOrigin);i.d.L(g,x,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},cn.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=m(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},cn.requestFormReset=function(g){i.d.r(g)},cn.unstable_batchedUpdates=function(g,y){return g(y)},cn.useFormState=function(g,y,x){return h.H.useFormState(g,y,x)},cn.useFormStatus=function(){return h.H.useHostTransitionStatus()},cn.version="19.1.0",cn}var L2;function cE(){if(L2)return Fp.exports;L2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fp.exports=lE(),Fp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2;function uE(){if(U2)return Tc;U2=1;var n=oE(),e=Zg(),t=cE();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function h(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(c(r)!==r)throw Error(i(188))}function g(r){var s=r.alternate;if(!s){if(s=c(r),s===null)throw Error(i(188));return s!==r?null:r}for(var a=r,l=s;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return m(d),r;if(p===l)return m(d),s;p=p.sibling}throw Error(i(188))}if(a.return!==l.return)a=d,l=p;else{for(var b=!1,T=d.child;T;){if(T===a){b=!0,a=d,l=p;break}if(T===l){b=!0,l=d,a=p;break}T=T.sibling}if(!b){for(T=p.child;T;){if(T===a){b=!0,a=p,l=d;break}if(T===l){b=!0,l=p,a=d;break}T=T.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function ye(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case B:return"Profiler";case P:return"StrictMode";case J:return"Suspense";case ce:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case k:return"Portal";case ee:return(r.displayName||"Context")+".Provider";case Z:return(r._context.displayName||"Context")+".Consumer";case ue:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case C:return s=r.displayName||null,s!==null?s:ye(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return ye(r(s))}catch{}}return null}var he=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},fe=[],I=-1;function X(r){return{current:r}}function le(r){0>I||(r.current=fe[I],fe[I]=null,I--)}function ae(r,s){I++,fe[I]=r.current,r.current=s}var pe=X(null),be=X(null),xe=X(null),Ye=X(null);function ke(r,s){switch(ae(xe,s),ae(be,r),ae(pe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?i2(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=i2(s),r=a2(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}le(pe),ae(pe,r)}function ot(){le(pe),le(be),le(xe)}function it(r){r.memoizedState!==null&&ae(Ye,r);var s=pe.current,a=a2(s,r.type);s!==a&&(ae(be,r),ae(pe,a))}function pt(r){be.current===r&&(le(pe),le(be)),Ye.current===r&&(le(Ye),vc._currentValue=te)}var _t=Object.prototype.hasOwnProperty,Ln=n.unstable_scheduleCallback,ki=n.unstable_cancelCallback,pl=n.unstable_shouldYield,vu=n.unstable_requestPaint,Un=n.unstable_now,Vf=n.unstable_getCurrentPriorityLevel,gl=n.unstable_ImmediatePriority,Oa=n.unstable_UserBlockingPriority,Oi=n.unstable_NormalPriority,Lf=n.unstable_LowPriority,Pa=n.unstable_IdlePriority,yl=n.log,xu=n.unstable_setDisableYieldValue,bt=null,Ze=null;function An(r){if(typeof yl=="function"&&xu(r),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(bt,r)}catch{}}var on=Math.clz32?Math.clz32:Pi,_u=Math.log,Uf=Math.LN2;function Pi(r){return r>>>=0,r===0?32:31-(_u(r)/Uf|0)|0}var Vi=256,Li=4194304;function nr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Va(r,s,a){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var T=l&134217727;return T!==0?(l=T&~p,l!==0?d=nr(l):(b&=T,b!==0?d=nr(b):a||(a=T&~r,a!==0&&(d=nr(a))))):(T=l&~p,T!==0?d=nr(T):b!==0?d=nr(b):a||(a=l&~r,a!==0&&(d=nr(a)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:d}function Ui(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function vl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(){var r=Vi;return Vi<<=1,(Vi&4194048)===0&&(Vi=256),r}function _l(){var r=Li;return Li<<=1,(Li&62914560)===0&&(Li=4194304),r}function Yr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Kr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function bl(r,s,a,l,d,p){var b=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var T=r.entanglements,j=r.expirationTimes,G=r.hiddenUpdates;for(a=b&~a;0<a;){var ne=31-on(a),ie=1<<ne;T[ne]=0,j[ne]=-1;var Y=G[ne];if(Y!==null)for(G[ne]=null,ne=0;ne<Y.length;ne++){var K=Y[ne];K!==null&&(K.lane&=-536870913)}a&=~ie}l!==0&&pr(r,l,0),p!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=p&~(b&~s))}function pr(r,s,a){r.pendingLanes|=s,r.suspendedLanes&=~s;var l=31-on(s);r.entangledLanes|=s,r.entanglements[l]=r.entanglements[l]|1073741824|a&4194090}function wl(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var l=31-on(a),d=1<<l;d&s|r[l]&s&&(r[l]|=s),a&=~d}}function ks(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function La(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Os(){var r=W.p;return r!==0?r:(r=window.event,r===void 0?32:S2(r.type))}function bu(r,s){var a=W.p;try{return W.p=r,s()}finally{W.p=a}}var dt=Math.random().toString(36).slice(2),Vt="__reactFiber$"+dt,Ct="__reactProps$"+dt,zn="__reactContainer$"+dt,El="__reactEvents$"+dt,zf="__reactListeners$"+dt,Ps="__reactHandles$"+dt,wu="__reactResources$"+dt,zi="__reactMarker$"+dt;function Vs(r){delete r[Vt],delete r[Ct],delete r[El],delete r[zf],delete r[Ps]}function Qr(r){var s=r[Vt];if(s)return s;for(var a=r.parentNode;a;){if(s=a[zn]||a[Vt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=u2(r);r!==null;){if(a=r[Vt])return a;r=u2(r)}return s}r=a,a=r.parentNode}return null}function gr(r){if(r=r[Vt]||r[zn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function yr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function mn(r){var s=r[wu];return s||(s=r[wu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function St(r){r[zi]=!0}var Tl=new Set,Ua={};function rr(r,s){Xr(r,s),Xr(r+"Capture",s)}function Xr(r,s){for(Ua[r]=s,r=0;r<s.length;r++)Tl.add(s[r])}var Eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tu={},Bi={};function Su(r){return _t.call(Bi,r)?!0:_t.call(Tu,r)?!1:Eu.test(r)?Bi[r]=!0:(Tu[r]=!0,!1)}function Ls(r,s,a){if(Su(s))if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+a)}}function vr(r,s,a){if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+a)}}function Wt(r,s,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(s,a,""+l)}}var Fi,Au;function Wr(r){if(Fi===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Fi=s&&s[1]||"",Au=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fi+r+Au}var za=!1;function Ba(r,s){if(!r||za)return"";za=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(K){var Y=K}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(K){Y=K}r.call(ie.prototype)}}else{try{throw Error()}catch(K){Y=K}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),b=p[0],T=p[1];if(b&&T){var j=b.split(`
`),G=T.split(`
`);for(d=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(l===j.length||d===G.length)for(l=j.length-1,d=G.length-1;1<=l&&0<=d&&j[l]!==G[d];)d--;for(;1<=l&&0<=d;l--,d--)if(j[l]!==G[d]){if(l!==1||d!==1)do if(l--,d--,0>d||j[l]!==G[d]){var ne=`
`+j[l].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=l&&0<=d);break}}}finally{za=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?Wr(a):""}function Sl(r){switch(r.tag){case 26:case 27:case 5:return Wr(r.type);case 16:return Wr("Lazy");case 13:return Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 15:return Ba(r.type,!1);case 11:return Ba(r.type.render,!1);case 1:return Ba(r.type,!0);case 31:return Wr("Activity");default:return""}}function Fa(r){try{var s="";do s+=Sl(r),r=r.return;while(r);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Al(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Bf(r){var s=Al(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),l=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ha(r){r._valueTracker||(r._valueTracker=Bf(r))}function Nl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return r&&(l=Al(r)?r.checked?"true":"false":r.value),r=l,r!==a?(s.setValue(r),!0):!1}function Hi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ff=/[\n"\\]/g;function It(r){return r.replace(Ff,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Nn(r,s,a,l,d,p,b,T){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+pn(s)):r.value!==""+pn(s)&&(r.value=""+pn(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?Us(r,b,pn(s)):a!=null?Us(r,b,pn(a)):l!=null&&r.removeAttribute("value"),d==null&&p!=null&&(r.defaultChecked=!!p),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.name=""+pn(T):r.removeAttribute("name")}function qi(r,s,a,l,d,p,b,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;a=a!=null?""+pn(a):"",s=s!=null?""+pn(s):a,T||s===r.value||(r.value=s),r.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=T?r.checked:!!l,r.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function Us(r,s,a){s==="number"&&Hi(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function Zr(r,s,a,l){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&l&&(r[a].defaultSelected=!0)}else{for(a=""+pn(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,l&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function tt(r,s,a){if(s!=null&&(s=""+pn(s),s!==r.value&&(r.value=s),a==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=a!=null?""+pn(a):""}function $i(r,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(he(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=pn(s),r.defaultValue=a,l=r.textContent,l===a&&l!==""&&l!==null&&(r.value=l)}function Bn(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Gi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nu(r,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":l?r.setProperty(s,a):typeof a!="number"||a===0||Gi.has(s)?s==="float"?r.cssFloat=a:r[s]=(""+a).trim():r[s]=a+"px"}function Rl(r,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&a[d]!==l&&Nu(r,d,l)}else for(var p in s)s.hasOwnProperty(p)&&Nu(r,p,s[p])}function Cl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(r){return qf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Jr=null;function Fn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var es=null,ts=null;function Il(r){var s=gr(r);if(s&&(r=s.stateNode)){var a=r[Ct]||null;e:switch(r=s.stateNode,s.type){case"input":if(Nn(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+It(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==r&&l.form===r.form){var d=l[Ct]||null;if(!d)throw Error(i(90));Nn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===r.form&&Nl(l)}break e;case"textarea":tt(r,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Zr(r,!!a.multiple,s,!1)}}}var xr=!1;function Ru(r,s,a){if(xr)return r(s,a);xr=!0;try{var l=r(s);return l}finally{if(xr=!1,(es!==null||ts!==null)&&(bh(),es&&(s=es,r=ts,ts=es=null,Il(s),r)))for(s=0;s<r.length;s++)Il(r[s])}}function Yi(r,s){var a=r.stateNode;if(a===null)return null;var l=a[Ct]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(sr)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{Hn=!1}var _r=null,zs=null,ns=null;function Dl(){if(ns)return ns;var r,s=zs,a=s.length,l,d="value"in _r?_r.value:_r.textContent,p=d.length;for(r=0;r<a&&s[r]===d[r];r++);var b=a-r;for(l=1;l<=b&&s[a-l]===d[p-l];l++);return ns=d.slice(r,1<l?1-l:void 0)}function br(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function wr(){return!0}function jl(){return!1}function qt(r){function s(a,l,d,p,b){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(a=r[T],this[T]=a?a(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?wr:jl,this.isPropagationStopped=jl,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),s}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=qt(Qe),Qi=x({},Qe,{view:0,detail:0}),Cu=qt(Qi),Ga,Ya,Er,Xi=x({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Er&&(Er&&r.type==="mousemove"?(Ga=r.screenX-Er.screenX,Ya=r.screenY-Er.screenY):Ya=Ga=0,Er=r),Ga)},movementY:function(r){return"movementY"in r?r.movementY:Ya}}),qn=qt(Xi),Iu=x({},Xi,{dataTransfer:0}),$f=qt(Iu),Wi=x({},Qi,{relatedTarget:0}),Ka=qt(Wi),Ml=x({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Qa=qt(Ml),Du=x({},Qe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Xa=qt(Du),Gf=x({},Qe,{data:0}),kl=qt(Gf),Zi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ol(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Mu[r])?!!s[r]:!1}function Ji(){return Ol}var ku=x({},Qi,{key:function(r){if(r.key){var s=Zi[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=br(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ju[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(r){return r.type==="keypress"?br(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?br(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Wa=qt(ku),Ou=x({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pl=qt(Ou),rs=x({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),Pu=qt(rs),Vu=x({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lu=qt(Vu),Uu=x({},Xi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=qt(Uu),gn=x({},Qe,{newState:0,oldState:0}),zu=qt(gn),Bu=[9,13,27,32],Tr=sr&&"CompositionEvent"in window,u=null;sr&&"documentMode"in document&&(u=document.documentMode);var v=sr&&"TextEvent"in window&&!u,_=sr&&(!Tr||u&&8<u&&11>=u),S=" ",q=!1;function Q(r,s){switch(r){case"keyup":return Bu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Be=!1;function Lt(r,s){switch(r){case"compositionend":return de(s);case"keypress":return s.which!==32?null:(q=!0,S);case"textInput":return r=s.data,r===S&&q?null:r;default:return null}}function Fe(r,s){if(Be)return r==="compositionend"||!Tr&&Q(r,s)?(r=Dl(),ns=zs=_r=null,Be=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!$t[r.type]:s==="textarea"}function ss(r,s,a,l){es?ts?ts.push(l):ts=[l]:es=l,s=Nh(s,"onChange"),0<s.length&&(a=new $a("onChange","change",null,a,l),r.push({event:a,listeners:s}))}var Zt=null,Sr=null;function Vl(r){e2(r,0)}function Fu(r){var s=yr(r);if(Nl(s))return r}function b1(r,s){if(r==="change")return s}var w1=!1;if(sr){var Yf;if(sr){var Kf="oninput"in document;if(!Kf){var E1=document.createElement("div");E1.setAttribute("oninput","return;"),Kf=typeof E1.oninput=="function"}Yf=Kf}else Yf=!1;w1=Yf&&(!document.documentMode||9<document.documentMode)}function T1(){Zt&&(Zt.detachEvent("onpropertychange",S1),Sr=Zt=null)}function S1(r){if(r.propertyName==="value"&&Fu(Sr)){var s=[];ss(s,Sr,r,Fn(r)),Ru(Vl,s)}}function Mw(r,s,a){r==="focusin"?(T1(),Zt=s,Sr=a,Zt.attachEvent("onpropertychange",S1)):r==="focusout"&&T1()}function kw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Fu(Sr)}function Ow(r,s){if(r==="click")return Fu(s)}function Pw(r,s){if(r==="input"||r==="change")return Fu(s)}function Vw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Rn=typeof Object.is=="function"?Object.is:Vw;function Ll(r,s){if(Rn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!_t.call(s,d)||!Rn(r[d],s[d]))return!1}return!0}function A1(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function N1(r,s){var a=A1(r);r=0;for(var l;a;){if(a.nodeType===3){if(l=r+a.textContent.length,r<=s&&l>=s)return{node:a,offset:s-r};r=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=A1(a)}}function R1(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?R1(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function C1(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Hi(r.document);s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Hi(r.document)}return s}function Qf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Lw=sr&&"documentMode"in document&&11>=document.documentMode,Ja=null,Xf=null,Ul=null,Wf=!1;function I1(r,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wf||Ja==null||Ja!==Hi(l)||(l=Ja,"selectionStart"in l&&Qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ul&&Ll(Ul,l)||(Ul=l,l=Nh(Xf,"onSelect"),0<l.length&&(s=new $a("onSelect","select",null,s,a),r.push({event:s,listeners:l}),s.target=Ja)))}function ea(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var eo={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Zf={},D1={};sr&&(D1=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function ta(r){if(Zf[r])return Zf[r];if(!eo[r])return r;var s=eo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in D1)return Zf[r]=s[a];return r}var j1=ta("animationend"),M1=ta("animationiteration"),k1=ta("animationstart"),Uw=ta("transitionrun"),zw=ta("transitionstart"),Bw=ta("transitioncancel"),O1=ta("transitionend"),P1=new Map,Jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jf.push("scrollEnd");function ir(r,s){P1.set(r,s),rr(s,[r])}var V1=new WeakMap;function $n(r,s){if(typeof r=="object"&&r!==null){var a=V1.get(r);return a!==void 0?a:(s={value:r,source:s,stack:Fa(s)},V1.set(r,s),s)}return{value:r,source:s,stack:Fa(s)}}var Gn=[],to=0,em=0;function Hu(){for(var r=to,s=em=to=0;s<r;){var a=Gn[s];Gn[s++]=null;var l=Gn[s];Gn[s++]=null;var d=Gn[s];Gn[s++]=null;var p=Gn[s];if(Gn[s++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}p!==0&&L1(a,d,p)}}function qu(r,s,a,l){Gn[to++]=r,Gn[to++]=s,Gn[to++]=a,Gn[to++]=l,em|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function tm(r,s,a,l){return qu(r,s,a,l),$u(r)}function no(r,s){return qu(r,null,null,s),$u(r)}function L1(r,s,a){r.lanes|=a;var l=r.alternate;l!==null&&(l.lanes|=a);for(var d=!1,p=r.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(d=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,d&&s!==null&&(d=31-on(a),r=p.hiddenUpdates,l=r[d],l===null?r[d]=[s]:l.push(s),s.lane=a|536870912),p):null}function $u(r){if(50<uc)throw uc=0,op=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ro={};function Fw(r,s,a,l){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,s,a,l){return new Fw(r,s,a,l)}function nm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function is(r,s){var a=r.alternate;return a===null?(a=Cn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function U1(r,s){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,s=a.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Gu(r,s,a,l,d,p){var b=0;if(l=r,typeof r=="function")nm(r)&&(b=1);else if(typeof r=="string")b=q3(r,a,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=Cn(31,a,s,d),r.elementType=N,r.lanes=p,r;case O:return na(a.children,d,p,s);case P:b=8,d|=24;break;case B:return r=Cn(12,a,s,d|2),r.elementType=B,r.lanes=p,r;case J:return r=Cn(13,a,s,d),r.elementType=J,r.lanes=p,r;case ce:return r=Cn(19,a,s,d),r.elementType=ce,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case H:case ee:b=10;break e;case Z:b=9;break e;case ue:b=11;break e;case C:b=14;break e;case A:b=16,l=null;break e}b=29,a=Error(i(130,r===null?"null":typeof r,"")),l=null}return s=Cn(b,a,s,d),s.elementType=r,s.type=l,s.lanes=p,s}function na(r,s,a,l){return r=Cn(7,r,l,s),r.lanes=a,r}function rm(r,s,a){return r=Cn(6,r,null,s),r.lanes=a,r}function sm(r,s,a){return s=Cn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var so=[],io=0,Yu=null,Ku=0,Yn=[],Kn=0,ra=null,as=1,os="";function sa(r,s){so[io++]=Ku,so[io++]=Yu,Yu=r,Ku=s}function z1(r,s,a){Yn[Kn++]=as,Yn[Kn++]=os,Yn[Kn++]=ra,ra=r;var l=as;r=os;var d=32-on(l)-1;l&=~(1<<d),a+=1;var p=32-on(s)+d;if(30<p){var b=d-d%5;p=(l&(1<<b)-1).toString(32),l>>=b,d-=b,as=1<<32-on(s)+d|a<<d|l,os=p+r}else as=1<<p|a<<d|l,os=r}function im(r){r.return!==null&&(sa(r,1),z1(r,1,0))}function am(r){for(;r===Yu;)Yu=so[--io],so[io]=null,Ku=so[--io],so[io]=null;for(;r===ra;)ra=Yn[--Kn],Yn[Kn]=null,os=Yn[--Kn],Yn[Kn]=null,as=Yn[--Kn],Yn[Kn]=null}var yn=null,wt=null,Ke=!1,ia=null,Ar=!1,om=Error(i(519));function aa(r){var s=Error(i(418,""));throw Fl($n(s,r)),om}function B1(r){var s=r.stateNode,a=r.type,l=r.memoizedProps;switch(s[Vt]=r,s[Ct]=l,a){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(a=0;a<dc.length;a++)Ve(dc[a],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),qi(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ha(s);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),$i(s,l.value,l.defaultValue,l.children),Ha(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||s2(s.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),l.onScroll!=null&&Ve("scroll",s),l.onScrollEnd!=null&&Ve("scrollend",s),l.onClick!=null&&(s.onclick=Rh),s=!0):s=!1,s||aa(r)}function F1(r){for(yn=r.return;yn;)switch(yn.tag){case 5:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:yn=yn.return}}function zl(r){if(r!==yn)return!1;if(!Ke)return F1(r),Ke=!0,!1;var s=r.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||Ep(r.type,r.memoizedProps)),a=!a),a&&wt&&aa(r),F1(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(s===0){wt=or(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;r=r.nextSibling}wt=null}}else s===27?(s=wt,ni(r.type)?(r=Np,Np=null,wt=r):wt=s):wt=yn?or(r.stateNode.nextSibling):null;return!0}function Bl(){wt=yn=null,Ke=!1}function H1(){var r=ia;return r!==null&&(_n===null?_n=r:_n.push.apply(_n,r),ia=null),r}function Fl(r){ia===null?ia=[r]:ia.push(r)}var lm=X(null),oa=null,ls=null;function Bs(r,s,a){ae(lm,s._currentValue),s._currentValue=a}function cs(r){r._currentValue=lm.current,le(lm)}function cm(r,s,a){for(;r!==null;){var l=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),r===a)break;r=r.return}}function um(r,s,a,l){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var p=d.dependencies;if(p!==null){var b=d.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=d;for(var j=0;j<s.length;j++)if(T.context===s[j]){p.lanes|=a,T=p.alternate,T!==null&&(T.lanes|=a),cm(p.return,a,r),l||(b=null);break e}p=T.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=a,p=b.alternate,p!==null&&(p.lanes|=a),cm(b,a,r),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===r){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Hl(r,s,a,l){r=null;for(var d=s,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var T=d.type;Rn(d.pendingProps.value,b.value)||(r!==null?r.push(T):r=[T])}}else if(d===Ye.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(vc):r=[vc])}d=d.return}r!==null&&um(s,r,a,l),s.flags|=262144}function Qu(r){for(r=r.firstContext;r!==null;){if(!Rn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function la(r){oa=r,ls=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ln(r){return q1(oa,r)}function Xu(r,s){return oa===null&&la(r),q1(r,s)}function q1(r,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ls===null){if(r===null)throw Error(i(308));ls=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ls=ls.next=s;return a}var Hw=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(a,l){r.push(l)}};this.abort=function(){s.aborted=!0,r.forEach(function(a){return a()})}},qw=n.unstable_scheduleCallback,$w=n.unstable_NormalPriority,zt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hm(){return{controller:new Hw,data:new Map,refCount:0}}function ql(r){r.refCount--,r.refCount===0&&qw($w,function(){r.controller.abort()})}var $l=null,dm=0,ao=0,oo=null;function Gw(r,s){if($l===null){var a=$l=[];dm=0,ao=mp(),oo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return dm++,s.then($1,$1),s}function $1(){if(--dm===0&&$l!==null){oo!==null&&(oo.status="fulfilled");var r=$l;$l=null,ao=0,oo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Yw(r,s){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return r.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var G1=L.S;L.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Gw(r,s),G1!==null&&G1(r,s)};var ca=X(null);function fm(){var r=ca.current;return r!==null?r:lt.pooledCache}function Wu(r,s){s===null?ae(ca,ca.current):ae(ca,s.pool)}function Y1(){var r=fm();return r===null?null:{parent:zt._currentValue,pool:r}}var Gl=Error(i(460)),K1=Error(i(474)),Zu=Error(i(542)),mm={then:function(){}};function Q1(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ju(){}function X1(r,s,a){switch(a=r[a],a===void 0?r.push(s):a!==s&&(s.then(Ju,Ju),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Z1(r),r;default:if(typeof s.status=="string")s.then(Ju,Ju);else{if(r=lt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Z1(r),r}throw Yl=s,Gl}}var Yl=null;function W1(){if(Yl===null)throw Error(i(459));var r=Yl;return Yl=null,r}function Z1(r){if(r===Gl||r===Zu)throw Error(i(483))}var Fs=!1;function pm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Hs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function qs(r,s,a){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=$u(r),L1(r,null,a),s}return qu(r,l,s,a),$u(r)}function Kl(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=r.pendingLanes,a|=l,s.lanes=a,wl(r,a)}}function ym(r,s){var a=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?d=p=b:p=p.next=b,a=a.next}while(a!==null);p===null?d=p=s:p=p.next=s}else d=p=s;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}var vm=!1;function Ql(){if(vm){var r=oo;if(r!==null)throw r}}function Xl(r,s,a,l){vm=!1;var d=r.updateQueue;Fs=!1;var p=d.firstBaseUpdate,b=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var j=T,G=j.next;j.next=null,b===null?p=G:b.next=G,b=j;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,T=ne.lastBaseUpdate,T!==b&&(T===null?ne.firstBaseUpdate=G:T.next=G,ne.lastBaseUpdate=j))}if(p!==null){var ie=d.baseState;b=0,ne=G=j=null,T=p;do{var Y=T.lane&-536870913,K=Y!==T.lane;if(K?(He&Y)===Y:(l&Y)===Y){Y!==0&&Y===ao&&(vm=!0),ne!==null&&(ne=ne.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Re=r,Te=T;Y=s;var st=a;switch(Te.tag){case 1:if(Re=Te.payload,typeof Re=="function"){ie=Re.call(st,ie,Y);break e}ie=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Te.payload,Y=typeof Re=="function"?Re.call(st,ie,Y):Re,Y==null)break e;ie=x({},ie,Y);break e;case 2:Fs=!0}}Y=T.callback,Y!==null&&(r.flags|=64,K&&(r.flags|=8192),K=d.callbacks,K===null?d.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ne===null?(G=ne=K,j=ie):ne=ne.next=K,b|=Y;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;K=T,T=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);ne===null&&(j=ie),d.baseState=j,d.firstBaseUpdate=G,d.lastBaseUpdate=ne,p===null&&(d.shared.lanes=0),Zs|=b,r.lanes=b,r.memoizedState=ie}}function J1(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function ey(r,s){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)J1(a[r],s)}var lo=X(null),eh=X(0);function ty(r,s){r=gs,ae(eh,r),ae(lo,s),gs=r|s.baseLanes}function xm(){ae(eh,gs),ae(lo,lo.current)}function _m(){gs=eh.current,le(lo),le(eh)}var $s=0,Me=null,nt=null,Dt=null,th=!1,co=!1,ua=!1,nh=0,Wl=0,uo=null,Kw=0;function At(){throw Error(i(321))}function bm(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Rn(r[a],s[a]))return!1;return!0}function wm(r,s,a,l,d,p){return $s=p,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=r===null||r.memoizedState===null?Ly:Uy,ua=!1,p=a(l,d),ua=!1,co&&(p=ry(s,a,l,d)),ny(r),p}function ny(r){L.H=lh;var s=nt!==null&&nt.next!==null;if($s=0,Dt=nt=Me=null,th=!1,Wl=0,uo=null,s)throw Error(i(300));r===null||Gt||(r=r.dependencies,r!==null&&Qu(r)&&(Gt=!0))}function ry(r,s,a,l){Me=r;var d=0;do{if(co&&(uo=null),Wl=0,co=!1,25<=d)throw Error(i(301));if(d+=1,Dt=nt=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}L.H=t3,p=s(a,l)}while(co);return p}function Qw(){var r=L.H,s=r.useState()[0];return s=typeof s.then=="function"?Zl(s):s,r=r.useState()[0],(nt!==null?nt.memoizedState:null)!==r&&(Me.flags|=1024),s}function Em(){var r=nh!==0;return nh=0,r}function Tm(r,s,a){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~a}function Sm(r){if(th){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}th=!1}$s=0,Dt=nt=Me=null,co=!1,Wl=nh=0,uo=null}function vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Me.memoizedState=Dt=r:Dt=Dt.next=r,Dt}function jt(){if(nt===null){var r=Me.alternate;r=r!==null?r.memoizedState:null}else r=nt.next;var s=Dt===null?Me.memoizedState:Dt.next;if(s!==null)Dt=s,nt=r;else{if(r===null)throw Me.alternate===null?Error(i(467)):Error(i(310));nt=r,r={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Dt===null?Me.memoizedState=Dt=r:Dt=Dt.next=r}return Dt}function Am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(r){var s=Wl;return Wl+=1,uo===null&&(uo=[]),r=X1(uo,r,s),s=Me,(Dt===null?s.memoizedState:Dt.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?Ly:Uy),r}function rh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Zl(r);if(r.$$typeof===ee)return ln(r)}throw Error(i(438,String(r)))}function Nm(r){var s=null,a=Me.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Am(),Me.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(r),l=0;l<r;l++)a[l]=R;return s.index++,a}function us(r,s){return typeof s=="function"?s(r):s}function sh(r){var s=jt();return Rm(s,nt,r)}function Rm(r,s,a){var l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var d=r.baseQueue,p=l.pending;if(p!==null){if(d!==null){var b=d.next;d.next=p.next,p.next=b}s.baseQueue=d=p,l.pending=null}if(p=r.baseState,d===null)r.memoizedState=p;else{s=d.next;var T=b=null,j=null,G=s,ne=!1;do{var ie=G.lane&-536870913;if(ie!==G.lane?(He&ie)===ie:($s&ie)===ie){var Y=G.revertLane;if(Y===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ie===ao&&(ne=!0);else if(($s&Y)===Y){G=G.next,Y===ao&&(ne=!0);continue}else ie={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(T=j=ie,b=p):j=j.next=ie,Me.lanes|=Y,Zs|=Y;ie=G.action,ua&&a(p,ie),p=G.hasEagerState?G.eagerState:a(p,ie)}else Y={lane:ie,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(T=j=Y,b=p):j=j.next=Y,Me.lanes|=ie,Zs|=ie;G=G.next}while(G!==null&&G!==s);if(j===null?b=p:j.next=T,!Rn(p,r.memoizedState)&&(Gt=!0,ne&&(a=oo,a!==null)))throw a;r.memoizedState=p,r.baseState=b,r.baseQueue=j,l.lastRenderedState=p}return d===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function Cm(r){var s=jt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var l=a.dispatch,d=a.pending,p=s.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do p=r(p,b.action),b=b.next;while(b!==d);Rn(p,s.memoizedState)||(Gt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function sy(r,s,a){var l=Me,d=jt(),p=Ke;if(p){if(a===void 0)throw Error(i(407));a=a()}else a=s();var b=!Rn((nt||d).memoizedState,a);b&&(d.memoizedState=a,Gt=!0),d=d.queue;var T=oy.bind(null,l,d,r);if(Jl(2048,8,T,[r]),d.getSnapshot!==s||b||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,ho(9,ih(),ay.bind(null,l,d,a,s),null),lt===null)throw Error(i(349));p||($s&124)!==0||iy(l,s,a)}return a}function iy(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Me.updateQueue,s===null?(s=Am(),Me.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function ay(r,s,a,l){s.value=a,s.getSnapshot=l,ly(s)&&cy(r)}function oy(r,s,a){return a(function(){ly(s)&&cy(r)})}function ly(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Rn(r,a)}catch{return!0}}function cy(r){var s=no(r,2);s!==null&&kn(s,r,2)}function Im(r){var s=vn();if(typeof r=="function"){var a=r;if(r=a(),ua){An(!0);try{a()}finally{An(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:r},s}function uy(r,s,a,l){return r.baseState=a,Rm(r,nt,typeof l=="function"?l:us)}function Xw(r,s,a,l,d){if(oh(r))throw Error(i(485));if(r=s.action,r!==null){var p={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};L.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,hy(s,p)):(p.next=a.next,s.pending=a.next=p)}}function hy(r,s){var a=s.action,l=s.payload,d=r.state;if(s.isTransition){var p=L.T,b={};L.T=b;try{var T=a(d,l),j=L.S;j!==null&&j(b,T),dy(r,s,T)}catch(G){Dm(r,s,G)}finally{L.T=p}}else try{p=a(d,l),dy(r,s,p)}catch(G){Dm(r,s,G)}}function dy(r,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){fy(r,s,l)},function(l){return Dm(r,s,l)}):fy(r,s,a)}function fy(r,s,a){s.status="fulfilled",s.value=a,my(s),r.state=a,s=r.pending,s!==null&&(a=s.next,a===s?r.pending=null:(a=a.next,s.next=a,hy(r,a)))}function Dm(r,s,a){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,my(s),s=s.next;while(s!==l)}r.action=null}function my(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function py(r,s){return s}function gy(r,s){if(Ke){var a=lt.formState;if(a!==null){e:{var l=Me;if(Ke){if(wt){t:{for(var d=wt,p=Ar;d.nodeType!==8;){if(!p){d=null;break t}if(d=or(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){wt=or(d.nextSibling),l=d.data==="F!";break e}}aa(l)}l=!1}l&&(s=a[0])}}return a=vn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:s},a.queue=l,a=Oy.bind(null,Me,l),l.dispatch=a,l=Im(!1),p=Pm.bind(null,Me,!1,l.queue),l=vn(),d={state:s,dispatch:null,action:r,pending:null},l.queue=d,a=Xw.bind(null,Me,d,p,a),d.dispatch=a,l.memoizedState=r,[s,a,!1]}function yy(r){var s=jt();return vy(s,nt,r)}function vy(r,s,a){if(s=Rm(r,s,py)[0],r=sh(us)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Zl(s)}catch(b){throw b===Gl?Zu:b}else l=s;s=jt();var d=s.queue,p=d.dispatch;return a!==s.memoizedState&&(Me.flags|=2048,ho(9,ih(),Ww.bind(null,d,a),null)),[l,p,r]}function Ww(r,s){r.action=s}function xy(r){var s=jt(),a=nt;if(a!==null)return vy(s,a,r);jt(),s=s.memoizedState,a=jt();var l=a.queue.dispatch;return a.memoizedState=r,[s,l,!1]}function ho(r,s,a,l){return r={tag:r,create:a,deps:l,inst:s,next:null},s=Me.updateQueue,s===null&&(s=Am(),Me.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=r.next=r:(l=a.next,a.next=r,r.next=l,s.lastEffect=r),r}function ih(){return{destroy:void 0,resource:void 0}}function _y(){return jt().memoizedState}function ah(r,s,a,l){var d=vn();l=l===void 0?null:l,Me.flags|=r,d.memoizedState=ho(1|s,ih(),a,l)}function Jl(r,s,a,l){var d=jt();l=l===void 0?null:l;var p=d.memoizedState.inst;nt!==null&&l!==null&&bm(l,nt.memoizedState.deps)?d.memoizedState=ho(s,p,a,l):(Me.flags|=r,d.memoizedState=ho(1|s,p,a,l))}function by(r,s){ah(8390656,8,r,s)}function wy(r,s){Jl(2048,8,r,s)}function Ey(r,s){return Jl(4,2,r,s)}function Ty(r,s){return Jl(4,4,r,s)}function Sy(r,s){if(typeof s=="function"){r=r();var a=s(r);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ay(r,s,a){a=a!=null?a.concat([r]):null,Jl(4,4,Sy.bind(null,s,r),a)}function jm(){}function Ny(r,s){var a=jt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&bm(s,l[1])?l[0]:(a.memoizedState=[r,s],r)}function Ry(r,s){var a=jt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&bm(s,l[1]))return l[0];if(l=r(),ua){An(!0);try{r()}finally{An(!1)}}return a.memoizedState=[l,s],l}function Mm(r,s,a){return a===void 0||($s&1073741824)!==0?r.memoizedState=s:(r.memoizedState=a,r=Dv(),Me.lanes|=r,Zs|=r,a)}function Cy(r,s,a,l){return Rn(a,s)?a:lo.current!==null?(r=Mm(r,a,l),Rn(r,s)||(Gt=!0),r):($s&42)===0?(Gt=!0,r.memoizedState=a):(r=Dv(),Me.lanes|=r,Zs|=r,s)}function Iy(r,s,a,l,d){var p=W.p;W.p=p!==0&&8>p?p:8;var b=L.T,T={};L.T=T,Pm(r,!1,s,a);try{var j=d(),G=L.S;if(G!==null&&G(T,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ne=Yw(j,l);ec(r,s,ne,Mn(r))}else ec(r,s,l,Mn(r))}catch(ie){ec(r,s,{then:function(){},status:"rejected",reason:ie},Mn())}finally{W.p=p,L.T=b}}function Zw(){}function km(r,s,a,l){if(r.tag!==5)throw Error(i(476));var d=Dy(r).queue;Iy(r,d,s,te,a===null?Zw:function(){return jy(r),a(l)})}function Dy(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:te},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:a},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function jy(r){var s=Dy(r).next.queue;ec(r,s,{},Mn())}function Om(){return ln(vc)}function My(){return jt().memoizedState}function ky(){return jt().memoizedState}function Jw(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var a=Mn();r=Hs(a);var l=qs(s,r,a);l!==null&&(kn(l,s,a),Kl(l,s,a)),s={cache:hm()},r.payload=s;return}s=s.return}}function e3(r,s,a){var l=Mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},oh(r)?Py(s,a):(a=tm(r,s,a,l),a!==null&&(kn(a,r,l),Vy(a,s,l)))}function Oy(r,s,a){var l=Mn();ec(r,s,a,l)}function ec(r,s,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(oh(r))Py(s,d);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var b=s.lastRenderedState,T=p(b,a);if(d.hasEagerState=!0,d.eagerState=T,Rn(T,b))return qu(r,s,d,0),lt===null&&Hu(),!1}catch{}finally{}if(a=tm(r,s,d,l),a!==null)return kn(a,r,l),Vy(a,s,l),!0}return!1}function Pm(r,s,a,l){if(l={lane:2,revertLane:mp(),action:l,hasEagerState:!1,eagerState:null,next:null},oh(r)){if(s)throw Error(i(479))}else s=tm(r,a,l,2),s!==null&&kn(s,r,2)}function oh(r){var s=r.alternate;return r===Me||s!==null&&s===Me}function Py(r,s){co=th=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Vy(r,s,a){if((a&4194048)!==0){var l=s.lanes;l&=r.pendingLanes,a|=l,s.lanes=a,wl(r,a)}}var lh={readContext:ln,use:rh,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},Ly={readContext:ln,use:rh,useCallback:function(r,s){return vn().memoizedState=[r,s===void 0?null:s],r},useContext:ln,useEffect:by,useImperativeHandle:function(r,s,a){a=a!=null?a.concat([r]):null,ah(4194308,4,Sy.bind(null,s,r),a)},useLayoutEffect:function(r,s){return ah(4194308,4,r,s)},useInsertionEffect:function(r,s){ah(4,2,r,s)},useMemo:function(r,s){var a=vn();s=s===void 0?null:s;var l=r();if(ua){An(!0);try{r()}finally{An(!1)}}return a.memoizedState=[l,s],l},useReducer:function(r,s,a){var l=vn();if(a!==void 0){var d=a(s);if(ua){An(!0);try{a(s)}finally{An(!1)}}}else d=s;return l.memoizedState=l.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},l.queue=r,r=r.dispatch=e3.bind(null,Me,r),[l.memoizedState,r]},useRef:function(r){var s=vn();return r={current:r},s.memoizedState=r},useState:function(r){r=Im(r);var s=r.queue,a=Oy.bind(null,Me,s);return s.dispatch=a,[r.memoizedState,a]},useDebugValue:jm,useDeferredValue:function(r,s){var a=vn();return Mm(a,r,s)},useTransition:function(){var r=Im(!1);return r=Iy.bind(null,Me,r.queue,!0,!1),vn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,a){var l=Me,d=vn();if(Ke){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),lt===null)throw Error(i(349));(He&124)!==0||iy(l,s,a)}d.memoizedState=a;var p={value:a,getSnapshot:s};return d.queue=p,by(oy.bind(null,l,p,r),[r]),l.flags|=2048,ho(9,ih(),ay.bind(null,l,p,a,s),null),a},useId:function(){var r=vn(),s=lt.identifierPrefix;if(Ke){var a=os,l=as;a=(l&~(1<<32-on(l)-1)).toString(32)+a,s=""+s+"R"+a,a=nh++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=Kw++,s=""+s+"r"+a.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Om,useFormState:gy,useActionState:gy,useOptimistic:function(r){var s=vn();s.memoizedState=s.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Pm.bind(null,Me,!0,a),a.dispatch=s,[r,s]},useMemoCache:Nm,useCacheRefresh:function(){return vn().memoizedState=Jw.bind(null,Me)}},Uy={readContext:ln,use:rh,useCallback:Ny,useContext:ln,useEffect:wy,useImperativeHandle:Ay,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:Ry,useReducer:sh,useRef:_y,useState:function(){return sh(us)},useDebugValue:jm,useDeferredValue:function(r,s){var a=jt();return Cy(a,nt.memoizedState,r,s)},useTransition:function(){var r=sh(us)[0],s=jt().memoizedState;return[typeof r=="boolean"?r:Zl(r),s]},useSyncExternalStore:sy,useId:My,useHostTransitionStatus:Om,useFormState:yy,useActionState:yy,useOptimistic:function(r,s){var a=jt();return uy(a,nt,r,s)},useMemoCache:Nm,useCacheRefresh:ky},t3={readContext:ln,use:rh,useCallback:Ny,useContext:ln,useEffect:wy,useImperativeHandle:Ay,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:Ry,useReducer:Cm,useRef:_y,useState:function(){return Cm(us)},useDebugValue:jm,useDeferredValue:function(r,s){var a=jt();return nt===null?Mm(a,r,s):Cy(a,nt.memoizedState,r,s)},useTransition:function(){var r=Cm(us)[0],s=jt().memoizedState;return[typeof r=="boolean"?r:Zl(r),s]},useSyncExternalStore:sy,useId:My,useHostTransitionStatus:Om,useFormState:xy,useActionState:xy,useOptimistic:function(r,s){var a=jt();return nt!==null?uy(a,nt,r,s):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Nm,useCacheRefresh:ky},fo=null,tc=0;function ch(r){var s=tc;return tc+=1,fo===null&&(fo=[]),X1(fo,r,s)}function nc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function uh(r,s){throw s.$$typeof===w?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function zy(r){var s=r._init;return s(r._payload)}function By(r){function s(F,V){if(r){var $=F.deletions;$===null?(F.deletions=[V],F.flags|=16):$.push(V)}}function a(F,V){if(!r)return null;for(;V!==null;)s(F,V),V=V.sibling;return null}function l(F){for(var V=new Map;F!==null;)F.key!==null?V.set(F.key,F):V.set(F.index,F),F=F.sibling;return V}function d(F,V){return F=is(F,V),F.index=0,F.sibling=null,F}function p(F,V,$){return F.index=$,r?($=F.alternate,$!==null?($=$.index,$<V?(F.flags|=67108866,V):$):(F.flags|=67108866,V)):(F.flags|=1048576,V)}function b(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function T(F,V,$,se){return V===null||V.tag!==6?(V=rm($,F.mode,se),V.return=F,V):(V=d(V,$),V.return=F,V)}function j(F,V,$,se){var ve=$.type;return ve===O?ne(F,V,$.props.children,se,$.key):V!==null&&(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&zy(ve)===V.type)?(V=d(V,$.props),nc(V,$),V.return=F,V):(V=Gu($.type,$.key,$.props,null,F.mode,se),nc(V,$),V.return=F,V)}function G(F,V,$,se){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=sm($,F.mode,se),V.return=F,V):(V=d(V,$.children||[]),V.return=F,V)}function ne(F,V,$,se,ve){return V===null||V.tag!==7?(V=na($,F.mode,se,ve),V.return=F,V):(V=d(V,$),V.return=F,V)}function ie(F,V,$){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=rm(""+V,F.mode,$),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return $=Gu(V.type,V.key,V.props,null,F.mode,$),nc($,V),$.return=F,$;case k:return V=sm(V,F.mode,$),V.return=F,V;case A:var se=V._init;return V=se(V._payload),ie(F,V,$)}if(he(V)||z(V))return V=na(V,F.mode,$,null),V.return=F,V;if(typeof V.then=="function")return ie(F,ch(V),$);if(V.$$typeof===ee)return ie(F,Xu(F,V),$);uh(F,V)}return null}function Y(F,V,$,se){var ve=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ve!==null?null:T(F,V,""+$,se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return $.key===ve?j(F,V,$,se):null;case k:return $.key===ve?G(F,V,$,se):null;case A:return ve=$._init,$=ve($._payload),Y(F,V,$,se)}if(he($)||z($))return ve!==null?null:ne(F,V,$,se,null);if(typeof $.then=="function")return Y(F,V,ch($),se);if($.$$typeof===ee)return Y(F,V,Xu(F,$),se);uh(F,$)}return null}function K(F,V,$,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return F=F.get($)||null,T(V,F,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return F=F.get(se.key===null?$:se.key)||null,j(V,F,se,ve);case k:return F=F.get(se.key===null?$:se.key)||null,G(V,F,se,ve);case A:var Oe=se._init;return se=Oe(se._payload),K(F,V,$,se,ve)}if(he(se)||z(se))return F=F.get($)||null,ne(V,F,se,ve,null);if(typeof se.then=="function")return K(F,V,$,ch(se),ve);if(se.$$typeof===ee)return K(F,V,$,Xu(V,se),ve);uh(V,se)}return null}function Re(F,V,$,se){for(var ve=null,Oe=null,_e=V,Se=V=0,Kt=null;_e!==null&&Se<$.length;Se++){_e.index>Se?(Kt=_e,_e=null):Kt=_e.sibling;var Ge=Y(F,_e,$[Se],se);if(Ge===null){_e===null&&(_e=Kt);break}r&&_e&&Ge.alternate===null&&s(F,_e),V=p(Ge,V,Se),Oe===null?ve=Ge:Oe.sibling=Ge,Oe=Ge,_e=Kt}if(Se===$.length)return a(F,_e),Ke&&sa(F,Se),ve;if(_e===null){for(;Se<$.length;Se++)_e=ie(F,$[Se],se),_e!==null&&(V=p(_e,V,Se),Oe===null?ve=_e:Oe.sibling=_e,Oe=_e);return Ke&&sa(F,Se),ve}for(_e=l(_e);Se<$.length;Se++)Kt=K(_e,F,Se,$[Se],se),Kt!==null&&(r&&Kt.alternate!==null&&_e.delete(Kt.key===null?Se:Kt.key),V=p(Kt,V,Se),Oe===null?ve=Kt:Oe.sibling=Kt,Oe=Kt);return r&&_e.forEach(function(oi){return s(F,oi)}),Ke&&sa(F,Se),ve}function Te(F,V,$,se){if($==null)throw Error(i(151));for(var ve=null,Oe=null,_e=V,Se=V=0,Kt=null,Ge=$.next();_e!==null&&!Ge.done;Se++,Ge=$.next()){_e.index>Se?(Kt=_e,_e=null):Kt=_e.sibling;var oi=Y(F,_e,Ge.value,se);if(oi===null){_e===null&&(_e=Kt);break}r&&_e&&oi.alternate===null&&s(F,_e),V=p(oi,V,Se),Oe===null?ve=oi:Oe.sibling=oi,Oe=oi,_e=Kt}if(Ge.done)return a(F,_e),Ke&&sa(F,Se),ve;if(_e===null){for(;!Ge.done;Se++,Ge=$.next())Ge=ie(F,Ge.value,se),Ge!==null&&(V=p(Ge,V,Se),Oe===null?ve=Ge:Oe.sibling=Ge,Oe=Ge);return Ke&&sa(F,Se),ve}for(_e=l(_e);!Ge.done;Se++,Ge=$.next())Ge=K(_e,F,Se,Ge.value,se),Ge!==null&&(r&&Ge.alternate!==null&&_e.delete(Ge.key===null?Se:Ge.key),V=p(Ge,V,Se),Oe===null?ve=Ge:Oe.sibling=Ge,Oe=Ge);return r&&_e.forEach(function(nE){return s(F,nE)}),Ke&&sa(F,Se),ve}function st(F,V,$,se){if(typeof $=="object"&&$!==null&&$.type===O&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case E:e:{for(var ve=$.key;V!==null;){if(V.key===ve){if(ve=$.type,ve===O){if(V.tag===7){a(F,V.sibling),se=d(V,$.props.children),se.return=F,F=se;break e}}else if(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&zy(ve)===V.type){a(F,V.sibling),se=d(V,$.props),nc(se,$),se.return=F,F=se;break e}a(F,V);break}else s(F,V);V=V.sibling}$.type===O?(se=na($.props.children,F.mode,se,$.key),se.return=F,F=se):(se=Gu($.type,$.key,$.props,null,F.mode,se),nc(se,$),se.return=F,F=se)}return b(F);case k:e:{for(ve=$.key;V!==null;){if(V.key===ve)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){a(F,V.sibling),se=d(V,$.children||[]),se.return=F,F=se;break e}else{a(F,V);break}else s(F,V);V=V.sibling}se=sm($,F.mode,se),se.return=F,F=se}return b(F);case A:return ve=$._init,$=ve($._payload),st(F,V,$,se)}if(he($))return Re(F,V,$,se);if(z($)){if(ve=z($),typeof ve!="function")throw Error(i(150));return $=ve.call($),Te(F,V,$,se)}if(typeof $.then=="function")return st(F,V,ch($),se);if($.$$typeof===ee)return st(F,V,Xu(F,$),se);uh(F,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,V!==null&&V.tag===6?(a(F,V.sibling),se=d(V,$),se.return=F,F=se):(a(F,V),se=rm($,F.mode,se),se.return=F,F=se),b(F)):a(F,V)}return function(F,V,$,se){try{tc=0;var ve=st(F,V,$,se);return fo=null,ve}catch(_e){if(_e===Gl||_e===Zu)throw _e;var Oe=Cn(29,_e,null,F.mode);return Oe.lanes=se,Oe.return=F,Oe}finally{}}}var mo=By(!0),Fy=By(!1),Qn=X(null),Nr=null;function Gs(r){var s=r.alternate;ae(Bt,Bt.current&1),ae(Qn,r),Nr===null&&(s===null||lo.current!==null||s.memoizedState!==null)&&(Nr=r)}function Hy(r){if(r.tag===22){if(ae(Bt,Bt.current),ae(Qn,r),Nr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Nr=r)}}else Ys()}function Ys(){ae(Bt,Bt.current),ae(Qn,Qn.current)}function hs(r){le(Qn),Nr===r&&(Nr=null),le(Bt)}var Bt=X(0);function hh(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ap(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Vm(r,s,a,l){s=r.memoizedState,a=a(l,s),a=a==null?s:x({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Lm={enqueueSetState:function(r,s,a){r=r._reactInternals;var l=Mn(),d=Hs(l);d.payload=s,a!=null&&(d.callback=a),s=qs(r,d,l),s!==null&&(kn(s,r,l),Kl(s,r,l))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var l=Mn(),d=Hs(l);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=qs(r,d,l),s!==null&&(kn(s,r,l),Kl(s,r,l))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Mn(),l=Hs(a);l.tag=2,s!=null&&(l.callback=s),s=qs(r,l,a),s!==null&&(kn(s,r,a),Kl(s,r,a))}};function qy(r,s,a,l,d,p,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,p,b):s.prototype&&s.prototype.isPureReactComponent?!Ll(a,l)||!Ll(d,p):!0}function $y(r,s,a,l){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==r&&Lm.enqueueReplaceState(s,s.state,null)}function ha(r,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(r=r.defaultProps){a===s&&(a=x({},a));for(var d in r)a[d]===void 0&&(a[d]=r[d])}return a}var dh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Gy(r){dh(r)}function Yy(r){console.error(r)}function Ky(r){dh(r)}function fh(r,s){try{var a=r.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Qy(r,s,a){try{var l=r.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Um(r,s,a){return a=Hs(a),a.tag=3,a.payload={element:null},a.callback=function(){fh(r,s)},a}function Xy(r){return r=Hs(r),r.tag=3,r}function Wy(r,s,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var p=l.value;r.payload=function(){return d(p)},r.callback=function(){Qy(s,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){Qy(s,a,l),typeof d!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function n3(r,s,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Hl(s,a,d,!0),a=Qn.current,a!==null){switch(a.tag){case 13:return Nr===null?cp():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===mm?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),hp(r,l,d)),!1;case 22:return a.flags|=65536,l===mm?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),hp(r,l,d)),!1}throw Error(i(435,a.tag))}return hp(r,l,d),cp(),!1}if(Ke)return s=Qn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==om&&(r=Error(i(422),{cause:l}),Fl($n(r,a)))):(l!==om&&(s=Error(i(423),{cause:l}),Fl($n(s,a))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,l=$n(l,a),d=Um(r.stateNode,l,d),ym(r,d),Et!==4&&(Et=2)),!1;var p=Error(i(520),{cause:l});if(p=$n(p,a),cc===null?cc=[p]:cc.push(p),Et!==4&&(Et=2),s===null)return!0;l=$n(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,r=d&-d,a.lanes|=r,r=Um(a.stateNode,l,r),ym(a,r),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Js===null||!Js.has(p))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Xy(d),Wy(d,r,a,l),ym(a,d),!1}a=a.return}while(a!==null);return!1}var Zy=Error(i(461)),Gt=!1;function Jt(r,s,a,l){s.child=r===null?Fy(s,null,a,l):mo(s,r.child,a,l)}function Jy(r,s,a,l,d){a=a.render;var p=s.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return la(s),l=wm(r,s,a,b,p,d),T=Em(),r!==null&&!Gt?(Tm(r,s,d),ds(r,s,d)):(Ke&&T&&im(s),s.flags|=1,Jt(r,s,l,d),s.child)}function ev(r,s,a,l,d){if(r===null){var p=a.type;return typeof p=="function"&&!nm(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,tv(r,s,p,l,d)):(r=Gu(a.type,null,l,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!Ym(r,d)){var b=p.memoizedProps;if(a=a.compare,a=a!==null?a:Ll,a(b,l)&&r.ref===s.ref)return ds(r,s,d)}return s.flags|=1,r=is(p,l),r.ref=s.ref,r.return=s,s.child=r}function tv(r,s,a,l,d){if(r!==null){var p=r.memoizedProps;if(Ll(p,l)&&r.ref===s.ref)if(Gt=!1,s.pendingProps=l=p,Ym(r,d))(r.flags&131072)!==0&&(Gt=!0);else return s.lanes=r.lanes,ds(r,s,d)}return zm(r,s,a,l,d)}function nv(r,s,a){var l=s.pendingProps,d=l.children,p=r!==null?r.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=p!==null?p.baseLanes|a:a,r!==null){for(d=s.child=r.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;s.childLanes=p&~l}else s.childLanes=0,s.child=null;return rv(r,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Wu(s,p!==null?p.cachePool:null),p!==null?ty(s,p):xm(),Hy(s);else return s.lanes=s.childLanes=536870912,rv(r,s,p!==null?p.baseLanes|a:a,a)}else p!==null?(Wu(s,p.cachePool),ty(s,p),Ys(),s.memoizedState=null):(r!==null&&Wu(s,null),xm(),Ys());return Jt(r,s,d,a),s.child}function rv(r,s,a,l){var d=fm();return d=d===null?null:{parent:zt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},r!==null&&Wu(s,null),xm(),Hy(s),r!==null&&Hl(r,s,l,!0),null}function mh(r,s){var a=s.ref;if(a===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(s.flags|=4194816)}}function zm(r,s,a,l,d){return la(s),a=wm(r,s,a,l,void 0,d),l=Em(),r!==null&&!Gt?(Tm(r,s,d),ds(r,s,d)):(Ke&&l&&im(s),s.flags|=1,Jt(r,s,a,d),s.child)}function sv(r,s,a,l,d,p){return la(s),s.updateQueue=null,a=ry(s,l,a,d),ny(r),l=Em(),r!==null&&!Gt?(Tm(r,s,p),ds(r,s,p)):(Ke&&l&&im(s),s.flags|=1,Jt(r,s,a,p),s.child)}function iv(r,s,a,l,d){if(la(s),s.stateNode===null){var p=ro,b=a.contextType;typeof b=="object"&&b!==null&&(p=ln(b)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Lm,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},pm(s),b=a.contextType,p.context=typeof b=="object"&&b!==null?ln(b):ro,p.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Vm(s,a,b,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Lm.enqueueReplaceState(p,p.state,null),Xl(s,l,p,d),Ql(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(r===null){p=s.stateNode;var T=s.memoizedProps,j=ha(a,T);p.props=j;var G=p.context,ne=a.contextType;b=ro,typeof ne=="object"&&ne!==null&&(b=ln(ne));var ie=a.getDerivedStateFromProps;ne=typeof ie=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,ne||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||G!==b)&&$y(s,p,l,b),Fs=!1;var Y=s.memoizedState;p.state=Y,Xl(s,l,p,d),Ql(),G=s.memoizedState,T||Y!==G||Fs?(typeof ie=="function"&&(Vm(s,a,ie,l),G=s.memoizedState),(j=Fs||qy(s,a,j,l,Y,G,b))?(ne||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=G),p.props=l,p.state=G,p.context=b,l=j):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,gm(r,s),b=s.memoizedProps,ne=ha(a,b),p.props=ne,ie=s.pendingProps,Y=p.context,G=a.contextType,j=ro,typeof G=="object"&&G!==null&&(j=ln(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==ie||Y!==j)&&$y(s,p,l,j),Fs=!1,Y=s.memoizedState,p.state=Y,Xl(s,l,p,d),Ql();var K=s.memoizedState;b!==ie||Y!==K||Fs||r!==null&&r.dependencies!==null&&Qu(r.dependencies)?(typeof T=="function"&&(Vm(s,a,T,l),K=s.memoizedState),(ne=Fs||qy(s,a,ne,l,Y,K,j)||r!==null&&r.dependencies!==null&&Qu(r.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,K,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,K,j)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=K),p.props=l,p.state=K,p.context=j,l=ne):(typeof p.componentDidUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),l=!1)}return p=l,mh(r,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,r!==null&&l?(s.child=mo(s,r.child,null,d),s.child=mo(s,null,a,d)):Jt(r,s,a,d),s.memoizedState=p.state,r=s.child):r=ds(r,s,d),r}function av(r,s,a,l){return Bl(),s.flags|=256,Jt(r,s,a,l),s.child}var Bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fm(r){return{baseLanes:r,cachePool:Y1()}}function Hm(r,s,a){return r=r!==null?r.childLanes&~a:0,s&&(r|=Xn),r}function ov(r,s,a){var l=s.pendingProps,d=!1,p=(s.flags&128)!==0,b;if((b=p)||(b=r!==null&&r.memoizedState===null?!1:(Bt.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ke){if(d?Gs(s):Ys(),Ke){var T=wt,j;if(j=T){e:{for(j=T,T=Ar;j.nodeType!==8;){if(!T){T=null;break e}if(j=or(j.nextSibling),j===null){T=null;break e}}T=j}T!==null?(s.memoizedState={dehydrated:T,treeContext:ra!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},j=Cn(18,null,null,0),j.stateNode=T,j.return=s,s.child=j,yn=s,wt=null,j=!0):j=!1}j||aa(s)}if(T=s.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Ap(T)?s.lanes=32:s.lanes=536870912,null;hs(s)}return T=l.children,l=l.fallback,d?(Ys(),d=s.mode,T=ph({mode:"hidden",children:T},d),l=na(l,d,a,null),T.return=s,l.return=s,T.sibling=l,s.child=T,d=s.child,d.memoizedState=Fm(a),d.childLanes=Hm(r,b,a),s.memoizedState=Bm,l):(Gs(s),qm(s,T))}if(j=r.memoizedState,j!==null&&(T=j.dehydrated,T!==null)){if(p)s.flags&256?(Gs(s),s.flags&=-257,s=$m(r,s,a)):s.memoizedState!==null?(Ys(),s.child=r.child,s.flags|=128,s=null):(Ys(),d=l.fallback,T=s.mode,l=ph({mode:"visible",children:l.children},T),d=na(d,T,a,null),d.flags|=2,l.return=s,d.return=s,l.sibling=d,s.child=l,mo(s,r.child,null,a),l=s.child,l.memoizedState=Fm(a),l.childLanes=Hm(r,b,a),s.memoizedState=Bm,s=d);else if(Gs(s),Ap(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var G=b.dgst;b=G,l=Error(i(419)),l.stack="",l.digest=b,Fl({value:l,source:null,stack:null}),s=$m(r,s,a)}else if(Gt||Hl(r,s,a,!1),b=(a&r.childLanes)!==0,Gt||b){if(b=lt,b!==null&&(l=a&-a,l=(l&42)!==0?1:ks(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==j.retryLane))throw j.retryLane=l,no(r,l),kn(b,r,l),Zy;T.data==="$?"||cp(),s=$m(r,s,a)}else T.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=j.treeContext,wt=or(T.nextSibling),yn=s,Ke=!0,ia=null,Ar=!1,r!==null&&(Yn[Kn++]=as,Yn[Kn++]=os,Yn[Kn++]=ra,as=r.id,os=r.overflow,ra=s),s=qm(s,l.children),s.flags|=4096);return s}return d?(Ys(),d=l.fallback,T=s.mode,j=r.child,G=j.sibling,l=is(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,G!==null?d=is(G,d):(d=na(d,T,a,null),d.flags|=2),d.return=s,l.return=s,l.sibling=d,s.child=l,l=d,d=s.child,T=r.child.memoizedState,T===null?T=Fm(a):(j=T.cachePool,j!==null?(G=zt._currentValue,j=j.parent!==G?{parent:G,pool:G}:j):j=Y1(),T={baseLanes:T.baseLanes|a,cachePool:j}),d.memoizedState=T,d.childLanes=Hm(r,b,a),s.memoizedState=Bm,l):(Gs(s),a=r.child,r=a.sibling,a=is(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=a,s.memoizedState=null,a)}function qm(r,s){return s=ph({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function ph(r,s){return r=Cn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function $m(r,s,a){return mo(s,r.child,null,a),r=qm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function lv(r,s,a){r.lanes|=s;var l=r.alternate;l!==null&&(l.lanes|=s),cm(r.return,s,a)}function Gm(r,s,a,l,d){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=d)}function cv(r,s,a){var l=s.pendingProps,d=l.revealOrder,p=l.tail;if(Jt(r,s,l.children,a),l=Bt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&lv(r,a,s);else if(r.tag===19)lv(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}switch(ae(Bt,l),d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&hh(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Gm(s,!1,d,a,p);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&hh(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}Gm(s,!0,a,null,p);break;case"together":Gm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ds(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Zs|=s.lanes,(a&s.childLanes)===0)if(r!==null){if(Hl(r,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,a=is(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=is(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Ym(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Qu(r)))}function r3(r,s,a){switch(s.tag){case 3:ke(s,s.stateNode.containerInfo),Bs(s,zt,r.memoizedState.cache),Bl();break;case 27:case 5:it(s);break;case 4:ke(s,s.stateNode.containerInfo);break;case 10:Bs(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Gs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?ov(r,s,a):(Gs(s),r=ds(r,s,a),r!==null?r.sibling:null);Gs(s);break;case 19:var d=(r.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Hl(r,s,a,!1),l=(a&s.childLanes)!==0),d){if(l)return cv(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ae(Bt,Bt.current),l)break;return null;case 22:case 23:return s.lanes=0,nv(r,s,a);case 24:Bs(s,zt,r.memoizedState.cache)}return ds(r,s,a)}function uv(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps)Gt=!0;else{if(!Ym(r,a)&&(s.flags&128)===0)return Gt=!1,r3(r,s,a);Gt=(r.flags&131072)!==0}else Gt=!1,Ke&&(s.flags&1048576)!==0&&z1(s,Ku,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var l=s.elementType,d=l._init;if(l=d(l._payload),s.type=l,typeof l=="function")nm(l)?(r=ha(l,r),s.tag=1,s=iv(null,s,l,r,a)):(s.tag=0,s=zm(null,s,l,r,a));else{if(l!=null){if(d=l.$$typeof,d===ue){s.tag=11,s=Jy(null,s,l,r,a);break e}else if(d===C){s.tag=14,s=ev(null,s,l,r,a);break e}}throw s=ye(l)||l,Error(i(306,s,""))}}return s;case 0:return zm(r,s,s.type,s.pendingProps,a);case 1:return l=s.type,d=ha(l,s.pendingProps),iv(r,s,l,d,a);case 3:e:{if(ke(s,s.stateNode.containerInfo),r===null)throw Error(i(387));l=s.pendingProps;var p=s.memoizedState;d=p.element,gm(r,s),Xl(s,l,null,a);var b=s.memoizedState;if(l=b.cache,Bs(s,zt,l),l!==p.cache&&um(s,[zt],a,!0),Ql(),l=b.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=av(r,s,l,a);break e}else if(l!==d){d=$n(Error(i(424)),s),Fl(d),s=av(r,s,l,a);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(wt=or(r.firstChild),yn=s,Ke=!0,ia=null,Ar=!0,a=Fy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bl(),l===d){s=ds(r,s,a);break e}Jt(r,s,l,a)}s=s.child}return s;case 26:return mh(r,s),r===null?(a=m2(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ke||(a=s.type,r=s.pendingProps,l=Ch(xe.current).createElement(a),l[Vt]=s,l[Ct]=r,tn(l,a,r),St(l),s.stateNode=l):s.memoizedState=m2(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return it(s),r===null&&Ke&&(l=s.stateNode=h2(s.type,s.pendingProps,xe.current),yn=s,Ar=!0,d=wt,ni(s.type)?(Np=d,wt=or(l.firstChild)):wt=d),Jt(r,s,s.pendingProps.children,a),mh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ke&&((d=l=wt)&&(l=D3(l,s.type,s.pendingProps,Ar),l!==null?(s.stateNode=l,yn=s,wt=or(l.firstChild),Ar=!1,d=!0):d=!1),d||aa(s)),it(s),d=s.type,p=s.pendingProps,b=r!==null?r.memoizedProps:null,l=p.children,Ep(d,p)?l=null:b!==null&&Ep(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=wm(r,s,Qw,null,null,a),vc._currentValue=d),mh(r,s),Jt(r,s,l,a),s.child;case 6:return r===null&&Ke&&((r=a=wt)&&(a=j3(a,s.pendingProps,Ar),a!==null?(s.stateNode=a,yn=s,wt=null,r=!0):r=!1),r||aa(s)),null;case 13:return ov(r,s,a);case 4:return ke(s,s.stateNode.containerInfo),l=s.pendingProps,r===null?s.child=mo(s,null,l,a):Jt(r,s,l,a),s.child;case 11:return Jy(r,s,s.type,s.pendingProps,a);case 7:return Jt(r,s,s.pendingProps,a),s.child;case 8:return Jt(r,s,s.pendingProps.children,a),s.child;case 12:return Jt(r,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Bs(s,s.type,l.value),Jt(r,s,l.children,a),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,la(s),d=ln(d),l=l(d),s.flags|=1,Jt(r,s,l,a),s.child;case 14:return ev(r,s,s.type,s.pendingProps,a);case 15:return tv(r,s,s.type,s.pendingProps,a);case 19:return cv(r,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},r===null?(a=ph(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=is(r.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return nv(r,s,a);case 24:return la(s),l=ln(zt),r===null?(d=fm(),d===null&&(d=lt,p=hm(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=a),d=p),s.memoizedState={parent:l,cache:d},pm(s),Bs(s,zt,d)):((r.lanes&a)!==0&&(gm(r,s),Xl(s,null,null,a),Ql()),d=r.memoizedState,p=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Bs(s,zt,l)):(l=p.cache,Bs(s,zt,l),l!==d.cache&&um(s,[zt],a,!0))),Jt(r,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function fs(r){r.flags|=4}function hv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!x2(s)){if(s=Qn.current,s!==null&&((He&4194048)===He?Nr!==null:(He&62914560)!==He&&(He&536870912)===0||s!==Nr))throw Yl=mm,K1;r.flags|=8192}}function gh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?_l():536870912,r.lanes|=s,vo|=s)}function rc(r,s){if(!Ke)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,l=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=l,r.childLanes=a,s}function s3(r,s,a){var l=s.pendingProps;switch(am(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return a=s.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),cs(zt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(zl(s)?fs(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,H1())),gt(s),null;case 26:return a=s.memoizedState,r===null?(fs(s),a!==null?(gt(s),hv(s,a)):(gt(s),s.flags&=-16777217)):a?a!==r.memoizedState?(fs(s),gt(s),hv(s,a)):(gt(s),s.flags&=-16777217):(r.memoizedProps!==l&&fs(s),gt(s),s.flags&=-16777217),null;case 27:pt(s),a=xe.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==l&&fs(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return gt(s),null}r=pe.current,zl(s)?B1(s):(r=h2(d,l,a),s.stateNode=r,fs(s))}return gt(s),null;case 5:if(pt(s),a=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==l&&fs(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return gt(s),null}if(r=pe.current,zl(s))B1(s);else{switch(d=Ch(xe.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}r[Vt]=s,r[Ct]=l;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;e:switch(tn(r,a,l),a){case"button":case"input":case"select":case"textarea":r=!!l.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&fs(s)}}return gt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==l&&fs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(r=xe.current,zl(s)){if(r=s.stateNode,a=s.memoizedProps,l=null,d=yn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}r[Vt]=s,r=!!(r.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||s2(r.nodeValue,a)),r||aa(s)}else r=Ch(r).createTextNode(l),r[Vt]=s,s.stateNode=r}return gt(s),null;case 13:if(l=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=zl(s),l!==null&&l.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Vt]=s}else Bl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),d=!1}else d=H1(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(hs(s),s):(hs(s),null)}if(hs(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,r=r!==null&&r.memoizedState!==null,a){l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048)}return a!==r&&a&&(s.child.flags|=8192),gh(s,s.updateQueue),gt(s),null;case 4:return ot(),r===null&&vp(s.stateNode.containerInfo),gt(s),null;case 10:return cs(s.type),gt(s),null;case 19:if(le(Bt),d=s.memoizedState,d===null)return gt(s),null;if(l=(s.flags&128)!==0,p=d.rendering,p===null)if(l)rc(d,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(p=hh(r),p!==null){for(s.flags|=128,rc(d,!1),r=p.updateQueue,s.updateQueue=r,gh(s,r),s.subtreeFlags=0,r=a,a=s.child;a!==null;)U1(a,r),a=a.sibling;return ae(Bt,Bt.current&1|2),s.child}r=r.sibling}d.tail!==null&&Un()>xh&&(s.flags|=128,l=!0,rc(d,!1),s.lanes=4194304)}else{if(!l)if(r=hh(p),r!==null){if(s.flags|=128,l=!0,r=r.updateQueue,s.updateQueue=r,gh(s,r),rc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Ke)return gt(s),null}else 2*Un()-d.renderingStartTime>xh&&a!==536870912&&(s.flags|=128,l=!0,rc(d,!1),s.lanes=4194304);d.isBackwards?(p.sibling=s.child,s.child=p):(r=d.last,r!==null?r.sibling=p:s.child=p,d.last=p)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Un(),s.sibling=null,r=Bt.current,ae(Bt,l?r&1|2:r&1),s):(gt(s),null);case 22:case 23:return hs(s),_m(),l=s.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),a=s.updateQueue,a!==null&&gh(s,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),r!==null&&le(ca),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),cs(zt),gt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function i3(r,s){switch(am(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return cs(zt),ot(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return pt(s),null;case 13:if(hs(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Bl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return le(Bt),null;case 4:return ot(),null;case 10:return cs(s.type),null;case 22:case 23:return hs(s),_m(),r!==null&&le(ca),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return cs(zt),null;case 25:return null;default:return null}}function dv(r,s){switch(am(s),s.tag){case 3:cs(zt),ot();break;case 26:case 27:case 5:pt(s);break;case 4:ot();break;case 13:hs(s);break;case 19:le(Bt);break;case 10:cs(s.type);break;case 22:case 23:hs(s),_m(),r!==null&&le(ca);break;case 24:cs(zt)}}function sc(r,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&r)===r){l=void 0;var p=a.create,b=a.inst;l=p(),b.destroy=l}a=a.next}while(a!==d)}}catch(T){at(s,s.return,T)}}function Ks(r,s,a){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&r)===r){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,d=s;var j=a,G=T;try{G()}catch(ne){at(d,j,ne)}}}l=l.next}while(l!==p)}}catch(ne){at(s,s.return,ne)}}function fv(r){var s=r.updateQueue;if(s!==null){var a=r.stateNode;try{ey(s,a)}catch(l){at(r,r.return,l)}}}function mv(r,s,a){a.props=ha(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(l){at(r,s,l)}}function ic(r,s){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof a=="function"?r.refCleanup=a(l):a.current=l}}catch(d){at(r,s,d)}}function Rr(r,s){var a=r.ref,l=r.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){at(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){at(r,s,d)}else a.current=null}function pv(r){var s=r.type,a=r.memoizedProps,l=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){at(r,r.return,d)}}function Km(r,s,a){try{var l=r.stateNode;A3(l,r.type,a,s),l[Ct]=s}catch(d){at(r,r.return,d)}}function gv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ni(r.type)||r.tag===4}function Qm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||gv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ni(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Xm(r,s,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(r),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Rh));else if(l!==4&&(l===27&&ni(r.type)&&(a=r.stateNode,s=null),r=r.child,r!==null))for(Xm(r,s,a),r=r.sibling;r!==null;)Xm(r,s,a),r=r.sibling}function yh(r,s,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(l!==4&&(l===27&&ni(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(yh(r,s,a),r=r.sibling;r!==null;)yh(r,s,a),r=r.sibling}function yv(r){var s=r.stateNode,a=r.memoizedProps;try{for(var l=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);tn(s,l,a),s[Vt]=r,s[Ct]=a}catch(p){at(r,r.return,p)}}var ms=!1,Nt=!1,Wm=!1,vv=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function a3(r,s){if(r=r.containerInfo,bp=Oh,r=C1(r),Qf(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var b=0,T=-1,j=-1,G=0,ne=0,ie=r,Y=null;t:for(;;){for(var K;ie!==a||d!==0&&ie.nodeType!==3||(T=b+d),ie!==p||l!==0&&ie.nodeType!==3||(j=b+l),ie.nodeType===3&&(b+=ie.nodeValue.length),(K=ie.firstChild)!==null;)Y=ie,ie=K;for(;;){if(ie===r)break t;if(Y===a&&++G===d&&(T=b),Y===p&&++ne===l&&(j=b),(K=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=K}a=T===-1||j===-1?null:{start:T,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(wp={focusedElem:r,selectionRange:a},Oh=!1,Yt=s;Yt!==null;)if(s=Yt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Yt=r;else for(;Yt!==null;){switch(s=Yt,p=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,a=s,d=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var Re=ha(a.type,d,a.elementType===a.type);r=l.getSnapshotBeforeUpdate(Re,p),l.__reactInternalSnapshotBeforeUpdate=r}catch(Te){at(a,a.return,Te)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,a=r.nodeType,a===9)Sp(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Sp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Yt=r;break}Yt=s.return}}function xv(r,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qs(r,a),l&4&&sc(5,a);break;case 1:if(Qs(r,a),l&4)if(r=a.stateNode,s===null)try{r.componentDidMount()}catch(b){at(a,a.return,b)}else{var d=ha(a.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(b){at(a,a.return,b)}}l&64&&fv(a),l&512&&ic(a,a.return);break;case 3:if(Qs(r,a),l&64&&(r=a.updateQueue,r!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{ey(r,s)}catch(b){at(a,a.return,b)}}break;case 27:s===null&&l&4&&yv(a);case 26:case 5:Qs(r,a),s===null&&l&4&&pv(a),l&512&&ic(a,a.return);break;case 12:Qs(r,a);break;case 13:Qs(r,a),l&4&&wv(r,a),l&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=p3.bind(null,a),M3(r,a))));break;case 22:if(l=a.memoizedState!==null||ms,!l){s=s!==null&&s.memoizedState!==null||Nt,d=ms;var p=Nt;ms=l,(Nt=s)&&!p?Xs(r,a,(a.subtreeFlags&8772)!==0):Qs(r,a),ms=d,Nt=p}break;case 30:break;default:Qs(r,a)}}function _v(r){var s=r.alternate;s!==null&&(r.alternate=null,_v(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Vs(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ft=null,xn=!1;function ps(r,s,a){for(a=a.child;a!==null;)bv(r,s,a),a=a.sibling}function bv(r,s,a){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(bt,a)}catch{}switch(a.tag){case 26:Nt||Rr(a,s),ps(r,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Rr(a,s);var l=ft,d=xn;ni(a.type)&&(ft=a.stateNode,xn=!1),ps(r,s,a),mc(a.stateNode),ft=l,xn=d;break;case 5:Nt||Rr(a,s);case 6:if(l=ft,d=xn,ft=null,ps(r,s,a),ft=l,xn=d,ft!==null)if(xn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(p){at(a,s,p)}else try{ft.removeChild(a.stateNode)}catch(p){at(a,s,p)}break;case 18:ft!==null&&(xn?(r=ft,c2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),wc(r)):c2(ft,a.stateNode));break;case 4:l=ft,d=xn,ft=a.stateNode.containerInfo,xn=!0,ps(r,s,a),ft=l,xn=d;break;case 0:case 11:case 14:case 15:Nt||Ks(2,a,s),Nt||Ks(4,a,s),ps(r,s,a);break;case 1:Nt||(Rr(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&mv(a,s,l)),ps(r,s,a);break;case 21:ps(r,s,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,ps(r,s,a),Nt=l;break;default:ps(r,s,a)}}function wv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{wc(r)}catch(a){at(s,s.return,a)}}function o3(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new vv),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new vv),s;default:throw Error(i(435,r.tag))}}function Zm(r,s){var a=o3(r);s.forEach(function(l){var d=g3.bind(null,r,l);a.has(l)||(a.add(l),l.then(d,d))})}function In(r,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],p=r,b=s,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(ni(T.type)){ft=T.stateNode,xn=!1;break e}break;case 5:ft=T.stateNode,xn=!1;break e;case 3:case 4:ft=T.stateNode.containerInfo,xn=!0;break e}T=T.return}if(ft===null)throw Error(i(160));bv(p,b,d),ft=null,xn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Ev(s,r),s=s.sibling}var ar=null;function Ev(r,s){var a=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:In(s,r),Dn(r),l&4&&(Ks(3,r,r.return),sc(3,r),Ks(5,r,r.return));break;case 1:In(s,r),Dn(r),l&512&&(Nt||a===null||Rr(a,a.return)),l&64&&ms&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ar;if(In(s,r),Dn(r),l&512&&(Nt||a===null||Rr(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=r.memoizedState,a===null)if(l===null)if(r.stateNode===null){e:{l=r.type,a=r.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":p=d.getElementsByTagName("title")[0],(!p||p[zi]||p[Vt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(l),d.head.insertBefore(p,d.querySelector("head > title"))),tn(p,l,a),p[Vt]=r,St(p),l=p;break e;case"link":var b=y2("link","href",d).get(l+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(p=b[T],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}p=d.createElement(l),tn(p,l,a),d.head.appendChild(p);break;case"meta":if(b=y2("meta","content",d).get(l+(a.content||""))){for(T=0;T<b.length;T++)if(p=b[T],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}p=d.createElement(l),tn(p,l,a),d.head.appendChild(p);break;default:throw Error(i(468,l))}p[Vt]=r,St(p),l=p}r.stateNode=l}else v2(d,r.type,r.stateNode);else r.stateNode=g2(d,l,r.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?v2(d,r.type,r.stateNode):g2(d,l,r.memoizedProps)):l===null&&r.stateNode!==null&&Km(r,r.memoizedProps,a.memoizedProps)}break;case 27:In(s,r),Dn(r),l&512&&(Nt||a===null||Rr(a,a.return)),a!==null&&l&4&&Km(r,r.memoizedProps,a.memoizedProps);break;case 5:if(In(s,r),Dn(r),l&512&&(Nt||a===null||Rr(a,a.return)),r.flags&32){d=r.stateNode;try{Bn(d,"")}catch(K){at(r,r.return,K)}}l&4&&r.stateNode!=null&&(d=r.memoizedProps,Km(r,d,a!==null?a.memoizedProps:d)),l&1024&&(Wm=!0);break;case 6:if(In(s,r),Dn(r),l&4){if(r.stateNode===null)throw Error(i(162));l=r.memoizedProps,a=r.stateNode;try{a.nodeValue=l}catch(K){at(r,r.return,K)}}break;case 3:if(jh=null,d=ar,ar=Ih(s.containerInfo),In(s,r),ar=d,Dn(r),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wc(s.containerInfo)}catch(K){at(r,r.return,K)}Wm&&(Wm=!1,Tv(r));break;case 4:l=ar,ar=Ih(r.stateNode.containerInfo),In(s,r),Dn(r),ar=l;break;case 12:In(s,r),Dn(r);break;case 13:In(s,r),Dn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sp=Un()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Zm(r,l)));break;case 22:d=r.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,G=ms,ne=Nt;if(ms=G||d,Nt=ne||j,In(s,r),Nt=ne,ms=G,Dn(r),l&8192)e:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||j||ms||Nt||da(r)),a=null,s=r;;){if(s.tag===5||s.tag===26){if(a===null){j=a=s;try{if(p=j.stateNode,d)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=j.stateNode;var ie=j.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(K){at(j,j.return,K)}}}else if(s.tag===6){if(a===null){j=s;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(K){at(j,j.return,K)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=r.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Zm(r,a))));break;case 19:In(s,r),Dn(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Zm(r,l)));break;case 30:break;case 21:break;default:In(s,r),Dn(r)}}function Dn(r){var s=r.flags;if(s&2){try{for(var a,l=r.return;l!==null;){if(gv(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var d=a.stateNode,p=Qm(r);yh(r,p,d);break;case 5:var b=a.stateNode;a.flags&32&&(Bn(b,""),a.flags&=-33);var T=Qm(r);yh(r,T,b);break;case 3:case 4:var j=a.stateNode.containerInfo,G=Qm(r);Xm(r,G,j);break;default:throw Error(i(161))}}catch(ne){at(r,r.return,ne)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Tv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Tv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Qs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)xv(r,s.alternate,s),s=s.sibling}function da(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ks(4,s,s.return),da(s);break;case 1:Rr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&mv(s,s.return,a),da(s);break;case 27:mc(s.stateNode);case 26:case 5:Rr(s,s.return),da(s);break;case 22:s.memoizedState===null&&da(s);break;case 30:da(s);break;default:da(s)}r=r.sibling}}function Xs(r,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=r,p=s,b=p.flags;switch(p.tag){case 0:case 11:case 15:Xs(d,p,a),sc(4,p);break;case 1:if(Xs(d,p,a),l=p,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){at(l,l.return,G)}if(l=p,d=l.updateQueue,d!==null){var T=l.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)J1(j[d],T)}catch(G){at(l,l.return,G)}}a&&b&64&&fv(p),ic(p,p.return);break;case 27:yv(p);case 26:case 5:Xs(d,p,a),a&&l===null&&b&4&&pv(p),ic(p,p.return);break;case 12:Xs(d,p,a);break;case 13:Xs(d,p,a),a&&b&4&&wv(d,p);break;case 22:p.memoizedState===null&&Xs(d,p,a),ic(p,p.return);break;case 30:break;default:Xs(d,p,a)}s=s.sibling}}function Jm(r,s){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&ql(a))}function ep(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ql(r))}function Cr(r,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Sv(r,s,a,l),s=s.sibling}function Sv(r,s,a,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Cr(r,s,a,l),d&2048&&sc(9,s);break;case 1:Cr(r,s,a,l);break;case 3:Cr(r,s,a,l),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ql(r)));break;case 12:if(d&2048){Cr(r,s,a,l),r=s.stateNode;try{var p=s.memoizedProps,b=p.id,T=p.onPostCommit;typeof T=="function"&&T(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){at(s,s.return,j)}}else Cr(r,s,a,l);break;case 13:Cr(r,s,a,l);break;case 23:break;case 22:p=s.stateNode,b=s.alternate,s.memoizedState!==null?p._visibility&2?Cr(r,s,a,l):ac(r,s):p._visibility&2?Cr(r,s,a,l):(p._visibility|=2,po(r,s,a,l,(s.subtreeFlags&10256)!==0)),d&2048&&Jm(b,s);break;case 24:Cr(r,s,a,l),d&2048&&ep(s.alternate,s);break;default:Cr(r,s,a,l)}}function po(r,s,a,l,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=r,b=s,T=a,j=l,G=b.flags;switch(b.tag){case 0:case 11:case 15:po(p,b,T,j,d),sc(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?po(p,b,T,j,d):ac(p,b):(ne._visibility|=2,po(p,b,T,j,d)),d&&G&2048&&Jm(b.alternate,b);break;case 24:po(p,b,T,j,d),d&&G&2048&&ep(b.alternate,b);break;default:po(p,b,T,j,d)}s=s.sibling}}function ac(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=r,l=s,d=l.flags;switch(l.tag){case 22:ac(a,l),d&2048&&Jm(l.alternate,l);break;case 24:ac(a,l),d&2048&&ep(l.alternate,l);break;default:ac(a,l)}s=s.sibling}}var oc=8192;function go(r){if(r.subtreeFlags&oc)for(r=r.child;r!==null;)Av(r),r=r.sibling}function Av(r){switch(r.tag){case 26:go(r),r.flags&oc&&r.memoizedState!==null&&G3(ar,r.memoizedState,r.memoizedProps);break;case 5:go(r);break;case 3:case 4:var s=ar;ar=Ih(r.stateNode.containerInfo),go(r),ar=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=oc,oc=16777216,go(r),oc=s):go(r));break;default:go(r)}}function Nv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function lc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Yt=l,Cv(l,r)}Nv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Rv(r),r=r.sibling}function Rv(r){switch(r.tag){case 0:case 11:case 15:lc(r),r.flags&2048&&Ks(9,r,r.return);break;case 3:lc(r);break;case 12:lc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,vh(r)):lc(r);break;default:lc(r)}}function vh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Yt=l,Cv(l,r)}Nv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ks(8,s,s.return),vh(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,vh(s));break;default:vh(s)}r=r.sibling}}function Cv(r,s){for(;Yt!==null;){var a=Yt;switch(a.tag){case 0:case 11:case 15:Ks(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ql(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Yt=l;else e:for(a=r;Yt!==null;){l=Yt;var d=l.sibling,p=l.return;if(_v(l),l===a){Yt=null;break e}if(d!==null){d.return=p,Yt=d;break e}Yt=p}}}var l3={getCacheForType:function(r){var s=ln(zt),a=s.data.get(r);return a===void 0&&(a=r(),s.data.set(r,a)),a}},c3=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,Pe=null,He=0,et=0,jn=null,Ws=!1,yo=!1,tp=!1,gs=0,Et=0,Zs=0,fa=0,np=0,Xn=0,vo=0,cc=null,_n=null,rp=!1,sp=0,xh=1/0,_h=null,Js=null,en=0,ei=null,xo=null,_o=0,ip=0,ap=null,Iv=null,uc=0,op=null;function Mn(){if((Je&2)!==0&&He!==0)return He&-He;if(L.T!==null){var r=ao;return r!==0?r:mp()}return Os()}function Dv(){Xn===0&&(Xn=(He&536870912)===0||Ke?xl():536870912);var r=Qn.current;return r!==null&&(r.flags|=32),Xn}function kn(r,s,a){(r===lt&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(bo(r,0),ti(r,He,Xn,!1)),Kr(r,a),((Je&2)===0||r!==lt)&&(r===lt&&((Je&2)===0&&(fa|=a),Et===4&&ti(r,He,Xn,!1)),Ir(r))}function jv(r,s,a){if((Je&6)!==0)throw Error(i(327));var l=!a&&(s&124)===0&&(s&r.expiredLanes)===0||Ui(r,s),d=l?d3(r,s):up(r,s,!0),p=l;do{if(d===0){yo&&!l&&ti(r,s,0,!1);break}else{if(a=r.current.alternate,p&&!u3(a)){d=up(r,s,!1),p=!1;continue}if(d===2){if(p=s,r.errorRecoveryDisabledLanes&p)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var T=r;d=cc;var j=T.current.memoizedState.isDehydrated;if(j&&(bo(T,b).flags|=256),b=up(T,b,!1),b!==2){if(tp&&!j){T.errorRecoveryDisabledLanes|=p,fa|=p,d=4;break e}p=_n,_n=d,p!==null&&(_n===null?_n=p:_n.push.apply(_n,p))}d=b}if(p=!1,d!==2)continue}}if(d===1){bo(r,0),ti(r,s,0,!0);break}e:{switch(l=r,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ti(l,s,Xn,!Ws);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=sp+300-Un(),10<d)){if(ti(l,s,Xn,!Ws),Va(l,0,!0)!==0)break e;l.timeoutHandle=o2(Mv.bind(null,l,a,_n,_h,rp,s,Xn,fa,vo,Ws,p,2,-0,0),d);break e}Mv(l,a,_n,_h,rp,s,Xn,fa,vo,Ws,p,0,-0,0)}}break}while(!0);Ir(r)}function Mv(r,s,a,l,d,p,b,T,j,G,ne,ie,Y,K){if(r.timeoutHandle=-1,ie=s.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(yc={stylesheets:null,count:0,unsuspend:$3},Av(s),ie=Y3(),ie!==null)){r.cancelPendingCommit=ie(zv.bind(null,r,s,p,a,l,d,b,T,j,ne,1,Y,K)),ti(r,p,b,!G);return}zv(r,s,p,a,l,d,b,T,j)}function u3(r){for(var s=r;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],p=d.getSnapshot;d=d.value;try{if(!Rn(p(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ti(r,s,a,l){s&=~np,s&=~fa,r.suspendedLanes|=s,r.pingedLanes&=~s,l&&(r.warmLanes|=s),l=r.expirationTimes;for(var d=s;0<d;){var p=31-on(d),b=1<<p;l[p]=-1,d&=~b}a!==0&&pr(r,a,s)}function bh(){return(Je&6)===0?(hc(0),!1):!0}function lp(){if(Pe!==null){if(et===0)var r=Pe.return;else r=Pe,ls=oa=null,Sm(r),fo=null,tc=0,r=Pe;for(;r!==null;)dv(r.alternate,r),r=r.return;Pe=null}}function bo(r,s){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,R3(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),lp(),lt=r,Pe=a=is(r.current,null),He=s,et=0,jn=null,Ws=!1,yo=Ui(r,s),tp=!1,vo=Xn=np=fa=Zs=Et=0,_n=cc=null,rp=!1,(s&8)!==0&&(s|=s&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=s;0<l;){var d=31-on(l),p=1<<d;s|=r[d],l&=~p}return gs=s,Hu(),a}function kv(r,s){Me=null,L.H=lh,s===Gl||s===Zu?(s=W1(),et=3):s===K1?(s=W1(),et=4):et=s===Zy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,jn=s,Pe===null&&(Et=1,fh(r,$n(s,r.current)))}function Ov(){var r=L.H;return L.H=lh,r===null?lh:r}function Pv(){var r=L.A;return L.A=l3,r}function cp(){Et=4,Ws||(He&4194048)!==He&&Qn.current!==null||(yo=!0),(Zs&134217727)===0&&(fa&134217727)===0||lt===null||ti(lt,He,Xn,!1)}function up(r,s,a){var l=Je;Je|=2;var d=Ov(),p=Pv();(lt!==r||He!==s)&&(_h=null,bo(r,s)),s=!1;var b=Et;e:do try{if(et!==0&&Pe!==null){var T=Pe,j=jn;switch(et){case 8:lp(),b=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(s=!0);var G=et;if(et=0,jn=null,wo(r,T,j,G),a&&yo){b=0;break e}break;default:G=et,et=0,jn=null,wo(r,T,j,G)}}h3(),b=Et;break}catch(ne){kv(r,ne)}while(!0);return s&&r.shellSuspendCounter++,ls=oa=null,Je=l,L.H=d,L.A=p,Pe===null&&(lt=null,He=0,Hu()),b}function h3(){for(;Pe!==null;)Vv(Pe)}function d3(r,s){var a=Je;Je|=2;var l=Ov(),d=Pv();lt!==r||He!==s?(_h=null,xh=Un()+500,bo(r,s)):yo=Ui(r,s);e:do try{if(et!==0&&Pe!==null){s=Pe;var p=jn;t:switch(et){case 1:et=0,jn=null,wo(r,s,p,1);break;case 2:case 9:if(Q1(p)){et=0,jn=null,Lv(s);break}s=function(){et!==2&&et!==9||lt!==r||(et=7),Ir(r)},p.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Q1(p)?(et=0,jn=null,Lv(s)):(et=0,jn=null,wo(r,s,p,7));break;case 5:var b=null;switch(Pe.tag){case 26:b=Pe.memoizedState;case 5:case 27:var T=Pe;if(!b||x2(b)){et=0,jn=null;var j=T.sibling;if(j!==null)Pe=j;else{var G=T.return;G!==null?(Pe=G,wh(G)):Pe=null}break t}}et=0,jn=null,wo(r,s,p,5);break;case 6:et=0,jn=null,wo(r,s,p,6);break;case 8:lp(),Et=6;break e;default:throw Error(i(462))}}f3();break}catch(ne){kv(r,ne)}while(!0);return ls=oa=null,L.H=l,L.A=d,Je=a,Pe!==null?0:(lt=null,He=0,Hu(),Et)}function f3(){for(;Pe!==null&&!pl();)Vv(Pe)}function Vv(r){var s=uv(r.alternate,r,gs);r.memoizedProps=r.pendingProps,s===null?wh(r):Pe=s}function Lv(r){var s=r,a=s.alternate;switch(s.tag){case 15:case 0:s=sv(a,s,s.pendingProps,s.type,void 0,He);break;case 11:s=sv(a,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:Sm(s);default:dv(a,s),s=Pe=U1(s,gs),s=uv(a,s,gs)}r.memoizedProps=r.pendingProps,s===null?wh(r):Pe=s}function wo(r,s,a,l){ls=oa=null,Sm(s),fo=null,tc=0;var d=s.return;try{if(n3(r,d,s,a,He)){Et=1,fh(r,$n(a,r.current)),Pe=null;return}}catch(p){if(d!==null)throw Pe=d,p;Et=1,fh(r,$n(a,r.current)),Pe=null;return}s.flags&32768?(Ke||l===1?r=!0:yo||(He&536870912)!==0?r=!1:(Ws=r=!0,(l===2||l===9||l===3||l===6)&&(l=Qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Uv(s,r)):wh(s)}function wh(r){var s=r;do{if((s.flags&32768)!==0){Uv(s,Ws);return}r=s.return;var a=s3(s.alternate,s,gs);if(a!==null){Pe=a;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=r}while(s!==null);Et===0&&(Et=5)}function Uv(r,s){do{var a=i3(r.alternate,r);if(a!==null){a.flags&=32767,Pe=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(r=r.sibling,r!==null)){Pe=r;return}Pe=r=a}while(r!==null);Et=6,Pe=null}function zv(r,s,a,l,d,p,b,T,j){r.cancelPendingCommit=null;do Eh();while(en!==0);if((Je&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=em,bl(r,a,p,b,T,j),r===lt&&(Pe=lt=null,He=0),xo=s,ei=r,_o=a,ip=p,ap=d,Iv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,y3(Oi,function(){return $v(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,d=W.p,W.p=2,b=Je,Je|=4;try{a3(r,s,a)}finally{Je=b,W.p=d,L.T=l}}en=1,Bv(),Fv(),Hv()}}function Bv(){if(en===1){en=0;var r=ei,s=xo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=W.p;W.p=2;var d=Je;Je|=4;try{Ev(s,r);var p=wp,b=C1(r.containerInfo),T=p.focusedElem,j=p.selectionRange;if(b!==T&&T&&T.ownerDocument&&R1(T.ownerDocument.documentElement,T)){if(j!==null&&Qf(T)){var G=j.start,ne=j.end;if(ne===void 0&&(ne=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(ne,T.value.length);else{var ie=T.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),Re=T.textContent.length,Te=Math.min(j.start,Re),st=j.end===void 0?Te:Math.min(j.end,Re);!K.extend&&Te>st&&(b=st,st=Te,Te=b);var F=N1(T,Te),V=N1(T,st);if(F&&V&&(K.rangeCount!==1||K.anchorNode!==F.node||K.anchorOffset!==F.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var $=ie.createRange();$.setStart(F.node,F.offset),K.removeAllRanges(),Te>st?(K.addRange($),K.extend(V.node,V.offset)):($.setEnd(V.node,V.offset),K.addRange($))}}}}for(ie=[],K=T;K=K.parentNode;)K.nodeType===1&&ie.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ie.length;T++){var se=ie[T];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Oh=!!bp,wp=bp=null}finally{Je=d,W.p=l,L.T=a}}r.current=s,en=2}}function Fv(){if(en===2){en=0;var r=ei,s=xo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=W.p;W.p=2;var d=Je;Je|=4;try{xv(r,s.alternate,s)}finally{Je=d,W.p=l,L.T=a}}en=3}}function Hv(){if(en===4||en===3){en=0,vu();var r=ei,s=xo,a=_o,l=Iv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?en=5:(en=0,xo=ei=null,qv(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(Js=null),La(a),s=s.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(bt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=L.T,d=W.p,W.p=2,L.T=null;try{for(var p=r.onRecoverableError,b=0;b<l.length;b++){var T=l[b];p(T.value,{componentStack:T.stack})}}finally{L.T=s,W.p=d}}(_o&3)!==0&&Eh(),Ir(r),d=r.pendingLanes,(a&4194090)!==0&&(d&42)!==0?r===op?uc++:(uc=0,op=r):uc=0,hc(0)}}function qv(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,ql(s)))}function Eh(r){return Bv(),Fv(),Hv(),$v()}function $v(){if(en!==5)return!1;var r=ei,s=ip;ip=0;var a=La(_o),l=L.T,d=W.p;try{W.p=32>a?32:a,L.T=null,a=ap,ap=null;var p=ei,b=_o;if(en=0,xo=ei=null,_o=0,(Je&6)!==0)throw Error(i(331));var T=Je;if(Je|=4,Rv(p.current),Sv(p,p.current,b,a),Je=T,hc(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(bt,p)}catch{}return!0}finally{W.p=d,L.T=l,qv(r,s)}}function Gv(r,s,a){s=$n(a,s),s=Um(r.stateNode,s,2),r=qs(r,s,2),r!==null&&(Kr(r,2),Ir(r))}function at(r,s,a){if(r.tag===3)Gv(r,r,a);else for(;s!==null;){if(s.tag===3){Gv(s,r,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Js===null||!Js.has(l))){r=$n(a,r),a=Xy(2),l=qs(s,a,2),l!==null&&(Wy(a,l,s,r),Kr(l,2),Ir(l));break}}s=s.return}}function hp(r,s,a){var l=r.pingCache;if(l===null){l=r.pingCache=new c3;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(a)||(tp=!0,d.add(a),r=m3.bind(null,r,s,a),s.then(r,r))}function m3(r,s,a){var l=r.pingCache;l!==null&&l.delete(s),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,lt===r&&(He&a)===a&&(Et===4||Et===3&&(He&62914560)===He&&300>Un()-sp?(Je&2)===0&&bo(r,0):np|=a,vo===He&&(vo=0)),Ir(r)}function Yv(r,s){s===0&&(s=_l()),r=no(r,s),r!==null&&(Kr(r,s),Ir(r))}function p3(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Yv(r,a)}function g3(r,s){var a=0;switch(r.tag){case 13:var l=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),Yv(r,a)}function y3(r,s){return Ln(r,s)}var Th=null,Eo=null,dp=!1,Sh=!1,fp=!1,ma=0;function Ir(r){r!==Eo&&r.next===null&&(Eo===null?Th=Eo=r:Eo=Eo.next=r),Sh=!0,dp||(dp=!0,x3())}function hc(r,s){if(!fp&&Sh){fp=!0;do for(var a=!1,l=Th;l!==null;){if(r!==0){var d=l.pendingLanes;if(d===0)var p=0;else{var b=l.suspendedLanes,T=l.pingedLanes;p=(1<<31-on(42|r)+1)-1,p&=d&~(b&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,Wv(l,p))}else p=He,p=Va(l,l===lt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Ui(l,p)||(a=!0,Wv(l,p));l=l.next}while(a);fp=!1}}function v3(){Kv()}function Kv(){Sh=dp=!1;var r=0;ma!==0&&(N3()&&(r=ma),ma=0);for(var s=Un(),a=null,l=Th;l!==null;){var d=l.next,p=Qv(l,s);p===0?(l.next=null,a===null?Th=d:a.next=d,d===null&&(Eo=a)):(a=l,(r!==0||(p&3)!==0)&&(Sh=!0)),l=d}hc(r)}function Qv(r,s){for(var a=r.suspendedLanes,l=r.pingedLanes,d=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var b=31-on(p),T=1<<b,j=d[b];j===-1?((T&a)===0||(T&l)!==0)&&(d[b]=vl(T,s)):j<=s&&(r.expiredLanes|=T),p&=~T}if(s=lt,a=He,a=Va(r,r===s?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,a===0||r===s&&(et===2||et===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&ki(l),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Ui(r,a)){if(s=a&-a,s===r.callbackPriority)return s;switch(l!==null&&ki(l),La(a)){case 2:case 8:a=Oa;break;case 32:a=Oi;break;case 268435456:a=Pa;break;default:a=Oi}return l=Xv.bind(null,r),a=Ln(a,l),r.callbackPriority=s,r.callbackNode=a,s}return l!==null&&l!==null&&ki(l),r.callbackPriority=2,r.callbackNode=null,2}function Xv(r,s){if(en!==0&&en!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(Eh()&&r.callbackNode!==a)return null;var l=He;return l=Va(r,r===lt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(jv(r,l,s),Qv(r,Un()),r.callbackNode!=null&&r.callbackNode===a?Xv.bind(null,r):null)}function Wv(r,s){if(Eh())return null;jv(r,s,!0)}function x3(){C3(function(){(Je&6)!==0?Ln(gl,v3):Kv()})}function mp(){return ma===0&&(ma=xl()),ma}function Zv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:qa(""+r)}function Jv(r,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,r.id&&a.setAttribute("form",r.id),s.parentNode.insertBefore(a,s),r=new FormData(r),a.parentNode.removeChild(a),r}function _3(r,s,a,l,d){if(s==="submit"&&a&&a.stateNode===d){var p=Zv((d[Ct]||null).action),b=l.submitter;b&&(s=(s=b[Ct]||null)?Zv(s.formAction):b.getAttribute("formAction"),s!==null&&(p=s,b=null));var T=new $a("action","action",null,l,d);r.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ma!==0){var j=b?Jv(d,b):new FormData(d);km(a,{pending:!0,data:j,method:d.method,action:p},null,j)}}else typeof p=="function"&&(T.preventDefault(),j=b?Jv(d,b):new FormData(d),km(a,{pending:!0,data:j,method:d.method,action:p},p,j))},currentTarget:d}]})}}for(var pp=0;pp<Jf.length;pp++){var gp=Jf[pp],b3=gp.toLowerCase(),w3=gp[0].toUpperCase()+gp.slice(1);ir(b3,"on"+w3)}ir(j1,"onAnimationEnd"),ir(M1,"onAnimationIteration"),ir(k1,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(Uw,"onTransitionRun"),ir(zw,"onTransitionStart"),ir(Bw,"onTransitionCancel"),ir(O1,"onTransitionEnd"),Xr("onMouseEnter",["mouseout","mouseover"]),Xr("onMouseLeave",["mouseout","mouseover"]),Xr("onPointerEnter",["pointerout","pointerover"]),Xr("onPointerLeave",["pointerout","pointerover"]),rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dc));function e2(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var l=r[a],d=l.event;l=l.listeners;e:{var p=void 0;if(s)for(var b=l.length-1;0<=b;b--){var T=l[b],j=T.instance,G=T.currentTarget;if(T=T.listener,j!==p&&d.isPropagationStopped())break e;p=T,d.currentTarget=G;try{p(d)}catch(ne){dh(ne)}d.currentTarget=null,p=j}else for(b=0;b<l.length;b++){if(T=l[b],j=T.instance,G=T.currentTarget,T=T.listener,j!==p&&d.isPropagationStopped())break e;p=T,d.currentTarget=G;try{p(d)}catch(ne){dh(ne)}d.currentTarget=null,p=j}}}}function Ve(r,s){var a=s[El];a===void 0&&(a=s[El]=new Set);var l=r+"__bubble";a.has(l)||(t2(s,r,2,!1),a.add(l))}function yp(r,s,a){var l=0;s&&(l|=4),t2(a,r,l,s)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function vp(r){if(!r[Ah]){r[Ah]=!0,Tl.forEach(function(a){a!=="selectionchange"&&(E3.has(a)||yp(a,!1,r),yp(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ah]||(s[Ah]=!0,yp("selectionchange",!1,s))}}function t2(r,s,a,l){switch(S2(s)){case 2:var d=X3;break;case 8:d=W3;break;default:d=jp}a=d.bind(null,s,a,r),d=void 0,!Hn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function xp(r,s,a,l,d){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===d)break;if(b===4)for(b=l.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;T!==null;){if(b=Qr(T),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){l=p=b;continue e}T=T.parentNode}}l=l.return}Ru(function(){var G=p,ne=Fn(a),ie=[];e:{var Y=P1.get(r);if(Y!==void 0){var K=$a,Re=r;switch(r){case"keypress":if(br(a)===0)break e;case"keydown":case"keyup":K=Wa;break;case"focusin":Re="focus",K=Ka;break;case"focusout":Re="blur",K=Ka;break;case"beforeblur":case"afterblur":K=Ka;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=$f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Pu;break;case j1:case M1:case k1:K=Qa;break;case O1:K=Lu;break;case"scroll":case"scrollend":K=Cu;break;case"wheel":K=Za;break;case"copy":case"cut":case"paste":K=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Pl;break;case"toggle":case"beforetoggle":K=zu}var Te=(s&4)!==0,st=!Te&&(r==="scroll"||r==="scrollend"),F=Te?Y!==null?Y+"Capture":null:Y;Te=[];for(var V=G,$;V!==null;){var se=V;if($=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||$===null||F===null||(se=Yi(V,F),se!=null&&Te.push(fc(V,se,$))),st)break;V=V.return}0<Te.length&&(Y=new K(Y,Re,null,a,ne),ie.push({event:Y,listeners:Te}))}}if((s&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",K=r==="mouseout"||r==="pointerout",Y&&a!==Jr&&(Re=a.relatedTarget||a.fromElement)&&(Qr(Re)||Re[zn]))break e;if((K||Y)&&(Y=ne.window===ne?ne:(Y=ne.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(Re=a.relatedTarget||a.toElement,K=G,Re=Re?Qr(Re):null,Re!==null&&(st=c(Re),Te=Re.tag,Re!==st||Te!==5&&Te!==27&&Te!==6)&&(Re=null)):(K=null,Re=G),K!==Re)){if(Te=qn,se="onMouseLeave",F="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(Te=Pl,se="onPointerLeave",F="onPointerEnter",V="pointer"),st=K==null?Y:yr(K),$=Re==null?Y:yr(Re),Y=new Te(se,V+"leave",K,a,ne),Y.target=st,Y.relatedTarget=$,se=null,Qr(ne)===G&&(Te=new Te(F,V+"enter",Re,a,ne),Te.target=$,Te.relatedTarget=st,se=Te),st=se,K&&Re)t:{for(Te=K,F=Re,V=0,$=Te;$;$=To($))V++;for($=0,se=F;se;se=To(se))$++;for(;0<V-$;)Te=To(Te),V--;for(;0<$-V;)F=To(F),$--;for(;V--;){if(Te===F||F!==null&&Te===F.alternate)break t;Te=To(Te),F=To(F)}Te=null}else Te=null;K!==null&&n2(ie,Y,K,Te,!1),Re!==null&&st!==null&&n2(ie,st,Re,Te,!0)}}e:{if(Y=G?yr(G):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var ve=b1;else if(Ut(Y))if(w1)ve=Pw;else{ve=kw;var Oe=Mw}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&Cl(G.elementType)&&(ve=b1):ve=Ow;if(ve&&(ve=ve(r,G))){ss(ie,ve,a,ne);break e}Oe&&Oe(r,Y,G),r==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&Us(Y,"number",Y.value)}switch(Oe=G?yr(G):window,r){case"focusin":(Ut(Oe)||Oe.contentEditable==="true")&&(Ja=Oe,Xf=G,Ul=null);break;case"focusout":Ul=Xf=Ja=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,I1(ie,a,ne);break;case"selectionchange":if(Lw)break;case"keydown":case"keyup":I1(ie,a,ne)}var _e;if(Tr)e:{switch(r){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Be?Q(r,a)&&(Se="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(_&&a.locale!=="ko"&&(Be||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Be&&(_e=Dl()):(_r=ne,zs="value"in _r?_r.value:_r.textContent,Be=!0)),Oe=Nh(G,Se),0<Oe.length&&(Se=new kl(Se,r,null,a,ne),ie.push({event:Se,listeners:Oe}),_e?Se.data=_e:(_e=de(a),_e!==null&&(Se.data=_e)))),(_e=v?Lt(r,a):Fe(r,a))&&(Se=Nh(G,"onBeforeInput"),0<Se.length&&(Oe=new kl("onBeforeInput","beforeinput",null,a,ne),ie.push({event:Oe,listeners:Se}),Oe.data=_e)),_3(ie,r,G,a,ne)}e2(ie,s)})}function fc(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Nh(r,s){for(var a=s+"Capture",l=[];r!==null;){var d=r,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Yi(r,a),d!=null&&l.unshift(fc(r,d,p)),d=Yi(r,s),d!=null&&l.push(fc(r,d,p))),r.tag===3)return l;r=r.return}return[]}function To(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function n2(r,s,a,l,d){for(var p=s._reactName,b=[];a!==null&&a!==l;){var T=a,j=T.alternate,G=T.stateNode;if(T=T.tag,j!==null&&j===l)break;T!==5&&T!==26&&T!==27||G===null||(j=G,d?(G=Yi(a,p),G!=null&&b.unshift(fc(a,G,j))):d||(G=Yi(a,p),G!=null&&b.push(fc(a,G,j)))),a=a.return}b.length!==0&&r.push({event:s,listeners:b})}var T3=/\r\n?/g,S3=/\u0000|\uFFFD/g;function r2(r){return(typeof r=="string"?r:""+r).replace(T3,`
`).replace(S3,"")}function s2(r,s){return s=r2(s),r2(r)===s}function Rh(){}function rt(r,s,a,l,d,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Bn(r,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Bn(r,""+l);break;case"className":vr(r,"class",l);break;case"tabIndex":vr(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(r,a,l);break;case"style":Rl(r,l,p);break;case"data":if(s!=="object"){vr(r,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){r.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=qa(""+l),r.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&rt(r,s,"name",d.name,d,null),rt(r,s,"formEncType",d.formEncType,d,null),rt(r,s,"formMethod",d.formMethod,d,null),rt(r,s,"formTarget",d.formTarget,d,null)):(rt(r,s,"encType",d.encType,d,null),rt(r,s,"method",d.method,d,null),rt(r,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=qa(""+l),r.setAttribute(a,l);break;case"onClick":l!=null&&(r.onclick=Rh);break;case"onScroll":l!=null&&Ve("scroll",r);break;case"onScrollEnd":l!=null&&Ve("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}a=qa(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""+l):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":l===!0?r.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,l):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(a,l):r.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(a):r.setAttribute(a,l);break;case"popover":Ve("beforetoggle",r),Ve("toggle",r),Ls(r,"popover",l);break;case"xlinkActuate":Wt(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Wt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Wt(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Wt(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Wt(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Wt(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Wt(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Wt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Wt(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ls(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hf.get(a)||a,Ls(r,a,l))}}function _p(r,s,a,l,d,p){switch(a){case"style":Rl(r,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof l=="string"?Bn(r,l):(typeof l=="number"||typeof l=="bigint")&&Bn(r,""+l);break;case"onScroll":l!=null&&Ve("scroll",r);break;case"onScrollEnd":l!=null&&Ve("scrollend",r);break;case"onClick":l!=null&&(r.onclick=Rh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),p=r[Ct]||null,p=p!=null?p[a]:null,typeof p=="function"&&r.removeEventListener(s,p,d),typeof l=="function")){typeof p!="function"&&p!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(s,l,d);break e}a in r?r[a]=l:l===!0?r.setAttribute(a,""):Ls(r,a,l)}}}function tn(r,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",r),Ve("load",r);var l=!1,d=!1,p;for(p in a)if(a.hasOwnProperty(p)){var b=a[p];if(b!=null)switch(p){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:rt(r,s,p,b,a,null)}}d&&rt(r,s,"srcSet",a.srcSet,a,null),l&&rt(r,s,"src",a.src,a,null);return;case"input":Ve("invalid",r);var T=p=b=d=null,j=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var ne=a[l];if(ne!=null)switch(l){case"name":d=ne;break;case"type":b=ne;break;case"checked":j=ne;break;case"defaultChecked":G=ne;break;case"value":p=ne;break;case"defaultValue":T=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:rt(r,s,l,ne,a,null)}}qi(r,p,T,j,G,b,d,!1),Ha(r);return;case"select":Ve("invalid",r),l=b=p=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":p=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:rt(r,s,d,T,a,null)}s=p,a=b,r.multiple=!!l,s!=null?Zr(r,!!l,s,!1):a!=null&&Zr(r,!!l,a,!0);return;case"textarea":Ve("invalid",r),p=d=l=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":d=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:rt(r,s,b,T,a,null)}$i(r,l,d,p),Ha(r);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(r,s,j,l,a,null)}return;case"dialog":Ve("beforetoggle",r),Ve("toggle",r),Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":Ve("load",r);break;case"video":case"audio":for(l=0;l<dc.length;l++)Ve(dc[l],r);break;case"image":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"embed":case"source":case"link":Ve("error",r),Ve("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:rt(r,s,G,l,a,null)}return;default:if(Cl(s)){for(ne in a)a.hasOwnProperty(ne)&&(l=a[ne],l!==void 0&&_p(r,s,ne,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&rt(r,s,T,l,a,null))}function A3(r,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,b=null,T=null,j=null,G=null,ne=null;for(K in a){var ie=a[K];if(a.hasOwnProperty(K)&&ie!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":j=ie;default:l.hasOwnProperty(K)||rt(r,s,K,null,l,ie)}}for(var Y in l){var K=l[Y];if(ie=a[Y],l.hasOwnProperty(Y)&&(K!=null||ie!=null))switch(Y){case"type":p=K;break;case"name":d=K;break;case"checked":G=K;break;case"defaultChecked":ne=K;break;case"value":b=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:K!==ie&&rt(r,s,Y,K,l,ie)}}Nn(r,b,T,j,G,ne,p,d);return;case"select":K=b=T=Y=null;for(p in a)if(j=a[p],a.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":K=j;default:l.hasOwnProperty(p)||rt(r,s,p,null,l,j)}for(d in l)if(p=l[d],j=a[d],l.hasOwnProperty(d)&&(p!=null||j!=null))switch(d){case"value":Y=p;break;case"defaultValue":T=p;break;case"multiple":b=p;default:p!==j&&rt(r,s,d,p,l,j)}s=T,a=b,l=K,Y!=null?Zr(r,!!a,Y,!1):!!l!=!!a&&(s!=null?Zr(r,!!a,s,!0):Zr(r,!!a,a?[]:"",!1));return;case"textarea":K=Y=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(r,s,T,null,l,d)}for(b in l)if(d=l[b],p=a[b],l.hasOwnProperty(b)&&(d!=null||p!=null))switch(b){case"value":Y=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&rt(r,s,b,d,l,p)}tt(r,Y,K);return;case"option":for(var Re in a)if(Y=a[Re],a.hasOwnProperty(Re)&&Y!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":r.selected=!1;break;default:rt(r,s,Re,null,l,Y)}for(j in l)if(Y=l[j],K=a[j],l.hasOwnProperty(j)&&Y!==K&&(Y!=null||K!=null))switch(j){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:rt(r,s,j,Y,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)Y=a[Te],a.hasOwnProperty(Te)&&Y!=null&&!l.hasOwnProperty(Te)&&rt(r,s,Te,null,l,Y);for(G in l)if(Y=l[G],K=a[G],l.hasOwnProperty(G)&&Y!==K&&(Y!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:rt(r,s,G,Y,l,K)}return;default:if(Cl(s)){for(var st in a)Y=a[st],a.hasOwnProperty(st)&&Y!==void 0&&!l.hasOwnProperty(st)&&_p(r,s,st,void 0,l,Y);for(ne in l)Y=l[ne],K=a[ne],!l.hasOwnProperty(ne)||Y===K||Y===void 0&&K===void 0||_p(r,s,ne,Y,l,K);return}}for(var F in a)Y=a[F],a.hasOwnProperty(F)&&Y!=null&&!l.hasOwnProperty(F)&&rt(r,s,F,null,l,Y);for(ie in l)Y=l[ie],K=a[ie],!l.hasOwnProperty(ie)||Y===K||Y==null&&K==null||rt(r,s,ie,Y,l,K)}var bp=null,wp=null;function Ch(r){return r.nodeType===9?r:r.ownerDocument}function i2(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a2(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Ep(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Tp=null;function N3(){var r=window.event;return r&&r.type==="popstate"?r===Tp?!1:(Tp=r,!0):(Tp=null,!1)}var o2=typeof setTimeout=="function"?setTimeout:void 0,R3=typeof clearTimeout=="function"?clearTimeout:void 0,l2=typeof Promise=="function"?Promise:void 0,C3=typeof queueMicrotask=="function"?queueMicrotask:typeof l2<"u"?function(r){return l2.resolve(null).then(r).catch(I3)}:o2;function I3(r){setTimeout(function(){throw r})}function ni(r){return r==="head"}function c2(r,s){var a=s,l=0,d=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<l&&8>l){a=l;var b=r.ownerDocument;if(a&1&&mc(b.documentElement),a&2&&mc(b.body),a&4)for(a=b.head,mc(a),b=a.firstChild;b;){var T=b.nextSibling,j=b.nodeName;b[zi]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=T}}if(d===0){r.removeChild(p),wc(s);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=p}while(a);wc(s)}function Sp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sp(a),Vs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function D3(r,s,a,l){for(;r.nodeType===1;){var d=a;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[zi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=or(r.nextSibling),r===null)break}return null}function j3(r,s,a){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=or(r.nextSibling),r===null))return null;return r}function Ap(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function M3(r,s){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function or(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Np=null;function u2(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}function h2(r,s,a){switch(s=Ch(a),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function mc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Vs(r)}var Wn=new Map,d2=new Set;function Ih(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ys=W.d;W.d={f:k3,r:O3,D:P3,C:V3,L:L3,m:U3,X:B3,S:z3,M:F3};function k3(){var r=ys.f(),s=bh();return r||s}function O3(r){var s=gr(r);s!==null&&s.tag===5&&s.type==="form"?jy(s):ys.r(r)}var So=typeof document>"u"?null:document;function f2(r,s,a){var l=So;if(l&&typeof s=="string"&&s){var d=It(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),d2.has(d)||(d2.add(d),r={rel:r,crossOrigin:a,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),tn(s,"link",r),St(s),l.head.appendChild(s)))}}function P3(r){ys.D(r),f2("dns-prefetch",r,null)}function V3(r,s){ys.C(r,s),f2("preconnect",r,s)}function L3(r,s,a){ys.L(r,s,a);var l=So;if(l&&r&&s){var d='link[rel="preload"][as="'+It(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+It(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+It(a.imageSizes)+'"]')):d+='[href="'+It(r)+'"]';var p=d;switch(s){case"style":p=Ao(r);break;case"script":p=No(r)}Wn.has(p)||(r=x({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:r,as:s},a),Wn.set(p,r),l.querySelector(d)!==null||s==="style"&&l.querySelector(pc(p))||s==="script"&&l.querySelector(gc(p))||(s=l.createElement("link"),tn(s,"link",r),St(s),l.head.appendChild(s)))}}function U3(r,s){ys.m(r,s);var a=So;if(a&&r){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+It(l)+'"][href="'+It(r)+'"]',p=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=No(r)}if(!Wn.has(p)&&(r=x({rel:"modulepreload",href:r},s),Wn.set(p,r),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gc(p)))return}l=a.createElement("link"),tn(l,"link",r),St(l),a.head.appendChild(l)}}}function z3(r,s,a){ys.S(r,s,a);var l=So;if(l&&r){var d=mn(l).hoistableStyles,p=Ao(r);s=s||"default";var b=d.get(p);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(pc(p)))T.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":s},a),(a=Wn.get(p))&&Rp(r,a);var j=b=l.createElement("link");St(j),tn(j,"link",r),j._p=new Promise(function(G,ne){j.onload=G,j.onerror=ne}),j.addEventListener("load",function(){T.loading|=1}),j.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Dh(b,s,l)}b={type:"stylesheet",instance:b,count:1,state:T},d.set(p,b)}}}function B3(r,s){ys.X(r,s);var a=So;if(a&&r){var l=mn(a).hoistableScripts,d=No(r),p=l.get(d);p||(p=a.querySelector(gc(d)),p||(r=x({src:r,async:!0},s),(s=Wn.get(d))&&Cp(r,s),p=a.createElement("script"),St(p),tn(p,"link",r),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function F3(r,s){ys.M(r,s);var a=So;if(a&&r){var l=mn(a).hoistableScripts,d=No(r),p=l.get(d);p||(p=a.querySelector(gc(d)),p||(r=x({src:r,async:!0,type:"module"},s),(s=Wn.get(d))&&Cp(r,s),p=a.createElement("script"),St(p),tn(p,"link",r),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function m2(r,s,a,l){var d=(d=xe.current)?Ih(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ao(a.href),a=mn(d).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=Ao(a.href);var p=mn(d).hoistableStyles,b=p.get(r);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,b),(p=d.querySelector(pc(r)))&&!p._p&&(b.instance=p,b.state.loading=5),Wn.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(r,a),p||H3(d,r,a,b.state))),s&&l===null)throw Error(i(528,""));return b}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=No(a),a=mn(d).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ao(r){return'href="'+It(r)+'"'}function pc(r){return'link[rel="stylesheet"]['+r+"]"}function p2(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function H3(r,s,a,l){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=r.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),tn(s,"link",a),St(s),r.head.appendChild(s))}function No(r){return'[src="'+It(r)+'"]'}function gc(r){return"script[async]"+r}function g2(r,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=r.querySelector('style[data-href~="'+It(a.href)+'"]');if(l)return s.instance=l,St(l),l;var d=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),St(l),tn(l,"style",d),Dh(l,a.precedence,r),s.instance=l;case"stylesheet":d=Ao(a.href);var p=r.querySelector(pc(d));if(p)return s.state.loading|=4,s.instance=p,St(p),p;l=p2(a),(d=Wn.get(d))&&Rp(l,d),p=(r.ownerDocument||r).createElement("link"),St(p);var b=p;return b._p=new Promise(function(T,j){b.onload=T,b.onerror=j}),tn(p,"link",l),s.state.loading|=4,Dh(p,a.precedence,r),s.instance=p;case"script":return p=No(a.src),(d=r.querySelector(gc(p)))?(s.instance=d,St(d),d):(l=a,(d=Wn.get(p))&&(l=x({},a),Cp(l,d)),r=r.ownerDocument||r,d=r.createElement("script"),St(d),tn(d,"link",l),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Dh(l,a.precedence,r));return s.instance}function Dh(r,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,p=d,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===s)p=T;else if(p!==d)break}p?p.parentNode.insertBefore(r,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(r,s.firstChild))}function Rp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Cp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var jh=null;function y2(r,s,a){if(jh===null){var l=new Map,d=jh=new Map;d.set(a,l)}else d=jh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(r))return l;for(l.set(r,null),a=a.getElementsByTagName(r),d=0;d<a.length;d++){var p=a[d];if(!(p[zi]||p[Vt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(s)||"";b=r+b;var T=l.get(b);T?T.push(p):l.set(b,[p])}}return l}function v2(r,s,a){r=r.ownerDocument||r,r.head.insertBefore(a,s==="title"?r.querySelector("head > title"):null)}function q3(r,s,a){if(a===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function x2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var yc=null;function $3(){}function G3(r,s,a){if(yc===null)throw Error(i(475));var l=yc;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Ao(a.href),p=r.querySelector(pc(d));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=Mh.bind(l),r.then(l,l)),s.state.loading|=4,s.instance=p,St(p);return}p=r.ownerDocument||r,a=p2(a),(d=Wn.get(d))&&Rp(a,d),p=p.createElement("link"),St(p);var b=p;b._p=new Promise(function(T,j){b.onload=T,b.onerror=j}),tn(p,"link",a),s.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Mh.bind(l),r.addEventListener("load",s),r.addEventListener("error",s))}}function Y3(){if(yc===null)throw Error(i(475));var r=yc;return r.stylesheets&&r.count===0&&Ip(r,r.stylesheets),0<r.count?function(s){var a=setTimeout(function(){if(r.stylesheets&&Ip(r,r.stylesheets),r.unsuspend){var l=r.unsuspend;r.unsuspend=null,l()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(a)}}:null}function Mh(){if(this.count--,this.count===0){if(this.stylesheets)Ip(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var kh=null;function Ip(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,kh=new Map,s.forEach(K3,r),kh=null,Mh.call(r))}function K3(r,s){if(!(s.state.loading&4)){var a=kh.get(r);if(a)var l=a.get(null);else{a=new Map,kh.set(r,a);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var b=d[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}d=s.instance,b=d.getAttribute("data-precedence"),p=a.get(b)||l,p===l&&a.set(null,d),a.set(b,d),this.count++,l=Mh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),p?p.parentNode.insertBefore(d,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var vc={$$typeof:ee,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Q3(r,s,a,l,d,p,b,T){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.hiddenUpdates=Yr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function _2(r,s,a,l,d,p,b,T,j,G,ne,ie){return r=new Q3(r,s,a,b,T,j,G,ie),s=1,p===!0&&(s|=24),p=Cn(3,null,null,s),r.current=p,p.stateNode=r,s=hm(),s.refCount++,r.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},pm(p),r}function b2(r){return r?(r=ro,r):ro}function w2(r,s,a,l,d,p){d=b2(d),l.context===null?l.context=d:l.pendingContext=d,l=Hs(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=qs(r,l,s),a!==null&&(kn(a,r,s),Kl(a,r,s))}function E2(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Dp(r,s){E2(r,s),(r=r.alternate)&&E2(r,s)}function T2(r){if(r.tag===13){var s=no(r,67108864);s!==null&&kn(s,r,67108864),Dp(r,67108864)}}var Oh=!0;function X3(r,s,a,l){var d=L.T;L.T=null;var p=W.p;try{W.p=2,jp(r,s,a,l)}finally{W.p=p,L.T=d}}function W3(r,s,a,l){var d=L.T;L.T=null;var p=W.p;try{W.p=8,jp(r,s,a,l)}finally{W.p=p,L.T=d}}function jp(r,s,a,l){if(Oh){var d=Mp(l);if(d===null)xp(r,s,l,Ph,a),A2(r,l);else if(J3(d,r,s,a,l))l.stopPropagation();else if(A2(r,l),s&4&&-1<Z3.indexOf(r)){for(;d!==null;){var p=gr(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=nr(p.pendingLanes);if(b!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var j=1<<31-on(b);T.entanglements[1]|=j,b&=~j}Ir(p),(Je&6)===0&&(xh=Un()+500,hc(0))}}break;case 13:T=no(p,2),T!==null&&kn(T,p,2),bh(),Dp(p,2)}if(p=Mp(l),p===null&&xp(r,s,l,Ph,a),p===d)break;d=p}d!==null&&l.stopPropagation()}else xp(r,s,l,null,a)}}function Mp(r){return r=Fn(r),kp(r)}var Ph=null;function kp(r){if(Ph=null,r=Qr(r),r!==null){var s=c(r);if(s===null)r=null;else{var a=s.tag;if(a===13){if(r=h(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Ph=r,null}function S2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vf()){case gl:return 2;case Oa:return 8;case Oi:case Lf:return 32;case Pa:return 268435456;default:return 32}default:return 32}}var Op=!1,ri=null,si=null,ii=null,xc=new Map,_c=new Map,ai=[],Z3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A2(r,s){switch(r){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":xc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(s.pointerId)}}function bc(r,s,a,l,d,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[d]},s!==null&&(s=gr(s),s!==null&&T2(s)),r):(r.eventSystemFlags|=l,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function J3(r,s,a,l,d){switch(s){case"focusin":return ri=bc(ri,r,s,a,l,d),!0;case"dragenter":return si=bc(si,r,s,a,l,d),!0;case"mouseover":return ii=bc(ii,r,s,a,l,d),!0;case"pointerover":var p=d.pointerId;return xc.set(p,bc(xc.get(p)||null,r,s,a,l,d)),!0;case"gotpointercapture":return p=d.pointerId,_c.set(p,bc(_c.get(p)||null,r,s,a,l,d)),!0}return!1}function N2(r){var s=Qr(r.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){r.blockedOn=s,bu(r.priority,function(){if(a.tag===13){var l=Mn();l=ks(l);var d=no(a,l);d!==null&&kn(d,a,l),Dp(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Vh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Mp(r.nativeEvent);if(a===null){a=r.nativeEvent;var l=new a.constructor(a.type,a);Jr=l,a.target.dispatchEvent(l),Jr=null}else return s=gr(a),s!==null&&T2(s),r.blockedOn=a,!1;s.shift()}return!0}function R2(r,s,a){Vh(r)&&a.delete(s)}function eE(){Op=!1,ri!==null&&Vh(ri)&&(ri=null),si!==null&&Vh(si)&&(si=null),ii!==null&&Vh(ii)&&(ii=null),xc.forEach(R2),_c.forEach(R2)}function Lh(r,s){r.blockedOn===s&&(r.blockedOn=null,Op||(Op=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,eE)))}var Uh=null;function C2(r){Uh!==r&&(Uh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Uh===r&&(Uh=null);for(var s=0;s<r.length;s+=3){var a=r[s],l=r[s+1],d=r[s+2];if(typeof l!="function"){if(kp(l||a)===null)continue;break}var p=gr(a);p!==null&&(r.splice(s,3),s-=3,km(p,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function wc(r){function s(j){return Lh(j,r)}ri!==null&&Lh(ri,r),si!==null&&Lh(si,r),ii!==null&&Lh(ii,r),xc.forEach(s),_c.forEach(s);for(var a=0;a<ai.length;a++){var l=ai[a];l.blockedOn===r&&(l.blockedOn=null)}for(;0<ai.length&&(a=ai[0],a.blockedOn===null);)N2(a),a.blockedOn===null&&ai.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],p=a[l+1],b=d[Ct]||null;if(typeof p=="function")b||C2(a);else if(b){var T=null;if(p&&p.hasAttribute("formAction")){if(d=p,b=p[Ct]||null)T=b.formAction;else if(kp(d)!==null)continue}else T=b.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),C2(a)}}}function Pp(r){this._internalRoot=r}zh.prototype.render=Pp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Mn();w2(a,l,r,s,null,null)},zh.prototype.unmount=Pp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;w2(r.current,2,null,r,null,null),bh(),s[zn]=null}};function zh(r){this._internalRoot=r}zh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Os();r={blockedOn:null,target:r,priority:s};for(var a=0;a<ai.length&&s!==0&&s<ai[a].priority;a++);ai.splice(a,0,r),a===0&&N2(r)}};var I2=e.version;if(I2!=="19.1.0")throw Error(i(527,I2,"19.1.0"));W.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var tE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{bt=Bh.inject(tE),Ze=Bh}catch{}}return Tc.createRoot=function(r,s){if(!o(r))throw Error(i(299));var a=!1,l="",d=Gy,p=Yy,b=Ky,T=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(T=s.unstable_transitionCallbacks)),s=_2(r,1,!1,null,null,a,l,d,p,b,T,null),r[zn]=s.current,vp(r),new Pp(s)},Tc.hydrateRoot=function(r,s,a){if(!o(r))throw Error(i(299));var l=!1,d="",p=Gy,b=Yy,T=Ky,j=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),s=_2(r,1,!0,s,a??null,l,d,p,b,T,j,G),s.context=b2(null),a=s.current,l=Mn(),l=ks(l),d=Hs(l),d.callback=null,qs(a,d,l),a=l,s.current.lanes=a,Kr(s,a),Ir(s),r[zn]=s.current,vp(r),new zh(s)},Tc.version="19.1.0",Tc}var z2;function hE(){if(z2)return Up.exports;z2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Up.exports=uE(),Up.exports}var dE=hE();const fE=Wg(dE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pE=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),B2=n=>{const e=pE(n);return e.charAt(0).toUpperCase()+e.slice(1)},W_=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),gE=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:h,...m},g)=>U.createElement("svg",{ref:g,...yE,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:W_("lucide",o),...!c&&!gE(m)&&{"aria-hidden":"true"},...m},[...h.map(([y,x])=>U.createElement(y,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=(n,e)=>{const t=U.forwardRef(({className:i,...o},c)=>U.createElement(vE,{ref:c,iconNode:e,className:W_(`lucide-${mE(B2(n))}`,`lucide-${n}`,i),...o}));return t.displayName=B2(n),t};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_E=Ds("arrow-right",xE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],wE=Ds("award",bE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],TE=Ds("book-open",EE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dg=Ds("eye-off",SE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fg=Ds("eye",AE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],RE=Ds("globe",NE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],IE=Ds("lock",CE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],jE=Ds("mail",DE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kE=Ds("users",ME),Z_="/CollabriaNexus/assets/LoginImg-CE3dO27n.png";/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var F2="popstate";function OE(n={}){function e(i,o){let{pathname:c,search:h,hash:m}=i.location;return mg("",{pathname:c,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:zc(o)}return VE(e,t,null,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PE(){return Math.random().toString(36).substring(2,10)}function H2(n,e){return{usr:n.state,key:n.key,idx:e}}function mg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?nl(e):e,state:t,key:e&&e.key||i||PE()}}function zc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function nl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function VE(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,h=o.history,m="POP",g=null,y=x();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function x(){return(h.state||{idx:null}).idx}function w(){m="POP";let B=x(),H=B==null?null:B-y;y=B,g&&g({action:m,location:P.location,delta:H})}function E(B,H){m="PUSH";let Z=mg(P.location,B,H);y=x()+1;let ee=H2(Z,y),ue=P.createHref(Z);try{h.pushState(ee,"",ue)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;o.location.assign(ue)}c&&g&&g({action:m,location:P.location,delta:1})}function k(B,H){m="REPLACE";let Z=mg(P.location,B,H);y=x();let ee=H2(Z,y),ue=P.createHref(Z);h.replaceState(ee,"",ue),c&&g&&g({action:m,location:P.location,delta:0})}function O(B){return LE(B)}let P={get action(){return m},get location(){return n(o,h)},listen(B){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(F2,w),g=B,()=>{o.removeEventListener(F2,w),g=null}},createHref(B){return e(o,B)},createURL:O,encodeLocation(B){let H=O(B);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:k,go(B){return h.go(B)}};return P}function LE(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:zc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function J_(n,e,t="/"){return UE(n,e,t,!1)}function UE(n,e,t,i){let o=typeof e=="string"?nl(e):e,c=Ts(o.pathname||"/",t);if(c==null)return null;let h=eb(n);zE(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let y=WE(c);m=QE(h[g],y,i)}return m}function eb(n,e=[],t=[],i=""){let o=(c,h,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};g.relativePath.startsWith("/")&&(mt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let y=bs([i,g.relativePath]),x=t.concat(g);c.children&&c.children.length>0&&(mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),eb(c.children,e,x,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:YE(y,c.index),routesMeta:x})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let m of tb(c.path))o(c,h,m)}),e}function tb(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let h=tb(i.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...h),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function zE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:KE(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var BE=/^:[\w-]+$/,FE=3,HE=2,qE=1,$E=10,GE=-2,q2=n=>n==="*";function YE(n,e){let t=n.split("/"),i=t.length;return t.some(q2)&&(i+=GE),e&&(i+=HE),t.filter(o=>!q2(o)).reduce((o,c)=>o+(BE.test(c)?FE:c===""?qE:$E),i)}function KE(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function QE(n,e,t=!1){let{routesMeta:i}=n,o={},c="/",h=[];for(let m=0;m<i.length;++m){let g=i[m],y=m===i.length-1,x=c==="/"?e:e.slice(c.length)||"/",w=Ed({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),E=g.route;if(!w&&y&&t&&!i[i.length-1].route.index&&(w=Ed({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:bs([c,w.pathname]),pathnameBase:tT(bs([c,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(c=bs([c,w.pathnameBase]))}return h}function Ed(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=XE(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((y,{paramName:x,isOptional:w},E)=>{if(x==="*"){let O=m[E]||"";h=c.slice(0,c.length-O.length).replace(/(.)\/+$/,"$1")}const k=m[E];return w&&!k?y[x]=void 0:y[x]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:n}}function XE(n,e=!1,t=!0){hr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function WE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ts(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function ZE(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?nl(n):n;return{pathname:t?t.startsWith("/")?t:JE(t,e):e,search:nT(i),hash:rT(o)}}function JE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Hp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Jg(n){let e=eT(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function e0(n,e,t,i=!1){let o;typeof n=="string"?o=nl(n):(o={...n},mt(!o.pathname||!o.pathname.includes("?"),Hp("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),Hp("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),Hp("#","search","hash",o)));let c=n===""||o.pathname==="",h=c?"/":o.pathname,m;if(h==null)m=t;else{let w=e.length-1;if(!i&&h.startsWith("..")){let E=h.split("/");for(;E[0]==="..";)E.shift(),w-=1;o.pathname=E.join("/")}m=w>=0?e[w]:"/"}let g=ZE(o,m),y=h&&h!=="/"&&h.endsWith("/"),x=(c||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var bs=n=>n.join("/").replace(/\/\/+/g,"/"),tT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),nT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,rT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var nb=["POST","PUT","PATCH","DELETE"];new Set(nb);var iT=["GET",...nb];new Set(iT);var rl=U.createContext(null);rl.displayName="DataRouter";var Jd=U.createContext(null);Jd.displayName="DataRouterState";U.createContext(!1);var rb=U.createContext({isTransitioning:!1});rb.displayName="ViewTransition";var aT=U.createContext(new Map);aT.displayName="Fetchers";var oT=U.createContext(null);oT.displayName="Await";var mr=U.createContext(null);mr.displayName="Navigation";var Jc=U.createContext(null);Jc.displayName="Location";var Hr=U.createContext({outlet:null,matches:[],isDataRoute:!1});Hr.displayName="Route";var t0=U.createContext(null);t0.displayName="RouteError";function lT(n,{relative:e}={}){mt(sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(mr),{hash:o,pathname:c,search:h}=eu(n,{relative:e}),m=c;return t!=="/"&&(m=c==="/"?t:bs([t,c])),i.createHref({pathname:m,search:h,hash:o})}function sl(){return U.useContext(Jc)!=null}function Ci(){return mt(sl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Jc).location}var sb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ib(n){U.useContext(mr).static||U.useLayoutEffect(n)}function Ra(){let{isDataRoute:n}=U.useContext(Hr);return n?bT():cT()}function cT(){mt(sl(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(rl),{basename:e,navigator:t}=U.useContext(mr),{matches:i}=U.useContext(Hr),{pathname:o}=Ci(),c=JSON.stringify(Jg(i)),h=U.useRef(!1);return ib(()=>{h.current=!0}),U.useCallback((g,y={})=>{if(hr(h.current,sb),!h.current)return;if(typeof g=="number"){t.go(g);return}let x=e0(g,JSON.parse(c),o,y.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:bs([e,x.pathname])),(y.replace?t.replace:t.push)(x,y.state,y)},[e,t,c,o,n])}U.createContext(null);function eu(n,{relative:e}={}){let{matches:t}=U.useContext(Hr),{pathname:i}=Ci(),o=JSON.stringify(Jg(t));return U.useMemo(()=>e0(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function uT(n,e){return ab(n,e)}function ab(n,e,t,i){mt(sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext(mr),{matches:c}=U.useContext(Hr),h=c[c.length-1],m=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",x=h&&h.route;{let H=x&&x.path||"";ob(g,!x||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=Ci(),E;if(e){let H=typeof e=="string"?nl(e):e;mt(y==="/"||H.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),E=H}else E=w;let k=E.pathname||"/",O=k;if(y!=="/"){let H=y.replace(/^\//,"").split("/");O="/"+k.replace(/^\//,"").split("/").slice(H.length).join("/")}let P=J_(n,{pathname:O});hr(x||P!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),hr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=pT(P&&P.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:bs([y,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:bs([y,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),c,t,i);return e&&B?U.createElement(Jc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},B):B}function hT(){let n=_T(),e=sT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:c},"ErrorBoundary")," or"," ",U.createElement("code",{style:c},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,h)}var dT=U.createElement(hT,null),fT=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(Hr.Provider,{value:this.props.routeContext},U.createElement(t0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mT({routeContext:n,match:e,children:t}){let i=U.useContext(rl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Hr.Provider,{value:n},t)}function pT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t?.errors;if(c!=null){let g=o.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);mt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,m=-1;if(t)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:x,errors:w}=t,E=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||E){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,x)=>{let w,E=!1,k=null,O=null;t&&(w=c&&y.route.id?c[y.route.id]:void 0,k=y.route.errorElement||dT,h&&(m<0&&x===0?(ob("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,O=null):m===x&&(E=!0,O=y.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,x+1)),B=()=>{let H;return w?H=k:E?H=O:y.route.Component?H=U.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=g,U.createElement(mT,{match:y,routeContext:{outlet:g,matches:P,isDataRoute:t!=null},children:H})};return t&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?U.createElement(fT,{location:t.location,revalidation:t.revalidation,component:k,error:w,children:B(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):B()},null)}function n0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gT(n){let e=U.useContext(rl);return mt(e,n0(n)),e}function yT(n){let e=U.useContext(Jd);return mt(e,n0(n)),e}function vT(n){let e=U.useContext(Hr);return mt(e,n0(n)),e}function r0(n){let e=vT(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function xT(){return r0("useRouteId")}function _T(){let n=U.useContext(t0),e=yT("useRouteError"),t=r0("useRouteError");return n!==void 0?n:e.errors?.[t]}function bT(){let{router:n}=gT("useNavigate"),e=r0("useNavigate"),t=U.useRef(!1);return ib(()=>{t.current=!0}),U.useCallback(async(o,c={})=>{hr(t.current,sb),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var $2={};function ob(n,e,t){!e&&!$2[n]&&($2[n]=!0,hr(!1,t))}U.memo(wT);function wT({routes:n,future:e,state:t}){return ab(n,void 0,t,e)}function s0({to:n,replace:e,state:t,relative:i}){mt(sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(mr);hr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=U.useContext(Hr),{pathname:h}=Ci(),m=Ra(),g=e0(n,Jg(c),h,i==="path"),y=JSON.stringify(g);return U.useEffect(()=>{m(JSON.parse(y),{replace:e,state:t,relative:i})},[m,y,i,e,t]),null}function Zn(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ET({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:c=!1}){mt(!sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof t=="string"&&(t=nl(t));let{pathname:g="/",search:y="",hash:x="",state:w=null,key:E="default"}=t,k=U.useMemo(()=>{let O=Ts(g,h);return O==null?null:{location:{pathname:O,search:y,hash:x,state:w,key:E},navigationType:i}},[h,g,y,x,w,E,i]);return hr(k!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:U.createElement(mr.Provider,{value:m},U.createElement(Jc.Provider,{children:e,value:k}))}function TT({children:n,location:e}){return uT(pg(n),e)}function pg(n,e=[]){let t=[];return U.Children.forEach(n,(i,o)=>{if(!U.isValidElement(i))return;let c=[...e,o];if(i.type===U.Fragment){t.push.apply(t,pg(i.props.children,c));return}mt(i.type===Zn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=pg(i.props.children,c)),t.push(h)}),t}var nd="get",rd="application/x-www-form-urlencoded";function ef(n){return n!=null&&typeof n.tagName=="string"}function ST(n){return ef(n)&&n.tagName.toLowerCase()==="button"}function AT(n){return ef(n)&&n.tagName.toLowerCase()==="form"}function NT(n){return ef(n)&&n.tagName.toLowerCase()==="input"}function RT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function CT(n,e){return n.button===0&&(!e||e==="_self")&&!RT(n)}var Fh=null;function IT(){if(Fh===null)try{new FormData(document.createElement("form"),0),Fh=!1}catch{Fh=!0}return Fh}var DT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qp(n){return n!=null&&!DT.has(n)?(hr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rd}"`),null):n}function jT(n,e){let t,i,o,c,h;if(AT(n)){let m=n.getAttribute("action");i=m?Ts(m,e):null,t=n.getAttribute("method")||nd,o=qp(n.getAttribute("enctype"))||rd,c=new FormData(n)}else if(ST(n)||NT(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(i=g?Ts(g,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||nd,o=qp(n.getAttribute("formenctype"))||qp(m.getAttribute("enctype"))||rd,c=new FormData(m,n),!IT()){let{name:y,type:x,value:w}=n;if(x==="image"){let E=y?`${y}.`:"";c.append(`${E}x`,"0"),c.append(`${E}y`,"0")}else y&&c.append(y,w)}}else{if(ef(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=nd,i=null,o=rd,h=n}return c&&o==="text/plain"&&(h=c,c=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function i0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function MT(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Ts(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function kT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function PT(n,e,t){let i=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await kT(c,t);return h.links?h.links():[]}return[]}));return zT(i.flat(1).filter(OT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function G2(n,e,t,i,o,c){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,m=(g,y)=>t[y].pathname!==g.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>h(g,y)||m(g,y)):c==="data"?e.filter((g,y)=>{let x=i.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function VT(n,e,{includeHydrateFallback:t}={}){return LT(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function LT(n){return[...new Set(n)]}function UT(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function zT(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let c=JSON.stringify(UT(o));return t.has(c)||(t.add(c),i.push({key:c,link:o})),i},[])}function lb(){let n=U.useContext(rl);return i0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function BT(){let n=U.useContext(Jd);return i0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var a0=U.createContext(void 0);a0.displayName="FrameworkContext";function cb(){let n=U.useContext(a0);return i0(n,"You must render this element inside a <HydratedRouter> element"),n}function FT(n,e){let t=U.useContext(a0),[i,o]=U.useState(!1),[c,h]=U.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:w}=e,E=U.useRef(null);U.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let P=H=>{H.forEach(Z=>{h(Z.isIntersecting)})},B=new IntersectionObserver(P,{threshold:.5});return E.current&&B.observe(E.current),()=>{B.disconnect()}}},[n]),U.useEffect(()=>{if(i){let P=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(P)}}},[i]);let k=()=>{o(!0)},O=()=>{o(!1),h(!1)};return t?n!=="intent"?[c,E,{}]:[c,E,{onFocus:Sc(m,k),onBlur:Sc(g,O),onMouseEnter:Sc(y,k),onMouseLeave:Sc(x,O),onTouchStart:Sc(w,k)}]:[!1,E,{}]}function Sc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function HT({page:n,...e}){let{router:t}=lb(),i=U.useMemo(()=>J_(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?U.createElement($T,{page:n,matches:i,...e}):null}function qT(n){let{manifest:e,routeModules:t}=cb(),[i,o]=U.useState([]);return U.useEffect(()=>{let c=!1;return PT(n,e,t).then(h=>{c||o(h)}),()=>{c=!0}},[n,e,t]),i}function $T({page:n,matches:e,...t}){let i=Ci(),{manifest:o,routeModules:c}=cb(),{basename:h}=lb(),{loaderData:m,matches:g}=BT(),y=U.useMemo(()=>G2(n,e,g,o,i,"data"),[n,e,g,o,i]),x=U.useMemo(()=>G2(n,e,g,o,i,"assets"),[n,e,g,o,i]),w=U.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let O=new Set,P=!1;if(e.forEach(H=>{let Z=o.routes[H.route.id];!Z||!Z.hasLoader||(!y.some(ee=>ee.route.id===H.route.id)&&H.route.id in m&&c[H.route.id]?.shouldRevalidate||Z.hasClientLoader?P=!0:O.add(H.route.id))}),O.size===0)return[];let B=MT(n,h,"data");return P&&O.size>0&&B.searchParams.set("_routes",e.filter(H=>O.has(H.route.id)).map(H=>H.route.id).join(",")),[B.pathname+B.search]},[h,m,i,o,y,e,n,c]),E=U.useMemo(()=>VT(x,o),[x,o]),k=qT(x);return U.createElement(U.Fragment,null,w.map(O=>U.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),E.map(O=>U.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),k.map(({key:O,link:P})=>U.createElement("link",{key:O,...P})))}function GT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ub=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ub&&(window.__reactRouterVersion="7.7.1")}catch{}function YT({basename:n,children:e,window:t}){let i=U.useRef();i.current==null&&(i.current=OE({window:t,v5Compat:!0}));let o=i.current,[c,h]=U.useState({action:o.action,location:o.location}),m=U.useCallback(g=>{U.startTransition(()=>h(g))},[h]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(ET,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o})}var hb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mr=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:c,replace:h,state:m,target:g,to:y,preventScrollReset:x,viewTransition:w,...E},k){let{basename:O}=U.useContext(mr),P=typeof y=="string"&&hb.test(y),B,H=!1;if(typeof y=="string"&&P&&(B=y,ub))try{let N=new URL(window.location.href),R=y.startsWith("//")?new URL(N.protocol+y):new URL(y),D=Ts(R.pathname,O);R.origin===N.origin&&D!=null?y=D+R.search+R.hash:H=!0}catch{hr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=lT(y,{relative:o}),[ee,ue,J]=FT(i,E),ce=WT(y,{replace:h,state:m,target:g,preventScrollReset:x,relative:o,viewTransition:w});function C(N){e&&e(N),N.defaultPrevented||ce(N)}let A=U.createElement("a",{...E,...J,href:B||Z,onClick:H||c?e:C,ref:GT(k,ue),target:g,"data-discover":!P&&t==="render"?"true":void 0});return ee&&!P?U.createElement(U.Fragment,null,A,U.createElement(HT,{page:Z})):A});Mr.displayName="Link";var KT=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:c,to:h,viewTransition:m,children:g,...y},x){let w=eu(h,{relative:y.relative}),E=Ci(),k=U.useContext(Jd),{navigator:O,basename:P}=U.useContext(mr),B=k!=null&&n5(w)&&m===!0,H=O.encodeLocation?O.encodeLocation(w).pathname:w.pathname,Z=E.pathname,ee=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),ee=ee?ee.toLowerCase():null,H=H.toLowerCase()),ee&&P&&(ee=Ts(ee,P)||ee);const ue=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let J=Z===H||!o&&Z.startsWith(H)&&Z.charAt(ue)==="/",ce=ee!=null&&(ee===H||!o&&ee.startsWith(H)&&ee.charAt(H.length)==="/"),C={isActive:J,isPending:ce,isTransitioning:B},A=J?e:void 0,N;typeof i=="function"?N=i(C):N=[i,J?"active":null,ce?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let R=typeof c=="function"?c(C):c;return U.createElement(Mr,{...y,"aria-current":A,className:N,ref:x,style:R,to:h,viewTransition:m},typeof g=="function"?g(C):g)});KT.displayName="NavLink";var QT=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:c,method:h=nd,action:m,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:w,...E},k)=>{let O=e5(),P=t5(m,{relative:y}),B=h.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&hb.test(m),Z=ee=>{if(g&&g(ee),ee.defaultPrevented)return;ee.preventDefault();let ue=ee.nativeEvent.submitter,J=ue?.getAttribute("formmethod")||h;O(ue||ee.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:o,state:c,relative:y,preventScrollReset:x,viewTransition:w})};return U.createElement("form",{ref:k,method:B,action:P,onSubmit:i?g:Z,...E,"data-discover":!H&&n==="render"?"true":void 0})});QT.displayName="Form";function XT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function db(n){let e=U.useContext(rl);return mt(e,XT(n)),e}function WT(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:c,viewTransition:h}={}){let m=Ra(),g=Ci(),y=eu(n,{relative:c});return U.useCallback(x=>{if(CT(x,e)){x.preventDefault();let w=t!==void 0?t:zc(g)===zc(y);m(n,{replace:w,state:i,preventScrollReset:o,relative:c,viewTransition:h})}},[g,m,y,t,i,e,n,o,c,h])}var ZT=0,JT=()=>`__${String(++ZT)}__`;function e5(){let{router:n}=db("useSubmit"),{basename:e}=U.useContext(mr),t=xT();return U.useCallback(async(i,o={})=>{let{action:c,method:h,encType:m,formData:g,body:y}=jT(i,e);if(o.navigate===!1){let x=o.fetcherKey||JT();await n.fetch(x,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await n.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function t5(n,{relative:e}={}){let{basename:t}=U.useContext(mr),i=U.useContext(Hr);mt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...eu(n||".",{relative:e})},h=Ci();if(n==null){c.search=h.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let x=m.toString();c.search=x?`?${x}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:bs([t,c.pathname])),zc(c)}function n5(n,{relative:e}={}){let t=U.useContext(rb);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=db("useViewTransitionState"),o=eu(n,{relative:e});if(!t.isTransitioning)return!1;let c=Ts(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Ts(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Ed(o.pathname,h)!=null||Ed(o.pathname,c)!=null}const r5=()=>{};var Y2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},s5=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],h=n[t++],m=n[t++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},mb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const c=n[o],h=o+1<n.length,m=h?n[o+1]:0,g=o+2<n.length,y=g?n[o+2]:0,x=c>>2,w=(c&3)<<4|m>>4;let E=(m&15)<<2|y>>6,k=y&63;g||(k=64,h||(E=64)),i.push(t[x],t[w],t[E],t[k])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):s5(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],m=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||m==null||y==null||w==null)throw new i5;const E=c<<2|m>>4;if(i.push(E),y!==64){const k=m<<4&240|y>>2;if(i.push(k),w!==64){const O=y<<6&192|w;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class i5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a5=function(n){const e=fb(n);return mb.encodeByteArray(e,!0)},Td=function(n){return a5(n).replace(/\./g,"")},pb=function(n){try{return mb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=()=>o5().__FIREBASE_DEFAULTS__,c5=()=>{if(typeof process>"u"||typeof Y2>"u")return;const n=Y2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},u5=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&pb(n[1]);return e&&JSON.parse(e)},tf=()=>{try{return r5()||l5()||c5()||u5()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gb=n=>tf()?.emulatorHosts?.[n],yb=n=>{const e=gb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},vb=()=>tf()?.config,xb=n=>tf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o0(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Td(JSON.stringify(t)),Td(JSON.stringify(h)),""].join(".")}const Mc={};function d5(){const n={prod:[],emulator:[]};for(const e of Object.keys(Mc))Mc[e]?n.emulator.push(e):n.prod.push(e);return n}function f5(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let K2=!1;function l0(n,e){if(typeof window>"u"||typeof document>"u"||!Ca(window.location.host)||Mc[n]===e||Mc[n]||K2)return;Mc[n]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",c=d5().prod.length>0;function h(){const E=document.getElementById(i);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function g(E,k){E.setAttribute("width","24"),E.setAttribute("id",k),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function y(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{K2=!0,h()},E}function x(E,k){E.setAttribute("id",k),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=f5(i),k=t("text"),O=document.getElementById(k)||document.createElement("span"),P=t("learnmore"),B=document.getElementById(P)||document.createElement("a"),H=t("preprendIcon"),Z=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const ee=E.element;m(ee),x(B,P);const ue=y();g(Z,H),ee.append(Z,O,B,ue),document.body.appendChild(ee)}c?(O.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function p5(){const n=tf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y5(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function v5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x5(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _5(){return!p5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b5(){try{return typeof indexedDB=="object"}catch{return!1}}function w5(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="FirebaseError";class qr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=E5,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?T5(c,i):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new qr(o,m,i)}}function T5(n,e){return n.replace(S5,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const S5=/\{\$([^}]+)}/g;function A5(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _i(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const c=n[o],h=e[o];if(Q2(c)&&Q2(h)){if(!_i(c,h))return!1}else if(c!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Q2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ac(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Nc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function N5(n,e){const t=new R5(n,e);return t.subscribe.bind(t)}class R5{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");C5(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=$p),o.error===void 0&&(o.error=$p),o.complete===void 0&&(o.complete=$p);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C5(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function $p(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(n){return n&&n._delegate?n._delegate:n}class bi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new h5;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j5(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);i===m&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:D5(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D5(n){return n===pa?void 0:n}function j5(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new I5(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const k5={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},O5=Le.INFO,P5={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},V5=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=P5[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c0{constructor(e){this.name=e,this._logLevel=O5,this._logHandler=V5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const L5=(n,e)=>e.some(t=>n instanceof t);let X2,W2;function U5(){return X2||(X2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z5(){return W2||(W2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bb=new WeakMap,gg=new WeakMap,wb=new WeakMap,Gp=new WeakMap,u0=new WeakMap;function B5(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",h)},c=()=>{t(gi(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&bb.set(t,n)}).catch(()=>{}),u0.set(e,n),e}function F5(n){if(gg.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",h),n.removeEventListener("abort",h)},c=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",h),n.addEventListener("abort",h)});gg.set(n,e)}let yg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return gg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||wb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function H5(n){yg=n(yg)}function q5(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Yp(this),e,...t);return wb.set(i,e.sort?e.sort():[e]),gi(i)}:z5().includes(n)?function(...e){return n.apply(Yp(this),e),gi(bb.get(this))}:function(...e){return gi(n.apply(Yp(this),e))}}function $5(n){return typeof n=="function"?q5(n):(n instanceof IDBTransaction&&F5(n),L5(n,U5())?new Proxy(n,yg):n)}function gi(n){if(n instanceof IDBRequest)return B5(n);if(Gp.has(n))return Gp.get(n);const e=$5(n);return e!==n&&(Gp.set(n,e),u0.set(e,n)),e}const Yp=n=>u0.get(n);function G5(n,e,{blocked:t,upgrade:i,blocking:o,terminated:c}={}){const h=indexedDB.open(n,e),m=gi(h);return i&&h.addEventListener("upgradeneeded",g=>{i(gi(h.result),g.oldVersion,g.newVersion,gi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Y5=["get","getKey","getAll","getAllKeys","count"],K5=["put","add","delete","clear"],Kp=new Map;function Z2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Kp.get(e))return Kp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=K5.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Y5.includes(t)))return;const c=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&g.done]))[0]};return Kp.set(e,c),c}H5(n=>({...n,get:(e,t,i)=>Z2(e,t)||n.get(e,t,i),has:(e,t)=>!!Z2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(X5(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function X5(n){return n.getComponent()?.type==="VERSION"}const vg="@firebase/app",J2="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new c0("@firebase/app"),W5="@firebase/app-compat",Z5="@firebase/analytics-compat",J5="@firebase/analytics",eS="@firebase/app-check-compat",tS="@firebase/app-check",nS="@firebase/auth",rS="@firebase/auth-compat",sS="@firebase/database",iS="@firebase/data-connect",aS="@firebase/database-compat",oS="@firebase/functions",lS="@firebase/functions-compat",cS="@firebase/installations",uS="@firebase/installations-compat",hS="@firebase/messaging",dS="@firebase/messaging-compat",fS="@firebase/performance",mS="@firebase/performance-compat",pS="@firebase/remote-config",gS="@firebase/remote-config-compat",yS="@firebase/storage",vS="@firebase/storage-compat",xS="@firebase/firestore",_S="@firebase/ai",bS="@firebase/firestore-compat",wS="firebase",ES="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="[DEFAULT]",TS={[vg]:"fire-core",[W5]:"fire-core-compat",[J5]:"fire-analytics",[Z5]:"fire-analytics-compat",[tS]:"fire-app-check",[eS]:"fire-app-check-compat",[nS]:"fire-auth",[rS]:"fire-auth-compat",[sS]:"fire-rtdb",[iS]:"fire-data-connect",[aS]:"fire-rtdb-compat",[oS]:"fire-fn",[lS]:"fire-fn-compat",[cS]:"fire-iid",[uS]:"fire-iid-compat",[hS]:"fire-fcm",[dS]:"fire-fcm-compat",[fS]:"fire-perf",[mS]:"fire-perf-compat",[pS]:"fire-rc",[gS]:"fire-rc-compat",[yS]:"fire-gcs",[vS]:"fire-gcs-compat",[xS]:"fire-fst",[bS]:"fire-fst-compat",[_S]:"fire-vertex","fire-js":"fire-js",[wS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Map,SS=new Map,_g=new Map;function ex(n,e){try{n.container.addComponent(e)}catch(t){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wa(n){const e=n.name;if(_g.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;_g.set(e,n);for(const t of Sd.values())ex(t,n);for(const t of SS.values())ex(t,n);return!0}function nf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Pn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new tu("app","Firebase",AS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=ES;function Eb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:xg,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw yi.create("bad-app-name",{appName:String(o)});if(t||(t=vb()),!t)throw yi.create("no-options");const c=Sd.get(o);if(c){if(_i(t,c.options)&&_i(i,c.config))return c;throw yi.create("duplicate-app",{appName:o})}const h=new M5(o);for(const g of _g.values())h.addComponent(g);const m=new NS(t,i,h);return Sd.set(o,m),m}function h0(n=xg){const e=Sd.get(n);if(!e&&n===xg&&vb())return Eb();if(!e)throw yi.create("no-app",{appName:n});return e}function kr(n,e,t){let i=TS[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(h.join(" "));return}wa(new bi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebase-heartbeat-database",CS=1,Bc="firebase-heartbeat-store";let Qp=null;function Tb(){return Qp||(Qp=G5(RS,CS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bc)}catch(t){console.warn(t)}}}}).catch(n=>{throw yi.create("idb-open",{originalErrorMessage:n.message})})),Qp}async function IS(n){try{const t=(await Tb()).transaction(Bc),i=await t.objectStore(Bc).get(Sb(n));return await t.done,i}catch(e){if(e instanceof qr)Ss.warn(e.message);else{const t=yi.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(t.message)}}}async function tx(n,e){try{const i=(await Tb()).transaction(Bc,"readwrite");await i.objectStore(Bc).put(e,Sb(n)),await i.done}catch(t){if(t instanceof qr)Ss.warn(t.message);else{const i=yi.create("idb-set",{originalErrorMessage:t?.message});Ss.warn(i.message)}}}function Sb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=1024,jS=30;class MS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>jS){const o=PS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nx(),{heartbeatsToSend:t,unsentEntries:i}=kS(this._heartbeatsCache.heartbeats),o=Td(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ss.warn(e),""}}}function nx(){return new Date().toISOString().substring(0,10)}function kS(n,e=DS){const t=[];let i=n.slice();for(const o of n){const c=t.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),rx(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),rx(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class OS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b5()?w5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await IS(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rx(n){return Td(JSON.stringify({version:2,heartbeats:n})).length}function PS(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(n){wa(new bi("platform-logger",e=>new Q5(e),"PRIVATE")),wa(new bi("heartbeat",e=>new MS(e),"PRIVATE")),kr(vg,J2,n),kr(vg,J2,"esm2020"),kr("fire-js","")}VS("");function Ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LS=Ab,Nb=new tu("auth","Firebase",Ab());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=new c0("@firebase/auth");function US(n,...e){Ad.logLevel<=Le.WARN&&Ad.warn(`Auth (${Ia}): ${n}`,...e)}function sd(n,...e){Ad.logLevel<=Le.ERROR&&Ad.error(`Auth (${Ia}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n,...e){throw d0(n,...e)}function Or(n,...e){return d0(n,...e)}function Rb(n,e,t){const i={...LS(),[e]:t};return new tu("auth","Firebase",i).create(e,{appName:n.name})}function ws(n){return Rb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d0(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Nb.create(n,...e)}function Ae(n,e,...t){if(!n)throw d0(e,...t)}function xs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sd(e),new Error(e)}function As(n,e){n||xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(){return typeof self<"u"&&self.location?.href||""}function zS(){return sx()==="http:"||sx()==="https:"}function sx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zS()||y5()||"connection"in navigator)?navigator.onLine:!0}function FS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,t){this.shortDelay=e,this.longDelay=t,As(t>e,"Short delay should be less than long delay!"),this.isMobile=m5()||v5()}get(){return BS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(n,e){As(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$S=new ru(3e4,6e4);function Ii(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function js(n,e,t,i,o={}){return Ib(n,o,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const m=nu({key:n.config.apiKey,...h}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:g,...c};return g5()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Ca(n.emulatorConfig.host)&&(y.credentials="include"),Cb.fetch()(await Db(n,n.config.apiHost,t,m),y)})}async function Ib(n,e,t){n._canInitEmulator=!1;const i={...HS,...e};try{const o=new YS(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Hh(n,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hh(n,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Hh(n,"email-already-in-use",h);if(g==="USER_DISABLED")throw Hh(n,"user-disabled",h);const x=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Rb(n,x,y);dr(n,x)}}catch(o){if(o instanceof qr)throw o;dr(n,"network-request-failed",{message:String(o)})}}async function su(n,e,t,i,o={}){const c=await js(n,e,t,i,o);return"mfaPendingCredential"in c&&dr(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function Db(n,e,t,i){const o=`${e}${t}?${i}`,c=n,h=c.config.emulator?f0(n.config,o):`${n.config.apiScheme}://${o}`;return qS.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function GS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Or(this.auth,"network-request-failed")),$S.get())})}}function Hh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Or(n,e,i);return o.customData._tokenResponse=t,o}function ix(n){return n!==void 0&&n.enterprise!==void 0}class KS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return GS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QS(n,e){return js(n,"GET","/v2/recaptchaConfig",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(n,e){return js(n,"POST","/v1/accounts:delete",e)}async function Nd(n,e){return js(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WS(n,e=!1){const t=yt(n),i=await t.getIdToken(e),o=m0(i);Ae(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:i,authTime:kc(Xp(o.auth_time)),issuedAtTime:kc(Xp(o.iat)),expirationTime:kc(Xp(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Xp(n){return Number(n)*1e3}function m0(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const o=pb(t);return o?JSON.parse(o):(sd("Failed to decode base64 JWT payload"),null)}catch(o){return sd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ax(n){const e=m0(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof qr&&ZS(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function ZS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(n){const e=n.auth,t=await n.getIdToken(),i=await Bo(n,Nd(e,{idToken:t}));Ae(i?.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const c=o.providerUserInfo?.length?jb(o.providerUserInfo):[],h=tA(n.providerData,c),m=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!h?.length,y=m?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new wg(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,x)}async function eA(n){const e=yt(n);await Rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function jb(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(n,e){const t=await Ib(n,{},async()=>{const i=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,h=await Db(n,o,"/v1/token",`key=${c}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:i};return n.emulatorConfig&&Ca(n.emulatorConfig.host)&&(g.credentials="include"),Cb.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rA(n,e){return js(n,"POST","/v2/accounts:revokeToken",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ax(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=ax(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:c}=await nA(e,t);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:c}=t,h=new Po;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Ae(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ae(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class lr{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new JS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Bo(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return WS(this,e)}reload(){return eA(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Rd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await Bo(this,XS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,x=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:k,providerData:O,stsTokenManager:P}=t;Ae(w&&P,e,"internal-error");const B=Po.fromJSON(this.name,P);Ae(typeof w=="string",e,"internal-error"),li(i,e.name),li(o,e.name),Ae(typeof E=="boolean",e,"internal-error"),Ae(typeof k=="boolean",e,"internal-error"),li(c,e.name),li(h,e.name),li(m,e.name),li(g,e.name),li(y,e.name),li(x,e.name);const H=new lr({uid:w,auth:e,email:o,emailVerified:E,displayName:i,isAnonymous:k,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:B,createdAt:y,lastLoginAt:x});return O&&Array.isArray(O)&&(H.providerData=O.map(Z=>({...Z}))),g&&(H._redirectEventId=g),H}static async _fromIdTokenResponse(e,t,i=!1){const o=new Po;o.updateFromServerResponse(t);const c=new lr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Rd(c),c}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?jb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,m=new Po;m.updateFromIdToken(i);const g=new lr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new wg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=new Map;function _s(n){As(n instanceof Function,"Expected a class definition");let e=ox.get(n);return e?(As(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ox.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Mb.type="NONE";const lx=Mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(n,e,t){return`firebase:${n}:${e}:${t}`}class Vo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=id(this.userKey,o.apiKey,c),this.fullPersistenceKey=id("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Nd(this.auth,{idToken:e}).catch(()=>{});return t?lr._fromGetAccountInfoResponse(this.auth,t,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Vo(_s(lx),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||_s(lx);const h=id(i,e.config.apiKey,e.name);let m=null;for(const y of t)try{const x=await y._get(h);if(x){let w;if(typeof x=="string"){const E=await Nd(e,{idToken:x}).catch(()=>{});if(!E)break;w=await lr._fromGetAccountInfoResponse(e,E,x)}else w=lr._fromJSON(e,x);y!==c&&(m=w),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Vo(c,e,i):(c=g[0],m&&await c._set(h,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new Vo(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ub(e))return"Blackberry";if(zb(e))return"Webos";if(Ob(e))return"Safari";if((e.includes("chrome/")||Pb(e))&&!e.includes("edge/"))return"Chrome";if(Lb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function kb(n=fn()){return/firefox\//i.test(n)}function Ob(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pb(n=fn()){return/crios\//i.test(n)}function Vb(n=fn()){return/iemobile/i.test(n)}function Lb(n=fn()){return/android/i.test(n)}function Ub(n=fn()){return/blackberry/i.test(n)}function zb(n=fn()){return/webos/i.test(n)}function p0(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sA(n=fn()){return p0(n)&&!!window.navigator?.standalone}function iA(){return x5()&&document.documentMode===10}function Bb(n=fn()){return p0(n)||Lb(n)||zb(n)||Ub(n)||/windows phone/i.test(n)||Vb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(n,e=[]){let t;switch(n){case"Browser":t=cx(fn());break;case"Worker":t=`${cx(fn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ia}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((h,m)=>{try{const g=e(c);h(g)}catch(g){m(g)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(n,e={}){return js(n,"GET","/v2/passwordPolicy",Ii(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=6;class cA{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??lA,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ux(this),this.idTokenSubscription=new ux(this),this.beforeStateQueue=new aA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_s(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Nd(this,{idToken:e}),i=await lr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=i?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&m?.user&&(i=m.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(ws(this));const t=e?yt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oA(this),t=new cA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await rA(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_s(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[_s(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&US(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Da(n){return yt(n)}class ux{constructor(e){this.auth=e,this.observer=null,this.addObserver=N5(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hA(n){rf=n}function Hb(n){return rf.loadJS(n)}function dA(){return rf.recaptchaEnterpriseScript}function fA(){return rf.gapiScript}function mA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class pA{constructor(){this.enterprise=new gA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const yA="recaptcha-enterprise",qb="NO_RECAPTCHA";class vA{constructor(e){this.type=yA,this.auth=Da(e)}async verify(e="verify",t=!1){async function i(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{QS(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new KS(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{m(g)})})}function o(c,h,m){const g=window.grecaptcha;ix(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(qb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pA().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{i(this.auth).then(m=>{if(!t&&ix(window.grecaptcha))o(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=dA();g.length!==0&&(g+=m),Hb(g).then(()=>{o(m,c,h)}).catch(y=>{h(y)})}}).catch(m=>{h(m)})})}}async function hx(n,e,t,i=!1,o=!1){const c=new vA(n);let h;if(o)h=qb;else try{h=await c.verify(t)}catch{h=await c.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Eg(n,e,t,i,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await hx(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await hx(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(n,e){const t=nf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(_i(c,e??{}))return o;dr(o,"already-initialized")}return t.initialize({options:e})}function _A(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(_s);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function bA(n,e,t){const i=Da(n);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=$b(e),{host:h,port:m}=wA(e),g=m===null?"":`:${m}`,y={url:`${c}//${h}${g}/`},x=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(_i(y,i.config.emulator)&&_i(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,Ca(h)?(o0(`${c}//${h}${g}`),l0("Auth",!0)):EA()}function $b(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wA(n){const e=$b(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:dx(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:dx(h)}}}function dx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function EA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,t){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}async function TA(n,e){return js(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(n,e){return su(n,"POST","/v1/accounts:signInWithPassword",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(n,e){return su(n,"POST","/v1/accounts:signInWithEmailLink",Ii(n,e))}async function NA(n,e){return su(n,"POST","/v1/accounts:signInWithEmailLink",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends g0{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Fc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Fc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eg(e,t,"signInWithPassword",SA);case"emailLink":return AA(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eg(e,i,"signUpPassword",TA);case"emailLink":return NA(e,{idToken:t,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(n,e){return su(n,"POST","/v1/accounts:signInWithIdp",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="http://localhost";class Ea extends g0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...c}=t;if(!i||!o)return null;const h=new Ea(i,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Lo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Lo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lo(e,t)}buildRequest(){const e={requestUri:RA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IA(n){const e=Ac(Nc(n)).link,t=e?Ac(Nc(e)).deep_link_id:null,i=Ac(Nc(n)).deep_link_id;return(i?Ac(Nc(i)).link:null)||i||t||e||n}class y0{constructor(e){const t=Ac(Nc(e)),i=t.apiKey??null,o=t.oobCode??null,c=CA(t.mode??null);Ae(i&&o&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=IA(e);try{return new y0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.providerId=il.PROVIDER_ID}static credential(e,t){return Fc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=y0.parseLink(t);return Ae(i,"argument-error"),Fc._fromEmailAndCode(e,i.code,i.tenantId)}}il.PROVIDER_ID="password";il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Gb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends iu{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ea._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return di.credential(t,i)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends iu{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends iu{constructor(){super("twitter.com")}static credential(e,t){return Ea._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return mi.credential(t,i)}catch{return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(n,e){return su(n,"POST","/v1/accounts:signUp",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const c=await lr._fromIdTokenResponse(e,i,o),h=fx(i);return new Ta({user:c,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=fx(i);return new Ta({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function fx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends qr{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Cd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Cd(e,t,i,o)}}function Yb(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Cd._fromErrorAndOperation(n,c,e,i):c})}async function jA(n,e,t=!1){const i=await Bo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ta._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(n,e,t=!1){const{auth:i}=n;if(Pn(i.app))return Promise.reject(ws(i));const o="reauthenticate";try{const c=await Bo(n,Yb(i,o,e,n),t);Ae(c.idToken,i,"internal-error");const h=m0(c.idToken);Ae(h,i,"internal-error");const{sub:m}=h;return Ae(n.uid===m,i,"user-mismatch"),Ta._forOperation(n,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&dr(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(n,e,t=!1){if(Pn(n.app))return Promise.reject(ws(n));const i="signIn",o=await Yb(n,i,e),c=await Ta._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(c.user),c}async function kA(n,e){return Kb(Da(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(n){const e=Da(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OA(n,e,t){if(Pn(n.app))return Promise.reject(ws(n));const i=Da(n),h=await Eg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DA).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Qb(n),g}),m=await Ta._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(m.user),m}function PA(n,e,t){return Pn(n.app)?Promise.reject(ws(n)):kA(yt(n),il.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Qb(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(n,e){return js(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=yt(n),c={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Bo(i,VA(i.auth,c));i.displayName=h.displayName||null,i.photoURL=h.photoUrl||null;const m=i.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=i.displayName,m.photoURL=i.photoURL),await i._updateTokensIfNecessary(h)}function UA(n,e,t,i){return yt(n).onIdTokenChanged(e,t,i)}function zA(n,e,t){return yt(n).beforeAuthStateChanged(e,t)}function BA(n,e,t,i){return yt(n).onAuthStateChanged(e,t,i)}function FA(n){return yt(n).signOut()}const Id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Id,"1"),this.storage.removeItem(Id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=1e3,qA=10;class Wb extends Xb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);iA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qA):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},HA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Wb.type="LOCAL";const $A=Wb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb extends Xb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Zb.type="SESSION";const Jb=Zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new sf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:c}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const m=Array.from(h).map(async y=>y(t.origin,c)),g=await GA(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((m,g)=>{const y=v0("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(w){const E=w;if(E.data.eventId===y)switch(E.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(E.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function KA(n){Pr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function QA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XA(){return navigator?.serviceWorker?.controller||null}function WA(){return e4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="firebaseLocalStorageDb",ZA=1,Dd="firebaseLocalStorage",n4="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function af(n,e){return n.transaction([Dd],e?"readwrite":"readonly").objectStore(Dd)}function JA(){const n=indexedDB.deleteDatabase(t4);return new au(n).toPromise()}function Tg(){const n=indexedDB.open(t4,ZA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Dd,{keyPath:n4})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Dd)?e(i):(i.close(),await JA(),e(await Tg()))})})}async function mx(n,e,t){const i=af(n,!0).put({[n4]:e,value:t});return new au(i).toPromise()}async function eN(n,e){const t=af(n,!1).get(e),i=await new au(t).toPromise();return i===void 0?null:i.value}function px(n,e){const t=af(n,!0).delete(e);return new au(t).toPromise()}const tN=800,nN=3;class r4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>nN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(WA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QA(),!this.activeServiceWorker)return;this.sender=new YA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tg();return await mx(e,Id,"1"),await px(e,Id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>mx(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>eN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>px(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=af(o,!1).getAll();return new au(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r4.type="LOCAL";const rN=r4;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(n,e){return e?_s(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0 extends g0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Lo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iN(n){return Kb(n.auth,new x0(n),n.bypassAuthState)}function aN(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),MA(t,new x0(n),n.bypassAuthState)}async function oN(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),jA(t,new x0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,t,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iN;case"linkViaPopup":case"linkViaRedirect":return oN;case"reauthViaPopup":case"reauthViaRedirect":return aN;default:dr(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new ru(2e3,1e4);class Mo extends s4{constructor(e,t,i,o,c){super(e,t,o,c),this.provider=i,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=v0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lN.get())};e()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="pendingRedirect",ad=new Map;class uN extends s4{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ad.get(this.auth._key());if(!e){try{const i=await hN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ad.set(this.auth._key(),e)}return this.bypassAuthState||ad.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hN(n,e){const t=mN(e),i=fN(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function dN(n,e){ad.set(n._key(),e)}function fN(n){return _s(n._redirectPersistence)}function mN(n){return id(cN,n.config.apiKey,n.name)}async function pN(n,e,t=!1){if(Pn(n.app))return Promise.reject(ws(n));const i=Da(n),o=sN(i,e),h=await new uN(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=10*60*1e3;class yN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!i4(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Or(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gN&&this.cachedEventUids.clear(),this.cachedEventUids.has(gx(e))}saveEventToCache(e){this.cachedEventUids.add(gx(e)),this.lastProcessedEventTime=Date.now()}}function gx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function i4({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function vN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i4(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(n,e={}){return js(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bN=/^https?/;async function wN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await xN(n);for(const t of e)try{if(EN(t))return}catch{}dr(n,"unauthorized-domain")}function EN(n){const e=bg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!bN.test(t))return!1;if(_N.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new ru(3e4,6e4);function yx(){const n=Pr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function SN(n){return new Promise((e,t)=>{function i(){yx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yx(),t(Or(n,"network-request-failed"))},timeout:TN.get()})}if(Pr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pr().gapi?.load)i();else{const o=mA("iframefcb");return Pr()[o]=()=>{gapi.load?i():t(Or(n,"network-request-failed"))},Hb(`${fA()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw od=null,e})}let od=null;function AN(n){return od=od||SN(n),od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new ru(5e3,15e3),RN="__/auth/iframe",CN="emulator/auth/iframe",IN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jN(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?f0(e,CN):`https://${n.config.authDomain}/${RN}`,i={apiKey:e.apiKey,appName:n.name,v:Ia},o=DN.get(n.config.apiHost);o&&(i.eid=o);const c=n._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${nu(i).slice(1)}`}async function MN(n){const e=await AN(n),t=Pr().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:jN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IN,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const h=Or(n,"network-request-failed"),m=Pr().setTimeout(()=>{c(h)},NN.get());function g(){Pr().clearTimeout(m),o(i)}i.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ON=500,PN=600,VN="_blank",LN="http://localhost";class vx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UN(n,e,t,i=ON,o=PN){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const g={...kN,width:i.toString(),height:o.toString(),top:c,left:h},y=fn().toLowerCase();t&&(m=Pb(y)?VN:t),kb(y)&&(e=e||LN,g.scrollbars="yes");const x=Object.entries(g).reduce((E,[k,O])=>`${E}${k}=${O},`,"");if(sA(y)&&m!=="_self")return zN(e||"",m),new vx(null);const w=window.open(e||"",m,x);Ae(w,n,"popup-blocked");try{w.focus()}catch{}return new vx(w)}function zN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="__/auth/handler",FN="emulator/auth/handler",HN=encodeURIComponent("fac");async function xx(n,e,t,i,o,c){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ia,eventId:o};if(e instanceof Gb){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",A5(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,w]of Object.entries({}))h[x]=w}if(e instanceof iu){const x=e.getScopes().filter(w=>w!=="");x.length>0&&(h.scopes=x.join(","))}n.tenantId&&(h.tid=n.tenantId);const m=h;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const g=await n._getAppCheckToken(),y=g?`#${HN}=${encodeURIComponent(g)}`:"";return`${qN(n)}?${nu(m).slice(1)}${y}`}function qN({config:n}){return n.emulator?f0(n,FN):`https://${n.authDomain}/${BN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="webStorageSupport";class $N{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jb,this._completeRedirectFn=pN,this._overrideRedirectResult=dN}async _openPopup(e,t,i,o){As(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await xx(e,t,i,bg(),o);return UN(e,c,v0())}async _openRedirect(e,t,i,o){await this._originValidation(e);const c=await xx(e,t,i,bg(),o);return KA(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(As(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await MN(e),i=new yN(e);return t.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wp,{type:Wp},o=>{const c=o?.[0]?.[Wp];c!==void 0&&t(!!c),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Bb()||Ob()||p0()}}const GN=$N;var _x="@firebase/auth",bx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QN(n){wa(new bi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;Ae(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fb(n)},y=new uA(i,o,c,g);return _A(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),wa(new bi("auth-internal",e=>{const t=Da(e.getProvider("auth").getImmediate());return(i=>new YN(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(_x,bx,KN(n)),kr(_x,bx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=5*60,WN=xb("authIdTokenMaxAge")||XN;let wx=null;const ZN=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>WN)return;const o=t?.token;wx!==o&&(wx=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JN(n=h0()){const e=nf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xA(n,{popupRedirectResolver:GN,persistence:[rN,$A,Jb]}),i=xb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=ZN(c.toString());zA(t,h,()=>h(t.currentUser)),UA(t,m=>h(m))}}const o=gb("auth");return o&&bA(t,`http://${o}`),t}function e8(){return document.getElementsByTagName("head")?.[0]??document}hA({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const c=Or("internal-error");c.customData=o,t(c)},i.type="text/javascript",i.charset="UTF-8",e8().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QN("Browser");var t8="firebase",n8="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(t8,n8,"app");var Ex=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vi,a4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function N(){}N.prototype=A.prototype,C.D=A.prototype,C.prototype=new N,C.prototype.constructor=C,C.C=function(R,D,z){for(var M=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)M[ye-2]=arguments[ye];return A.prototype[D].apply(R,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,N){N||(N=0);var R=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)R[D]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(D=0;16>D;++D)R[D]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=C.g[0],N=C.g[1],D=C.g[2];var z=C.g[3],M=A+(z^N&(D^z))+R[0]+3614090360&4294967295;A=N+(M<<7&4294967295|M>>>25),M=z+(D^A&(N^D))+R[1]+3905402710&4294967295,z=A+(M<<12&4294967295|M>>>20),M=D+(N^z&(A^N))+R[2]+606105819&4294967295,D=z+(M<<17&4294967295|M>>>15),M=N+(A^D&(z^A))+R[3]+3250441966&4294967295,N=D+(M<<22&4294967295|M>>>10),M=A+(z^N&(D^z))+R[4]+4118548399&4294967295,A=N+(M<<7&4294967295|M>>>25),M=z+(D^A&(N^D))+R[5]+1200080426&4294967295,z=A+(M<<12&4294967295|M>>>20),M=D+(N^z&(A^N))+R[6]+2821735955&4294967295,D=z+(M<<17&4294967295|M>>>15),M=N+(A^D&(z^A))+R[7]+4249261313&4294967295,N=D+(M<<22&4294967295|M>>>10),M=A+(z^N&(D^z))+R[8]+1770035416&4294967295,A=N+(M<<7&4294967295|M>>>25),M=z+(D^A&(N^D))+R[9]+2336552879&4294967295,z=A+(M<<12&4294967295|M>>>20),M=D+(N^z&(A^N))+R[10]+4294925233&4294967295,D=z+(M<<17&4294967295|M>>>15),M=N+(A^D&(z^A))+R[11]+2304563134&4294967295,N=D+(M<<22&4294967295|M>>>10),M=A+(z^N&(D^z))+R[12]+1804603682&4294967295,A=N+(M<<7&4294967295|M>>>25),M=z+(D^A&(N^D))+R[13]+4254626195&4294967295,z=A+(M<<12&4294967295|M>>>20),M=D+(N^z&(A^N))+R[14]+2792965006&4294967295,D=z+(M<<17&4294967295|M>>>15),M=N+(A^D&(z^A))+R[15]+1236535329&4294967295,N=D+(M<<22&4294967295|M>>>10),M=A+(D^z&(N^D))+R[1]+4129170786&4294967295,A=N+(M<<5&4294967295|M>>>27),M=z+(N^D&(A^N))+R[6]+3225465664&4294967295,z=A+(M<<9&4294967295|M>>>23),M=D+(A^N&(z^A))+R[11]+643717713&4294967295,D=z+(M<<14&4294967295|M>>>18),M=N+(z^A&(D^z))+R[0]+3921069994&4294967295,N=D+(M<<20&4294967295|M>>>12),M=A+(D^z&(N^D))+R[5]+3593408605&4294967295,A=N+(M<<5&4294967295|M>>>27),M=z+(N^D&(A^N))+R[10]+38016083&4294967295,z=A+(M<<9&4294967295|M>>>23),M=D+(A^N&(z^A))+R[15]+3634488961&4294967295,D=z+(M<<14&4294967295|M>>>18),M=N+(z^A&(D^z))+R[4]+3889429448&4294967295,N=D+(M<<20&4294967295|M>>>12),M=A+(D^z&(N^D))+R[9]+568446438&4294967295,A=N+(M<<5&4294967295|M>>>27),M=z+(N^D&(A^N))+R[14]+3275163606&4294967295,z=A+(M<<9&4294967295|M>>>23),M=D+(A^N&(z^A))+R[3]+4107603335&4294967295,D=z+(M<<14&4294967295|M>>>18),M=N+(z^A&(D^z))+R[8]+1163531501&4294967295,N=D+(M<<20&4294967295|M>>>12),M=A+(D^z&(N^D))+R[13]+2850285829&4294967295,A=N+(M<<5&4294967295|M>>>27),M=z+(N^D&(A^N))+R[2]+4243563512&4294967295,z=A+(M<<9&4294967295|M>>>23),M=D+(A^N&(z^A))+R[7]+1735328473&4294967295,D=z+(M<<14&4294967295|M>>>18),M=N+(z^A&(D^z))+R[12]+2368359562&4294967295,N=D+(M<<20&4294967295|M>>>12),M=A+(N^D^z)+R[5]+4294588738&4294967295,A=N+(M<<4&4294967295|M>>>28),M=z+(A^N^D)+R[8]+2272392833&4294967295,z=A+(M<<11&4294967295|M>>>21),M=D+(z^A^N)+R[11]+1839030562&4294967295,D=z+(M<<16&4294967295|M>>>16),M=N+(D^z^A)+R[14]+4259657740&4294967295,N=D+(M<<23&4294967295|M>>>9),M=A+(N^D^z)+R[1]+2763975236&4294967295,A=N+(M<<4&4294967295|M>>>28),M=z+(A^N^D)+R[4]+1272893353&4294967295,z=A+(M<<11&4294967295|M>>>21),M=D+(z^A^N)+R[7]+4139469664&4294967295,D=z+(M<<16&4294967295|M>>>16),M=N+(D^z^A)+R[10]+3200236656&4294967295,N=D+(M<<23&4294967295|M>>>9),M=A+(N^D^z)+R[13]+681279174&4294967295,A=N+(M<<4&4294967295|M>>>28),M=z+(A^N^D)+R[0]+3936430074&4294967295,z=A+(M<<11&4294967295|M>>>21),M=D+(z^A^N)+R[3]+3572445317&4294967295,D=z+(M<<16&4294967295|M>>>16),M=N+(D^z^A)+R[6]+76029189&4294967295,N=D+(M<<23&4294967295|M>>>9),M=A+(N^D^z)+R[9]+3654602809&4294967295,A=N+(M<<4&4294967295|M>>>28),M=z+(A^N^D)+R[12]+3873151461&4294967295,z=A+(M<<11&4294967295|M>>>21),M=D+(z^A^N)+R[15]+530742520&4294967295,D=z+(M<<16&4294967295|M>>>16),M=N+(D^z^A)+R[2]+3299628645&4294967295,N=D+(M<<23&4294967295|M>>>9),M=A+(D^(N|~z))+R[0]+4096336452&4294967295,A=N+(M<<6&4294967295|M>>>26),M=z+(N^(A|~D))+R[7]+1126891415&4294967295,z=A+(M<<10&4294967295|M>>>22),M=D+(A^(z|~N))+R[14]+2878612391&4294967295,D=z+(M<<15&4294967295|M>>>17),M=N+(z^(D|~A))+R[5]+4237533241&4294967295,N=D+(M<<21&4294967295|M>>>11),M=A+(D^(N|~z))+R[12]+1700485571&4294967295,A=N+(M<<6&4294967295|M>>>26),M=z+(N^(A|~D))+R[3]+2399980690&4294967295,z=A+(M<<10&4294967295|M>>>22),M=D+(A^(z|~N))+R[10]+4293915773&4294967295,D=z+(M<<15&4294967295|M>>>17),M=N+(z^(D|~A))+R[1]+2240044497&4294967295,N=D+(M<<21&4294967295|M>>>11),M=A+(D^(N|~z))+R[8]+1873313359&4294967295,A=N+(M<<6&4294967295|M>>>26),M=z+(N^(A|~D))+R[15]+4264355552&4294967295,z=A+(M<<10&4294967295|M>>>22),M=D+(A^(z|~N))+R[6]+2734768916&4294967295,D=z+(M<<15&4294967295|M>>>17),M=N+(z^(D|~A))+R[13]+1309151649&4294967295,N=D+(M<<21&4294967295|M>>>11),M=A+(D^(N|~z))+R[4]+4149444226&4294967295,A=N+(M<<6&4294967295|M>>>26),M=z+(N^(A|~D))+R[11]+3174756917&4294967295,z=A+(M<<10&4294967295|M>>>22),M=D+(A^(z|~N))+R[2]+718787259&4294967295,D=z+(M<<15&4294967295|M>>>17),M=N+(z^(D|~A))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(D+(M<<21&4294967295|M>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+z&4294967295}i.prototype.u=function(C,A){A===void 0&&(A=C.length);for(var N=A-this.blockSize,R=this.B,D=this.h,z=0;z<A;){if(D==0)for(;z<=N;)o(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<A;)if(R[D++]=C.charCodeAt(z++),D==this.blockSize){o(this,R),D=0;break}}else for(;z<A;)if(R[D++]=C[z++],D==this.blockSize){o(this,R),D=0;break}}this.h=D,this.o+=A},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;var N=8*this.o;for(A=C.length-8;A<C.length;++A)C[A]=N&255,N/=256;for(this.u(C),C=Array(16),A=N=0;4>A;++A)for(var R=0;32>R;R+=8)C[N++]=this.g[A]>>>R&255;return C};function c(C,A){var N=m;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=A(C)}function h(C,A){this.h=A;for(var N=[],R=!0,D=C.length-1;0<=D;D--){var z=C[D]|0;R&&z==A||(N[D]=z,R=!1)}this.g=N}var m={};function g(C){return-128<=C&&128>C?c(C,function(A){return new h([A|0],0>A?-1:0)}):new h([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return w;if(0>C)return B(y(-C));for(var A=[],N=1,R=0;C>=N;R++)A[R]=C/N|0,N*=4294967296;return new h(A,0)}function x(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return B(x(C.substring(1),A));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=y(Math.pow(A,8)),R=w,D=0;D<C.length;D+=8){var z=Math.min(8,C.length-D),M=parseInt(C.substring(D,D+z),A);8>z?(z=y(Math.pow(A,z)),R=R.j(z).add(y(M))):(R=R.j(N),R=R.add(y(M)))}return R}var w=g(0),E=g(1),k=g(16777216);n=h.prototype,n.m=function(){if(P(this))return-B(this).m();for(var C=0,A=1,N=0;N<this.g.length;N++){var R=this.i(N);C+=(0<=R?R:4294967296+R)*A,A*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O(this))return"0";if(P(this))return"-"+B(this).toString(C);for(var A=y(Math.pow(C,6)),N=this,R="";;){var D=ue(N,A).g;N=H(N,D.j(A));var z=((0<N.g.length?N.g[0]:N.h)>>>0).toString(C);if(N=D,O(N))return z+R;for(;6>z.length;)z="0"+z;R=z+R}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function O(C){if(C.h!=0)return!1;for(var A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function P(C){return C.h==-1}n.l=function(C){return C=H(this,C),P(C)?-1:O(C)?0:1};function B(C){for(var A=C.g.length,N=[],R=0;R<A;R++)N[R]=~C.g[R];return new h(N,~C.h).add(E)}n.abs=function(){return P(this)?B(this):this},n.add=function(C){for(var A=Math.max(this.g.length,C.g.length),N=[],R=0,D=0;D<=A;D++){var z=R+(this.i(D)&65535)+(C.i(D)&65535),M=(z>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);R=M>>>16,z&=65535,M&=65535,N[D]=M<<16|z}return new h(N,N[N.length-1]&-2147483648?-1:0)};function H(C,A){return C.add(B(A))}n.j=function(C){if(O(this)||O(C))return w;if(P(this))return P(C)?B(this).j(B(C)):B(B(this).j(C));if(P(C))return B(this.j(B(C)));if(0>this.l(k)&&0>C.l(k))return y(this.m()*C.m());for(var A=this.g.length+C.g.length,N=[],R=0;R<2*A;R++)N[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<C.g.length;D++){var z=this.i(R)>>>16,M=this.i(R)&65535,ye=C.i(D)>>>16,he=C.i(D)&65535;N[2*R+2*D]+=M*he,Z(N,2*R+2*D),N[2*R+2*D+1]+=z*he,Z(N,2*R+2*D+1),N[2*R+2*D+1]+=M*ye,Z(N,2*R+2*D+1),N[2*R+2*D+2]+=z*ye,Z(N,2*R+2*D+2)}for(R=0;R<A;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=A;R<2*A;R++)N[R]=0;return new h(N,0)};function Z(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function ee(C,A){this.g=C,this.h=A}function ue(C,A){if(O(A))throw Error("division by zero");if(O(C))return new ee(w,w);if(P(C))return A=ue(B(C),A),new ee(B(A.g),B(A.h));if(P(A))return A=ue(C,B(A)),new ee(B(A.g),A.h);if(30<C.g.length){if(P(C)||P(A))throw Error("slowDivide_ only works with positive integers.");for(var N=E,R=A;0>=R.l(C);)N=J(N),R=J(R);var D=ce(N,1),z=ce(R,1);for(R=ce(R,2),N=ce(N,2);!O(R);){var M=z.add(R);0>=M.l(C)&&(D=D.add(N),z=M),R=ce(R,1),N=ce(N,1)}return A=H(C,D.j(A)),new ee(D,A)}for(D=w;0<=C.l(A);){for(N=Math.max(1,Math.floor(C.m()/A.m())),R=Math.ceil(Math.log(N)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),z=y(N),M=z.j(A);P(M)||0<M.l(C);)N-=R,z=y(N),M=z.j(A);O(z)&&(z=E),D=D.add(z),C=H(C,M)}return new ee(D,C)}n.A=function(C){return ue(this,C).h},n.and=function(C){for(var A=Math.max(this.g.length,C.g.length),N=[],R=0;R<A;R++)N[R]=this.i(R)&C.i(R);return new h(N,this.h&C.h)},n.or=function(C){for(var A=Math.max(this.g.length,C.g.length),N=[],R=0;R<A;R++)N[R]=this.i(R)|C.i(R);return new h(N,this.h|C.h)},n.xor=function(C){for(var A=Math.max(this.g.length,C.g.length),N=[],R=0;R<A;R++)N[R]=this.i(R)^C.i(R);return new h(N,this.h^C.h)};function J(C){for(var A=C.g.length+1,N=[],R=0;R<A;R++)N[R]=C.i(R)<<1|C.i(R-1)>>>31;return new h(N,C.h)}function ce(C,A){var N=A>>5;A%=32;for(var R=C.g.length-N,D=[],z=0;z<R;z++)D[z]=0<A?C.i(z+N)>>>A|C.i(z+N+1)<<32-A:C.i(z+N);return new h(D,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,a4=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=x,vi=h}).apply(typeof Ex<"u"?Ex:typeof self<"u"?self:typeof window<"u"?window:{});var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o4,Rc,l4,ld,Sg,c4,u4,h4;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,_){return u==Array.prototype||u==Object.prototype||(u[v]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qh=="object"&&qh];for(var v=0;v<u.length;++v){var _=u[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,v){if(v)e:{var _=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var q=u[S];if(!(q in _))break e;_=_[q]}u=u[u.length-1],S=_[u],v=v(S),v!=S&&v!=null&&e(_,u,{configurable:!0,writable:!0,value:v})}}function c(u,v){u instanceof String&&(u+="");var _=0,S=!1,q={next:function(){if(!S&&_<u.length){var Q=_++;return{value:v(Q,u[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(u){return u||function(){return c(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function y(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function x(u,v,_){return u.call.apply(u.bind,arguments)}function w(u,v,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),u.apply(v,q)}}return function(){return u.apply(v,arguments)}}function E(u,v,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:w,E.apply(null,arguments)}function k(u,v){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function O(u,v){function _(){}_.prototype=v.prototype,u.aa=v.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,q,Q){for(var de=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)de[Be-2]=arguments[Be];return v.prototype[q].apply(S,de)}}function P(u){const v=u.length;if(0<v){const _=Array(v);for(let S=0;S<v;S++)_[S]=u[S];return _}return[]}function B(u,v){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(g(S)){const q=u.length||0,Q=S.length||0;u.length=q+Q;for(let de=0;de<Q;de++)u[q+de]=S[de]}else u.push(S)}}class H{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Z(u){return/^[\s\xa0]*$/.test(u)}function ee(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function ue(u){return ue[" "](u),u}ue[" "]=function(){};var J=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function ce(u,v,_){for(const S in u)v.call(_,u[S],S,u)}function C(u,v){for(const _ in u)v.call(void 0,u[_],_,u)}function A(u){const v={};for(const _ in u)v[_]=u[_];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,v){let _,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(_ in S)u[_]=S[_];for(let Q=0;Q<N.length;Q++)_=N[Q],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function D(u){var v=1;u=u.split(":");const _=[];for(;0<v&&u.length;)_.push(u.shift()),v--;return u.length&&_.push(u.join(":")),_}function z(u){m.setTimeout(()=>{throw u},0)}function M(){var u=fe;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class ye{constructor(){this.h=this.g=null}add(v,_){const S=he.get();S.set(v,_),this.h?this.h.next=S:this.g=S,this.h=S}}var he=new H(()=>new L,u=>u.reset());class L{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let W,te=!1,fe=new ye,I=()=>{const u=m.Promise.resolve(void 0);W=()=>{u.then(X)}};var X=()=>{for(var u;u=M();){try{u.h.call(u.g)}catch(_){z(_)}var v=he;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}te=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,v),m.removeEventListener("test",_,v)}catch{}return u}();function be(u,v){if(ae.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(J){e:{try{ue(v.nodeName);var q=!0;break e}catch{}q=!1}q||(v=null)}}else _=="mouseover"?v=u.fromElement:_=="mouseout"&&(v=u.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:xe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&be.aa.h.call(this)}}O(be,ae);var xe={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),ke=0;function ot(u,v,_,S,q){this.listener=u,this.proxy=null,this.src=v,this.type=_,this.capture=!!S,this.ha=q,this.key=++ke,this.da=this.fa=!1}function it(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pt(u){this.src=u,this.g={},this.h=0}pt.prototype.add=function(u,v,_,S,q){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var de=Ln(u,v,S,q);return-1<de?(v=u[de],_||(v.fa=!1)):(v=new ot(v,this.src,Q,!!S,q),v.fa=_,u.push(v)),v};function _t(u,v){var _=v.type;if(_ in u.g){var S=u.g[_],q=Array.prototype.indexOf.call(S,v,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(S,q,1),Q&&(it(v),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ln(u,v,_,S){for(var q=0;q<u.length;++q){var Q=u[q];if(!Q.da&&Q.listener==v&&Q.capture==!!_&&Q.ha==S)return q}return-1}var ki="closure_lm_"+(1e6*Math.random()|0),pl={};function vu(u,v,_,S,q){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)vu(u,v[Q],_,S,q);return null}return _=xu(_),u&&u[Ye]?u.K(v,_,y(S)?!!S.capture:!1,q):Un(u,v,_,!1,S,q)}function Un(u,v,_,S,q,Q){if(!v)throw Error("Invalid event type");var de=y(q)?!!q.capture:!!q,Be=Pa(u);if(Be||(u[ki]=Be=new pt(u)),_=Be.add(v,_,S,de,Q),_.proxy)return _;if(S=Vf(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)pe||(q=de),q===void 0&&(q=!1),u.addEventListener(v.toString(),S,q);else if(u.attachEvent)u.attachEvent(Oi(v.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Vf(){function u(_){return v.call(u.src,u.listener,_)}const v=Lf;return u}function gl(u,v,_,S,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)gl(u,v[Q],_,S,q);else S=y(S)?!!S.capture:!!S,_=xu(_),u&&u[Ye]?(u=u.i,v=String(v).toString(),v in u.g&&(Q=u.g[v],_=Ln(Q,_,S,q),-1<_&&(it(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete u.g[v],u.h--)))):u&&(u=Pa(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Ln(v,_,S,q)),(_=-1<u?v[u]:null)&&Oa(_))}function Oa(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Ye])_t(v.i,u);else{var _=u.type,S=u.proxy;v.removeEventListener?v.removeEventListener(_,S,u.capture):v.detachEvent?v.detachEvent(Oi(_),S):v.addListener&&v.removeListener&&v.removeListener(S),(_=Pa(v))?(_t(_,u),_.h==0&&(_.src=null,v[ki]=null)):it(u)}}}function Oi(u){return u in pl?pl[u]:pl[u]="on"+u}function Lf(u,v){if(u.da)u=!0;else{v=new be(v,this);var _=u.listener,S=u.ha||u.src;u.fa&&Oa(u),u=_.call(S,v)}return u}function Pa(u){return u=u[ki],u instanceof pt?u:null}var yl="__closure_events_fn_"+(1e9*Math.random()>>>0);function xu(u){return typeof u=="function"?u:(u[yl]||(u[yl]=function(v){return u.handleEvent(v)}),u[yl])}function bt(){le.call(this),this.i=new pt(this),this.M=this,this.F=null}O(bt,le),bt.prototype[Ye]=!0,bt.prototype.removeEventListener=function(u,v,_,S){gl(this,u,v,_,S)};function Ze(u,v){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=v.type||v,typeof v=="string")v=new ae(v,u);else if(v instanceof ae)v.target=v.target||u;else{var q=v;v=new ae(S,u),R(v,q)}if(q=!0,_)for(var Q=_.length-1;0<=Q;Q--){var de=v.g=_[Q];q=An(de,S,!0,v)&&q}if(de=v.g=u,q=An(de,S,!0,v)&&q,q=An(de,S,!1,v)&&q,_)for(Q=0;Q<_.length;Q++)de=v.g=_[Q],q=An(de,S,!1,v)&&q}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var _=u.g[v],S=0;S<_.length;S++)it(_[S]);delete u.g[v],u.h--}}this.F=null},bt.prototype.K=function(u,v,_,S){return this.i.add(String(u),v,!1,_,S)},bt.prototype.L=function(u,v,_,S){return this.i.add(String(u),v,!0,_,S)};function An(u,v,_,S){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,Q=0;Q<v.length;++Q){var de=v[Q];if(de&&!de.da&&de.capture==_){var Be=de.listener,Lt=de.ha||de.src;de.fa&&_t(u.i,de),q=Be.call(Lt,S)!==!1&&q}}return q&&!S.defaultPrevented}function on(u,v,_){if(typeof u=="function")_&&(u=E(u,_));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(u,v||0)}function _u(u){u.g=on(()=>{u.g=null,u.i&&(u.i=!1,_u(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Uf extends le{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(u){le.call(this),this.h=u,this.g={}}O(Pi,le);var Vi=[];function Li(u){ce(u.g,function(v,_){this.g.hasOwnProperty(_)&&Oa(v)},u),u.g={}}Pi.prototype.N=function(){Pi.aa.N.call(this),Li(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=m.JSON.stringify,Va=m.JSON.parse,Ui=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function vl(){}vl.prototype.h=null;function xl(u){return u.h||(u.h=u.i())}function _l(){}var Yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){ae.call(this,"d")}O(Kr,ae);function bl(){ae.call(this,"c")}O(bl,ae);var pr={},wl=null;function ks(){return wl=wl||new bt}pr.La="serverreachability";function La(u){ae.call(this,pr.La,u)}O(La,ae);function Os(u){const v=ks();Ze(v,new La(v))}pr.STAT_EVENT="statevent";function bu(u,v){ae.call(this,pr.STAT_EVENT,u),this.stat=v}O(bu,ae);function dt(u){const v=ks();Ze(v,new bu(v,u))}pr.Ma="timingevent";function Vt(u,v){ae.call(this,pr.Ma,u),this.size=v}O(Vt,ae);function Ct(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},v)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function El(u,v,_,S,q,Q){u.info(function(){if(u.g)if(Q)for(var de="",Be=Q.split("&"),Lt=0;Lt<Be.length;Lt++){var Fe=Be[Lt].split("=");if(1<Fe.length){var $t=Fe[0];Fe=Fe[1];var Ut=$t.split("_");de=2<=Ut.length&&Ut[1]=="type"?de+($t+"="+Fe+"&"):de+($t+"=redacted&")}}else de=null;else de=Q;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+v+`
`+_+`
`+de})}function zf(u,v,_,S,q,Q,de){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+v+`
`+_+`
`+Q+" "+de})}function Ps(u,v,_,S){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+zi(u,_)+(S?" "+S:"")})}function wu(u,v){u.info(function(){return"TIMEOUT: "+v})}zn.prototype.info=function(){};function zi(u,v){if(!u.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var de=1;de<q.length;de++)q[de]=""}}}}return nr(_)}catch{return v}}var Vs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function yr(){}O(yr,vl),yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},gr=new yr;function mn(u,v,_,S){this.j=u,this.i=v,this.l=_,this.R=S||1,this.U=new Pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var Tl={},Ua={};function rr(u,v,_){u.L=1,u.v=$i(Nn(v)),u.m=_,u.P=!0,Xr(u,null)}function Xr(u,v){u.F=Date.now(),Bi(u),u.A=Nn(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Il(_.i,"t",S),u.C=0,_=u.j.J,u.h=new St,u.g=Lu(u.j,_?v:null,!u.m),0<u.O&&(u.M=new Uf(E(u.Y,u,u.g),u.O)),v=u.U,_=u.g,S=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(Vi[0]=q.toString()),q=Vi);for(var Q=0;Q<q.length;Q++){var de=vu(_,q[Q],S||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),Os(),El(u.i,u.u,u.A,u.l,u.R,u.m)}mn.prototype.ca=function(u){u=u.target;const v=this.M;v&&qn(u)==3?v.j():this.Y(u)},mn.prototype.Y=function(u){try{if(u==this.g)e:{const Ut=qn(this.g);var v=this.g.Ba();const ss=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||Iu(this.g)))){this.J||Ut!=4||v==7||(v==8||0>=ss?Os(3):Os(2)),Ls(this);var _=this.g.Z();this.X=_;t:if(Eu(this)){var S=Iu(this.g);u="";var q=S.length,Q=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wt(this),vr(this);var de="";break t}this.h.i=new m.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,u+=this.h.i.decode(S[v],{stream:!(Q&&v==q-1)});S.length=0,this.h.g+=u,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=_==200,zf(this.i,this.u,this.A,this.l,this.R,Ut,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Lt=this.g;if((Be=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Be)){var Fe=Be;break t}}Fe=null}if(_=Fe)Ps(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fi(this,_);else{this.o=!1,this.s=3,dt(12),Wt(this),vr(this);break e}}if(this.P){_=!0;let Zt;for(;!this.J&&this.C<de.length;)if(Zt=Tu(this,de),Zt==Ua){Ut==4&&(this.s=4,dt(14),_=!1),Ps(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Tl){this.s=4,dt(15),Ps(this.i,this.l,de,"[Invalid Chunk]"),_=!1;break}else Ps(this.i,this.l,Zt,null),Fi(this,Zt);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||de.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)Ps(this.i,this.l,de,"[Invalid Chunked Response]"),Wt(this),vr(this);else if(0<de.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Ji($t),$t.M=!0,dt(11))}}else Ps(this.i,this.l,de,null),Fi(this,de);Ut==4&&Wt(this),this.o&&!this.J&&(Ut==4?Ou(this.j,this):(this.o=!1,Bi(this)))}else $f(this.g),_==400&&0<de.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Wt(this),vr(this)}}}catch{}finally{}};function Eu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Tu(u,v){var _=u.C,S=v.indexOf(`
`,_);return S==-1?Ua:(_=Number(v.substring(_,S)),isNaN(_)?Tl:(S+=1,S+_>v.length?Ua:(v=v.slice(S,S+_),u.C=S+_,v)))}mn.prototype.cancel=function(){this.J=!0,Wt(this)};function Bi(u){u.S=Date.now()+u.I,Su(u,u.I)}function Su(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ct(E(u.ba,u),v)}function Ls(u){u.B&&(m.clearTimeout(u.B),u.B=null)}mn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(wu(this.i,this.A),this.L!=2&&(Os(),dt(17)),Wt(this),this.s=2,vr(this)):Su(this,this.S-u)};function vr(u){u.j.G==0||u.J||Ou(u.j,u)}function Wt(u){Ls(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,Li(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function Fi(u,v){try{var _=u.j;if(_.G!=0&&(_.g==u||Sl(_.h,u))){if(!u.K&&Sl(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Wa(_),Qa(_);else break e;Ol(_),dt(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ct(E(_.Za,_),6e3));if(1>=Ba(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else rs(_,11)}else if((u.K||_.g==u)&&Wa(_),!Z(v))for(q=_.Da.g.parse(v),v=0;v<q.length;v++){let Fe=q[v];if(_.T=Fe[0],Fe=Fe[1],_.G==2)if(Fe[0]=="c"){_.K=Fe[1],_.ia=Fe[2];const $t=Fe[3];$t!=null&&(_.la=$t,_.j.info("VER="+_.la));const Ut=Fe[4];Ut!=null&&(_.Aa=Ut,_.j.info("SVER="+_.Aa));const ss=Fe[5];ss!=null&&typeof ss=="number"&&0<ss&&(S=1.5*ss,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Zt=u.g;if(Zt){const Sr=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var Q=S.h;Q.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Fa(Q,Q.h),Q.h=null))}if(S.D){const Vl=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(S.ya=Vl,tt(S.I,S.D,Vl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var de=u;if(S.qa=Vu(S,S.J?S.ia:null,S.W),de.K){pn(S.h,de);var Be=de,Lt=S.L;Lt&&(Be.I=Lt),Be.B&&(Ls(Be),Bi(Be)),S.g=de}else Mu(S);0<_.i.length&&Xa(_)}else Fe[0]!="stop"&&Fe[0]!="close"||rs(_,7);else _.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?rs(_,7):Ml(_):Fe[0]!="noop"&&_.l&&_.l.ta(Fe),_.v=0)}}Os(4)}catch{}}var Au=class{constructor(u,v){this.g=u,this.map=v}};function Wr(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function za(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ba(u){return u.h?1:u.g?u.g.size:0}function Sl(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Fa(u,v){u.g?u.g.add(v):u.h=v}function pn(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Wr.prototype.cancel=function(){if(this.i=Al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Al(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const _ of u.g.values())v=v.concat(_.D);return v}return P(u.i)}function Bf(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var v=[],_=u.length,S=0;S<_;S++)v.push(u[S]);return v}v=[],_=0;for(S in u)v[_++]=u[S];return v}function Ha(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var v=[];u=u.length;for(var _=0;_<u;_++)v.push(_);return v}v=[],_=0;for(const S in u)v[_++]=S;return v}}}function Nl(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var _=Ha(u),S=Bf(u),q=S.length,Q=0;Q<q;Q++)v.call(void 0,S[Q],_&&_[Q],u)}var Hi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ff(u,v){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),q=null;if(0<=S){var Q=u[_].substring(0,S);q=u[_].substring(S+1)}else Q=u[_];v(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function It(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof It){this.h=u.h,qi(this,u.j),this.o=u.o,this.g=u.g,Us(this,u.s),this.l=u.l;var v=u.i,_=new Jr;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Zr(this,_),this.m=u.m}else u&&(v=String(u).match(Hi))?(this.h=!1,qi(this,v[1]||"",!0),this.o=Bn(v[2]||""),this.g=Bn(v[3]||"",!0),Us(this,v[4]),this.l=Bn(v[5]||"",!0),Zr(this,v[6]||"",!0),this.m=Bn(v[7]||"")):(this.h=!1,this.i=new Jr(null,this.h))}It.prototype.toString=function(){var u=[],v=this.j;v&&u.push(Gi(v,Rl,!0),":");var _=this.g;return(_||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Gi(v,Rl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Gi(_,_.charAt(0)=="/"?Hf:Cl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Gi(_,qa)),u.join("")};function Nn(u){return new It(u)}function qi(u,v,_){u.j=_?Bn(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Us(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function Zr(u,v,_){v instanceof Jr?(u.i=v,Ru(u.i,u.h)):(_||(v=Gi(v,qf)),u.i=new Jr(v,u.h))}function tt(u,v,_){u.i.set(v,_)}function $i(u){return tt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Bn(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gi(u,v,_){return typeof u=="string"?(u=encodeURI(u).replace(v,Nu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Nu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Rl=/[#\/\?@]/g,Cl=/[#\?:]/g,Hf=/[#\?]/g,qf=/[#\?@]/g,qa=/#/g;function Jr(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Fn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ff(u.i,function(v,_){u.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}n=Jr.prototype,n.add=function(u,v){Fn(this),this.i=null,u=xr(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(v),this.h+=1,this};function es(u,v){Fn(u),v=xr(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function ts(u,v){return Fn(u),v=xr(u,v),u.g.has(v)}n.forEach=function(u,v){Fn(this),this.g.forEach(function(_,S){_.forEach(function(q){u.call(v,q,S,this)},this)},this)},n.na=function(){Fn(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let S=0;S<v.length;S++){const q=u[S];for(let Q=0;Q<q.length;Q++)_.push(v[S])}return _},n.V=function(u){Fn(this);let v=[];if(typeof u=="string")ts(this,u)&&(v=v.concat(this.g.get(xr(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)v=v.concat(u[_])}return v},n.set=function(u,v){return Fn(this),this.i=null,u=xr(this,u),ts(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},n.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function Il(u,v,_){es(u,v),0<_.length&&(u.i=null,u.g.set(xr(u,v),P(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var S=v[_];const Q=encodeURIComponent(String(S)),de=this.V(S);for(S=0;S<de.length;S++){var q=Q;de[S]!==""&&(q+="="+encodeURIComponent(String(de[S]))),u.push(q)}}return this.i=u.join("&")};function xr(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Ru(u,v){v&&!u.j&&(Fn(u),u.i=null,u.g.forEach(function(_,S){var q=S.toLowerCase();S!=q&&(es(this,S),Il(this,q,_))},u)),u.j=v}function Yi(u,v){const _=new zn;if(m.Image){const S=new Image;S.onload=k(Hn,_,"TestLoadImage: loaded",!0,v,S),S.onerror=k(Hn,_,"TestLoadImage: error",!1,v,S),S.onabort=k(Hn,_,"TestLoadImage: abort",!1,v,S),S.ontimeout=k(Hn,_,"TestLoadImage: timeout",!1,v,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else v(!1)}function sr(u,v){const _=new zn,S=new AbortController,q=setTimeout(()=>{S.abort(),Hn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:S.signal}).then(Q=>{clearTimeout(q),Q.ok?Hn(_,"TestPingServer: ok",!0,v):Hn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Hn(_,"TestPingServer: error",!1,v)})}function Hn(u,v,_,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(_)}catch{}}function Ki(){this.g=new Ui}function _r(u,v,_){const S=_||"";try{Nl(u,function(q,Q){let de=q;y(q)&&(de=nr(q)),v.push(S+Q+"="+encodeURIComponent(de))})}catch(q){throw v.push(S+"type="+encodeURIComponent("_badmap")),q}}function zs(u){this.l=u.Ub||null,this.j=u.eb||!1}O(zs,vl),zs.prototype.g=function(){return new ns(this.l,this.j)},zs.prototype.i=function(u){return function(){return u}}({});function ns(u,v){bt.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ns,bt),n=ns.prototype,n.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,wr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?br(this):wr(this),this.readyState==3&&Dl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,br(this))},n.Qa=function(u){this.g&&(this.response=u,br(this))},n.ga=function(){this.g&&br(this)};function br(u){u.readyState=4,u.l=null,u.j=null,u.v=null,wr(u)}n.setRequestHeader=function(u,v){this.u.append(u,v)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=v.next();return u.join(`\r
`)};function wr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jl(u){let v="";return ce(u,function(_,S){v+=S,v+=":",v+=_,v+=`\r
`}),v}function qt(u,v,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=jl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):tt(u,v,_))}function Qe(u){bt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Qe,bt);var $a=/^https?$/i,Qi=["POST","PUT"];n=Qe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,v,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?xl(this.o):xl(gr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(Q){Cu(this,Q);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)_.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())_.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Qi,v,void 0))||S||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,de]of _)this.g.setRequestHeader(Q,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xi(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){Cu(this,Q)}};function Cu(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,Ga(u),Er(u)}function Ga(u){u.A||(u.A=!0,Ze(u,"complete"),Ze(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ze(this,"complete"),Ze(this,"abort"),Er(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Er(this,!0)),Qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ya(this):this.bb())},n.bb=function(){Ya(this)};function Ya(u){if(u.h&&typeof h<"u"&&(!u.v[1]||qn(u)!=4||u.Z()!=2)){if(u.u&&qn(u)==4)on(u.Ea,0,u);else if(Ze(u,"readystatechange"),qn(u)==4){u.h=!1;try{const de=u.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var S;if(S=de===0){var q=String(u.D).match(Hi)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),S=!$a.test(q?q.toLowerCase():"")}_=S}if(_)Ze(u,"complete"),Ze(u,"success");else{u.m=6;try{var Q=2<qn(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",Ga(u)}}finally{Er(u)}}}}function Er(u,v){if(u.g){Xi(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||Ze(u,"ready");try{_.onreadystatechange=S}catch{}}}function Xi(u){u.I&&(m.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),Va(v)}};function Iu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $f(u){const v={};u=(u.g&&2<=qn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(Z(u[S]))continue;var _=D(u[S]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=v[q]||[];v[q]=Q,Q.push(_)}C(v,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wi(u,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||v}function Ka(u){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wi("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wi("baseRetryDelayMs",5e3,u),this.cb=Wi("retryDelaySeedMs",1e4,u),this.Wa=Wi("forwardChannelMaxRetries",2,u),this.wa=Wi("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Wr(u&&u.concurrentRequestLimit),this.Da=new Ki,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ka.prototype,n.la=8,n.G=1,n.connect=function(u,v,_,S){dt(0),this.W=u,this.H=v||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Vu(this,null,this.W),Xa(this)};function Ml(u){if(Du(u),u.G==3){var v=u.U++,_=Nn(u.I);if(tt(_,"SID",u.K),tt(_,"RID",v),tt(_,"TYPE","terminate"),Zi(u,_),v=new mn(u,u.j,v),v.L=2,v.v=$i(Nn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=v.v,_=!0),_||(v.g=Lu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Bi(v)}Pu(u)}function Qa(u){u.g&&(Ji(u),u.g.cancel(),u.g=null)}function Du(u){Qa(u),u.u&&(m.clearTimeout(u.u),u.u=null),Wa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Xa(u){if(!za(u.h)&&!u.s){u.s=!0;var v=u.Ga;W||I(),te||(W(),te=!0),fe.add(v,u),u.B=0}}function Gf(u,v){return Ba(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ct(E(u.Ga,u,v),Pl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new mn(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=A(Q),R(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=ju(this,q,v),_=Nn(this.I),tt(_,"RID",u),tt(_,"CVER",22),this.D&&tt(_,"X-HTTP-Session-Id",this.D),Zi(this,_),Q&&(this.O?v="headers="+encodeURIComponent(String(jl(Q)))+"&"+v:this.m&&qt(_,this.m,Q)),Fa(this.h,q),this.Ua&&tt(_,"TYPE","init"),this.P?(tt(_,"$req",v),tt(_,"SID","null"),q.T=!0,rr(q,_,null)):rr(q,_,v),this.G=2}}else this.G==3&&(u?kl(this,u):this.i.length==0||za(this.h)||kl(this))};function kl(u,v){var _;v?_=v.l:_=u.U++;const S=Nn(u.I);tt(S,"SID",u.K),tt(S,"RID",_),tt(S,"AID",u.T),Zi(u,S),u.m&&u.o&&qt(S,u.m,u.o),_=new mn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),v&&(u.i=v.D.concat(u.i)),v=ju(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Fa(u.h,_),rr(_,S,v)}function Zi(u,v){u.H&&ce(u.H,function(_,S){tt(v,S,_)}),u.l&&Nl({},function(_,S){tt(v,S,_)})}function ju(u,v,_){_=Math.min(u.i.length,_);var S=u.l?E(u.l.Na,u.l,u):null;e:{var q=u.i;let Q=-1;for(;;){const de=["count="+_];Q==-1?0<_?(Q=q[0].g,de.push("ofs="+Q)):Q=0:de.push("ofs="+Q);let Be=!0;for(let Lt=0;Lt<_;Lt++){let Fe=q[Lt].g;const $t=q[Lt].map;if(Fe-=Q,0>Fe)Q=Math.max(0,q[Lt].g-100),Be=!1;else try{_r($t,de,"req"+Fe+"_")}catch{S&&S($t)}}if(Be){S=de.join("&");break e}}}return u=u.i.splice(0,_),v.D=u,S}function Mu(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;W||I(),te||(W(),te=!0),fe.add(v,u),u.v=0}}function Ol(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ct(E(u.Fa,u),Pl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ct(E(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Qa(this),ku(this))};function Ji(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function ku(u){u.g=new mn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=Nn(u.qa);tt(v,"RID","rpc"),tt(v,"SID",u.K),tt(v,"AID",u.T),tt(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&tt(v,"TO",u.ja),tt(v,"TYPE","xmlhttp"),Zi(u,v),u.m&&u.o&&qt(v,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=$i(Nn(v)),_.m=null,_.P=!0,Xr(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Qa(this),Ol(this),dt(19))};function Wa(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Ou(u,v){var _=null;if(u.g==v){Wa(u),Ji(u),u.g=null;var S=2}else if(Sl(u.h,v))_=v.D,pn(u.h,v),S=1;else return;if(u.G!=0){if(v.o)if(S==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var q=u.B;S=ks(),Ze(S,new Vt(S,_)),Xa(u)}else Mu(u);else if(q=v.s,q==3||q==0&&0<v.X||!(S==1&&Gf(u,v)||S==2&&Ol(u)))switch(_&&0<_.length&&(v=u.h,v.i=v.i.concat(_)),q){case 1:rs(u,5);break;case 4:rs(u,10);break;case 3:rs(u,6);break;default:rs(u,2)}}}function Pl(u,v){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*v}function rs(u,v){if(u.j.info("Error code "+v),v==2){var _=E(u.fb,u),S=u.Xa;const q=!S;S=new It(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||qi(S,"https"),$i(S),q?Yi(S.toString(),_):sr(S.toString(),_)}else dt(2);u.G=0,u.l&&u.l.sa(v),Pu(u),Du(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Pu(u){if(u.G=0,u.ka=[],u.l){const v=Al(u.h);(v.length!=0||u.i.length!=0)&&(B(u.ka,v),B(u.ka,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.ra()}}function Vu(u,v,_){var S=_ instanceof It?Nn(_):new It(_);if(S.g!="")v&&(S.g=v+"."+S.g),Us(S,S.s);else{var q=m.location;S=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var Q=new It(null);S&&qi(Q,S),v&&(Q.g=v),q&&Us(Q,q),_&&(Q.l=_),S=Q}return _=u.D,v=u.ya,_&&v&&tt(S,_,v),tt(S,"VER",u.la),Zi(u,S),S}function Lu(u,v,_){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new Qe(new zs({eb:_})):new Qe(u.pa),v.Ha(u.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}n=Uu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Za(){}Za.prototype.g=function(u,v){return new gn(u,v)};function gn(u,v){bt.call(this),this.g=new Ka(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!Z(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Z(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Tr(this)}O(gn,bt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Ml(this.g)},gn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=nr(u),u=_);v.i.push(new Au(v.Ya++,u)),v.G==3&&Xa(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,gn.aa.N.call(this)};function zu(u){Kr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const _ in v){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}O(zu,Kr);function Bu(){bl.call(this),this.status=1}O(Bu,bl);function Tr(u){this.g=u}O(Tr,Uu),Tr.prototype.ua=function(){Ze(this.g,"a")},Tr.prototype.ta=function(u){Ze(this.g,new zu(u))},Tr.prototype.sa=function(u){Ze(this.g,new Bu)},Tr.prototype.ra=function(){Ze(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,h4=function(){return new Za},u4=function(){return ks()},c4=pr,Sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,ld=Vs,Qr.COMPLETE="complete",l4=Qr,_l.EventType=Yr,Yr.OPEN="a",Yr.CLOSE="b",Yr.ERROR="c",Yr.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Rc=_l,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,o4=Qe}).apply(typeof qh<"u"?qh:typeof self<"u"?self:typeof window<"u"?window:{});const Tx="@firebase/firestore",Sx="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new c0("@firebase/firestore");function Co(){return Sa.logLevel}function ge(n,...e){if(Sa.logLevel<=Le.DEBUG){const t=e.map(_0);Sa.debug(`Firestore (${al}): ${n}`,...t)}}function Ns(n,...e){if(Sa.logLevel<=Le.ERROR){const t=e.map(_0);Sa.error(`Firestore (${al}): ${n}`,...t)}}function Fo(n,...e){if(Sa.logLevel<=Le.WARN){const t=e.map(_0);Sa.warn(`Firestore (${al}): ${n}`,...t)}}function _0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,d4(n,i,t)}function d4(n,e,t){let i=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ns(i),new Error(i)}function We(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||d4(e,o,i)}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class s8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class i8{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let c=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Es,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Es)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new f4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class a8{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o8{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new a8(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ax{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l8{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const i=c=>{c.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const o=c=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ax(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ax(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=c8(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<t&&(i+=e.charAt(o[c]%62))}return i}}function Ue(n,e){return n<e?-1:n>e?1:0}function Ag(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),c=e.charAt(i);if(o!==c)return Zp(o)===Zp(c)?Ue(o,c):Zp(o)?1:-1}return Ue(n.length,e.length)}const u8=55296,h8=57343;function Zp(n){const e=n.charCodeAt(0);return e>=u8&&e<=h8}function Ho(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="__name__";class Dr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ne(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Dr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const c=Dr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Ue(e.length,t.length)}static compareSegments(e,t){const i=Dr.isNumericId(e),o=Dr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Dr.extractNumericId(e).compare(Dr.extractNumericId(t)):Ag(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vi.fromString(e.substring(4,e.length-2))}}class ct extends Dr{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const d8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Dr{construct(e,t,i){return new rn(e,t,i)}static isValidIdentifier(e){return d8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nx}static keyField(){return new rn([Nx])}static fromServerFormat(e){const t=[];let i="",o=0;const c=()=>{if(i.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(i+=m,o++):(c(),o++)}if(c(),h)throw new me(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ct.fromString(e))}static fromName(e){return new we(ct.fromString(e).popFirst(5))}static empty(){return new we(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(n,e,t){if(!t)throw new me(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function f8(n,e,t,i){if(e===!0&&i===!0)throw new me(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Rx(n){if(!we.isDocumentKey(n))throw new me(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Cx(n){if(we.isDocumentKey(n))throw new me(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function p4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function of(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne(12329,{type:typeof n})}function Tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=of(n);throw new me(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n,e){const t={typeString:n};return e&&(t.value=e),t}function ou(n,e){if(!p4(n))throw new me(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const h=n[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){t=`Expected '${i}' field to equal '${c.value}'`;break}}if(t)throw new me(re.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=-62135596800,Dx=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Dx);return new ht(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ix)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dx}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ix;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Pt("string",ht._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ht(0,0))}static max(){return new Ce(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=-1;function m8(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(i===1e9?new ht(t+1,0):new ht(t,i));return new wi(o,we.empty(),e)}function p8(n){return new wi(n.readTime,n.key,Hc)}class wi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new wi(Ce.min(),we.empty(),Hc)}static max(){return new wi(Ce.max(),we.empty(),Hc)}}function g8(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==y8)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,i)=>{t(e)})}static reject(e){return new oe((t,i)=>{i(e)})}static waitFor(e){return new oe((t,i)=>{let o=0,c=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++c,h&&c===o&&t()},g=>i(g))}),h=!0,c===o&&t()})}static or(e){let t=oe.resolve(!1);for(const i of e)t=t.next(o=>o?oe.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,c)=>{i.push(t.call(this,o,c))}),this.waitFor(i)}static mapArray(e,t){return new oe((i,o)=>{const c=e.length,h=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;t(e[y]).next(x=>{h[y]=x,++m,m===c&&i(h)},x=>o(x))}})}static doWhile(e,t){return new oe((i,o)=>{const c=()=>{e()===!0?t().next(()=>{c()},o):i()};c()})}}function x8(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ll(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=-1;function cf(n){return n==null}function jd(n){return n===0&&1/n==-1/0}function _8(n){return typeof n=="number"&&Number.isInteger(n)&&!jd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="";function b8(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jx(e)),e=w8(n.get(t),e);return jx(e)}function w8(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const c=n.charAt(o);switch(c){case"\0":t+="";break;case g4:t+="";break;default:t+=c}}return t}function jx(n){return n+g4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Di(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function y4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $h(this.root,e,this.comparator,!1)}getReverseIterator(){return new $h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $h(this.root,e,this.comparator,!0)}}class $h{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,i,o,c){this.key=e,this.value=t,this.color=i??nn.RED,this.left=o??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,c){return new nn(e??this.key,t??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,i),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,i,o,c){return this}insert(e,t,i){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kx(this.data.getIterator())}getIteratorFrom(e){return new kx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class kx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new Ft(rn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new v4("Invalid base64 string: "+c):c}}(e);return new an(t)}static fromUint8Array(e){const t=function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c}(e);return new an(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const E8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(n){if(We(!!n,39018),typeof n=="string"){let e=0;const t=E8.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ti(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="server_timestamp",_4="__type__",b4="__previous_value__",w4="__local_write_time__";function E0(n){return(n?.mapValue?.fields||{})[_4]?.stringValue===x4}function uf(n){const e=n.mapValue.fields[b4];return E0(e)?uf(e):e}function qc(n){const e=Ei(n.mapValue.fields[w4].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e,t,i,o,c,h,m,g,y,x){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x}}const Md="(default)";class $c{constructor(e,t){this.projectId=e,this.database=t||Md}static empty(){return new $c("","")}get isDefaultDatabase(){return this.database===Md}isEqual(e){return e instanceof $c&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="__type__",S8="__max__",Gh={mapValue:{}},T4="__vector__",kd="value";function Si(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?E0(n)?4:N8(n)?9007199254740991:A8(n)?10:11:Ne(28295,{value:n})}function Br(n,e){if(n===e)return!0;const t=Si(n);if(t!==Si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qc(n).isEqual(qc(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=Ei(o.timestampValue),m=Ei(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,c){return Ti(o.bytesValue).isEqual(Ti(c.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,c){return Rt(o.geoPointValue.latitude)===Rt(c.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(c.geoPointValue.longitude)}(n,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Rt(o.integerValue)===Rt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Rt(o.doubleValue),m=Rt(c.doubleValue);return h===m?jd(h)===jd(m):isNaN(h)&&isNaN(m)}return!1}(n,e);case 9:return Ho(n.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return function(o,c){const h=o.mapValue.fields||{},m=c.mapValue.fields||{};if(Mx(h)!==Mx(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Br(h[g],m[g])))return!1;return!0}(n,e);default:return Ne(52216,{left:n})}}function Gc(n,e){return(n.values||[]).find(t=>Br(t,e))!==void 0}function qo(n,e){if(n===e)return 0;const t=Si(n),i=Si(e);if(t!==i)return Ue(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(c,h){const m=Rt(c.integerValue||c.doubleValue),g=Rt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(n,e);case 3:return Ox(n.timestampValue,e.timestampValue);case 4:return Ox(qc(n),qc(e));case 5:return Ag(n.stringValue,e.stringValue);case 6:return function(c,h){const m=Ti(c),g=Ti(h);return m.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(c,h){const m=c.split("/"),g=h.split("/");for(let y=0;y<m.length&&y<g.length;y++){const x=Ue(m[y],g[y]);if(x!==0)return x}return Ue(m.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,h){const m=Ue(Rt(c.latitude),Rt(h.latitude));return m!==0?m:Ue(Rt(c.longitude),Rt(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Px(n.arrayValue,e.arrayValue);case 10:return function(c,h){const m=c.fields||{},g=h.fields||{},y=m[kd]?.arrayValue,x=g[kd]?.arrayValue,w=Ue(y?.values?.length||0,x?.values?.length||0);return w!==0?w:Px(y,x)}(n.mapValue,e.mapValue);case 11:return function(c,h){if(c===Gh.mapValue&&h===Gh.mapValue)return 0;if(c===Gh.mapValue)return 1;if(h===Gh.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=h.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let w=0;w<g.length&&w<x.length;++w){const E=Ag(g[w],x[w]);if(E!==0)return E;const k=qo(m[g[w]],y[x[w]]);if(k!==0)return k}return Ue(g.length,x.length)}(n.mapValue,e.mapValue);default:throw Ne(23264,{he:t})}}function Ox(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Ei(n),i=Ei(e),o=Ue(t.seconds,i.seconds);return o!==0?o:Ue(t.nanos,i.nanos)}function Px(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const c=qo(t[o],i[o]);if(c)return c}return Ue(t.length,i.length)}function $o(n){return Ng(n)}function Ng(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ei(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ti(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const c of t.values||[])o?o=!1:i+=",",i+=Ng(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const h of i)c?c=!1:o+=",",o+=`${h}:${Ng(t.fields[h])}`;return o+"}"}(n.mapValue):Ne(61005,{value:n})}function cd(n){switch(Si(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(n);return e?16+cd(e):16;case 5:return 2*n.stringValue.length;case 6:return Ti(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,c)=>o+cd(c),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Di(i.fields,(c,h)=>{o+=c.length+cd(h)}),o}(n.mapValue);default:throw Ne(13486,{value:n})}}function Vx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Rg(n){return!!n&&"integerValue"in n}function T0(n){return!!n&&"arrayValue"in n}function Lx(n){return!!n&&"nullValue"in n}function Ux(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ud(n){return!!n&&"mapValue"in n}function A8(n){return(n?.mapValue?.fields||{})[E4]?.stringValue===T4}function Oc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Di(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Oc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Oc(n.arrayValue.values[t]);return e}return{...n}}function N8(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===S8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ud(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oc(t)}setAll(e){let t=rn.emptyPath(),i={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=m.popLast()}h?i[m.lastSegment()]=Oc(h):o.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,o)}delete(e){const t=this.field(e.popLast());ud(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];ud(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Di(t,(o,c)=>e[o]=c);for(const o of i)delete e[o]}clone(){return new wn(Oc(this.value))}}function S4(n){const e=[];return Di(n.fields,(t,i)=>{const o=new rn([t]);if(ud(i)){const c=S4(i.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,i,o,c,h,m){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new dn(e,0,Ce.min(),Ce.min(),Ce.min(),wn.empty(),0)}static newFoundDocument(e,t,i,o){return new dn(e,1,t,Ce.min(),i,o,0)}static newNoDocument(e,t){return new dn(e,2,t,Ce.min(),Ce.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Ce.min(),Ce.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t){this.position=e,this.inclusive=t}}function zx(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const c=e[o],h=n.position[o];if(c.field.isKeyField()?i=we.comparator(we.fromName(h.referenceValue),t.key):i=qo(h,t.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function Bx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Br(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t="asc"){this.field=e,this.dir=t}}function R8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{}class Ot extends A4{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new I8(e,t,i):t==="array-contains"?new M8(e,i):t==="in"?new k8(e,i):t==="not-in"?new O8(e,i):t==="array-contains-any"?new P8(e,i):new Ot(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new D8(e,i):new j8(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(qo(t,this.value)):t!==null&&Si(this.value)===Si(t)&&this.matchesComparison(qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends A4{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new fr(e,t)}matches(e){return N4(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N4(n){return n.op==="and"}function R4(n){return C8(n)&&N4(n)}function C8(n){for(const e of n.filters)if(e instanceof fr)return!1;return!0}function Cg(n){if(n instanceof Ot)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(R4(n))return n.filters.map(e=>Cg(e)).join(",");{const e=n.filters.map(t=>Cg(t)).join(",");return`${n.op}(${e})`}}function C4(n,e){return n instanceof Ot?function(i,o){return o instanceof Ot&&i.op===o.op&&i.field.isEqual(o.field)&&Br(i.value,o.value)}(n,e):n instanceof fr?function(i,o){return o instanceof fr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((c,h,m)=>c&&C4(h,o.filters[m]),!0):!1}(n,e):void Ne(19439)}function I4(n){return n instanceof Ot?function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`}(n):n instanceof fr?function(t){return t.op.toString()+" {"+t.getFilters().map(I4).join(" ,")+"}"}(n):"Filter"}class I8 extends Ot{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class D8 extends Ot{constructor(e,t){super(e,"in",t),this.keys=D4("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class j8 extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=D4("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function D4(n,e){return(e.arrayValue?.values||[]).map(t=>we.fromName(t.referenceValue))}class M8 extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return T0(t)&&Gc(t.arrayValue,this.value)}}class k8 extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gc(this.value.arrayValue,t)}}class O8 extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gc(this.value.arrayValue,t)}}class P8 extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!T0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Gc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,t=null,i=[],o=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function Fx(n,e=null,t=[],i=[],o=null,c=null,h=null){return new V8(n,e,t,i,o,c,h)}function S0(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Cg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(c){return c.field.canonicalString()+c.dir}(i)).join(","),cf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>$o(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>$o(i)).join(",")),e.Te=t}return e.Te}function A0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!R8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!C4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Bx(n.startAt,e.startAt)&&Bx(n.endAt,e.endAt)}function Ig(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t=null,i=[],o=[],c=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function L8(n,e,t,i,o,c,h,m){return new cl(n,e,t,i,o,c,h,m)}function hf(n){return new cl(n)}function Hx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function j4(n){return n.collectionGroup!==null}function Pc(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ft(rn.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Yc(c,i))}),t.has(rn.keyField().canonicalString())||e.Ie.push(new Yc(rn.keyField(),i))}return e.Ie}function Vr(n){const e=Ie(n);return e.Ee||(e.Ee=U8(e,Pc(n))),e.Ee}function U8(n,e){if(n.limitType==="F")return Fx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Yc(o.field,c)});const t=n.endAt?new Od(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Od(n.startAt.position,n.startAt.inclusive):null;return Fx(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Dg(n,e){const t=n.filters.concat([e]);return new cl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Pd(n,e,t){return new cl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function df(n,e){return A0(Vr(n),Vr(e))&&n.limitType===e.limitType}function M4(n){return`${S0(Vr(n))}|lt:${n.limitType}`}function Io(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>I4(o)).join(", ")}]`),cf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>$o(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>$o(o)).join(",")),`Target(${i})`}(Vr(n))}; limitType=${n.limitType})`}function ff(n,e){return e.isFoundDocument()&&function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):we.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(n,e)&&function(i,o){for(const c of Pc(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(h,m,g){const y=zx(h,m,g);return h.inclusive?y<=0:y<0}(i.startAt,Pc(i),o)||i.endAt&&!function(h,m,g){const y=zx(h,m,g);return h.inclusive?y>=0:y>0}(i.endAt,Pc(i),o))}(n,e)}function z8(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function k4(n){return(e,t)=>{let i=!1;for(const o of Pc(n)){const c=B8(o,e,t);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function B8(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):function(c,h,m){const g=h.data.field(c),y=m.data.field(c);return g!==null&&y!==null?qo(g,y):Ne(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ne(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,(t,i)=>{for(const[o,c]of i)e(o,c)})}isEmpty(){return y4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=new vt(we.comparator);function Rs(){return F8}const O4=new vt(we.comparator);function Cc(...n){let e=O4;for(const t of n)e=e.insert(t.key,t);return e}function P4(n){let e=O4;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ga(){return Vc()}function V4(){return Vc()}function Vc(){return new ja(n=>n.toString(),(n,e)=>n.isEqual(e))}const H8=new vt(we.comparator),q8=new Ft(we.comparator);function ze(...n){let e=q8;for(const t of n)e=e.add(t);return e}const $8=new Ft(Ue);function G8(){return $8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jd(e)?"-0":e}}function L4(n){return{integerValue:""+n}}function U4(n,e){return _8(e)?L4(e):N0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this._=void 0}}function Y8(n,e,t){return n instanceof Kc?function(o,c){const h={fields:{[_4]:{stringValue:x4},[w4]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&E0(c)&&(c=uf(c)),c&&(h.fields[b4]=c),{mapValue:h}}(t,e):n instanceof Go?B4(n,e):n instanceof Qc?F4(n,e):function(o,c){const h=z4(o,c),m=qx(h)+qx(o.Ae);return Rg(h)&&Rg(o.Ae)?L4(m):N0(o.serializer,m)}(n,e)}function K8(n,e,t){return n instanceof Go?B4(n,e):n instanceof Qc?F4(n,e):t}function z4(n,e){return n instanceof Xc?function(i){return Rg(i)||function(c){return!!c&&"doubleValue"in c}(i)}(e)?e:{integerValue:0}:null}class Kc extends mf{}class Go extends mf{constructor(e){super(),this.elements=e}}function B4(n,e){const t=H4(e);for(const i of n.elements)t.some(o=>Br(o,i))||t.push(i);return{arrayValue:{values:t}}}class Qc extends mf{constructor(e){super(),this.elements=e}}function F4(n,e){let t=H4(e);for(const i of n.elements)t=t.filter(o=>!Br(o,i));return{arrayValue:{values:t}}}class Xc extends mf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function qx(n){return Rt(n.integerValue||n.doubleValue)}function H4(n){return T0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,t){this.field=e,this.transform=t}}function Q8(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Go&&o instanceof Go||i instanceof Qc&&o instanceof Qc?Ho(i.elements,o.elements,Br):i instanceof Xc&&o instanceof Xc?Br(i.Ae,o.Ae):i instanceof Kc&&o instanceof Kc}(n.transform,e.transform)}class X8{constructor(e,t){this.version=e,this.transformResults=t}}class Sn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class pf{}function q4(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new C0(n.key,Sn.none()):new lu(n.key,n.data,Sn.none());{const t=n.data,i=wn.empty();let o=new Ft(rn.comparator);for(let c of e.fields)if(!o.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?i.delete(c):i.set(c,h),o=o.add(c)}return new ji(n.key,i,new Vn(o.toArray()),Sn.none())}}function W8(n,e,t){n instanceof lu?function(o,c,h){const m=o.value.clone(),g=Gx(o.fieldTransforms,c,h.transformResults);m.setAll(g),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(n,e,t):n instanceof ji?function(o,c,h){if(!hd(o.precondition,c))return void c.convertToUnknownDocument(h.version);const m=Gx(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll($4(o)),g.setAll(m),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(n,e,t):function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Lc(n,e,t,i){return n instanceof lu?function(c,h,m,g){if(!hd(c.precondition,h))return m;const y=c.value.clone(),x=Yx(c.fieldTransforms,g,h);return y.setAll(x),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof ji?function(c,h,m,g){if(!hd(c.precondition,h))return m;const y=Yx(c.fieldTransforms,g,h),x=h.data;return x.setAll($4(c)),x.setAll(y),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(c,h,m){return hd(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(n,e,t)}function Z8(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),c=z4(i.transform,o||null);c!=null&&(t===null&&(t=wn.empty()),t.set(i.field,c))}return t||null}function $x(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ho(i,o,(c,h)=>Q8(c,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lu extends pf{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ji extends pf{constructor(e,t,i,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function $4(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Gx(n,e,t){const i=new Map;We(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const c=n[o],h=c.transform,m=e.data.field(c.field);i.set(c.field,K8(h,m,t[o]))}return i}function Yx(n,e,t){const i=new Map;for(const o of n){const c=o.transform,h=t.data.field(o.field);i.set(o.field,Y8(c,h,e))}return i}class C0 extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J8 extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&W8(c,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Lc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Lc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=V4();return this.mutations.forEach(o=>{const c=e.get(o.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=t.has(o.key)?null:m;const g=q4(h,m);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(t,i)=>$x(t,i))&&Ho(this.baseMutations,e.baseMutations,(t,i)=>$x(t,i))}}class I0{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){We(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=function(){return H8}();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,i[h].version);return new I0(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,qe;function rR(n){switch(n){case re.OK:return Ne(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ne(15467,{code:n})}}function G4(n){if(n===void 0)return Ns("GRPC error has no .code"),re.UNKNOWN;switch(n){case Mt.OK:return re.OK;case Mt.CANCELLED:return re.CANCELLED;case Mt.UNKNOWN:return re.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return re.INTERNAL;case Mt.UNAVAILABLE:return re.UNAVAILABLE;case Mt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Mt.NOT_FOUND:return re.NOT_FOUND;case Mt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Mt.ABORTED:return re.ABORTED;case Mt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Mt.DATA_LOSS:return re.DATA_LOSS;default:return Ne(39323,{code:n})}}(qe=Mt||(Mt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new vi([4294967295,4294967295],0);function Kx(n){const e=sR().encode(n),t=new a4;return t.update(e),new Uint8Array(t.digest())}function Qx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new vi([t,i],0),new vi([o,c],0)]}class D0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ic(`Invalid padding: ${t}`);if(i<0)throw new Ic(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=vi.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(vi.fromNumber(i)));return o.compare(iR)===1&&(o=new vi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Kx(e),[i,o]=Qx(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,o,c);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new D0(c,o,t);return i.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const t=Kx(e),[i,o]=Qx(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,o,c);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t,i,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new gf(Ce.min(),o,new vt(Ue),Rs(),ze())}}class cu{constructor(e,t,i,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new cu(i,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class Y4{constructor(e,t){this.targetId=e,this.Ce=t}}class K4{constructor(e,t,i=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Xx{constructor(){this.ve=0,this.Fe=Wx(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),i=ze();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ne(38017,{changeType:c})}}),new cu(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=Wx()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.Je=Yh(),this.He=Yh(),this.Ye=new vt(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(Ig(c))if(i===0){const h=new we(c.path);this.et(t,h,dn.newNoDocument(h,Ce.min()))}else We(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=t;let h,m;try{h=Ti(i).toUint8Array()}catch(g){if(g instanceof v4)return Fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new D0(h,o,c)}catch(g){return Fo(g instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach(c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(t,c,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((c,h)=>{const m=this.ot(h);if(m){if(c.current&&Ig(m.target)){const g=new we(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,dn.newNoDocument(g,e))}c.Be&&(t.set(h,c.ke()),c.qe())}});let i=ze();this.He.forEach((c,h)=>{let m=!0;h.forEachWhile(g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(c))}),this.je.forEach((c,h)=>h.setReadTime(e));const o=new gf(e,t,this.Ye,this.je,i);return this.je=Rs(),this.Je=Yh(),this.He=Yh(),this.Ye=new vt(Ue),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Xx,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ft(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ft(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Xx),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Yh(){return new vt(we.comparator)}function Wx(){return new vt(we.comparator)}const oR={asc:"ASCENDING",desc:"DESCENDING"},lR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cR={and:"AND",or:"OR"};class uR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jg(n,e){return n.useProto3Json||cf(e)?e:{value:e}}function Vd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hR(n,e){return Vd(n,e.toTimestamp())}function Lr(n){return We(!!n,49232),Ce.fromTimestamp(function(t){const i=Ei(t);return new ht(i.seconds,i.nanos)}(n))}function j0(n,e){return Mg(n,e).canonicalString()}function Mg(n,e){const t=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function X4(n){const e=ct.fromString(n);return We(t6(e),10190,{key:e.toString()}),e}function kg(n,e){return j0(n.databaseId,e.path)}function Jp(n,e){const t=X4(e);if(t.get(1)!==n.databaseId.projectId)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(Z4(t))}function W4(n,e){return j0(n.databaseId,e)}function dR(n){const e=X4(n);return e.length===4?ct.emptyPath():Z4(e)}function Og(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Z4(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Zx(n,e,t){return{name:kg(n,e),fields:t.value.mapValue.fields}}function fR(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ne(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,x){return y.useProto3Json?(We(x===void 0||typeof x=="string",58123),an.fromBase64String(x||"")):(We(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),an.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(y){const x=y.code===void 0?re.UNKNOWN:G4(y.code);return new me(x,y.message||"")}(h);t=new K4(i,o,c,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Jp(n,i.document.name),c=Lr(i.document.updateTime),h=i.document.createTime?Lr(i.document.createTime):Ce.min(),m=new wn({mapValue:{fields:i.document.fields}}),g=dn.newFoundDocument(o,c,h,m),y=i.targetIds||[],x=i.removedTargetIds||[];t=new dd(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Jp(n,i.document),c=i.readTime?Lr(i.readTime):Ce.min(),h=dn.newNoDocument(o,c),m=i.removedTargetIds||[];t=new dd([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Jp(n,i.document),c=i.removedTargetIds||[];t=new dd([],c,o,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,h=new nR(o,c),m=i.targetId;t=new Y4(m,h)}}return t}function mR(n,e){let t;if(e instanceof lu)t={update:Zx(n,e.key,e.value)};else if(e instanceof C0)t={delete:kg(n,e.key)};else if(e instanceof ji)t={update:Zx(n,e.key,e.data),updateMask:ER(e.fieldMask)};else{if(!(e instanceof J8))return Ne(16599,{Vt:e.type});t={verify:kg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,h){const m=h.transform;if(m instanceof Kc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Go)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Qc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Xc)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ne(20930,{transform:h.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:hR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ne(27497)}(n,e.precondition)),t}function pR(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map(t=>function(o,c){let h=o.updateTime?Lr(o.updateTime):Lr(c);return h.isEqual(Ce.min())&&(h=Lr(c)),new X8(h,o.transformResults||[])}(t,e))):[]}function gR(n,e){return{documents:[W4(n,e.path)]}}function yR(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=W4(n,o);const c=function(y){if(y.length!==0)return e6(fr.create(y,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const h=function(y){if(y.length!==0)return y.map(x=>function(E){return{field:Do(E.field),direction:_R(E.dir)}}(x))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=jg(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:t,parent:o}}function vR(n){let e=dR(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){We(i===1,65062);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];t.where&&(c=function(w){const E=J4(w);return E instanceof fr&&R4(E)?E.getFilters():[E]}(t.where));let h=[];t.orderBy&&(h=function(w){return w.map(E=>function(O){return new Yc(jo(O.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(E))}(t.orderBy));let m=null;t.limit&&(m=function(w){let E;return E=typeof w=="object"?w.value:w,cf(E)?null:E}(t.limit));let g=null;t.startAt&&(g=function(w){const E=!!w.before,k=w.values||[];return new Od(k,E)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const E=!w.before,k=w.values||[];return new Od(k,E)}(t.endAt)),L8(e,o,h,c,m,"F",g,y)}function xR(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function J4(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=jo(t.unaryFilter.field);return Ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=jo(t.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=jo(t.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=jo(t.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ot.create(jo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return fr.create(t.compositeFilter.filters.map(i=>J4(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}}(t.compositeFilter.op))}(n):Ne(30097,{filter:n})}function _R(n){return oR[n]}function bR(n){return lR[n]}function wR(n){return cR[n]}function Do(n){return{fieldPath:n.canonicalString()}}function jo(n){return rn.fromServerFormat(n.fieldPath)}function e6(n){return n instanceof Ot?function(t){if(t.op==="=="){if(Ux(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NAN"}};if(Lx(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ux(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NAN"}};if(Lx(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(t.field),op:bR(t.op),value:t.value}}}(n):n instanceof fr?function(t){const i=t.getFilters().map(o=>e6(o));return i.length===1?i[0]:{compositeFilter:{op:wR(t.op),filters:i}}}(n):Ne(54877,{filter:n})}function ER(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function t6(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,t,i,o,c=Ce.min(),h=Ce.min(),m=an.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.yt=e}}function SR(n){const e=vR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.Cn=new NR}addToCollectionParentIndex(e,t){return this.Cn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(wi.min())}updateCollectionGroup(e,t,i){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class NR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ft(ct.comparator),c=!o.has(i);return this.index[t]=o.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ft(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n6=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(n6,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Yo(0)}static cr(){return new Yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="LruGarbageCollector",RR=1048576;function t_([n,e],[t,i]){const o=Ue(n,t);return o===0?Ue(e,i):o}class CR{constructor(e){this.Ir=e,this.buffer=new Ft(t_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();t_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class IR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(e_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ll(t)?ge(e_,"Ignoring IndexedDB error during garbage collection: ",t):await ol(t)}await this.Vr(3e5)})}}class DR{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(lf.ce);const i=new CR(t);return this.mr.forEachTarget(e,o=>i.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>i.Ar(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(Jx)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jx):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,c,h,m,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,m=Date.now(),this.removeTargets(e,i,t))).next(w=>(c=w,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(y=Date.now(),Co()<=Le.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function jR(n,e){return new DR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.changes=new ja(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?oe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Lc(i.mutation,o,Vn.empty(),ht.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ze()){const o=ga();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(c=>{let h=Cc();return c.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=ga();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ze()))}populateOverlays(e,t,i){const o=[];return i.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,i,o){let c=Rs();const h=Vc(),m=function(){return Vc()}();return t.forEach((g,y)=>{const x=i.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof ji)?c=c.insert(y.key,y):x!==void 0?(h.set(y.key,x.mutation.getFieldMask()),Lc(x.mutation,y,x.mutation.getFieldMask(),ht.now())):h.set(y.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((y,x)=>h.set(y,x)),t.forEach((y,x)=>m.set(y,new kR(x,h.get(y)??null))),m))}recalculateAndSaveOverlays(e,t){const i=Vc();let o=new vt((h,m)=>h-m),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let x=i.get(g)||Vn.empty();x=m.applyToLocalView(y,x),i.set(g,x);const w=(o.get(m.batchId)||ze()).add(g);o=o.insert(m.batchId,w)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,x=g.value,w=V4();x.forEach(E=>{if(!c.has(E)){const k=q4(t.get(E),i.get(E));k!==null&&w.set(E,k),c=c.add(E)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,w))}return oe.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return we.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):j4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-c.size):oe.resolve(ga());let m=Hc,g=c;return h.next(y=>oe.forEach(y,(x,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),c.get(x)?oe.resolve():this.remoteDocumentCache.getEntry(e,x).next(E=>{g=g.insert(x,E)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,g,y,ze())).next(x=>({batchId:m,changes:P4(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let o=Cc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const c=t.collectionGroup;let h=Cc();return this.indexManager.getCollectionParents(e,c).next(m=>oe.forEach(m,g=>{const y=function(w,E){return new cl(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(x=>{x.forEach((w,E)=>{h=h.insert(w,E)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,o))).next(h=>{c.forEach((g,y)=>{const x=y.getKey();h.get(x)===null&&(h=h.insert(x,dn.newInvalidDocument(x)))});let m=Cc();return h.forEach((g,y)=>{const x=c.get(g);x!==void 0&&Lc(x.mutation,y,Vn.empty(),ht.now()),ff(t,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return oe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Lr(o.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:SR(o.bundledQuery),readTime:Lr(o.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.overlays=new vt(we.comparator),this.qr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ga();return oe.forEach(t,o=>this.getOverlay(e,o).next(c=>{c!==null&&i.set(o,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,c)=>{this.St(e,t,c)}),oe.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(i)),oe.resolve()}getOverlaysForCollection(e,t,i){const o=ga(),c=t.length+1,h=new we(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>i&&o.set(g.getKey(),g)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let c=new vt((y,x)=>y-x);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let x=c.get(y.largestBatchId);x===null&&(x=ga(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const m=ga(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,x)=>m.set(y,x)),!(m.size()>=o)););return oe.resolve(m)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new tR(t,i));let c=this.qr.get(t);c===void 0&&(c=ze(),this.qr.set(t,c)),this.qr.set(t,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.Qr=new Ft(Qt.$r),this.Ur=new Ft(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Qt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new Qt(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new we(new ct([])),i=new Qt(t,e),o=new Qt(t,e+1),c=[];return this.Ur.forEachInRange([i,o],h=>{this.Gr(h),c.push(h.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new we(new ct([])),i=new Qt(t,e),o=new Qt(t,e+1);let c=ze();return this.Ur.forEachInRange([i,o],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new Qt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return we.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Qt.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new eR(c,t,i,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Qt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(h)}lookupMutationBatch(e,t){return oe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),c=o<0?0:o;return oe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?w0:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Qt(t,0),o=new Qt(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,o],h=>{const m=this.Xr(h.Yr);c.push(m)}),oe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ft(Ue);return t.forEach(o=>{const c=new Qt(o,0),h=new Qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],m=>{i=i.add(m.Yr)})}),oe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let c=i;we.isDocumentKey(c)||(c=c.child(""));const h=new Qt(new we(c),0);let m=new Ft(Ue);return this.Zr.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)},h),oe.resolve(this.ti(m))}ti(e){const t=[];return e.forEach(i=>{const o=this.Xr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return oe.forEach(t.mutations,o=>{const c=new Qt(o.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new Qt(t,0),o=this.Zr.firstAfterOrEqual(i);return oe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.ri=e,this.docs=function(){return new vt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),c=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return oe.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let i=Rs();return t.forEach(o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():dn.newInvalidDocument(o))}),oe.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let c=Rs();const h=t.path,m=new we(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||g8(p8(x),i)<=0||(o.has(x.key)||ff(t,x))&&(c=c.insert(x.key,x.mutableCopy()))}return oe.resolve(c)}getAllFromCollectionGroup(e,t,i,o){Ne(9500)}ii(e,t){return oe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new BR(this)}getSize(e){return oe.resolve(this.size)}}class BR extends MR{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)}),oe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.persistence=e,this.si=new ja(t=>S0(t),A0),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new M0,this.targetCount=0,this.ai=Yo.ur()}forEachTarget(e,t){return this.si.forEach((i,o)=>t(o)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),oe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Yo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Pr(t),oe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,i){let o=0;const c=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),oe.waitFor(c).next(()=>o)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return oe.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),oe.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(h=>{c.push(o.markPotentiallyOrphaned(e,h))}),oe.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return oe.resolve(i)}containsKey(e,t){return oe.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,t){this.ui={},this.overlays={},this.ci=new lf(0),this.li=!1,this.li=!0,this.hi=new LR,this.referenceDelegate=e(this),this.Pi=new FR(this),this.indexManager=new AR,this.remoteDocumentCache=function(o){return new zR(o)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new TR(t),this.Ii=new PR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new UR(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const o=new HR(this.ci.next());return this.referenceDelegate.Ei(),i(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,t){return oe.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class HR extends v8{constructor(e){super(),this.currentSequenceNumber=e}}class k0{constructor(e){this.persistence=e,this.Ri=new M0,this.Vi=null}static mi(e){return new k0(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),oe.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,i=>{const o=we.fromPath(i);return this.gi(e,o).next(c=>{c||t.removeEntry(o,Ce.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return oe.or([()=>oe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ld{constructor(e,t){this.persistence=e,this.pi=new ja(i=>b8(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=jR(this,t)}static mi(e,t){return new Ld(e,t)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return oe.forEach(this.pi,(i,o)=>this.br(e,i,o).next(c=>c?oe.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,t).next(m=>{m||(i++,c.removeEntry(h,Ce.min()))})).next(()=>c.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),oe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cd(e.data.value)),t}br(e,t,i){return oe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return oe.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=ze(),o=ze();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new O0(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return _5()?8:x8(fn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const c={result:null};return this.ys(e,t).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ws(e,t,o,i).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new qR;return this.Ss(e,t,h).next(m=>{if(c.result=m,this.Vs)return this.bs(e,t,h,m.size)})}).next(()=>c.result)}bs(e,t,i,o){return i.documentReadCount<this.fs?(Co()<=Le.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Co()<=Le.DEBUG&&ge("QueryEngine","Query:",Io(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Co()<=Le.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(t))):oe.resolve())}ys(e,t){if(Hx(t))return oe.resolve(null);let i=Vr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Pd(t,null,"F"),i=Vr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const h=ze(...c);return this.ps.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,i).next(g=>{const y=this.Ds(t,m);return this.Cs(t,y,h,g.readTime)?this.ys(e,Pd(t,null,"F")):this.vs(e,y,t,g)}))})))}ws(e,t,i,o){return Hx(t)||o.isEqual(Ce.min())?oe.resolve(null):this.ps.getDocuments(e,i).next(c=>{const h=this.Ds(t,c);return this.Cs(t,h,i,o)?oe.resolve(null):(Co()<=Le.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(t)),this.vs(e,h,t,m8(o,Hc)).next(m=>m))})}Ds(e,t){let i=new Ft(k4(e));return t.forEach((o,c)=>{ff(e,c)&&(i=i.add(c))}),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,i){return Co()<=Le.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Io(t)),this.ps.getDocumentsMatchingQuery(e,t,wi.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next(c=>(t.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="LocalStore",GR=3e8;class YR{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new vt(Ue),this.xs=new ja(c=>S0(c),A0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function KR(n,e,t,i){return new YR(n,e,t,i)}async function s6(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const h=[],m=[];let g=ze();for(const y of o){h.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){m.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return t.localDocuments.getDocuments(i,g).next(y=>({Ls:y,removedBatchIds:h,addedBatchIds:m}))})})}function QR(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return function(m,g,y,x){const w=y.batch,E=w.keys();let k=oe.resolve();return E.forEach(O=>{k=k.next(()=>x.getEntry(g,O)).next(P=>{const B=y.docVersions.get(O);We(B!==null,48541),P.version.compareTo(B)<0&&(w.applyToRemoteDocument(P,y),P.isValidDocument()&&(P.setReadTime(y.commitVersion),x.addEntry(P)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(g,w))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let g=ze();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function i6(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function XR(n,e){const t=Ie(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach((x,w)=>{const E=o.get(w);if(!E)return;m.push(t.Pi.removeMatchingKeys(c,x.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(c,x.addedDocuments,w)));let k=E.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?k=k.withResumeToken(an.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):x.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(x.resumeToken,i)),o=o.insert(w,k),function(P,B,H){return P.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=GR?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(E,k,x)&&m.push(t.Pi.updateTargetData(c,k))});let g=Rs(),y=ze();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,x))}),m.push(WR(c,h,e.documentUpdates).next(x=>{g=x.ks,y=x.qs})),!i.isEqual(Ce.min())){const x=t.Pi.getLastRemoteSnapshotVersion(c).next(w=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i));m.push(x)}return oe.waitFor(m).next(()=>h.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(t.Ms=o,c))}function WR(n,e,t){let i=ze(),o=ze();return t.forEach(c=>i=i.add(c)),e.getEntries(n,i).next(c=>{let h=Rs();return t.forEach((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ce.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ge(P0,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{ks:h,qs:o}})}function ZR(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=w0),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function JR(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Pi.getTargetData(i,e).next(c=>c?(o=c,oe.resolve(o)):t.Pi.allocateTargetId(i).next(h=>(o=new pi(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function Pg(n,e,t){const i=Ie(n),o=i.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",c,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!ll(h))throw h;ge(P0,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function n_(n,e,t){const i=Ie(n);let o=Ce.min(),c=ze();return i.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,x){const w=Ie(g),E=w.xs.get(x);return E!==void 0?oe.resolve(w.Ms.get(E)):w.Pi.getTargetData(y,x)}(i,h,Vr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,m.targetId).next(g=>{c=g})}).next(()=>i.Fs.getDocumentsMatchingQuery(h,e,t?o:Ce.min(),t?c:ze())).next(m=>(e9(i,z8(e),m),{documents:m,Qs:c})))}function e9(n,e,t){let i=n.Os.get(e)||Ce.min();t.forEach((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),n.Os.set(e,i)}class r_{constructor(){this.activeTargetIds=G8()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t9{constructor(){this.Mo=new r_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new r_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="ConnectivityMonitor";class i_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(s_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(s_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh=null;function Vg(){return Kh===null?Kh=function(){return 268435456+Math.round(2147483648*Math.random())}():Kh++,"0x"+Kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="RestConnection",r9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Md?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,c){const h=Vg(),m=this.zo(e,t.toUriEncodedString());ge(eg,`Sending RPC '${e}' ${h}:`,m,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(m),x=Ca(y);return this.Jo(e,m,g,i,x).then(w=>(ge(eg,`Received RPC '${e}' ${h}: `,w),w),w=>{throw Fo(eg,`RPC '${e}' ${h} failed with error: `,w,"url: ",m,"request:",i),w})}Ho(e,t,i,o,c,h){return this.Go(e,t,i,o,c)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+al}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),i&&i.headers.forEach((o,c)=>e[c]=o)}zo(e,t){const i=r9[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class a9 extends s9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,c){const h=Vg();return new Promise((m,g)=>{const y=new o4;y.setWithCredentials(!0),y.listenOnce(l4.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case ld.NO_ERROR:const w=y.getResponseJson();ge(un,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),m(w);break;case ld.TIMEOUT:ge(un,`RPC '${e}' ${h} timed out`),g(new me(re.DEADLINE_EXCEEDED,"Request time out"));break;case ld.HTTP_ERROR:const E=y.getStatus();if(ge(un,`RPC '${e}' ${h} failed with status:`,E,"response text:",y.getResponseText()),E>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const O=k?.error;if(O&&O.status&&O.message){const P=function(H){const Z=H.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(Z)>=0?Z:re.UNKNOWN}(O.status);g(new me(P,O.message))}else g(new me(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new me(re.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ge(un,`RPC '${e}' ${h} completed.`)}});const x=JSON.stringify(o);ge(un,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",x,i,15)})}T_(e,t,i){const o=Vg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=h4(),m=u4(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const x=c.join("");ge(un,`Creating RPC '${e}' stream ${o}: ${x}`,g);const w=h.createWebChannel(x,g);this.I_(w);let E=!1,k=!1;const O=new i9({Yo:B=>{k?ge(un,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(E||(ge(un,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),ge(un,`RPC '${e}' stream ${o} sending:`,B),w.send(B))},Zo:()=>w.close()}),P=(B,H,Z)=>{B.listen(H,ee=>{try{Z(ee)}catch(ue){setTimeout(()=>{throw ue},0)}})};return P(w,Rc.EventType.OPEN,()=>{k||(ge(un,`RPC '${e}' stream ${o} transport opened.`),O.o_())}),P(w,Rc.EventType.CLOSE,()=>{k||(k=!0,ge(un,`RPC '${e}' stream ${o} transport closed`),O.a_(),this.E_(w))}),P(w,Rc.EventType.ERROR,B=>{k||(k=!0,Fo(un,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),O.a_(new me(re.UNAVAILABLE,"The operation could not be completed")))}),P(w,Rc.EventType.MESSAGE,B=>{if(!k){const H=B.data[0];We(!!H,16349);const Z=H,ee=Z?.error||Z[0]?.error;if(ee){ge(un,`RPC '${e}' stream ${o} received error:`,ee);const ue=ee.status;let J=function(A){const N=Mt[A];if(N!==void 0)return G4(N)}(ue),ce=ee.message;J===void 0&&(J=re.INTERNAL,ce="Unknown error status: "+ue+" with message "+ee.message),k=!0,O.a_(new me(J,ce)),w.close()}else ge(un,`RPC '${e}' stream ${o} received:`,H),O.u_(H)}}),P(m,c4.STAT_EVENT,B=>{B.stat===Sg.PROXY?ge(un,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Sg.NOPROXY&&ge(un,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.__()},0),O}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function tg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(n){return new uR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,t,i=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="PersistentStream";class o6{constructor(e,t,i,o,c,h,m,g){this.Mi=e,this.S_=i,this.b_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new a6(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Ns(t.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.D_===t&&this.G_(i,o)},i=>{e(()=>{const o=new me(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{i(()=>this.z_(o))}),this.stream.onMessage(o=>{i(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ge(a_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ge(a_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o9 extends o6{constructor(e,t,i,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=fR(this.serializer,e),i=function(c){if(!("targetChange"in c))return Ce.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ce.min():h.readTime?Lr(h.readTime):Ce.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Og(this.serializer),t.addTarget=function(c,h){let m;const g=h.target;if(m=Ig(g)?{documents:gR(c,g)}:{query:yR(c,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Q4(c,h.resumeToken);const y=jg(c,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ce.min())>0){m.readTime=Vd(c,h.snapshotVersion.toTimestamp());const y=jg(c,h.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const i=xR(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Og(this.serializer),t.removeTarget=e,this.q_(t)}}class l9 extends o6{constructor(e,t,i,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=pR(e.writeResults,e.commitTime),i=Lr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Og(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>mR(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{}class u9 extends c9{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Go(e,Mg(t,i),o,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(re.UNKNOWN,c.toString())})}Ho(e,t,i,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(e,Mg(t,i),o,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(re.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class h9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(t),this.aa=!1):ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class d9{constructor(e,t,i,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(h=>{i.enqueueAndForget(async()=>{Ma(this)&&(ge(Aa,"Restarting streams for network reachability change."),await async function(g){const y=Ie(g);y.Ea.add(4),await uu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await vf(y)}(this))})}),this.Ra=new h9(i,o)}}async function vf(n){if(Ma(n))for(const e of n.da)await e(!0)}async function uu(n){for(const e of n.da)await e(!1)}function l6(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),z0(t)?U0(t):ul(t).O_()&&L0(t,e))}function V0(n,e){const t=Ie(n),i=ul(t);t.Ia.delete(e),i.O_()&&c6(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ma(t)&&t.Ra.set("Unknown"))}function L0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ul(n).Y_(e)}function c6(n,e){n.Va.Ue(e),ul(n).Z_(e)}function U0(n){n.Va=new aR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ul(n).start(),n.Ra.ua()}function z0(n){return Ma(n)&&!ul(n).x_()&&n.Ia.size>0}function Ma(n){return Ie(n).Ea.size===0}function u6(n){n.Va=void 0}async function f9(n){n.Ra.set("Online")}async function m9(n){n.Ia.forEach((e,t)=>{L0(n,e)})}async function p9(n,e){u6(n),z0(n)?(n.Ra.ha(e),U0(n)):n.Ra.set("Unknown")}async function g9(n,e,t){if(n.Ra.set("Online"),e instanceof K4&&e.state===2&&e.cause)try{await async function(o,c){const h=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))}(n,e)}catch(i){ge(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ud(n,i)}else if(e instanceof dd?n.Va.Ze(e):e instanceof Y4?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ce.min()))try{const i=await i6(n.localStore);t.compareTo(i)>=0&&await function(c,h){const m=c.Va.Tt(h);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(an.EMPTY_BYTE_STRING,x.snapshotVersion)),c6(c,g);const w=new pi(x.target,g,y,x.sequenceNumber);L0(c,w)}),c.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(i){ge(Aa,"Failed to raise snapshot:",i),await Ud(n,i)}}async function Ud(n,e,t){if(!ll(e))throw e;n.Ea.add(1),await uu(n),n.Ra.set("Offline"),t||(t=()=>i6(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge(Aa,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await vf(n)})}function h6(n,e){return e().catch(t=>Ud(n,t,e))}async function xf(n){const e=Ie(n),t=Ai(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:w0;for(;y9(e);)try{const o=await ZR(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,v9(e,o)}catch(o){await Ud(e,o)}d6(e)&&f6(e)}function y9(n){return Ma(n)&&n.Ta.length<10}function v9(n,e){n.Ta.push(e);const t=Ai(n);t.O_()&&t.X_&&t.ea(e.mutations)}function d6(n){return Ma(n)&&!Ai(n).x_()&&n.Ta.length>0}function f6(n){Ai(n).start()}async function x9(n){Ai(n).ra()}async function _9(n){const e=Ai(n);for(const t of n.Ta)e.ea(t.mutations)}async function b9(n,e,t){const i=n.Ta.shift(),o=I0.from(i,e,t);await h6(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await xf(n)}async function w9(n,e){e&&Ai(n).X_&&await async function(i,o){if(function(h){return rR(h)&&h!==re.ABORTED}(o.code)){const c=i.Ta.shift();Ai(i).B_(),await h6(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o)),await xf(i)}}(n,e),d6(n)&&f6(n)}async function o_(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ge(Aa,"RemoteStore received new credentials");const i=Ma(t);t.Ea.add(3),await uu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await vf(t)}async function E9(n,e){const t=Ie(n);e?(t.Ea.delete(2),await vf(t)):e||(t.Ea.add(2),await uu(t),t.Ra.set("Unknown"))}function ul(n){return n.ma||(n.ma=function(t,i,o){const c=Ie(t);return c.sa(),new o9(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{Xo:f9.bind(null,n),t_:m9.bind(null,n),r_:p9.bind(null,n),H_:g9.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),z0(n)?U0(n):n.Ra.set("Unknown")):(await n.ma.stop(),u6(n))})),n.ma}function Ai(n){return n.fa||(n.fa=function(t,i,o){const c=Ie(t);return c.sa(),new l9(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:x9.bind(null,n),r_:w9.bind(null,n),ta:_9.bind(null,n),na:b9.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await xf(n)):(await n.fa.stop(),n.Ta.length>0&&(ge(Aa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,t,i,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,c){const h=Date.now()+i,m=new B0(e,t,h,o,c);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F0(n,e){if(Ns("AsyncQueue",`${e}: ${n}`),ll(n))return new me(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(e){return new Uo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=Cc(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Uo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(){this.ga=new vt(we.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ko{constructor(e,t,i,o,c,h,m,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,c){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Ko(e,t,Uo.emptySet(t),h,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class S9{constructor(){this.queries=c_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Ie(t),c=o.queries;o.queries=c_(),c.forEach((h,m)=>{for(const g of m.Sa)g.onError(i)})})(this,new me(re.ABORTED,"Firestore shutting down"))}}function c_(){return new ja(n=>M4(n),df)}async function H0(n,e){const t=Ie(n);let i=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(i=2):(c=new T9,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=F0(h,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&$0(t)}async function q0(n,e){const t=Ie(n),i=e.query;let o=3;const c=t.queries.get(i);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function A9(n,e){const t=Ie(n);let i=!1;for(const o of e){const c=o.query,h=t.queries.get(c);if(h){for(const m of h.Sa)m.Fa(o)&&(i=!0);h.wa=o}}i&&$0(t)}function N9(n,e,t){const i=Ie(n),o=i.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);i.queries.delete(e)}function $0(n){n.Ca.forEach(e=>{e.next()})}var Lg,u_;(u_=Lg||(Lg={})).Ma="default",u_.Cache="cache";class G0{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ko(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.key=e}}class p6{constructor(e){this.key=e}}class R9{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=k4(e),this.tu=new Uo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new l_,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,w)=>{const E=o.get(x),k=ff(this.query,w)?w:null,O=!!E&&this.mutatedKeys.has(E.key),P=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let B=!1;E&&k?E.data.isEqual(k.data)?O!==P&&(i.track({type:3,doc:k}),B=!0):this.su(E,k)||(i.track({type:2,doc:k}),B=!0,(g&&this.eu(k,g)>0||y&&this.eu(k,y)<0)&&(m=!0)):!E&&k?(i.track({type:0,doc:k}),B=!0):E&&!k&&(i.track({type:1,doc:E}),B=!0,(g||y)&&(m=!0)),B&&(k?(h=h.add(k),c=P?c.add(x):c.delete(x)):(h=h.delete(x),c=c.delete(x)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),c=c.delete(x.key),i.track({type:1,doc:x})}return{tu:h,iu:i,Cs:m,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((x,w)=>function(k,O){const P=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:B})}};return P(k)-P(O)}(x.type,w.type)||this.eu(x.doc,w.doc)),this.ou(i),o=o??!1;const m=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new Ko(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new l_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new p6(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new m6(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Y0="SyncEngine";class C9{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class I9{constructor(e){this.key=e,this.hu=!1}}class D9{constructor(e,t,i,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ja(m=>M4(m),df),this.Iu=new Map,this.Eu=new Set,this.du=new vt(we.comparator),this.Au=new Map,this.Ru=new M0,this.Vu={},this.mu=new Map,this.fu=Yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function j9(n,e,t=!0){const i=b6(n);let o;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await g6(i,e,t,!0),o}async function M9(n,e){const t=b6(n);await g6(t,e,!0,!1)}async function g6(n,e,t,i){const o=await JR(n.localStore,Vr(e)),c=o.targetId,h=n.sharedClientState.addLocalQueryTarget(c,t);let m;return i&&(m=await k9(n,e,c,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&l6(n.remoteStore,o),m}async function k9(n,e,t,i,o){n.pu=(w,E,k)=>async function(P,B,H,Z){let ee=B.view.ru(H);ee.Cs&&(ee=await n_(P.localStore,B.query,!1).then(({documents:C})=>B.view.ru(C,ee)));const ue=Z&&Z.targetChanges.get(B.targetId),J=Z&&Z.targetMismatches.get(B.targetId)!=null,ce=B.view.applyChanges(ee,P.isPrimaryClient,ue,J);return d_(P,B.targetId,ce.au),ce.snapshot}(n,w,E,k);const c=await n_(n.localStore,e,!0),h=new R9(e,c.Qs),m=h.ru(c.documents),g=cu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(m,n.isPrimaryClient,g);d_(n,t,y.au);const x=new C9(e,t,h);return n.Tu.set(e,x),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function O9(n,e,t){const i=Ie(n),o=i.Tu.get(e),c=i.Iu.get(o.targetId);if(c.length>1)return i.Iu.set(o.targetId,c.filter(h=>!df(h,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Pg(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&V0(i.remoteStore,o.targetId),Ug(i,o.targetId)}).catch(ol)):(Ug(i,o.targetId),await Pg(i.localStore,o.targetId,!0))}async function P9(n,e){const t=Ie(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),V0(t.remoteStore,i.targetId))}async function V9(n,e,t){const i=q9(n);try{const o=await function(h,m){const g=Ie(h),y=ht.now(),x=m.reduce((k,O)=>k.add(O.key),ze());let w,E;return g.persistence.runTransaction("Locally write mutations","readwrite",k=>{let O=Rs(),P=ze();return g.Ns.getEntries(k,x).next(B=>{O=B,O.forEach((H,Z)=>{Z.isValidDocument()||(P=P.add(H))})}).next(()=>g.localDocuments.getOverlayedDocuments(k,O)).next(B=>{w=B;const H=[];for(const Z of m){const ee=Z8(Z,w.get(Z.key).overlayedDocument);ee!=null&&H.push(new ji(Z.key,ee,S4(ee.value.mapValue),Sn.exists(!0)))}return g.mutationQueue.addMutationBatch(k,y,H,m)}).next(B=>{E=B;const H=B.applyToLocalDocumentSet(w,P);return g.documentOverlayCache.saveOverlays(k,B.batchId,H)})}).then(()=>({batchId:E.batchId,changes:P4(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,m,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new vt(Ue)),y=y.insert(m,g),h.Vu[h.currentUser.toKey()]=y}(i,o.batchId,t),await hu(i,o.changes),await xf(i.remoteStore)}catch(o){const c=F0(o,"Failed to persist write");t.reject(c)}}async function y6(n,e){const t=Ie(n);try{const i=await XR(t.localStore,e);e.targetChanges.forEach((o,c)=>{const h=t.Au.get(c);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?We(h.hu,14607):o.removedDocuments.size>0&&(We(h.hu,42227),h.hu=!1))}),await hu(t,i,e)}catch(i){await ol(i)}}function h_(n,e,t){const i=Ie(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach((c,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const g=Ie(h);g.onlineState=m;let y=!1;g.queries.forEach((x,w)=>{for(const E of w.Sa)E.va(m)&&(y=!0)}),y&&$0(g)}(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function L9(n,e,t){const i=Ie(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),c=o&&o.key;if(c){let h=new vt(we.comparator);h=h.insert(c,dn.newNoDocument(c,Ce.min()));const m=ze().add(c),g=new gf(Ce.min(),new Map,new vt(Ue),h,m);await y6(i,g),i.du=i.du.remove(c),i.Au.delete(e),K0(i)}else await Pg(i.localStore,e,!1).then(()=>Ug(i,e,t)).catch(ol)}async function U9(n,e){const t=Ie(n),i=e.batch.batchId;try{const o=await QR(t.localStore,e);x6(t,i,null),v6(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await hu(t,o)}catch(o){await ol(o)}}async function z9(n,e,t){const i=Ie(n);try{const o=await function(h,m){const g=Ie(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let x;return g.mutationQueue.lookupMutationBatch(y,m).next(w=>(We(w!==null,37113),x=w.keys(),g.mutationQueue.removeMutationBatch(y,w))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x)).next(()=>g.localDocuments.getDocuments(y,x))})}(i.localStore,e);x6(i,e,t),v6(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await hu(i,o)}catch(o){await ol(o)}}function v6(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function x6(n,e,t){const i=Ie(n);let o=i.Vu[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Ug(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(i=>{n.Ru.containsKey(i)||_6(n,i)})}function _6(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(V0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),K0(n))}function d_(n,e,t){for(const i of t)i instanceof m6?(n.Ru.addReference(i.key,e),B9(n,i)):i instanceof p6?(ge(Y0,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||_6(n,i.key)):Ne(19791,{wu:i})}function B9(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(ge(Y0,"New document in limbo: "+t),n.Eu.add(i),K0(n))}function K0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(ct.fromString(e)),i=n.fu.next();n.Au.set(i,new I9(t)),n.du=n.du.insert(t,i),l6(n.remoteStore,new pi(Vr(hf(t.path)),i,"TargetPurposeLimboResolution",lf.ce))}}async function hu(n,e,t){const i=Ie(n),o=[],c=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach((m,g)=>{h.push(i.pu(g,e,t).then(y=>{if((y||t)&&i.isPrimaryClient){const x=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){o.push(y);const x=O0.As(g.targetId,y);c.push(x)}}))}),await Promise.all(h),i.Pu.H_(o),await async function(g,y){const x=Ie(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>oe.forEach(y,E=>oe.forEach(E.Es,k=>x.persistence.referenceDelegate.addReference(w,E.targetId,k)).next(()=>oe.forEach(E.ds,k=>x.persistence.referenceDelegate.removeReference(w,E.targetId,k)))))}catch(w){if(!ll(w))throw w;ge(P0,"Failed to update sequence numbers: "+w)}for(const w of y){const E=w.targetId;if(!w.fromCache){const k=x.Ms.get(E),O=k.snapshotVersion,P=k.withLastLimboFreeSnapshotVersion(O);x.Ms=x.Ms.insert(E,P)}}}(i.localStore,c))}async function F9(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){ge(Y0,"User change. New user:",e.toKey());const i=await s6(t.localStore,e);t.currentUser=e,function(c,h){c.mu.forEach(m=>{m.forEach(g=>{g.reject(new me(re.CANCELLED,h))})}),c.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await hu(t,i.Ls)}}function H9(n,e){const t=Ie(n),i=t.Au.get(e);if(i&&i.hu)return ze().add(i.key);{let o=ze();const c=t.Iu.get(e);if(!c)return o;for(const h of c){const m=t.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function b6(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=y6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L9.bind(null,e),e.Pu.H_=A9.bind(null,e.eventManager),e.Pu.yu=N9.bind(null,e.eventManager),e}function q9(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z9.bind(null,e),e}class zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return KR(this.persistence,new $R,e.initialUser,this.serializer)}Cu(e){return new r6(k0.mi,this.serializer)}Du(e){return new t9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zd.provider={build:()=>new zd};class $9 extends zd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof Ld,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new IR(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new r6(i=>Ld.mi(i,t),this.serializer)}}class zg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>h_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=F9.bind(null,this.syncEngine),await E9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S9}()}createDatastore(e){const t=yf(e.databaseInfo.databaseId),i=function(c){return new a9(c)}(e.databaseInfo);return function(c,h,m,g){return new u9(c,h,m,g)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,c,h,m){return new d9(i,o,c,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>h_(this.syncEngine,t,0),function(){return i_.v()?new i_:new n9}())}createSyncEngine(e,t){return function(o,c,h,m,g,y,x){const w=new D9(o,c,h,m,g,y);return x&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const i=Ie(t);ge(Aa,"RemoteStore shutting down."),i.Ea.add(5),await uu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zg.provider={build:()=>new zg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="FirestoreClient";class G9{constructor(e,t,i,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=b0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,async h=>{ge(Ni,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ge(Ni,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=F0(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ng(n,e){n.asyncQueue.verifyOperationInProgress(),ge(Ni,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await s6(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function f_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Y9(n);ge(Ni,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>o_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>o_(e.remoteStore,o)),n._onlineComponents=e}async function Y9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(Ni,"Using user provided OfflineComponentProvider");try{await ng(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Fo("Error using user provided cache. Falling back to memory cache: "+t),await ng(n,new zd)}}else ge(Ni,"Using default OfflineComponentProvider"),await ng(n,new $9(void 0));return n._offlineComponents}async function w6(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(Ni,"Using user provided OnlineComponentProvider"),await f_(n,n._uninitializedComponentsProvider._online)):(ge(Ni,"Using default OnlineComponentProvider"),await f_(n,new zg))),n._onlineComponents}function K9(n){return w6(n).then(e=>e.syncEngine)}async function Bd(n){const e=await w6(n),t=e.eventManager;return t.onListen=j9.bind(null,e.syncEngine),t.onUnlisten=O9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=M9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=P9.bind(null,e.syncEngine),t}function Q9(n,e,t={}){const i=new Es;return n.asyncQueue.enqueueAndForget(async()=>function(c,h,m,g,y){const x=new Q0({next:E=>{x.Nu(),h.enqueueAndForget(()=>q0(c,w));const k=E.docs.has(m);!k&&E.fromCache?y.reject(new me(re.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&E.fromCache&&g&&g.source==="server"?y.reject(new me(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(E)},error:E=>y.reject(E)}),w=new G0(hf(m.path),x,{includeMetadataChanges:!0,qa:!0});return H0(c,w)}(await Bd(n),n.asyncQueue,e,t,i)),i.promise}function X9(n,e,t={}){const i=new Es;return n.asyncQueue.enqueueAndForget(async()=>function(c,h,m,g,y){const x=new Q0({next:E=>{x.Nu(),h.enqueueAndForget(()=>q0(c,w)),E.fromCache&&g.source==="server"?y.reject(new me(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(E)},error:E=>y.reject(E)}),w=new G0(m,x,{includeMetadataChanges:!0,qa:!0});return H0(c,w)}(await Bd(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="firestore.googleapis.com",p_=!0;class g_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T6,this.ssl=p_}else this.host=e.host,this.ssl=e.ssl??p_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=n6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RR)throw new me(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E6(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new r8;switch(i.type){case"firstParty":return new o8(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=m_.get(t);i&&(ge("ComponentProvider","Removing Datastore"),m_.delete(t),i.terminate())}(this),Promise.resolve()}}function W9(n,e,t,i={}){n=Tn(n,_f);const o=Ca(e),c=n._getSettings(),h={...c,emulatorOptions:n._getEmulatorOptions()},m=`${e}:${t}`;o&&(o0(`https://${m}`),l0("Firestore",!0)),c.host!==T6&&c.host!==m&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:i};if(!_i(g,h)&&(n._setSettings(g),i.mockUserToken)){let y,x;if(typeof i.mockUserToken=="string")y=i.mockUserToken,x=hn.MOCK_USER;else{y=_b(i.mockUserToken,n._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new me(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new hn(w)}n._authCredentials=new s8(new f4(y,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class Tt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(ou(t,Tt._jsonSchema))return new Tt(e,i||null,new we(ct.fromString(t.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Pt("string",Tt._jsonSchemaVersion),referencePath:Pt("string")};class xi extends Ms{constructor(e,t,i){super(e,t,hf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new we(e))}withConverter(e){return new xi(this.firestore,e,this._path)}}function $r(n,e,...t){if(n=yt(n),m4("collection","path",e),n instanceof _f){const i=ct.fromString(e,...t);return Cx(i),new xi(n,null,i)}{if(!(n instanceof Tt||n instanceof xi))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return Cx(i),new xi(n.firestore,null,i)}}function xt(n,e,...t){if(n=yt(n),arguments.length===1&&(e=b0.newId()),m4("doc","path",e),n instanceof _f){const i=ct.fromString(e,...t);return Rx(i),new Tt(n,null,new we(i))}{if(!(n instanceof Tt||n instanceof xi))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return Rx(i),new Tt(n.firestore,n instanceof xi?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="AsyncQueue";class v_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new a6(this,"async_queue_retry"),this._c=()=>{const i=tg();i&&ge(y_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=tg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=tg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Es;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ll(e))throw e;ge(y_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",x_(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=B0.createAndSchedule(this,e,t,i,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&Ne(47125,{Pc:x_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function x_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of i)if(c in o&&typeof o[c]=="function")return!0;return!1}(n,["next","error","complete"])}class Cs extends _f{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new v_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v_(e),this._firestoreClient=void 0,await e}}}function Z9(n,e){const t=typeof n=="object"?n:h0(),i=typeof n=="string"?n:Md,o=nf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=yb("firestore");c&&W9(o,...c)}return o}function du(n){if(n._terminated)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||J9(n),n._firestoreClient}function J9(n){const e=n._freezeSettings(),t=function(o,c,h,m){return new T8(o,c,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,E6(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new G9(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(an.fromBase64String(e))}catch(t){throw new me(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jn(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Pt("string",Jn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ur._jsonSchemaVersion}}static fromJSON(e){if(ou(e,Ur._jsonSchema))return new Ur(e.latitude,e.longitude)}}Ur._jsonSchemaVersion="firestore/geoPoint/1.0",Ur._jsonSchema={type:Pt("string",Ur._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,zr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new zr(e.vectorValues);throw new me(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zr._jsonSchemaVersion="firestore/vectorValue/1.0",zr._jsonSchema={type:Pt("string",zr._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=/^__.*__$/;class tC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new lu(e,this.data,t,this.fieldTransforms)}}class S6{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ji(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function A6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:n})}}class bf{constructor(e,t,i,o,c,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(A6(this.Ac)&&eC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nC{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||yf(e)}Cc(e,t,i,o=!1){return new bf({Ac:e,methodName:t,Dc:i,path:rn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mu(n){const e=n._freezeSettings(),t=yf(n._databaseId);return new nC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function X0(n,e,t,i,o,c={}){const h=n.Cc(c.merge||c.mergeFields?2:0,e,t,o);e1("Data must be an object, but it was:",h,i);const m=C6(i,h);let g,y;if(c.merge)g=new Vn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const x=[];for(const w of c.mergeFields){const E=Bg(e,w,t);if(!h.contains(E))throw new me(re.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);D6(x,E)||x.push(E)}g=new Vn(x),y=h.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,y=h.fieldTransforms;return new tC(new wn(m),g,y)}class wf extends hl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}function rC(n,e,t){return new bf({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class W0 extends hl{_toFieldTransform(e){return new R0(e.path,new Kc)}isEqual(e){return e instanceof W0}}class Z0 extends hl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=rC(this,e,!0),i=this.vc.map(c=>dl(c,t)),o=new Go(i);return new R0(e.path,o)}isEqual(e){return e instanceof Z0&&_i(this.vc,e.vc)}}class J0 extends hl{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Xc(e.serializer,U4(e.serializer,this.Fc));return new R0(e.path,t)}isEqual(e){return e instanceof J0&&this.Fc===e.Fc}}function N6(n,e,t,i){const o=n.Cc(1,e,t);e1("Data must be an object, but it was:",o,i);const c=[],h=wn.empty();Di(i,(g,y)=>{const x=t1(e,g,t);y=yt(y);const w=o.yc(x);if(y instanceof wf)c.push(x);else{const E=dl(y,w);E!=null&&(c.push(x),h.set(x,E))}});const m=new Vn(c);return new S6(h,m,o.fieldTransforms)}function R6(n,e,t,i,o,c){const h=n.Cc(1,e,t),m=[Bg(e,i,t)],g=[o];if(c.length%2!=0)throw new me(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<c.length;E+=2)m.push(Bg(e,c[E])),g.push(c[E+1]);const y=[],x=wn.empty();for(let E=m.length-1;E>=0;--E)if(!D6(y,m[E])){const k=m[E];let O=g[E];O=yt(O);const P=h.yc(k);if(O instanceof wf)y.push(k);else{const B=dl(O,P);B!=null&&(y.push(k),x.set(k,B))}}const w=new Vn(y);return new S6(x,w,h.fieldTransforms)}function sC(n,e,t,i=!1){return dl(t,n.Cc(i?4:3,e))}function dl(n,e){if(I6(n=yt(n)))return e1("Unsupported field value:",e,n),C6(n,e);if(n instanceof hl)return function(i,o){if(!A6(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,o){const c=[];let h=0;for(const m of i){let g=dl(m,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}}(n,e)}return function(i,o){if((i=yt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return U4(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=ht.fromDate(i);return{timestampValue:Vd(o.serializer,c)}}if(i instanceof ht){const c=new ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vd(o.serializer,c)}}if(i instanceof Ur)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jn)return{bytesValue:Q4(o.serializer,i._byteString)};if(i instanceof Tt){const c=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:j0(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof zr)return function(h,m){return{mapValue:{fields:{[E4]:{stringValue:T4},[kd]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return N0(m.serializer,y)})}}}}}}(i,o);throw o.Sc(`Unsupported field value: ${of(i)}`)}(n,e)}function C6(n,e){const t={};return y4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(n,(i,o)=>{const c=dl(o,e.mc(i));c!=null&&(t[i]=c)}),{mapValue:{fields:t}}}function I6(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof Ur||n instanceof Jn||n instanceof Tt||n instanceof hl||n instanceof zr)}function e1(n,e,t){if(!I6(t)||!p4(t)){const i=of(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function Bg(n,e,t){if((e=yt(e))instanceof fu)return e._internalPath;if(typeof e=="string")return t1(n,e);throw Fd("Field path arguments must be of type string or ",n,!1,void 0,t)}const iC=new RegExp("[~\\*/\\[\\]]");function t1(n,e,t){if(e.search(iC)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fu(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fd(n,e,t,i,o){const c=i&&!i.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new me(re.INVALID_ARGUMENT,m+n+g)}function D6(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,t,i,o,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ef("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class aC extends j6{data(){return super.data()}}function Ef(n,e){return typeof e=="string"?t1(n,e):e instanceof fu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n1{}class r1 extends n1{}function ka(n,e,...t){let i=[];e instanceof n1&&i.push(e),i=i.concat(t),function(c){const h=c.filter(g=>g instanceof s1).length,m=c.filter(g=>g instanceof Tf).length;if(h>1||h>0&&m>0)throw new me(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Tf extends r1{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Tf(e,t,i)}_apply(e){const t=this._parse(e);return k6(e._query,t),new Ms(e.firestore,e.converter,Dg(e._query,t))}_parse(e){const t=mu(e.firestore);return function(c,h,m,g,y,x,w){let E;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new me(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){w_(w,x);const O=[];for(const P of w)O.push(b_(g,c,P));E={arrayValue:{values:O}}}else E=b_(g,c,w)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||w_(w,x),E=sC(m,h,w,x==="in"||x==="not-in");return Ot.create(y,x,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Hd(n,e,t){const i=e,o=Ef("where",n);return Tf._create(o,i,t)}class s1 extends n1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new s1(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:fr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,c){let h=o;const m=c.getFlattenedFilters();for(const g of m)k6(h,g),h=Dg(h,g)}(e._query,t),new Ms(e.firestore,e.converter,Dg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i1 extends r1{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new i1(e,t)}_apply(e){const t=function(o,c,h){if(o.startAt!==null)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yc(c,h)}(e._query,this._field,this._direction);return new Ms(e.firestore,e.converter,function(o,c){const h=o.explicitOrderBy.concat([c]);return new cl(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function pu(n,e="asc"){const t=e,i=Ef("orderBy",n);return i1._create(i,t)}class a1 extends r1{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new a1(e,t,i)}_apply(e){return new Ms(e.firestore,e.converter,Pd(e._query,this._limit,this._limitType))}}function oC(n){return a1._create("limit",n,"F")}function b_(n,e,t){if(typeof(t=yt(t))=="string"){if(t==="")throw new me(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j4(e)&&t.indexOf("/")!==-1)throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ct.fromString(t));if(!we.isDocumentKey(i))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Vx(n,new we(i))}if(t instanceof Tt)return Vx(n,t._key);throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(t)}.`)}function w_(n,e){if(!Array.isArray(n)||n.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function k6(n,e){const t=function(o,c){for(const h of o)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class lC{convertValue(e,t="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Di(e,(o,c)=>{i[o]=this.convertValue(c,t)}),i}convertVectorValue(e){const t=e.fields?.[kd].arrayValue?.values?.map(i=>Rt(i.doubleValue));return new zr(t)}convertGeoPoint(e){return new Ur(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=uf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const t=Ei(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);We(t6(i),9688,{name:e});const o=new $c(i.get(1),i.get(3)),c=new we(i.popFirst(5));return o.isEqual(t)||Ns(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Dc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends j6{constructor(e,t,i,o,c,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ef("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=va._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:Pt("string",va._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class fd extends va{data(e={}){return super.data(e)}}class xa{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Dc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new fd(this._firestore,this._userDataWriter,i.key,i,new Dc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const g=new fd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Dc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new fd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Dc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),x=h.indexOf(m.doc.key)),{type:cC(m.type),doc:g,oldIndex:y,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=b0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(t.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(n){n=Tn(n,Tt);const e=Tn(n.firestore,Cs);return Q9(du(e),n._key).then(t=>V6(e,n,t))}xa._jsonSchemaVersion="firestore/querySnapshot/1.0",xa._jsonSchema={type:Pt("string",xa._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class l1 extends lC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function Sf(n){n=Tn(n,Ms);const e=Tn(n.firestore,Cs),t=du(e),i=new l1(e);return M6(n._query),X9(t,n._query).then(o=>new xa(e,i,n,o))}function O6(n,e,t){n=Tn(n,Tt);const i=Tn(n.firestore,Cs),o=o1(n.converter,e,t);return Af(i,[X0(mu(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Sn.none())])}function er(n,e,t,...i){n=Tn(n,Tt);const o=Tn(n.firestore,Cs),c=mu(o);let h;return h=typeof(e=yt(e))=="string"||e instanceof fu?R6(c,"updateDoc",n._key,e,t,i):N6(c,"updateDoc",n._key,e),Af(o,[h.toMutation(n._key,Sn.exists(!0))])}function P6(n,e){const t=Tn(n.firestore,Cs),i=xt(n),o=o1(n.converter,e);return Af(t,[X0(mu(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Sn.exists(!1))]).then(()=>i)}function gu(n,...e){n=yt(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||__(e[i])||(t=e[i++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(__(e[i])){const g=e[i];e[i]=g.next?.bind(g),e[i+1]=g.error?.bind(g),e[i+2]=g.complete?.bind(g)}let c,h,m;if(n instanceof Tt)h=Tn(n.firestore,Cs),m=hf(n._key.path),c={next:g=>{e[i]&&e[i](V6(h,n,g))},error:e[i+1],complete:e[i+2]};else{const g=Tn(n,Ms);h=Tn(g.firestore,Cs),m=g._query;const y=new l1(h);c={next:x=>{e[i]&&e[i](new xa(h,y,g,x))},error:e[i+1],complete:e[i+2]},M6(n._query)}return function(y,x,w,E){const k=new Q0(E),O=new G0(x,k,w);return y.asyncQueue.enqueueAndForget(async()=>H0(await Bd(y),O)),()=>{k.Nu(),y.asyncQueue.enqueueAndForget(async()=>q0(await Bd(y),O))}}(du(h),m,o,c)}function Af(n,e){return function(i,o){const c=new Es;return i.asyncQueue.enqueueAndForget(async()=>V9(await K9(i),o,c)),c.promise}(du(n),e)}function V6(n,e,t){const i=t.docs.get(e._key),o=new l1(n);return new va(n,o,e._key,i,new Dc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=mu(e)}set(e,t,i){this._verifyNotCommitted();const o=rg(e,this._firestore),c=o1(o.converter,t,i),h=X0(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,i);return this._mutations.push(h.toMutation(o._key,Sn.none())),this}update(e,t,i,...o){this._verifyNotCommitted();const c=rg(e,this._firestore);let h;return h=typeof(t=yt(t))=="string"||t instanceof fu?R6(this._dataReader,"WriteBatch.update",c._key,t,i,o):N6(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(h.toMutation(c._key,Sn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=rg(e,this._firestore);return this._mutations=this._mutations.concat(new C0(t._key,Sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rg(n,e){if((n=yt(n)).firestore!==e)throw new me(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Ri(){return new W0("serverTimestamp")}function hC(...n){return new Z0("arrayUnion",n)}function dC(n){return new J0("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n){return du(n=Tn(n,Cs)),new uC(n,e=>Af(n,e))}(function(e,t=!0){(function(o){al=o})(Ia),wa(new bi("firestore",(i,{instanceIdentifier:o,options:c})=>{const h=i.getProvider("app").getImmediate(),m=new Cs(new i8(i.getProvider("auth-internal")),new l8(h,i.getProvider("app-check-internal")),function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $c(y.options.projectId,x)}(h,o),h);return c={useFetchStreams:t,...c},m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),kr(Tx,Sx,e),kr(Tx,Sx,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="firebasestorage.googleapis.com",mC="storageBucket",pC=2*60*1e3,gC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends qr{constructor(e,t,i=0){super(sg(e),`Firebase Storage: ${t} (${sg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fr||(Fr={}));function sg(n){return"storage/"+n}function yC(){const n="An unknown error occurred, please check the error payload for server response.";return new Gr(Fr.UNKNOWN,n)}function vC(){return new Gr(Fr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xC(){return new Gr(Fr.CANCELED,"User canceled the upload/download.")}function _C(n){return new Gr(Fr.INVALID_URL,"Invalid URL '"+n+"'.")}function bC(n){return new Gr(Fr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function E_(n){return new Gr(Fr.INVALID_ARGUMENT,n)}function U6(){return new Gr(Fr.APP_DELETED,"The Firebase app was deleted.")}function wC(n){return new Gr(Fr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=cr.makeFromUrl(e,t)}catch{return new cr(e,"")}if(i.path==="")return i;throw bC(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function c(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function y(ue){ue.path_=decodeURIComponent(ue.path)}const x="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",k=new RegExp(`^https?://${w}/${x}/b/${o}/o${E}`,"i"),O={bucket:1,path:3},P=t===L6?"(?:storage.googleapis.com|storage.cloud.google.com)":t,B="([^?#]*)",H=new RegExp(`^https?://${P}/${o}/${B}`,"i"),ee=[{regex:m,indices:g,postModify:c},{regex:k,indices:O,postModify:y},{regex:H,indices:{bucket:1,path:2},postModify:y}];for(let ue=0;ue<ee.length;ue++){const J=ee[ue],ce=J.regex.exec(e);if(ce){const C=ce[J.indices.bucket];let A=ce[J.indices.path];A||(A=""),i=new cr(C,A),J.postModify(i);break}}if(i==null)throw _C(e);return i}}class EC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(n,e,t){let i=1,o=null,c=null,h=!1,m=0;function g(){return m===2}let y=!1;function x(...B){y||(y=!0,e.apply(null,B))}function w(B){o=setTimeout(()=>{o=null,n(k,g())},B)}function E(){c&&clearTimeout(c)}function k(B,...H){if(y){E();return}if(B){E(),x.call(null,B,...H);return}if(g()||h){E(),x.call(null,B,...H);return}i<64&&(i*=2);let ee;m===1?(m=2,ee=0):ee=(i+Math.random())*1e3,w(ee)}let O=!1;function P(B){O||(O=!0,E(),!y&&(o!==null?(B||(m=2),clearTimeout(o),w(0)):B||(m=1)))}return w(0),c=setTimeout(()=>{h=!0,P(!0)},t),P}function SC(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n){return n!==void 0}function T_(n,e,t,i){if(i<e)throw E_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw E_(`Invalid value for '${n}'. Expected ${t} or less.`)}function NC(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var qd;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(qd||(qd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,c=e.indexOf(n)!==-1;return t||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,t,i,o,c,h,m,g,y,x,w,E=!0,k=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=x,this.connectionFactory_=w,this.retry=E,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,P)=>{this.resolve_=O,this.reject_=P,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Qh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const m=c.getErrorCode()===qd.NO_ERROR,g=c.getStatus();if(!m||RC(g,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===qd.ABORT;i(!1,new Qh(!1,null,x));return}const y=this.successCodes_.indexOf(g)!==-1;i(!0,new Qh(y,c))})},t=(i,o)=>{const c=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());AC(g)?c(g):c()}catch(g){h(g)}else if(m!==null){const g=yC();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(o.canceled){const g=this.appDelete_?U6():xC();h(g)}else{const g=vC();h(g)}};this.canceled_?t(!1,new Qh(!1,null,!0)):this.backoffId_=TC(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qh{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function IC(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function DC(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jC(n,e){e&&(n["X-Firebase-GMPID"]=e)}function MC(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function kC(n,e,t,i,o,c,h=!0,m=!1){const g=NC(n.urlParams),y=n.url+g,x=Object.assign({},n.headers);return jC(x,e),IC(x,t),DC(x,c),MC(x,i),new CC(y,n.method,x,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function PC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t){this._service=e,t instanceof cr?this._location=t:this._location=cr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new $d(e,t)}get root(){const e=new cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PC(this._location.path)}get storage(){return this._service}get parent(){const e=OC(this._location.path);if(e===null)return null;const t=new cr(this._location.bucket,e);return new $d(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw wC(e)}}function S_(n,e){const t=e?.[mC];return t==null?null:cr.makeFromBucketSpec(t,n)}function VC(n,e,t,i={}){n.host=`${e}:${t}`;const o=Ca(e);o&&(o0(`https://${n.host}/b`),l0("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:c}=i;c&&(n._overrideAuthToken=typeof c=="string"?c:_b(c,n.app.options.projectId))}class LC{constructor(e,t,i,o,c,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=L6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pC,this._maxUploadRetryTime=gC,this._requests=new Set,o!=null?this._bucket=cr.makeFromBucketSpec(o,this._host):this._bucket=S_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cr.makeFromBucketSpec(this._url,e):this._bucket=S_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $d(this,e)}_makeRequest(e,t,i,o,c=!0){if(this._deleted)return new EC(U6());{const h=kC(e,this._appId,i,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const A_="@firebase/storage",N_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="storage";function UC(n=h0(),e){n=yt(n);const i=nf(n,z6).getImmediate({identifier:e}),o=yb("storage");return o&&zC(i,...o),i}function zC(n,e,t,i={}){VC(n,e,t,i)}function BC(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new LC(t,i,o,e,Ia)}function FC(){wa(new bi(z6,BC,"PUBLIC").setMultipleInstances(!0)),kr(A_,N_,""),kr(A_,N_,"esm2020")}FC();const HC={apiKey:"AIzaSyDO5YcqXk5nhPT2OXyCScTamwmedBEFxTE",authDomain:"collabrianexus.firebaseapp.com",projectId:"collabrianexus",storageBucket:"collabrianexus.firebasestorage.app",messagingSenderId:"1047185526287",appId:"1:1047185526287:web:ada10cb1be8c92c0799d7a",measurementId:"G-PNZLHYBXYT"},c1=Eb(HC),Nf=JN(c1),$e=Z9(c1);UC(c1);const qC=(n,e)=>{const t=$r($e,"users",n,"notifications"),i=ka(t,Hd("isDismissed","==",!1),pu("timestamp","desc"));return gu(i,o=>{const c=o.docs.map(h=>({id:h.id,...h.data()}));e(c)})},fl=async(n,e)=>{try{const t=$r($e,"users",n,"notifications");return await P6(t,{message:e.message,type:e.type||"general",timestamp:Ri(),isRead:!1,isDismissed:!1,metadata:e.metadata||{}}),{success:!0}}catch(t){return console.error("Error creating notification:",t),{success:!1,error:t.message}}},$C=async(n,e)=>{try{const t=xt($e,"users",n,"notifications",e);return await er(t,{isRead:!0}),{success:!0}}catch(t){return console.error("Error marking notification as read:",t),{success:!1,error:t.message}}},GC=async(n,e)=>{try{const t=xt($e,"users",n,"notifications",e);return await er(t,{isDismissed:!0}),{success:!0}}catch(t){return console.error("Error dismissing notification:",t),{success:!1,error:t.message}}},B6=async(n,e)=>await fl(n,{message:` Mining completed! You earned ${e} coins!`,type:"mining_completed",metadata:{coinsEarned:e}}),YC=async(n,e)=>await fl(n,{message:` ${e} joined using your referral code! Mining rate boosted!`,type:"referral_success",metadata:{referredUsername:e}}),F6=async(n,e)=>await fl(n,{message:` Congratulations! You earned the "${e}" badge!`,type:"badge_earned",metadata:{badgeName:e}}),KC=async(n,e)=>await fl(n,{message:` Amazing! You've reached a ${e}-day streak!`,type:"streak_milestone",metadata:{streakCount:e}}),QC=async n=>await fl(n,{message:" Welcome! You received a mining rate bonus for joining via referral!",type:"welcome_bonus"}),XC=[{id:"first_steps",name:"First Steps",description:"Complete your first milestone",icon:"FaRocket",color:"text-blue-400",bgGradient:"from-blue-600/20 to-cyan-600/20",borderColor:"border-blue-500/30",tasks:[{id:1,text:"Complete profile setup",completed:!0},{id:2,text:"Start your first mining session",completed:!1},{id:3,text:"Join the community",completed:!1},{id:4,text:"Share your referral code",completed:!1},{id:5,text:"Complete first goal",completed:!1},{id:6,text:"Add a profile picture",completed:!1}]},{id:"streak_master",name:"Streak Master",description:"Maintain consistent activity",icon:"FaFire",color:"text-orange-400",bgGradient:"from-orange-600/20 to-red-600/20",borderColor:"border-orange-500/30",tasks:[{id:1,text:"Login for 3 consecutive days",completed:!1},{id:2,text:"Mine for 5 days straight",completed:!1},{id:3,text:"Complete daily goals for 7 days",completed:!1},{id:4,text:"Maintain 10-day login streak",completed:!1},{id:5,text:"Achieve 15-day mining streak",completed:!1},{id:6,text:"Reach 30-day activity streak",completed:!1}]},{id:"social_butterfly",name:"Social Butterfly",description:"Build your network",icon:"FaHeart",color:"text-pink-400",bgGradient:"from-pink-600/20 to-rose-600/20",borderColor:"border-pink-500/30",tasks:[{id:1,text:"Refer your first friend",completed:!1},{id:2,text:"Get 3 successful referrals",completed:!1},{id:3,text:"Connect with 5 friends",completed:!1},{id:4,text:"Share achievement on social media",completed:!1},{id:5,text:"Join a team challenge",completed:!1},{id:6,text:"Help a friend reach their goal",completed:!1}]},{id:"mining_expert",name:"Mining Expert",description:"Master the mining system",icon:"FaGem",color:"text-purple-400",bgGradient:"from-purple-600/20 to-violet-600/20",borderColor:"border-purple-500/30",tasks:[{id:1,text:"Complete 10 mining sessions",completed:!1},{id:2,text:"Mine for 100 total hours",completed:!1},{id:3,text:"Achieve optimal mining efficiency",completed:!1},{id:4,text:"Discover rare mining bonus",completed:!1},{id:5,text:"Reach 1000 coins mined",completed:!1},{id:6,text:"Unlock advanced mining tools",completed:!1}]},{id:"goal_crusher",name:"Goal Crusher",description:"Achieve ambitious targets",icon:"FaCog",color:"text-green-400",bgGradient:"from-green-600/20 to-emerald-600/20",borderColor:"border-green-500/30",tasks:[{id:1,text:"Set your first goal",completed:!1},{id:2,text:"Complete 10 goals",completed:!1},{id:3,text:"Achieve perfect day (100% goals)",completed:!1},{id:4,text:"Complete 50 goals total",completed:!1},{id:5,text:"Maintain 7-day goal streak",completed:!1},{id:6,text:"Reach 100 goals milestone",completed:!1}]},{id:"legend",name:"Legend",description:"Ultimate achievement",icon:"FaCrown",color:"text-yellow-400",bgGradient:"from-yellow-600/20 to-amber-600/20",borderColor:"border-yellow-500/30",tasks:[{id:1,text:"Earn all other badges",completed:!1},{id:2,text:"Reach top 10 leaderboard",completed:!1},{id:3,text:"Refer 25+ successful users",completed:!1},{id:4,text:"Mine 10,000+ coins",completed:!1},{id:5,text:"Maintain 60-day streak",completed:!1},{id:6,text:"Complete 500 goals",completed:!1}]}],WC=async n=>{try{console.log("Initializing badges for user:",n);const e=fC($e);return XC.forEach(t=>{const i=xt($e,"users",n,"badges",t.id);e.set(i,{badgeId:t.id,name:t.name,description:t.description,icon:t.icon,color:t.color,bgGradient:t.bgGradient,borderColor:t.borderColor,tasks:t.tasks.map(o=>({...o,completed:o.completed||!1,completedAt:null})),progress:0,isEarned:!1,earnedAt:null})}),await e.commit(),console.log("Badges initialized successfully"),{success:!0}}catch(e){return console.error("Error initializing badges:",e),{success:!1,error:e.message}}},H6=async n=>{try{const e=$r($e,"users",n,"badges"),t=ka(e,pu("badgeId"));return{success:!0,badges:(await Sf(t)).docs.map(c=>({id:c.id,...c.data()}))}}catch(e){return console.error("Error getting user badges:",e),{success:!1,error:e.message,badges:[]}}},ZC=(n,e)=>{const t=$r($e,"users",n,"badges"),i=ka(t,pu("badgeId"));return gu(i,o=>{const c=o.docs.map(h=>({id:h.id,...h.data()}));e(c)})},ci=async(n,e,t,i=!0)=>{try{const o=xt($e,"users",n,"badges",e),c=await Is(o);if(!c.exists())return{success:!1,error:"Badge not found"};const h=c.data(),m=h.tasks.map(E=>E.id===t?{...E,completed:i,completedAt:i?new Date:null}:E),y=m.filter(E=>E.completed).length/m.length*100,x=y===100,w={tasks:m,progress:y,isEarned:x,...x&&!h.isEarned?{earnedAt:new Date}:{}};return await er(o,w),x&&!h.isEarned&&await F6(n,h.name),{success:!0,badgeEarned:x&&!h.isEarned,progress:y}}catch(o){return console.error("Error updating badge progress:",o),{success:!1,error:o.message}}},Rf=async(n,e,t={})=>{try{const i=await H6(n);if(!i.success)return;for(const o of i.badges)if(!o.isEarned)switch(e){case"FIRST_LOGIN":o.badgeId==="first_steps"&&await ci(n,o.badgeId,1,!0);break;case"MINING_STARTED":o.badgeId==="first_steps"&&await ci(n,o.badgeId,2,!0),o.badgeId==="mining_expert"&&(t.totalSessions||0)>=1&&await ci(n,o.badgeId,1,!0);break;case"MINING_COMPLETED":o.badgeId==="mining_expert"&&(t.totalSessions||0)>=10&&await ci(n,o.badgeId,1,!0);break;case"REFERRAL_SUCCESS":if(o.badgeId==="social_butterfly"){const c=t.totalReferrals||0;c>=1&&await ci(n,o.badgeId,1,!0),c>=3&&await ci(n,o.badgeId,2,!0)}break;case"STREAK_MILESTONE":if(o.badgeId==="streak_master"){const c=t.streakDays||0;c>=3&&await ci(n,o.badgeId,1,!0),c>=7&&await ci(n,o.badgeId,3,!0)}break;default:break}return{success:!0}}catch(i){return console.error("Error checking badge conditions:",i),{success:!1,error:i.message}}},JC=(n,e)=>{const t=$r($e,"users",n,"badges"),i=ka(t,pu("badgeId"));return gu(i,o=>{const c=o.docs.map(h=>{const m=h.data();return{id:h.id,badgeId:m.badgeId,name:m.name,description:m.description,icon:m.icon,color:m.color,bgGradient:m.bgGradient,borderColor:m.borderColor,tasks:m.tasks||[],isEarned:m.isEarned||!1,progress:m.progress||0}});e(c)})},e7=async(n,e,t,i=!0)=>{try{const o=xt($e,"users",n,"badges",e),c=await Is(o);if(!c.exists())return{success:!1,error:"Badge not found"};const h=c.data(),m=h.tasks.map(E=>E.id===t?{...E,completed:i,completedAt:i?new Date:null}:E),y=m.filter(E=>E.completed).length/m.length*100,x=y===100,w={tasks:m,progress:y,isEarned:x,...x&&!h.isEarned?{earnedAt:new Date}:{}};return await er(o,w),x&&!h.isEarned&&await F6(n,h.name),{success:!0,badgeEarned:x&&!h.isEarned,progress:y}}catch(o){return console.error("Error updating badge task:",o),{success:!1,error:o.message}}},t7=()=>Math.random().toString(36).substring(2,8).toUpperCase(),n7=async(n,e)=>{try{console.log(`Processing referral: ${n} for new user: ${e}`);const t=$r($e,"users"),i=ka(t,Hd("profile.referralCode","==",n)),o=await Sf(i);if(o.empty)return console.log("Referral code not found:",n),{success:!1,error:"Invalid referral code"};const c=o.docs[0],h=c.id,m=c.data(),g=xt($e,"users",e),x=(await Is(g)).data();console.log("Found referrer:",h);const w=xt($e,"users",h);await er(w,{"social.totalReferrals":dC(1),"social.referredUsers":hC(e),"mining.miningRate":(m.mining?.miningRate||3)+.1,"profile.lastActive":Ri()}),await YC(h,x.profile.username),await QC(e),await er(g,{"profile.referredBy":h,"mining.miningRate":3.2});const E=(m.social?.totalReferrals||0)+1;return await Rf(h,"REFERRAL_SUCCESS",{totalReferrals:E}),console.log("Referral processed successfully"),{success:!0,referrerUid:h,message:"Referral processed successfully! Both users received bonuses."}}catch(t){return console.error("Error processing referral:",t),{success:!1,error:t.message}}},r7=async(n,e)=>{try{const t=xt($e,"users",n),i={uid:n,profile:{username:e.username,email:e.email,name:e.name||e.username,avatar:"",joined:Ri(),lastActive:Ri(),referralCode:t7(),referredBy:(e.referralCode,null)},stats:{coinsEarned:0,totalCoinsEarned:0,level:1,currentTier:"Bronze Miner",nextTier:"Silver Miner",tierProgress:0,currentStreak:0,totalMined:0,rank:"#0",isVip:!1},mining:{isMining:!1,lastMiningStart:null,coinsMined:0,nextAvailable:null,totalMiningSessions:0,miningRate:3},social:{friends:[],totalReferrals:0,referredUsers:[],networkCoins:0},settings:{notifications:!0,privacy:"public"}};if(await O6(t,i),await WC(n),e.referralCode){const o=await n7(e.referralCode,n);o.success?console.log("Referral processed during user creation"):console.log("Referral processing failed:",o.error)}return{success:!0}}catch(t){return console.error("Error creating user profile:",t),{success:!1,error:t.message}}},s7=async n=>{try{const e=xt($e,"users",n),t=await Is(e);return t.exists()?{success:!0,data:t.data()}:{success:!1,error:"User not found"}}catch(e){return{success:!1,error:e.message}}},i7=async(n,e)=>{try{const t=xt($e,"users",n);return await er(t,e),{success:!0}}catch(t){return{success:!1,error:t.message}}},a7=async n=>{try{const e=xt($e,"users",n);await er(e,{"profile.lastActive":Ri()})}catch(e){console.error("Error updating last active:",e)}},o7=async(n,e,t)=>{try{const o=(await OA(Nf,n,e)).user;return await LA(o,{displayName:t.username}),await r7(o.uid,t),{success:!0,user:o}}catch(i){return{success:!1,error:i.message}}},l7=async(n,e)=>{try{return{success:!0,user:(await PA(Nf,n,e)).user}}catch(t){return{success:!1,error:t.message}}},c7=async()=>{try{return await FA(Nf),{success:!0}}catch(n){return{success:!1,error:n.message}}},u1=n=>BA(Nf,n);function u7({onLogin:n}){const e=Ra(),[t,i]=U.useState({email:"",password:""}),[o,c]=U.useState(!1),[h,m]=U.useState(!1),[g,y]=U.useState({}),[x,w]=U.useState(!1),E=P=>{const{name:B,value:H}=P.target;i(Z=>({...Z,[B]:H})),g[B]&&y(Z=>({...Z,[B]:""}))},k=()=>{const P={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(P.email="Please enter a valid email"):P.email="Email is required",t.password||(P.password="Password is required"),y(P),Object.keys(P).length===0},O=async P=>{if(P.preventDefault(),!k())return;w(!0);const B=await l7(t.email,t.password);w(!1),B.success?(n&&n(),e("/")):y({general:B.error})};return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background px-4 py-8 md:py-16 pt-20 relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[f.jsx("div",{className:"absolute top-20 right-20 w-64 h-64 bg-accent/20 rounded-full blur-3xl floating"}),f.jsx("div",{className:"absolute bottom-20 left-20 w-80 h-80 bg-accentLight/10 rounded-full blur-3xl",style:{animationDelay:"3s"}})]}),f.jsxs("div",{className:"w-full max-w-6xl bg-card rounded-2xl shadow-2xl flex overflow-hidden relative z-10 border border-border",children:[f.jsxs("div",{className:"flex-1 p-10 lg:p-12 flex flex-col justify-center",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("span",{className:"font-bold text-3xl text-accent",children:"Collabria Nexus"}),f.jsx("p",{className:"text-textMuted mt-2 text-sm",children:"Welcome back to your learning & earning journey"})]}),f.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-2 text-accentLight",children:"Welcome Back!"}),f.jsx("p",{className:"mb-8 text-textMuted text-lg",children:"Continue your journey of knowledge and collaboration"}),f.jsxs("form",{onSubmit:O,className:"space-y-5",children:[f.jsxs("div",{className:"relative",children:[f.jsx(jE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-accent w-5 h-5"}),f.jsx("input",{type:"email",name:"email",value:t.email,onChange:E,placeholder:"Email Address",className:`w-full pl-12 pr-4 py-3 rounded-lg border ${g.email?"border-error":"border-border"} bg-background/70 text-text placeholder-textMuted focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),g.email&&f.jsx("p",{className:"text-error text-sm mt-1",children:g.email})]}),f.jsxs("div",{className:"relative",children:[f.jsx(IE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text/40 w-5 h-5"}),f.jsx("input",{type:o?"text":"password",name:"password",value:t.password,onChange:E,placeholder:"Password",className:`w-full pl-12 pr-12 py-3 rounded-lg border ${g.password?"border-red-500":"border-border"} bg-background/50 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),f.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text/40 hover:text-accent p-1 transition-colors",children:o?f.jsx(dg,{size:20}):f.jsx(fg,{size:20})}),g.password&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.password})]}),f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsxs("label",{className:"flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:h,onChange:P=>m(P.target.checked),className:"accent-accent w-4 h-4 mr-2"}),f.jsx("span",{className:"text-text/70",children:"Remember me"})]}),f.jsx("a",{href:"#",className:"text-accent hover:text-accentLight transition-colors",children:"Forgot password?"})]}),f.jsx("button",{type:"submit",disabled:x,className:"w-full py-4 rounded-lg bg-gradient-to-r from-accent to-accentLight text-white font-semibold hover:shadow-lg hover:shadow-accent/25 transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center group",children:x?f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):f.jsxs(f.Fragment,{children:["Sign In",f.jsx(_E,{className:"ml-2 w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]}),f.jsxs("div",{className:"mt-8 text-center text-sm text-textMuted",children:["New to our community? ",f.jsx("a",{href:"/SignUp",className:"text-accent hover:text-accentLight hover:underline font-medium",children:"Create your account"})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-border/50",children:f.jsxs("div",{className:"flex justify-center space-x-8 text-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-xl font-bold text-accent",children:"10K+"}),f.jsx("div",{className:"text-xs text-text/60",children:"Active Members"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xl font-bold text-accent",children:"500+"}),f.jsx("div",{className:"text-xs text-text/60",children:"Expert Mentors"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xl font-bold text-accent",children:"1M+"}),f.jsx("div",{className:"text-xs text-text/60",children:"Knowledge Shares"})]})]})})]}),f.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center bg-gradient-to-br from-background/80 to-card/50 p-12 relative",children:f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-center",children:[f.jsx("img",{src:Z_,alt:"Knowledge Access Illustration",className:"max-h-80 object-contain drop-shadow-2xl rounded-2xl mb-8 floating"}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("h3",{className:"text-2xl font-bold gradient-text",children:"Your Knowledge Universe Awaits"}),f.jsx("p",{className:"text-text/70 text-lg leading-relaxed max-w-md",children:"Access your personalized dashboard, connect with mentors, and continue building your professional network in the knowledge economy."}),f.jsxs("div",{className:"bg-gradient-to-r from-accent/10 to-accent-light/10 p-6 rounded-xl border border-accent/20",children:[f.jsx("div",{className:"text-sm text-text/60 mb-2",children:" Today's Insight"}),f.jsx("div",{className:"text-text/80 italic",children:'"The best way to learn is to teach others. Join discussions, share your expertise, and grow together."'})]})]})]})})]})]})}function h7({onSignUp:n}){const e=Ra(),[t,i]=U.useState({username:"",email:"",password:"",confirmPassword:"",referralCode:""}),[o,c]=U.useState(!1),[h,m]=U.useState(!1),[g,y]=U.useState(!1),[x,w]=U.useState({}),[E,k]=U.useState(!1),O=H=>{const{name:Z,value:ee}=H.target;i(ue=>({...ue,[Z]:ee})),x[Z]&&w(ue=>({...ue,[Z]:""}))},P=()=>{const H={};return t.username.trim()?t.username.length<3&&(H.username="Username must be at least 3 characters"):H.username="Username is required",t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(H.email="Please enter a valid email"):H.email="Email is required",t.password?t.password.length<8&&(H.password="Password must be at least 8 characters"):H.password="Password is required",t.password!==t.confirmPassword&&(H.confirmPassword="Passwords do not match"),o||(H.terms="You must accept the terms and privacy policy"),w(H),Object.keys(H).length===0},B=async H=>{if(H.preventDefault(),!P())return;k(!0);const Z=await o7(t.email,t.password,{username:t.username,email:t.email,name:t.username,referralCode:t.referralCode});k(!1),Z.success?(n&&n(),e("/")):w({general:Z.error})};return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background px-4 py-8 md:py-16 pt-20 relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[f.jsx("div",{className:"absolute top-20 left-20 w-64 h-64 bg-accent/20 rounded-full blur-3xl floating"}),f.jsx("div",{className:"absolute bottom-20 right-20 w-80 h-80 bg-accentLight/10 rounded-full blur-3xl",style:{animationDelay:"2s"}})]}),f.jsxs("div",{className:"w-full max-w-6xl bg-card rounded-2xl shadow-2xl flex overflow-hidden relative z-10 border border-border",children:[f.jsxs("div",{className:"flex-1 p-10 lg:p-12 flex flex-col justify-center",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("span",{className:"font-bold text-3xl text-accent",children:"Collabria Nexus"}),f.jsx("p",{className:"text-textMuted mt-2 text-sm",children:"Empowering minds, building futures"})]}),f.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-2 text-accentLight",children:"Join Our Community"}),f.jsx("p",{className:"mb-8 text-textMuted text-lg",children:"Start your journey of knowledge sharing and collaboration"}),f.jsxs("form",{onSubmit:B,className:"space-y-5",children:[f.jsx("input",{type:"text",name:"username",value:t.username,onChange:O,placeholder:"Username",className:`w-full px-4 py-3 rounded-lg border ${x.username?"border-error":"border-border"} bg-background/70 text-text placeholder-textMuted focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),f.jsxs("div",{children:[f.jsx("input",{type:"email",name:"email",value:t.email,onChange:O,placeholder:"Email Address",className:`w-full px-4 py-3 rounded-lg border ${x.email?"border-red-500":"border-border"} bg-background/50 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),x.email&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.email})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:h?"text":"password",name:"password",value:t.password,onChange:O,placeholder:"Password",className:`w-full px-4 py-3 pr-12 rounded-lg border ${x.password?"border-red-500":"border-border"} bg-background/50 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),f.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text/50 hover:text-accent p-1",children:h?f.jsx(dg,{size:20}):f.jsx(fg,{size:20})}),x.password&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.password})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:g?"text":"password",name:"confirmPassword",value:t.confirmPassword,onChange:O,placeholder:"Confirm Password",className:`w-full px-4 py-3 pr-12 rounded-lg border ${x.confirmPassword?"border-red-500":"border-border"} bg-background/50 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),f.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text/50 hover:text-accent p-1",children:g?f.jsx(dg,{size:20}):f.jsx(fg,{size:20})}),x.confirmPassword&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.confirmPassword})]}),f.jsx("div",{children:f.jsx("input",{type:"text",name:"referralCode",value:t.referralCode,onChange:O,placeholder:"Referral Code (Optional)",className:"w-full px-4 py-3 rounded-lg border border-border bg-background/50 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300"})}),f.jsxs("div",{className:"flex items-start text-sm mt-6",children:[f.jsx("input",{id:"accept",type:"checkbox",checked:o,onChange:H=>c(H.target.checked),className:"accent-accent w-4 h-4 mr-3 mt-1 flex-shrink-0"}),f.jsxs("label",{htmlFor:"accept",className:"text-textMuted select-none leading-relaxed",children:["I agree to the ",f.jsx("a",{href:"#",className:"text-accent hover:text-accentLight underline",children:"Terms of Service"})," and ",f.jsx("a",{href:"#",className:"text-accent hover:text-accentLight underline",children:"Privacy Policy"}),"."]})]}),f.jsx("button",{type:"submit",disabled:!o||E,className:"w-full py-4 rounded-lg bg-gradient-to-r from-accent to-accentLight text-white font-semibold hover:shadow-lg hover:shadow-accent/25 transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center",children:E?f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Create Account"})]}),f.jsxs("div",{className:"mt-8 text-center text-sm text-textMuted",children:["Already part of our community? ",f.jsx("a",{href:"#",className:"text-accent hover:text-accentLight hover:underline font-medium",children:"Sign in here"})]})]}),f.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center bg-gradient-to-br from-background/80 to-card/50 p-12 relative",children:f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-center",children:[f.jsx("img",{src:Z_,alt:"Knowledge Community Illustration",className:"max-h-80 object-contain drop-shadow-2xl rounded-2xl mb-8 floating"}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("h3",{className:"text-2xl font-bold text-accentLight",children:"Join the Knowledge Revolution"}),f.jsx("p",{className:"text-textMuted text-lg leading-relaxed max-w-md",children:"Connect with experts, share insights, and collaborate on projects that matter."}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[f.jsxs("div",{className:"flex flex-col items-center p-4 glass rounded-xl bg-background/60 border border-border",children:[f.jsx(kE,{className:"w-8 h-8 text-accent mb-2"}),f.jsx("span",{className:"text-sm text-textMuted",children:"Expert Network"})]}),f.jsxs("div",{className:"flex flex-col items-center p-4 glass rounded-xl",children:[f.jsx(TE,{className:"w-8 h-8 text-accent mb-2"}),f.jsx("span",{className:"text-sm text-text/70",children:"Knowledge Base"})]}),f.jsxs("div",{className:"flex flex-col items-center p-4 glass rounded-xl",children:[f.jsx(wE,{className:"w-8 h-8 text-accent mb-2"}),f.jsx("span",{className:"text-sm text-text/70",children:"Verified Insights"})]}),f.jsxs("div",{className:"flex flex-col items-center p-4 glass rounded-xl",children:[f.jsx(RE,{className:"w-8 h-8 text-accent mb-2"}),f.jsx("span",{className:"text-sm text-text/70",children:"Global Impact"})]})]})]})]})})]})]})}var q6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},R_=sn.createContext&&sn.createContext(q6),d7=["attr","size","title"];function f7(n,e){if(n==null)return{};var t=m7(n,e),i,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(o=0;o<c.length;o++)i=c[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function m7(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Gd(){return Gd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Gd.apply(this,arguments)}function C_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function Yd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C_(Object(t),!0).forEach(function(i){p7(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function p7(n,e,t){return e=g7(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function g7(n){var e=y7(n,"string");return typeof e=="symbol"?e:e+""}function y7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $6(n){return n&&n.map((e,t)=>sn.createElement(e.tag,Yd({key:t},e.attr),$6(e.child)))}function Ee(n){return e=>sn.createElement(v7,Gd({attr:Yd({},n.attr)},e),$6(n.child))}function v7(n){var e=t=>{var{attr:i,size:o,title:c}=n,h=f7(n,d7),m=o||t.size||"1em",g;return t.className&&(g=t.className),n.className&&(g=(g?g+" ":"")+n.className),sn.createElement("svg",Gd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,h,{className:g,style:Yd(Yd({color:n.color||t.color},t.style),n.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&sn.createElement("title",null,c),n.children)};return R_!==void 0?sn.createElement(R_.Consumer,null,t=>e(t)):e(q6)}function x7(n){return Ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(n)}function _7(n){return Ee({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function b7(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function w7(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function E7(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function G6(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M11.5 280.6l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2zm256 0l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2z"},child:[]}]})(n)}function T7(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function ko(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(n)}function S7(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M172.2 226.8c-14.6-2.9-28.2 8.9-28.2 23.8V301c0 10.2 7.1 18.4 16.7 22 18.2 6.8 31.3 24.4 31.3 45 0 26.5-21.5 48-48 48s-48-21.5-48-48V120c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v248c0 89.5 82.1 160.2 175 140.7 54.4-11.4 98.3-55.4 109.7-109.7 17.4-82.9-37-157.2-112.5-172.2zM209 0c-9.2-.5-17 6.8-17 16v31.6c0 8.5 6.6 15.5 15 15.9 129.4 7 233.4 112 240.9 241.5.5 8.4 7.5 15 15.9 15h32.1c9.2 0 16.5-7.8 16-17C503.4 139.8 372.2 8.6 209 0zm.3 96c-9.3-.7-17.3 6.7-17.3 16.1v32.1c0 8.4 6.5 15.3 14.8 15.9 76.8 6.3 138 68.2 144.9 145.2.8 8.3 7.6 14.7 15.9 14.7h32.2c9.3 0 16.8-8 16.1-17.3-8.4-110.1-96.5-198.2-206.6-206.7z"},child:[]}]})(n)}function Y6(n){return Ee({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(n)}function I_(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(n)}function Kd(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(n)}function A7(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function N7(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"},child:[]}]})(n)}function R7(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(n)}function C7(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function h1(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(n)}function D_(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function K6(n){return Ee({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function Q6(n){return Ee({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function md(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(n)}function I7(n){return Ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(n)}function d1(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function X6(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(n)}function D7(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(n)}function Qo(n){return Ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(n)}function j7(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function M7(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function Cf(n){return Ee({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(n)}function W6(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"},child:[]}]})(n)}function Z6(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(n)}function Qd(n){return Ee({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(n)}function J6(n){return Ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(n)}function f1(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function m1(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function k7(n){return Ee({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(n)}function O7(n){return Ee({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function p1(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(n)}function ew(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H88c-13.255 0-24 10.745-24 24v8H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h472c26.51 0 48-21.49 48-48V88c0-13.255-10.745-24-24-24zM56 400a8 8 0 0 1-8-8V144h16v248a8 8 0 0 1-8 8zm236-16H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm-208-96H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm0-96H140c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12z"},child:[]}]})(n)}function P7(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 48v32a16 16 0 0 1-16 16h-48v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V96h-32v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V352h-32a160 160 0 0 1 0-320h240a16 16 0 0 1 16 16z"},child:[]}]})(n)}function V7(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(n)}function L7(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(n)}function U7(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function zo(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(n)}function tw(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function j_(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(n)}function z7(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(n)}function M_(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(n)}function If(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function Fg(n){return Ee({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function Na(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(n)}function nw(n){return Ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(n)}function B7(n){return Ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function Xo(n){return Ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}const F7=()=>{const[n,e]=U.useState("learn"),t=[{icon:I_,title:"Curated Knowledge Base",description:"Access verified articles, company insights, and proven strategies from industry leaders.",category:"learn"},{icon:Kd,title:"Expert Mentorship",description:"Connect directly with professionals and get personalized guidance for your career growth.",category:"connect"},{icon:ew,title:"Industry News & Trends",description:"Stay updated with the latest industry developments and breakthrough innovations.",category:"discover"},{icon:J6,title:"Project Collaboration",description:"Join meaningful projects, contribute your skills, and build your professional network.",category:"grow"}],i=[{id:"learn",label:"Learn",icon:I_},{id:"connect",label:"Connect",icon:Xo},{id:"discover",label:"Discover",icon:tw},{id:"grow",label:"Grow",icon:E7}];return f.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[f.jsx("section",{className:"pt-24 pb-16 bg-gradient-to-b from-gray-900 to-gray-800",children:f.jsx("div",{className:"px-6 lg:px-8 w-full max-w-6xl mx-auto",children:f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("div",{className:"mb-6",children:f.jsx("span",{className:"bg-purple-600 text-white px-4 py-2 rounded-full text-sm font-semibold",children:" LAUNCHING SOON"})}),f.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-8 leading-tight",children:["Your Gateway to",f.jsx("br",{}),f.jsx("span",{className:"text-purple-400",children:"Global Knowledge"})," &",f.jsx("span",{className:"text-pink-400",children:" Expert Networks"})]}),f.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-3xl mx-auto",children:"Connect with industry experts, access verified insights, and accelerate your professional journey through authentic knowledge sharing and meaningful collaboration."}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 mb-12",children:[f.jsx("button",{className:"px-8 py-4 bg-purple-600 hover:bg-purple-700 rounded-lg font-semibold text-lg transition-colors shadow-lg",children:f.jsxs("span",{className:"flex items-center justify-center gap-2",children:[f.jsx(zo,{}),"Get Early Access"]})}),f.jsx("button",{className:"px-8 py-4 border border-gray-600 hover:bg-gray-800 rounded-lg font-semibold text-lg transition-colors",children:f.jsxs("span",{className:"flex items-center justify-center gap-2",children:[f.jsx(L7,{}),"Watch Demo"]})})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-8 max-w-2xl mx-auto text-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-1",children:"100%"}),f.jsx("div",{className:"text-sm text-gray-400",children:"Verified Content"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold text-pink-400 mb-1",children:"24/7"}),f.jsx("div",{className:"text-sm text-gray-400",children:"Global Access"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold text-cyan-400 mb-1",children:""}),f.jsx("div",{className:"text-sm text-gray-400",children:"Learning Opportunities"})]})]})]})})}),f.jsx("section",{className:"py-16 bg-gray-800",children:f.jsxs("div",{className:"px-6 lg:px-8 w-full max-w-6xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"How It Works"}),f.jsx("p",{className:"text-xl text-gray-300",children:"Four simple steps to transform your professional journey"})]}),f.jsx("div",{className:"flex justify-center mb-12",children:f.jsx("div",{className:"bg-gray-900 p-2 rounded-xl inline-flex",children:i.map(o=>f.jsxs("button",{onClick:()=>e(o.id),className:`px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2 ${n===o.id?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:[f.jsx(o.icon,{className:"text-lg"}),o.label]},o.id))})}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[f.jsx("div",{children:t.filter(o=>o.category===n).map((o,c)=>f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx("div",{className:"bg-purple-600 p-3 rounded-lg",children:f.jsx(o.icon,{className:"text-2xl text-white"})}),f.jsx("h3",{className:"text-2xl font-bold",children:o.title})]}),f.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:o.description})]},c))}),f.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl p-8",children:[f.jsxs("div",{className:"bg-gradient-to-br from-purple-600/20 to-pink-600/20 rounded-xl p-6 mb-6",children:[f.jsx("h4",{className:"text-lg font-semibold mb-2 text-center",children:"Coming Soon"}),f.jsx("div",{className:"text-center text-gray-300",children:"Interactive demo and preview will be available here"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[f.jsx("span",{className:"text-gray-300",children:"Platform Features"}),f.jsx(M_,{className:"text-green-400"})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[f.jsx("span",{className:"text-gray-300",children:"Expert Network"}),f.jsx(Xo,{className:"text-blue-400"})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[f.jsx("span",{className:"text-gray-300",children:"Global Access"}),f.jsx(Qd,{className:"text-purple-400"})]})]})]})]})]})}),f.jsx("section",{className:"py-16 bg-gray-900",children:f.jsxs("div",{className:"px-6 lg:px-8 w-full max-w-6xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"Why Choose CollabriaNexus?"}),f.jsx("p",{className:"text-xl text-gray-300",children:"Built for professionals who value authentic knowledge and meaningful connections"})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-cyan-500 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4",children:f.jsx(M_,{className:"text-2xl text-white"})}),f.jsx("h3",{className:"text-xl font-bold mb-3",children:"Verified & Authentic"}),f.jsx("p",{className:"text-gray-300",children:"All content and expert profiles are thoroughly verified to ensure authenticity and quality."})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-pink-500 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4",children:f.jsx(Qd,{className:"text-2xl text-white"})}),f.jsx("h3",{className:"text-xl font-bold mb-3",children:"Global Community"}),f.jsx("p",{className:"text-gray-300",children:"Connect with professionals and experts from around the world in your field of interest."})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"bg-gradient-to-br from-green-600 to-emerald-500 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4",children:f.jsx(Kd,{className:"text-2xl text-white"})}),f.jsx("h3",{className:"text-xl font-bold mb-3",children:"Career Growth"}),f.jsx("p",{className:"text-gray-300",children:"Access opportunities for skill development, mentorship, and collaborative projects."})]})]})]})}),f.jsx("section",{className:"py-16 bg-gradient-to-r from-purple-900 to-pink-900",children:f.jsxs("div",{className:"px-6 lg:px-8 w-full max-w-4xl mx-auto text-center",children:[f.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-6",children:"Be Among the First"}),f.jsx("p",{className:"text-xl text-gray-200 mb-8 leading-relaxed",children:"Join our exclusive waitlist and get early access to the platform that will transform how professionals connect, learn, and grow together."}),f.jsx("div",{className:"bg-white/10 backdrop-blur border border-white/20 rounded-2xl p-8 mb-8",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[f.jsx("input",{type:"email",placeholder:"Enter your email address",className:"flex-1 px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-purple-500 focus:outline-none"}),f.jsx("button",{className:"px-6 py-3 bg-white text-purple-900 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Join Waitlist"})]})}),f.jsxs("div",{className:"text-sm text-gray-300 flex items-center justify-center gap-2",children:[f.jsx(If,{className:"text-yellow-400"}),"No spam, just updates on our launch progress"]})]})})]})},H7="/CollabriaNexus/assets/LOGO-BUWBIFdy.png";function q7(){const[n,e]=U.useState(!1);return f.jsxs("nav",{className:"fixed top-0 left-0 w-full z-50 glass border-b border-violet-300/30 shadow-lg rounded-b-2xl",children:[f.jsxs("div",{className:`max-w-7xl mx-auto flex items-\r
      center justify-between px-6 py-3`,children:[f.jsxs("div",{className:"text-xl font-bold gradient-text",children:[" ",f.jsx("span",{children:f.jsx("img",{className:"w-[50px] inline",src:H7,alt:"Logo"})})," CollabriaNexus"]}),f.jsxs("button",{className:"md:hidden flex flex-col justify-center items-center w-10 h-10",onClick:()=>e(!n),"aria-label":"Toggle navigation",children:[f.jsx("span",{className:`block h-0.5 w-6 bg-white transition-all duration-300 ${n?"rotate-45 translate-y-1.5":""}`}),f.jsx("span",{className:`block h-0.5 w-6 bg-white my-1 transition-all duration-300 ${n?"opacity-0":""}`}),f.jsx("span",{className:`block h-0.5 w-6 bg-white transition-all duration-300 ${n?"-rotate-45 -translate-y-1.5":""}`})]}),f.jsxs("ul",{className:"hidden md:flex space-x-8 font-medium text-white",children:[f.jsx("li",{children:f.jsx(Mr,{to:"/",className:"hover:text-violet-300 transition",children:"Home"})}),f.jsx("li",{children:f.jsx(Mr,{to:"/blog",className:"hover:text-violet-300 transition",children:"Blogs"})}),f.jsx("li",{children:f.jsx(Mr,{to:"/about",className:"hover:text-violet-300 transition",children:"About Us"})}),f.jsx("li",{children:f.jsx(Mr,{to:"/dashboard",className:"hover:text-violet-300 transition",children:"Dashboard"})})]})]}),f.jsx("ul",{className:`md:hidden bg-[#181828] border-t border-violet-300/20 shadow-xl rounded-b-2xl px-4 py-4 font-medium text-white absolute w-full left-0 transition-all duration-300 ease-in-out transform ${n?"translate-y-0 opacity-100":"-translate-y-4 opacity-0 pointer-events-none"}`,children:[{to:"/",label:"Home",icon:f.jsx(m1,{})},{to:"/blog",label:"Blogs",icon:f.jsx(S7,{})},{to:"/about",label:"About Us",icon:f.jsx(P7,{})},{to:"/dashboard",label:"Dashboard",icon:f.jsx(C7,{})}].map((t,i)=>f.jsx("li",{className:"border-b border-violet-300/10 last:border-none",children:f.jsxs(Mr,{to:t.to,className:"flex items-center gap-3 py-3 px-2 rounded-lg hover:bg-violet-500/20 hover:text-violet-300 transition-colors",onClick:()=>e(!1),children:[f.jsx("span",{className:"text-lg",children:t.icon}),f.jsx("span",{children:t.label})]})},i))})]})}function $7(){return f.jsx("footer",{className:"w-full bg-[#181828] border-t border-violet-900/30 py-8 px-4 mt-auto",children:f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"",children:f.jsx("img",{src:"./src/assets/LOGO.png",alt:"Collabria Nexus Logo",className:"w-20 h-10"})}),f.jsx("span",{className:"text-2xl font-extrabold text-violet-400 tracking-tight",children:"CollabriaNexus"}),f.jsx("span",{className:"text-gray-500 text-sm hidden sm:inline",children:"Empowering Your Journey"})]}),f.jsxs("div",{className:"flex gap-6 text-violet-400 text-2xl",children:[f.jsx("a",{href:"https://twitter.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-violet-300 transition",children:f.jsx(w7,{})}),f.jsx("a",{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-violet-300 transition",children:f.jsx(_7,{})}),f.jsx("a",{href:"https://linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-violet-300 transition",children:f.jsx(b7,{})}),f.jsx("a",{href:"https://discord.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-violet-300 transition",children:f.jsx(x7,{})})]}),f.jsxs("div",{className:"text-gray-500 text-xs text-center md:text-right",children:[" ",new Date().getFullYear()," CollabriaNexus. All rights reserved."]})]})})}var pd={exports:{}},G7=pd.exports,k_;function Y7(){return k_||(k_=1,function(n,e){(function(t,i){n.exports=i()})(G7,function(){var t=1e3,i=6e4,o=36e5,c="millisecond",h="second",m="minute",g="hour",y="day",x="week",w="month",E="quarter",k="year",O="date",P="Invalid Date",B=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,H=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Z={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ye){var he=["th","st","nd","rd"],L=ye%100;return"["+ye+(he[(L-20)%10]||he[L]||he[0])+"]"}},ee=function(ye,he,L){var W=String(ye);return!W||W.length>=he?ye:""+Array(he+1-W.length).join(L)+ye},ue={s:ee,z:function(ye){var he=-ye.utcOffset(),L=Math.abs(he),W=Math.floor(L/60),te=L%60;return(he<=0?"+":"-")+ee(W,2,"0")+":"+ee(te,2,"0")},m:function ye(he,L){if(he.date()<L.date())return-ye(L,he);var W=12*(L.year()-he.year())+(L.month()-he.month()),te=he.clone().add(W,w),fe=L-te<0,I=he.clone().add(W+(fe?-1:1),w);return+(-(W+(L-te)/(fe?te-I:I-te))||0)},a:function(ye){return ye<0?Math.ceil(ye)||0:Math.floor(ye)},p:function(ye){return{M:w,y:k,w:x,d:y,D:O,h:g,m,s:h,ms:c,Q:E}[ye]||String(ye||"").toLowerCase().replace(/s$/,"")},u:function(ye){return ye===void 0}},J="en",ce={};ce[J]=Z;var C="$isDayjsObject",A=function(ye){return ye instanceof z||!(!ye||!ye[C])},N=function ye(he,L,W){var te;if(!he)return J;if(typeof he=="string"){var fe=he.toLowerCase();ce[fe]&&(te=fe),L&&(ce[fe]=L,te=fe);var I=he.split("-");if(!te&&I.length>1)return ye(I[0])}else{var X=he.name;ce[X]=he,te=X}return!W&&te&&(J=te),te||!W&&J},R=function(ye,he){if(A(ye))return ye.clone();var L=typeof he=="object"?he:{};return L.date=ye,L.args=arguments,new z(L)},D=ue;D.l=N,D.i=A,D.w=function(ye,he){return R(ye,{locale:he.$L,utc:he.$u,x:he.$x,$offset:he.$offset})};var z=function(){function ye(L){this.$L=N(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[C]=!0}var he=ye.prototype;return he.parse=function(L){this.$d=function(W){var te=W.date,fe=W.utc;if(te===null)return new Date(NaN);if(D.u(te))return new Date;if(te instanceof Date)return new Date(te);if(typeof te=="string"&&!/Z$/i.test(te)){var I=te.match(B);if(I){var X=I[2]-1||0,le=(I[7]||"0").substring(0,3);return fe?new Date(Date.UTC(I[1],X,I[3]||1,I[4]||0,I[5]||0,I[6]||0,le)):new Date(I[1],X,I[3]||1,I[4]||0,I[5]||0,I[6]||0,le)}}return new Date(te)}(L),this.init()},he.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},he.$utils=function(){return D},he.isValid=function(){return this.$d.toString()!==P},he.isSame=function(L,W){var te=R(L);return this.startOf(W)<=te&&te<=this.endOf(W)},he.isAfter=function(L,W){return R(L)<this.startOf(W)},he.isBefore=function(L,W){return this.endOf(W)<R(L)},he.$g=function(L,W,te){return D.u(L)?this[W]:this.set(te,L)},he.unix=function(){return Math.floor(this.valueOf()/1e3)},he.valueOf=function(){return this.$d.getTime()},he.startOf=function(L,W){var te=this,fe=!!D.u(W)||W,I=D.p(L),X=function(ot,it){var pt=D.w(te.$u?Date.UTC(te.$y,it,ot):new Date(te.$y,it,ot),te);return fe?pt:pt.endOf(y)},le=function(ot,it){return D.w(te.toDate()[ot].apply(te.toDate("s"),(fe?[0,0,0,0]:[23,59,59,999]).slice(it)),te)},ae=this.$W,pe=this.$M,be=this.$D,xe="set"+(this.$u?"UTC":"");switch(I){case k:return fe?X(1,0):X(31,11);case w:return fe?X(1,pe):X(0,pe+1);case x:var Ye=this.$locale().weekStart||0,ke=(ae<Ye?ae+7:ae)-Ye;return X(fe?be-ke:be+(6-ke),pe);case y:case O:return le(xe+"Hours",0);case g:return le(xe+"Minutes",1);case m:return le(xe+"Seconds",2);case h:return le(xe+"Milliseconds",3);default:return this.clone()}},he.endOf=function(L){return this.startOf(L,!1)},he.$set=function(L,W){var te,fe=D.p(L),I="set"+(this.$u?"UTC":""),X=(te={},te[y]=I+"Date",te[O]=I+"Date",te[w]=I+"Month",te[k]=I+"FullYear",te[g]=I+"Hours",te[m]=I+"Minutes",te[h]=I+"Seconds",te[c]=I+"Milliseconds",te)[fe],le=fe===y?this.$D+(W-this.$W):W;if(fe===w||fe===k){var ae=this.clone().set(O,1);ae.$d[X](le),ae.init(),this.$d=ae.set(O,Math.min(this.$D,ae.daysInMonth())).$d}else X&&this.$d[X](le);return this.init(),this},he.set=function(L,W){return this.clone().$set(L,W)},he.get=function(L){return this[D.p(L)]()},he.add=function(L,W){var te,fe=this;L=Number(L);var I=D.p(W),X=function(pe){var be=R(fe);return D.w(be.date(be.date()+Math.round(pe*L)),fe)};if(I===w)return this.set(w,this.$M+L);if(I===k)return this.set(k,this.$y+L);if(I===y)return X(1);if(I===x)return X(7);var le=(te={},te[m]=i,te[g]=o,te[h]=t,te)[I]||1,ae=this.$d.getTime()+L*le;return D.w(ae,this)},he.subtract=function(L,W){return this.add(-1*L,W)},he.format=function(L){var W=this,te=this.$locale();if(!this.isValid())return te.invalidDate||P;var fe=L||"YYYY-MM-DDTHH:mm:ssZ",I=D.z(this),X=this.$H,le=this.$m,ae=this.$M,pe=te.weekdays,be=te.months,xe=te.meridiem,Ye=function(it,pt,_t,Ln){return it&&(it[pt]||it(W,fe))||_t[pt].slice(0,Ln)},ke=function(it){return D.s(X%12||12,it,"0")},ot=xe||function(it,pt,_t){var Ln=it<12?"AM":"PM";return _t?Ln.toLowerCase():Ln};return fe.replace(H,function(it,pt){return pt||function(_t){switch(_t){case"YY":return String(W.$y).slice(-2);case"YYYY":return D.s(W.$y,4,"0");case"M":return ae+1;case"MM":return D.s(ae+1,2,"0");case"MMM":return Ye(te.monthsShort,ae,be,3);case"MMMM":return Ye(be,ae);case"D":return W.$D;case"DD":return D.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return Ye(te.weekdaysMin,W.$W,pe,2);case"ddd":return Ye(te.weekdaysShort,W.$W,pe,3);case"dddd":return pe[W.$W];case"H":return String(X);case"HH":return D.s(X,2,"0");case"h":return ke(1);case"hh":return ke(2);case"a":return ot(X,le,!0);case"A":return ot(X,le,!1);case"m":return String(le);case"mm":return D.s(le,2,"0");case"s":return String(W.$s);case"ss":return D.s(W.$s,2,"0");case"SSS":return D.s(W.$ms,3,"0");case"Z":return I}return null}(it)||I.replace(":","")})},he.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},he.diff=function(L,W,te){var fe,I=this,X=D.p(W),le=R(L),ae=(le.utcOffset()-this.utcOffset())*i,pe=this-le,be=function(){return D.m(I,le)};switch(X){case k:fe=be()/12;break;case w:fe=be();break;case E:fe=be()/3;break;case x:fe=(pe-ae)/6048e5;break;case y:fe=(pe-ae)/864e5;break;case g:fe=pe/o;break;case m:fe=pe/i;break;case h:fe=pe/t;break;default:fe=pe}return te?fe:D.a(fe)},he.daysInMonth=function(){return this.endOf(w).$D},he.$locale=function(){return ce[this.$L]},he.locale=function(L,W){if(!L)return this.$L;var te=this.clone(),fe=N(L,W,!0);return fe&&(te.$L=fe),te},he.clone=function(){return D.w(this.$d,this)},he.toDate=function(){return new Date(this.valueOf())},he.toJSON=function(){return this.isValid()?this.toISOString():null},he.toISOString=function(){return this.$d.toISOString()},he.toString=function(){return this.$d.toUTCString()},ye}(),M=z.prototype;return R.prototype=M,[["$ms",c],["$s",h],["$m",m],["$H",g],["$W",y],["$M",w],["$y",k],["$D",O]].forEach(function(ye){M[ye[1]]=function(he){return this.$g(he,ye[0],ye[1])}}),R.extend=function(ye,he){return ye.$i||(ye(he,z,R),ye.$i=!0),R},R.locale=N,R.isDayjs=A,R.unix=function(ye){return R(1e3*ye)},R.en=ce[J],R.Ls=ce,R.p={},R})}(pd)),pd.exports}var K7=Y7();const gd=Wg(K7),rw=U.createContext(),Mi=()=>{const n=U.useContext(rw);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},Q7=({children:n})=>{const[e,t]=U.useState(null),[i,o]=U.useState(null),[c,h]=U.useState(!0);U.useEffect(()=>u1(async y=>{if(t(y),y){const x=await s7(y.uid);x.success&&o(x.data),await a7(y.uid)}else o(null);h(!1)}),[]);const m={currentUser:e,userProfile:i,setUserProfile:o,loading:c};return f.jsx(rw.Provider,{value:m,children:!c&&n})},O_=async(n,e,t)=>{try{const i=$r($e,"users",n,"streakData"),o=ka(i,Hd("date",">=",`${e}-${t.toString().padStart(2,"0")}-01`),Hd("date","<=",`${e}-${t.toString().padStart(2,"0")}-31`)),c=await Sf(o),h={};return c.docs.forEach(m=>{const g=m.data();h[g.date]={completed:g.completed,activities:g.activities||[]}}),{success:!0,streakData:h}}catch(i){return console.error("Error getting streak data:",i),{success:!1,error:i.message,streakData:{}}}},sw=async(n,e=[])=>{try{const t=new Date().toISOString().split("T")[0],i=xt($e,"users",n,"streakData",t);await O6(i,{date:t,completed:!0,activities:e,timestamp:Ri()},{merge:!0});const o=await X7(n),c=xt($e,"users",n);return await er(c,{"stats.currentStreak":o}),await W7(n,o),{success:!0,newStreak:o}}catch(t){return console.error("Error marking day complete:",t),{success:!1,error:t.message}}},X7=async n=>{try{const e=$r($e,"users",n,"streakData"),t=await Sf(e),i=[];t.docs.forEach(m=>{const g=m.data();g.completed&&i.push(g.date)}),i.sort().reverse();let o=0;const c=new Date;let h=new Date(c);for(const m of i){const g=new Date(m),y=Math.floor((h-g)/(1e3*60*60*24));if(y===0||y===1)o++,h=new Date(g),h.setDate(h.getDate()-1);else break}return o}catch(e){return console.error("Error calculating streak:",e),0}},W7=async(n,e)=>{try{[3,7,15,30,60,100].includes(e)&&await KC(n,e),await Rf(n,"STREAK_MILESTONE",{streakDays:e})}catch(t){console.error("Error checking streak milestones:",t)}},Z7=n=>{const e=Object.keys(n).filter(c=>n[c].completed).sort().reverse();let t=0;const i=new Date;let o=new Date(i);for(const c of e){const h=new Date(c),m=Math.floor((o-h)/(1e3*60*60*24));if(m===0||m===1)t++,o=new Date(h),o.setDate(o.getDate()-1);else break}return t},J7=async n=>{try{const e=new Date().toISOString().split("T")[0],t=xt($e,"users",n,"streakData",e),i=await Is(t);let o=["mining_completed"];if(i.exists()){const c=i.data().activities||[];o=[...new Set([...c,"mining_completed"])]}return await sw(n,o),{success:!0}}catch(e){return console.error("Error marking mining as streak activity:",e),{success:!1,error:e.message}}},eI=["S","M","T","W","T","F","S"],tI=()=>{const{currentUser:n,userProfile:e}=Mi(),[t,i]=U.useState(gd()),[o,c]=U.useState(null),[h,m]=U.useState(!1),[g,y]=U.useState({}),[x,w]=U.useState(!0),[E,k]=U.useState(null),O=gd();U.useEffect(()=>{if(!n){w(!1);return}(async()=>{try{w(!0);const N=await O_(n.uid,t.year(),t.month()+1);N.success?y(N.streakData):k(N.error)}catch(N){console.error("Error loading streak data:",N),k("Failed to load streak data")}finally{w(!1)}})()},[n,t]),e?.stats?.currentStreak!==void 0?e.stats.currentStreak:Z7(g);const B=async()=>{if(n)try{if((await sw(n.uid,["manual_completion"])).success){const N=await O_(n.uid,t.year(),t.month()+1);N.success&&y(N.streakData),m(!0),setTimeout(()=>m(!1),1e3)}}catch(A){console.error("Error marking day complete:",A)}};U.useEffect(()=>{m(!0);const A=setTimeout(()=>m(!1),1e3);return()=>clearTimeout(A)},[t]),t.daysInMonth();const Z=t.startOf("month").startOf("week"),ee=Array.from({length:42},(A,N)=>Z.add(N,"day")),ue=()=>i(t.subtract(1,"month")),J=()=>i(t.add(1,"month")),ce=Object.keys(g).filter(A=>gd(A).month()===t.month()&&g[A].completed).length,C=ce/t.daysInMonth()*100;return n?x?f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-400 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400",children:"Loading streak data..."})]})}):f.jsxs("div",{className:"w-full h-full flex flex-col justify-start relative",children:[E&&f.jsx("div",{className:"mb-4 bg-red-500/20 border border-red-500 text-red-300 px-3 py-2 rounded-lg text-sm",children:E}),!g[O.format("YYYY-MM-DD")]?.completed&&f.jsx("div",{className:"mb-4 text-center",children:f.jsxs("button",{onClick:B,className:"px-4 py-2 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white rounded-lg text-sm font-medium transition-all duration-300 flex items-center gap-2 mx-auto",children:[f.jsx(U7,{}),"Mark Today Complete"]})}),f.jsxs("div",{className:"flex items-center justify-between mb-4 w-full px-2 bg-white/5 backdrop-blur-sm rounded-lg py-2 border border-white/10",children:[f.jsx("button",{onClick:ue,className:"text-violet-400 hover:text-violet-300 hover:bg-white/10 transition-all duration-200 text-sm p-2 rounded-lg group","aria-label":"Previous month",children:f.jsx(K6,{className:"group-hover:transform group-hover:-translate-x-0.5 transition-transform"})}),f.jsxs("div",{className:"text-violet-300 text-sm font-bold text-center flex items-center gap-2",children:[f.jsx(N7,{className:"text-violet-400"}),t.format("MMMM YYYY")]}),f.jsx("button",{onClick:J,className:"text-violet-400 hover:text-violet-300 hover:bg-white/10 transition-all duration-200 text-sm p-2 rounded-lg group","aria-label":"Next month",children:f.jsx(Q6,{className:"group-hover:transform group-hover:translate-x-0.5 transition-transform"})})]}),f.jsx("div",{className:"grid grid-cols-7 gap-1 text-[10px] text-violet-300/80 mb-2 text-center font-medium",children:eI.map(A=>f.jsx("div",{className:"w-full py-1",children:A},A))}),f.jsx("div",{className:"grid grid-cols-7 gap-1 flex-1",children:ee.map(A=>{const N=A.format("YYYY-MM-DD"),R=g[N]?.completed||!1,D=A.isSame(O,"day"),z=A.month()===t.month(),M=A.isBefore(O,"day");return f.jsxs("div",{className:`
                w-full aspect-square flex items-center justify-center text-[9px] font-medium rounded-lg 
                transition-all duration-300 cursor-pointer relative overflow-hidden group
                ${R?"bg-gradient-to-br from-violet-500 to-purple-600 text-white shadow-lg shadow-violet-500/30 hover:shadow-violet-500/50":M?"bg-gray-800/50 text-gray-500 border border-gray-700/50":"bg-slate-800/70 text-slate-300 border border-slate-700/50 hover:bg-slate-700/70"}
                ${D?"ring-2 ring-orange-400 ring-offset-2 ring-offset-slate-900":""}
                ${z?"":"opacity-40"}
                ${o===N?"scale-110 z-10":""}
              `,title:`${A.format("dddd, MMMM D")} ${R?"- Completed ":""}`,onMouseEnter:()=>c(N),onMouseLeave:()=>c(null),children:[R&&f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 animate-shimmer"}),f.jsx("span",{className:"relative z-10",children:A.date()}),R&&f.jsx("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"}),D&&!R&&f.jsx("div",{className:"absolute bottom-0.5 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-orange-400 rounded-full"})]},N)})}),f.jsxs("div",{className:"mt-4 w-full",children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("span",{className:"text-xs text-violet-300",children:"Monthly Progress"}),f.jsxs("span",{className:"text-xs text-violet-400 font-medium",children:[ce,"/",t.daysInMonth()," days"]})]}),f.jsx("div",{className:"w-full bg-slate-800 rounded-full h-1.5 overflow-hidden",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-violet-500 to-purple-600 rounded-full transition-all duration-1000 ease-out shadow-sm shadow-violet-500/50",style:{width:`${C}%`}})})]})]}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("p",{className:"text-gray-400",children:"Please log in to view your streak"})})};var En=function(){return En=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},En.apply(this,arguments)};function Wc(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,c;i<o;i++)(c||!(i in e))&&(c||(c=Array.prototype.slice.call(e,0,i)),c[i]=e[i]);return n.concat(c||Array.prototype.slice.call(e))}var ut="-ms-",Uc="-moz-",Xe="-webkit-",iw="comm",Df="rule",g1="decl",nI="@import",aw="@keyframes",rI="@layer",ow=Math.abs,y1=String.fromCharCode,Hg=Object.assign;function sI(n,e){return Xt(n,0)^45?(((e<<2^Xt(n,0))<<2^Xt(n,1))<<2^Xt(n,2))<<2^Xt(n,3):0}function lw(n){return n.trim()}function vs(n,e){return(n=e.exec(n))?n[0]:n}function je(n,e,t){return n.replace(e,t)}function yd(n,e,t){return n.indexOf(e,t)}function Xt(n,e){return n.charCodeAt(e)|0}function Wo(n,e,t){return n.slice(e,t)}function jr(n){return n.length}function cw(n){return n.length}function jc(n,e){return e.push(n),n}function iI(n,e){return n.map(e).join("")}function P_(n,e){return n.filter(function(t){return!vs(t,e)})}var jf=1,Zo=1,uw=0,tr=0,kt=0,ml="";function Mf(n,e,t,i,o,c,h,m){return{value:n,root:e,parent:t,type:i,props:o,children:c,line:jf,column:Zo,length:h,return:"",siblings:m}}function ui(n,e){return Hg(Mf("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function Ro(n){for(;n.root;)n=ui(n.root,{children:[n]});jc(n,n.siblings)}function aI(){return kt}function oI(){return kt=tr>0?Xt(ml,--tr):0,Zo--,kt===10&&(Zo=1,jf--),kt}function ur(){return kt=tr<uw?Xt(ml,tr++):0,Zo++,kt===10&&(Zo=1,jf++),kt}function _a(){return Xt(ml,tr)}function vd(){return tr}function kf(n,e){return Wo(ml,n,e)}function qg(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function lI(n){return jf=Zo=1,uw=jr(ml=n),tr=0,[]}function cI(n){return ml="",n}function ig(n){return lw(kf(tr-1,$g(n===91?n+2:n===40?n+1:n)))}function uI(n){for(;(kt=_a())&&kt<33;)ur();return qg(n)>2||qg(kt)>3?"":" "}function hI(n,e){for(;--e&&ur()&&!(kt<48||kt>102||kt>57&&kt<65||kt>70&&kt<97););return kf(n,vd()+(e<6&&_a()==32&&ur()==32))}function $g(n){for(;ur();)switch(kt){case n:return tr;case 34:case 39:n!==34&&n!==39&&$g(kt);break;case 40:n===41&&$g(n);break;case 92:ur();break}return tr}function dI(n,e){for(;ur()&&n+kt!==57;)if(n+kt===84&&_a()===47)break;return"/*"+kf(e,tr-1)+"*"+y1(n===47?n:ur())}function fI(n){for(;!qg(_a());)ur();return kf(n,tr)}function mI(n){return cI(xd("",null,null,null,[""],n=lI(n),0,[0],n))}function xd(n,e,t,i,o,c,h,m,g){for(var y=0,x=0,w=h,E=0,k=0,O=0,P=1,B=1,H=1,Z=0,ee="",ue=o,J=c,ce=i,C=ee;B;)switch(O=Z,Z=ur()){case 40:if(O!=108&&Xt(C,w-1)==58){yd(C+=je(ig(Z),"&","&\f"),"&\f",ow(y?m[y-1]:0))!=-1&&(H=-1);break}case 34:case 39:case 91:C+=ig(Z);break;case 9:case 10:case 13:case 32:C+=uI(O);break;case 92:C+=hI(vd()-1,7);continue;case 47:switch(_a()){case 42:case 47:jc(pI(dI(ur(),vd()),e,t,g),g);break;default:C+="/"}break;case 123*P:m[y++]=jr(C)*H;case 125*P:case 59:case 0:switch(Z){case 0:case 125:B=0;case 59+x:H==-1&&(C=je(C,/\f/g,"")),k>0&&jr(C)-w&&jc(k>32?L_(C+";",i,t,w-1,g):L_(je(C," ","")+";",i,t,w-2,g),g);break;case 59:C+=";";default:if(jc(ce=V_(C,e,t,y,x,o,m,ee,ue=[],J=[],w,c),c),Z===123)if(x===0)xd(C,e,ce,ce,ue,c,w,m,J);else switch(E===99&&Xt(C,3)===110?100:E){case 100:case 108:case 109:case 115:xd(n,ce,ce,i&&jc(V_(n,ce,ce,0,0,o,m,ee,o,ue=[],w,J),J),o,J,w,m,i?ue:J);break;default:xd(C,ce,ce,ce,[""],J,0,m,J)}}y=x=k=0,P=H=1,ee=C="",w=h;break;case 58:w=1+jr(C),k=O;default:if(P<1){if(Z==123)--P;else if(Z==125&&P++==0&&oI()==125)continue}switch(C+=y1(Z),Z*P){case 38:H=x>0?1:(C+="\f",-1);break;case 44:m[y++]=(jr(C)-1)*H,H=1;break;case 64:_a()===45&&(C+=ig(ur())),E=_a(),x=w=jr(ee=C+=fI(vd())),Z++;break;case 45:O===45&&jr(C)==2&&(P=0)}}return c}function V_(n,e,t,i,o,c,h,m,g,y,x,w){for(var E=o-1,k=o===0?c:[""],O=cw(k),P=0,B=0,H=0;P<i;++P)for(var Z=0,ee=Wo(n,E+1,E=ow(B=h[P])),ue=n;Z<O;++Z)(ue=lw(B>0?k[Z]+" "+ee:je(ee,/&\f/g,k[Z])))&&(g[H++]=ue);return Mf(n,e,t,o===0?Df:m,g,y,x,w)}function pI(n,e,t,i){return Mf(n,e,t,iw,y1(aI()),Wo(n,2,-2),0,i)}function L_(n,e,t,i,o){return Mf(n,e,t,g1,Wo(n,0,i),Wo(n,i+1,-1),i,o)}function hw(n,e,t){switch(sI(n,e)){case 5103:return Xe+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xe+n+n;case 4789:return Uc+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Xe+n+Uc+n+ut+n+n;case 5936:switch(Xt(n,e+11)){case 114:return Xe+n+ut+je(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Xe+n+ut+je(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Xe+n+ut+je(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Xe+n+ut+n+n;case 6165:return Xe+n+ut+"flex-"+n+n;case 5187:return Xe+n+je(n,/(\w+).+(:[^]+)/,Xe+"box-$1$2"+ut+"flex-$1$2")+n;case 5443:return Xe+n+ut+"flex-item-"+je(n,/flex-|-self/g,"")+(vs(n,/flex-|baseline/)?"":ut+"grid-row-"+je(n,/flex-|-self/g,""))+n;case 4675:return Xe+n+ut+"flex-line-pack"+je(n,/align-content|flex-|-self/g,"")+n;case 5548:return Xe+n+ut+je(n,"shrink","negative")+n;case 5292:return Xe+n+ut+je(n,"basis","preferred-size")+n;case 6060:return Xe+"box-"+je(n,"-grow","")+Xe+n+ut+je(n,"grow","positive")+n;case 4554:return Xe+je(n,/([^-])(transform)/g,"$1"+Xe+"$2")+n;case 6187:return je(je(je(n,/(zoom-|grab)/,Xe+"$1"),/(image-set)/,Xe+"$1"),n,"")+n;case 5495:case 3959:return je(n,/(image-set\([^]*)/,Xe+"$1$`$1");case 4968:return je(je(n,/(.+:)(flex-)?(.*)/,Xe+"box-pack:$3"+ut+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xe+n+n;case 4200:if(!vs(n,/flex-|baseline/))return ut+"grid-column-align"+Wo(n,e)+n;break;case 2592:case 3360:return ut+je(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(i,o){return e=o,vs(i.props,/grid-\w+-end/)})?~yd(n+(t=t[e].value),"span",0)?n:ut+je(n,"-start","")+n+ut+"grid-row-span:"+(~yd(t,"span",0)?vs(t,/\d+/):+vs(t,/\d+/)-+vs(n,/\d+/))+";":ut+je(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(i){return vs(i.props,/grid-\w+-start/)})?n:ut+je(je(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return je(n,/(.+)-inline(.+)/,Xe+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(jr(n)-1-e>6)switch(Xt(n,e+1)){case 109:if(Xt(n,e+4)!==45)break;case 102:return je(n,/(.+:)(.+)-([^]+)/,"$1"+Xe+"$2-$3$1"+Uc+(Xt(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~yd(n,"stretch",0)?hw(je(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return je(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,o,c,h,m,g,y){return ut+o+":"+c+y+(h?ut+o+"-span:"+(m?g:+g-+c)+y:"")+n});case 4949:if(Xt(n,e+6)===121)return je(n,":",":"+Xe)+n;break;case 6444:switch(Xt(n,Xt(n,14)===45?18:11)){case 120:return je(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Xe+(Xt(n,14)===45?"inline-":"")+"box$3$1"+Xe+"$2$3$1"+ut+"$2box$3")+n;case 100:return je(n,":",":"+ut)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return je(n,"scroll-","scroll-snap-")+n}return n}function Xd(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function gI(n,e,t,i){switch(n.type){case rI:if(n.children.length)break;case nI:case g1:return n.return=n.return||n.value;case iw:return"";case aw:return n.return=n.value+"{"+Xd(n.children,i)+"}";case Df:if(!jr(n.value=n.props.join(",")))return""}return jr(t=Xd(n.children,i))?n.return=n.value+"{"+t+"}":""}function yI(n){var e=cw(n);return function(t,i,o,c){for(var h="",m=0;m<e;m++)h+=n[m](t,i,o,c)||"";return h}}function vI(n){return function(e){e.root||(e=e.return)&&n(e)}}function xI(n,e,t,i){if(n.length>-1&&!n.return)switch(n.type){case g1:n.return=hw(n.value,n.length,t);return;case aw:return Xd([ui(n,{value:je(n.value,"@","@"+Xe)})],i);case Df:if(n.length)return iI(t=n.props,function(o){switch(vs(o,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ro(ui(n,{props:[je(o,/:(read-\w+)/,":"+Uc+"$1")]})),Ro(ui(n,{props:[o]})),Hg(n,{props:P_(t,i)});break;case"::placeholder":Ro(ui(n,{props:[je(o,/:(plac\w+)/,":"+Xe+"input-$1")]})),Ro(ui(n,{props:[je(o,/:(plac\w+)/,":"+Uc+"$1")]})),Ro(ui(n,{props:[je(o,/:(plac\w+)/,ut+"input-$1")]})),Ro(ui(n,{props:[o]})),Hg(n,{props:P_(t,i)});break}return""})}}var _I={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},On={},Jo=typeof process<"u"&&On!==void 0&&(On.REACT_APP_SC_ATTR||On.SC_ATTR)||"data-styled",dw="active",fw="data-styled-version",Of="6.1.19",v1=`/*!sc*/
`,Wd=typeof window<"u"&&typeof document<"u",bI=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&On!==void 0&&On.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&On.REACT_APP_SC_DISABLE_SPEEDY!==""?On.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&On.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&On!==void 0&&On.SC_DISABLE_SPEEDY!==void 0&&On.SC_DISABLE_SPEEDY!==""&&On.SC_DISABLE_SPEEDY!=="false"&&On.SC_DISABLE_SPEEDY),Pf=Object.freeze([]),el=Object.freeze({});function wI(n,e,t){return t===void 0&&(t=el),n.theme!==t.theme&&n.theme||e||t.theme}var mw=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),EI=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,TI=/(^-|-$)/g;function U_(n){return n.replace(EI,"-").replace(TI,"")}var SI=/(a)(d)/gi,Xh=52,z_=function(n){return String.fromCharCode(n+(n>25?39:97))};function Gg(n){var e,t="";for(e=Math.abs(n);e>Xh;e=e/Xh|0)t=z_(e%Xh)+t;return(z_(e%Xh)+t).replace(SI,"$1-$2")}var ag,pw=5381,Oo=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},gw=function(n){return Oo(pw,n)};function yw(n){return Gg(gw(n)>>>0)}function AI(n){return n.displayName||n.name||"Component"}function og(n){return typeof n=="string"&&!0}var vw=typeof Symbol=="function"&&Symbol.for,xw=vw?Symbol.for("react.memo"):60115,NI=vw?Symbol.for("react.forward_ref"):60112,RI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},CI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},_w={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},II=((ag={})[NI]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ag[xw]=_w,ag);function B_(n){return("type"in(e=n)&&e.type.$$typeof)===xw?_w:"$$typeof"in n?II[n.$$typeof]:RI;var e}var DI=Object.defineProperty,jI=Object.getOwnPropertyNames,F_=Object.getOwnPropertySymbols,MI=Object.getOwnPropertyDescriptor,kI=Object.getPrototypeOf,H_=Object.prototype;function bw(n,e,t){if(typeof e!="string"){if(H_){var i=kI(e);i&&i!==H_&&bw(n,i,t)}var o=jI(e);F_&&(o=o.concat(F_(e)));for(var c=B_(n),h=B_(e),m=0;m<o.length;++m){var g=o[m];if(!(g in CI||t&&t[g]||h&&g in h||c&&g in c)){var y=MI(e,g);try{DI(n,g,y)}catch{}}}}return n}function tl(n){return typeof n=="function"}function x1(n){return typeof n=="object"&&"styledComponentId"in n}function ya(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function Yg(n,e){if(n.length===0)return"";for(var t=n[0],i=1;i<n.length;i++)t+=n[i];return t}function Zc(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function Kg(n,e,t){if(t===void 0&&(t=!1),!t&&!Zc(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)n[i]=Kg(n[i],e[i]);else if(Zc(e))for(var i in e)n[i]=Kg(n[i],e[i]);return n}function _1(n,e){Object.defineProperty(n,"toString",{value:e})}function yu(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var OI=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,c=o;e>=c;)if((c<<=1)<0)throw yu(16,"".concat(e));this.groupSizes=new Uint32Array(c),this.groupSizes.set(i),this.length=c;for(var h=o;h<c;h++)this.groupSizes[h]=0}for(var m=this.indexOfGroup(e+1),g=(h=0,t.length);h<g;h++)this.tag.insertRule(m,t[h])&&(this.groupSizes[e]++,m++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),o=i+t;this.groupSizes[e]=0;for(var c=i;c<o;c++)this.tag.deleteRule(i)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var i=this.groupSizes[e],o=this.indexOfGroup(e),c=o+i,h=o;h<c;h++)t+="".concat(this.tag.getRule(h)).concat(v1);return t},n}(),_d=new Map,Zd=new Map,bd=1,Wh=function(n){if(_d.has(n))return _d.get(n);for(;Zd.has(bd);)bd++;var e=bd++;return _d.set(n,e),Zd.set(e,n),e},PI=function(n,e){bd=e+1,_d.set(n,e),Zd.set(e,n)},VI="style[".concat(Jo,"][").concat(fw,'="').concat(Of,'"]'),LI=new RegExp("^".concat(Jo,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),UI=function(n,e,t){for(var i,o=t.split(","),c=0,h=o.length;c<h;c++)(i=o[c])&&n.registerName(e,i)},zI=function(n,e){for(var t,i=((t=e.textContent)!==null&&t!==void 0?t:"").split(v1),o=[],c=0,h=i.length;c<h;c++){var m=i[c].trim();if(m){var g=m.match(LI);if(g){var y=0|parseInt(g[1],10),x=g[2];y!==0&&(PI(x,y),UI(n,x,g[3]),n.getTag().insertRules(y,o)),o.length=0}else o.push(m)}}},q_=function(n){for(var e=document.querySelectorAll(VI),t=0,i=e.length;t<i;t++){var o=e[t];o&&o.getAttribute(Jo)!==dw&&(zI(n,o),o.parentNode&&o.parentNode.removeChild(o))}};function BI(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var ww=function(n){var e=document.head,t=n||e,i=document.createElement("style"),o=function(m){var g=Array.from(m.querySelectorAll("style[".concat(Jo,"]")));return g[g.length-1]}(t),c=o!==void 0?o.nextSibling:null;i.setAttribute(Jo,dw),i.setAttribute(fw,Of);var h=BI();return h&&i.setAttribute("nonce",h),t.insertBefore(i,c),i},FI=function(){function n(e){this.element=ww(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var i=document.styleSheets,o=0,c=i.length;o<c;o++){var h=i[o];if(h.ownerNode===t)return h}throw yu(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),HI=function(){function n(e){this.element=ww(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),qI=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),$_=Wd,$I={isServer:!Wd,useCSSOMInjection:!bI},Ew=function(){function n(e,t,i){e===void 0&&(e=el),t===void 0&&(t={});var o=this;this.options=En(En({},$I),e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&Wd&&$_&&($_=!1,q_(this)),_1(this,function(){return function(c){for(var h=c.getTag(),m=h.length,g="",y=function(w){var E=function(H){return Zd.get(H)}(w);if(E===void 0)return"continue";var k=c.names.get(E),O=h.getGroup(w);if(k===void 0||!k.size||O.length===0)return"continue";var P="".concat(Jo,".g").concat(w,'[id="').concat(E,'"]'),B="";k!==void 0&&k.forEach(function(H){H.length>0&&(B+="".concat(H,","))}),g+="".concat(O).concat(P,'{content:"').concat(B,'"}').concat(v1)},x=0;x<m;x++)y(x);return g}(o)})}return n.registerId=function(e){return Wh(e)},n.prototype.rehydrate=function(){!this.server&&Wd&&q_(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(En(En({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var i=t.useCSSOMInjection,o=t.target;return t.isServer?new qI(o):i?new FI(o):new HI(o)}(this.options),new OI(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(Wh(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},n.prototype.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(Wh(e),i)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(Wh(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),GI=/&/g,YI=/^\s*\/\/.*$/gm;function Tw(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=Tw(t.children,e)),t})}function KI(n){var e,t,i,o=el,c=o.options,h=c===void 0?el:c,m=o.plugins,g=m===void 0?Pf:m,y=function(E,k,O){return O.startsWith(t)&&O.endsWith(t)&&O.replaceAll(t,"").length>0?".".concat(e):E},x=g.slice();x.push(function(E){E.type===Df&&E.value.includes("&")&&(E.props[0]=E.props[0].replace(GI,t).replace(i,y))}),h.prefix&&x.push(xI),x.push(gI);var w=function(E,k,O,P){k===void 0&&(k=""),O===void 0&&(O=""),P===void 0&&(P="&"),e=P,t=k,i=new RegExp("\\".concat(t,"\\b"),"g");var B=E.replace(YI,""),H=mI(O||k?"".concat(O," ").concat(k," { ").concat(B," }"):B);h.namespace&&(H=Tw(H,h.namespace));var Z=[];return Xd(H,yI(x.concat(vI(function(ee){return Z.push(ee)})))),Z};return w.hash=g.length?g.reduce(function(E,k){return k.name||yu(15),Oo(E,k.name)},pw).toString():"",w}var QI=new Ew,Qg=KI(),Sw=sn.createContext({shouldForwardProp:void 0,styleSheet:QI,stylis:Qg});Sw.Consumer;sn.createContext(void 0);function G_(){return U.useContext(Sw)}var Aw=function(){function n(e,t){var i=this;this.inject=function(o,c){c===void 0&&(c=Qg);var h=i.name+c.hash;o.hasNameForId(i.id,h)||o.insertRules(i.id,h,c(i.rules,h,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,_1(this,function(){throw yu(12,String(i.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=Qg),this.name+e.hash},n}(),XI=function(n){return n>="A"&&n<="Z"};function Y_(n){for(var e="",t=0;t<n.length;t++){var i=n[t];if(t===1&&i==="-"&&n[0]==="-")return n;XI(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var Nw=function(n){return n==null||n===!1||n===""},Rw=function(n){var e,t,i=[];for(var o in n){var c=n[o];n.hasOwnProperty(o)&&!Nw(c)&&(Array.isArray(c)&&c.isCss||tl(c)?i.push("".concat(Y_(o),":"),c,";"):Zc(c)?i.push.apply(i,Wc(Wc(["".concat(o," {")],Rw(c),!1),["}"],!1)):i.push("".concat(Y_(o),": ").concat((e=o,(t=c)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in _I||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return i};function ba(n,e,t,i){if(Nw(n))return[];if(x1(n))return[".".concat(n.styledComponentId)];if(tl(n)){if(!tl(c=n)||c.prototype&&c.prototype.isReactComponent||!e)return[n];var o=n(e);return ba(o,e,t,i)}var c;return n instanceof Aw?t?(n.inject(t,i),[n.getName(i)]):[n]:Zc(n)?Rw(n):Array.isArray(n)?Array.prototype.concat.apply(Pf,n.map(function(h){return ba(h,e,t,i)})):[n.toString()]}function WI(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(tl(t)&&!x1(t))return!1}return!0}var ZI=gw(Of),JI=function(){function n(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&WI(e),this.componentId=t,this.baseHash=Oo(ZI,t),this.baseStyle=i,Ew.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,i){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))o=ya(o,this.staticRulesId);else{var c=Yg(ba(this.rules,e,t,i)),h=Gg(Oo(this.baseHash,c)>>>0);if(!t.hasNameForId(this.componentId,h)){var m=i(c,".".concat(h),void 0,this.componentId);t.insertRules(this.componentId,h,m)}o=ya(o,h),this.staticRulesId=h}else{for(var g=Oo(this.baseHash,i.hash),y="",x=0;x<this.rules.length;x++){var w=this.rules[x];if(typeof w=="string")y+=w;else if(w){var E=Yg(ba(w,e,t,i));g=Oo(g,E+x),y+=E}}if(y){var k=Gg(g>>>0);t.hasNameForId(this.componentId,k)||t.insertRules(this.componentId,k,i(y,".".concat(k),void 0,this.componentId)),o=ya(o,k)}}return o},n}(),Cw=sn.createContext(void 0);Cw.Consumer;var lg={};function eD(n,e,t){var i=x1(n),o=n,c=!og(n),h=e.attrs,m=h===void 0?Pf:h,g=e.componentId,y=g===void 0?function(ue,J){var ce=typeof ue!="string"?"sc":U_(ue);lg[ce]=(lg[ce]||0)+1;var C="".concat(ce,"-").concat(yw(Of+ce+lg[ce]));return J?"".concat(J,"-").concat(C):C}(e.displayName,e.parentComponentId):g,x=e.displayName,w=x===void 0?function(ue){return og(ue)?"styled.".concat(ue):"Styled(".concat(AI(ue),")")}(n):x,E=e.displayName&&e.componentId?"".concat(U_(e.displayName),"-").concat(e.componentId):e.componentId||y,k=i&&o.attrs?o.attrs.concat(m).filter(Boolean):m,O=e.shouldForwardProp;if(i&&o.shouldForwardProp){var P=o.shouldForwardProp;if(e.shouldForwardProp){var B=e.shouldForwardProp;O=function(ue,J){return P(ue,J)&&B(ue,J)}}else O=P}var H=new JI(t,E,i?o.componentStyle:void 0);function Z(ue,J){return function(ce,C,A){var N=ce.attrs,R=ce.componentStyle,D=ce.defaultProps,z=ce.foldedComponentIds,M=ce.styledComponentId,ye=ce.target,he=sn.useContext(Cw),L=G_(),W=ce.shouldForwardProp||L.shouldForwardProp,te=wI(C,he,D)||el,fe=function(be,xe,Ye){for(var ke,ot=En(En({},xe),{className:void 0,theme:Ye}),it=0;it<be.length;it+=1){var pt=tl(ke=be[it])?ke(ot):ke;for(var _t in pt)ot[_t]=_t==="className"?ya(ot[_t],pt[_t]):_t==="style"?En(En({},ot[_t]),pt[_t]):pt[_t]}return xe.className&&(ot.className=ya(ot.className,xe.className)),ot}(N,C,te),I=fe.as||ye,X={};for(var le in fe)fe[le]===void 0||le[0]==="$"||le==="as"||le==="theme"&&fe.theme===te||(le==="forwardedAs"?X.as=fe.forwardedAs:W&&!W(le,I)||(X[le]=fe[le]));var ae=function(be,xe){var Ye=G_(),ke=be.generateAndInjectStyles(xe,Ye.styleSheet,Ye.stylis);return ke}(R,fe),pe=ya(z,M);return ae&&(pe+=" "+ae),fe.className&&(pe+=" "+fe.className),X[og(I)&&!mw.has(I)?"class":"className"]=pe,A&&(X.ref=A),U.createElement(I,X)}(ee,ue,J)}Z.displayName=w;var ee=sn.forwardRef(Z);return ee.attrs=k,ee.componentStyle=H,ee.displayName=w,ee.shouldForwardProp=O,ee.foldedComponentIds=i?ya(o.foldedComponentIds,o.styledComponentId):"",ee.styledComponentId=E,ee.target=i?o.target:n,Object.defineProperty(ee,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ue){this._foldedDefaultProps=i?function(J){for(var ce=[],C=1;C<arguments.length;C++)ce[C-1]=arguments[C];for(var A=0,N=ce;A<N.length;A++)Kg(J,N[A],!0);return J}({},o.defaultProps,ue):ue}}),_1(ee,function(){return".".concat(ee.styledComponentId)}),c&&bw(ee,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),ee}function K_(n,e){for(var t=[n[0]],i=0,o=e.length;i<o;i+=1)t.push(e[i],n[i+1]);return t}var Q_=function(n){return Object.assign(n,{isCss:!0})};function Iw(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(tl(n)||Zc(n))return Q_(ba(K_(Pf,Wc([n],e,!0))));var i=n;return e.length===0&&i.length===1&&typeof i[0]=="string"?ba(i):Q_(ba(K_(i,e)))}function Xg(n,e,t){if(t===void 0&&(t=el),!e)throw yu(1,e);var i=function(o){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];return n(e,t,Iw.apply(void 0,Wc([o],c,!1)))};return i.attrs=function(o){return Xg(n,e,En(En({},t),{attrs:Array.prototype.concat(t.attrs,o).filter(Boolean)}))},i.withConfig=function(o){return Xg(n,e,En(En({},t),o))},i}var Dw=function(n){return Xg(eD,n)},Ht=Dw;mw.forEach(function(n){Ht[n]=Dw(n)});function jw(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var i=Yg(Iw.apply(void 0,Wc([n],e,!1))),o=yw(i);return new Aw(o,i)}const tD=jw`
  from {
    opacity: 0;
    transform: translateX(100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
`,nD=jw`
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.95);
  }
`,Zh=Ht.div`
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
  font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #2d1b69 0%, #4a1e72 50%, #663399 100%);
  border-radius: 16px;
  border: 1px solid rgba(147, 51, 234, 0.3);
  min-height: 400px;
  box-shadow: 0 8px 32px rgba(147, 51, 234, 0.2);

  @media (max-width: 768px) {
    padding: 16px;
    margin: 10px;
  }
`,Jh=Ht.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 1px solid rgba(147, 51, 234, 0.3);
`,ed=Ht.h1`
  font-size: clamp(1.5rem, 3vw, 2rem);
  font-weight: 700;
  color: #ffffff;
  margin: 0;
  display: flex;
  align-items: center;
  gap: 12px;
`,rD=Ht.span`
  background: linear-gradient(135deg, #9333ea, #a855f7);
  color: #ffffff;
  font-size: 0.75rem;
  font-weight: 600;
  padding: 4px 8px;
  border-radius: 12px;
  min-width: 20px;
  text-align: center;
  box-shadow: 0 2px 8px rgba(147, 51, 234, 0.3);
`,sD=Ht.div`
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 60px 20px;
  color: rgba(255, 255, 255, 0.6);
`,cg=Ht.div`
  text-align: center;
  padding: 60px 20px;
  color: rgba(255, 255, 255, 0.6);
`,iD=Ht.div`
  font-size: 4rem;
  margin-bottom: 16px;
  opacity: 0.4;
`,ug=Ht.h3`
  font-size: 1.2rem;
  color: rgba(255, 255, 255, 0.8);
  margin: 0;
  font-weight: 500;
`,aD=Ht.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,oD=Ht.div`
  background: linear-gradient(135deg, rgba(45, 27, 105, 0.8) 0%, rgba(74, 30, 114, 0.8) 100%);
  backdrop-filter: blur(10px);
  border-radius: 12px;
  padding: 20px;
  border: 1px solid ${n=>n.isRead?"rgba(147, 51, 234, 0.25)":"rgba(147, 51, 234, 0.5)"};
  position: relative;
  transition: all 0.3s ease;
  animation: ${tD} 0.3s ease-out;
  opacity: ${n=>n.isRead?.7:1};
  
  &.removing {
    animation: ${nD} 0.3s ease-out forwards;
  }

  &:hover {
    transform: translateX(4px);
    border-color: rgba(147, 51, 234, 0.5);
    box-shadow: 0 4px 20px rgba(147, 51, 234, 0.2);
    background: linear-gradient(135deg, rgba(45, 27, 105, 0.9) 0%, rgba(74, 30, 114, 0.9) 100%);
    opacity: 1;
  }

  @media (max-width: 480px) {
    padding: 16px;
  }
`,lD=Ht.div`
  display: flex;
  align-items: flex-start;
  gap: 16px;
`,cD=Ht.div`
  background: linear-gradient(135deg, rgba(147, 51, 234, 0.3), rgba(168, 85, 247, 0.3));
  border-radius: 8px;
  padding: 8px;
  color: ${n=>n.color||"#a855f7"};
  font-size: 1.1rem;
  flex-shrink: 0;
  border: 1px solid rgba(147, 51, 234, 0.2);
`,uD=Ht.div`
  flex: 1;
`,hD=Ht.div`
  color: #ffffff;
  font-size: 0.95rem;
  line-height: 1.4;
  margin-bottom: 8px;
  font-weight: 500;
`,dD=Ht.div`
  color: rgba(255, 255, 255, 0.6);
  font-size: 0.8rem;
  font-weight: 400;
`,fD=Ht.button`
  background: none;
  border: none;
  color: rgba(255, 255, 255, 0.5);
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  transition: all 0.2s ease;
  position: absolute;
  top: 16px;
  right: 16px;

  &:hover {
    color: #a855f7;
    background: rgba(147, 51, 234, 0.2);
  }
`,mD=Ht.div`
  display: flex;
  gap: 8px;
  margin-top: 12px;
`,pD=Ht.button`
  background: ${n=>n.primary?"linear-gradient(135deg, #9333ea, #a855f7)":"rgba(147, 51, 234, 0.2)"};
  color: #ffffff;
  border: none;
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    opacity: 0.8;
    transform: translateY(-1px);
  }
`,gD=n=>{switch(n){case"mining_completed":return f.jsx(X6,{});case"badge_earned":return f.jsx(Na,{});case"referral_success":return f.jsx(Xo,{});case"streak_milestone":return f.jsx(Cf,{});case"welcome_bonus":return f.jsx(Z6,{});case"level_up":return f.jsx(If,{});default:return f.jsx(ko,{})}},yD=n=>{switch(n){case"mining_completed":return"#fbbf24";case"badge_earned":return"#8b5cf6";case"referral_success":return"#10b981";case"streak_milestone":return"#f97316";case"welcome_bonus":return"#06b6d4";case"level_up":return"#f59e0b";default:return"#a855f7"}};function vD(){const{currentUser:n}=Mi(),[e,t]=U.useState([]),[i,o]=U.useState(!0),[c,h]=U.useState(null);U.useEffect(()=>{if(!n){o(!1);return}let x;return(async()=>{try{o(!0),x=qC(n.uid,E=>{t(E),o(!1)})}catch(E){console.error("Error loading notifications:",E),h("Failed to load notifications"),o(!1)}})(),()=>{x&&x()}},[n]);const m=async x=>{const w=document.querySelector(`[data-id="${x}"]`);if(w){w.classList.add("removing");try{await GC(n.uid,x),setTimeout(()=>{t(E=>E.filter(k=>k.id!==x))},300)}catch(E){console.error("Error dismissing notification:",E),w.classList.remove("removing")}}},g=async x=>{try{await $C(n.uid,x),t(w=>w.map(E=>E.id===x?{...E,isRead:!0}:E))}catch(w){console.error("Error marking notification as read:",w)}},y=e.filter(x=>!x.isRead&&!x.isDismissed).length;return n?i?f.jsxs(Zh,{children:[f.jsx(Jh,{children:f.jsxs(ed,{children:[f.jsx(ko,{}),"Notifications"]})}),f.jsx(sD,{children:f.jsxs("div",{style:{textAlign:"center"},children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto mb-4"}),f.jsx("p",{children:"Loading notifications..."})]})})]}):c?f.jsxs(Zh,{children:[f.jsx(Jh,{children:f.jsxs(ed,{children:[f.jsx(ko,{}),"Notifications"]})}),f.jsxs(cg,{children:[f.jsx(ug,{children:"Error loading notifications"}),f.jsx("p",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.9rem",marginTop:"8px"},children:c})]})]}):f.jsxs(Zh,{children:[f.jsx(Jh,{children:f.jsxs(ed,{children:[f.jsx(ko,{}),"Notifications",y>0&&f.jsx(rD,{children:y})]})}),e.length===0?f.jsxs(cg,{children:[f.jsx(iD,{children:""}),f.jsx(ug,{children:"All caught up!"}),f.jsx("p",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.9rem",marginTop:"8px"},children:"No new notifications right now"})]}):f.jsx(aD,{children:e.map(x=>f.jsxs(oD,{"data-id":x.id,isRead:x.isRead,children:[f.jsxs(lD,{children:[f.jsx(cD,{color:yD(x.type),children:gD(x.type)}),f.jsxs(uD,{children:[f.jsx(hD,{children:x.message}),f.jsx(dD,{children:gd(x.timestamp?.toDate?x.timestamp.toDate():x.timestamp).format("MMM D, hh:mm A")}),!x.isRead&&f.jsx(mD,{children:f.jsx(pD,{primary:!0,onClick:()=>g(x.id),children:"Mark as Read"})})]})]}),f.jsx(fD,{onClick:()=>m(x.id),children:f.jsx(Fg,{})})]},x.id))})]}):f.jsxs(Zh,{children:[f.jsx(Jh,{children:f.jsxs(ed,{children:[f.jsx(ko,{}),"Notifications"]})}),f.jsx(cg,{children:f.jsx(ug,{children:"Please log in to view notifications"})})]})}const xD="/CollabriaNexus/assets/NoAchievements-okJ2EOx5.png",_D=(n,e)=>{const t={className:`text-3xl ${e?"text-yellow-400":"text-gray-500"}`,size:32};switch(n){case"FaRocket":return f.jsx(zo,{...t});case"FaFire":return f.jsx(Cf,{...t});case"FaHeart":return f.jsx(f1,{...t});case"FaGem":return f.jsx(W6,{...t});case"FaCog":return f.jsx(d1,{...t});case"FaCrown":return f.jsx(Qo,{...t});case"FaTrophy":return f.jsx(Na,{...t});case"FaStar":return f.jsx(If,{...t});default:return f.jsx(Na,{...t})}};function bD(){const{currentUser:n}=Mi(),[e,t]=U.useState([]),[i,o]=U.useState(!0),[c,h]=U.useState(null);return U.useEffect(()=>{if(!n){o(!1);return}(async()=>{try{o(!0);const g=await H6(n.uid);g.success?t(g.badges):h(g.error)}catch(g){console.error("Error loading badges:",g),h("Failed to load achievements")}finally{o(!1)}})()},[n]),i?f.jsx("div",{className:"w-full flex flex-col",children:f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400",children:"Loading achievements..."})]})})}):c?f.jsx("div",{className:"w-full flex flex-col",children:f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-red-400 mb-2",children:"Failed to load achievements"}),f.jsx("p",{className:"text-gray-500 text-sm",children:c})]})})}):f.jsxs("div",{className:"w-full flex flex-col",children:[f.jsx("div",{className:"flex overflow-x-auto space-x-6 px-2 pb-2 scrollbar-hide",children:e.length===0?f.jsx("div",{className:"flex flex-1 items-center justify-center",children:f.jsxs("div",{className:"text-center py-8",children:[f.jsx("img",{src:xD,alt:"No Achievements",className:"w-[200px] h-[200px] object-contain mx-auto mb-4 opacity-60"}),f.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"No achievements yet"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"Complete tasks and challenges to earn badges!"})]})}):e.map(m=>f.jsxs("div",{className:`min-w-[220px] max-w-[240px] h-[200px] border rounded-xl p-4 flex flex-col justify-between shadow-lg flex-shrink-0 transition-all duration-300 hover:scale-105 ${m.isEarned?"bg-gradient-to-br from-[#2a2a3c] to-[#3a3a4c] border-yellow-500/30 hover:shadow-yellow-500/20":"bg-[#1a1a2c] border-gray-600/50 opacity-70"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-lg bg-gradient-to-br from-purple-600/20 to-blue-600/20",children:_D(m.icon,m.isEarned)}),m.isEarned&&f.jsx("div",{className:"bg-green-500/20 text-green-400 text-xs px-2 py-1 rounded-full border border-green-500/30",children:" Earned"})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("h3",{className:`text-md font-semibold mb-2 ${m.isEarned?"text-white":"text-gray-400"}`,children:m.name}),f.jsx("p",{className:`text-sm ${m.isEarned?"text-gray-300":"text-gray-500"}`,children:m.description}),f.jsxs("div",{className:"mt-3",children:[f.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[f.jsx("span",{className:"text-gray-400",children:"Progress"}),f.jsxs("span",{className:m.isEarned?"text-green-400":"text-gray-400",children:[m.tasks?m.tasks.filter(g=>g.completed).length:0,"/",m.tasks?m.tasks.length:0]})]}),f.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:f.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${m.isEarned?"bg-gradient-to-r from-green-400 to-emerald-500":"bg-gradient-to-r from-purple-500 to-blue-500"}`,style:{width:`${m.progress||0}%`}})})]})]}),m.isEarned&&m.earnedAt&&f.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Earned: ",new Date(m.earnedAt.seconds*1e3).toLocaleDateString()]})]},m.id||m.badgeId))}),e.length>0&&f.jsx("div",{className:"mt-4 flex justify-center",children:f.jsxs("div",{className:"bg-[#2a2a3c] border border-purple-500/20 rounded-lg px-4 py-2",children:[f.jsx("span",{className:"text-gray-400 text-sm",children:"Achievements: "}),f.jsxs("span",{className:"text-purple-400 font-semibold",children:[e.filter(m=>m.isEarned).length,"/",e.length]})]})})]})}const wD=({isMining:n})=>f.jsx("div",{className:"cube-container",children:f.jsxs("div",{className:`cube ${n?"rotate":""}`,children:[f.jsx("div",{className:"s1"}),f.jsx("div",{className:"s2"}),f.jsx("div",{className:"s3"}),f.jsx("div",{className:"s4"}),f.jsx("div",{className:"s5"}),f.jsx("div",{className:"s6"})]})}),ED=24*60*60*1e3,TD=async n=>{try{const e=xt($e,"users",n),t=new Date,i=new Date(t.getTime()+ED);await er(e,{"mining.isMining":!0,"mining.lastMiningStart":Ri(),"mining.nextAvailable":i,"mining.coinsMined":0});const o=$r($e,"users",n,"miningSessions");return await P6(o,{startTime:Ri(),endTime:i,coinsEarned:0,status:"active"}),await Rf(n,"MINING_STARTED"),{success:!0}}catch(e){return{success:!1,error:e.message}}},SD=async(n,e)=>{try{const t=xt($e,"users",n);return await er(t,{"mining.coinsMined":e,"stats.coinsEarned":e}),{success:!0}}catch(t){return{success:!1,error:t.message}}},AD=async(n,e)=>{try{const t=xt($e,"users",n);await er(t,{"mining.isMining":!1,"mining.coinsMined":e,"mining.totalMiningSessions":increment(1),"stats.totalCoinsEarned":increment(e),"mining.nextAvailable":null}),await B6(n,e),await J7(n);const o=(await getDoc(t)).data()?.mining?.totalMiningSessions||0;return await Rf(n,"MINING_COMPLETED",{totalSessions:o+1}),{success:!0}}catch(t){return{success:!1,error:t.message}}},ND=(n,e)=>{const t=xt($e,"users",n);return gu(t,i=>{i.exists()&&e(i.data().mining)})},td=24*60*60*1e3,wd=3,RD=wd/24,CD=()=>{const{currentUser:n,userProfile:e,setUserProfile:t}=Mi(),[i,o]=U.useState(0),[c,h]=U.useState(0),[m,g]=U.useState(!1),[y,x]=U.useState(null),[w,E]=U.useState(!1),[k,O]=U.useState(null),P=U.useRef(null),B=U.useRef(null),H=e&&e.stats?{coinsEarned:e.stats.coinsEarned??0,totalCoinsEarned:e.stats.totalCoinsEarned??0,level:e.stats.level??1,currentTier:e.stats.currentTier??"Bronze Miner",nextTier:e.stats.nextTier??"Silver Miner",tierProgress:e.stats.tierProgress??0,currentStreak:e.stats.currentStreak??0,totalMined:e.stats.totalMined??0,rank:e.stats.rank??"#0",isVip:e.stats.isVip??!1}:{coinsEarned:0,totalCoinsEarned:0,level:1,currentTier:"Bronze Miner",nextTier:"Silver Miner",tierProgress:0,currentStreak:0,totalMined:0,rank:"#0",isVip:!1},Z=e&&e.mining?{isMining:e.mining.isMining??!1,lastMiningStart:e.mining.lastMiningStart??null,coinsMined:e.mining.coinsMined??0,nextAvailable:e.mining.nextAvailable??null,totalMiningSessions:e.mining.totalMiningSessions??0,miningRate:e.mining.miningRate??3}:{isMining:!1,lastMiningStart:null,coinsMined:0,nextAvailable:null,totalMiningSessions:0,miningRate:3},ee=e&&e.profile?{referralCode:e.profile.referralCode??"",username:e.profile.username??"",email:e.profile.email??""}:{referralCode:""};U.useEffect(()=>{if(n&&e){const R=Z;if(g(R.isMining||!1),o(R.coinsMined||0),h((R.coinsMined||0)*.12),x(R.nextAvailable?new Date(R.nextAvailable).getTime():null),B.current=ND(n.uid,D=>{g(D.isMining||!1),o(D.coinsMined||0),h((D.coinsMined||0)*.12),x(D.nextAvailable?new Date(D.nextAvailable).getTime():null)}),R.isMining&&R.lastMiningStart){const D=new Date(R.lastMiningStart.seconds?R.lastMiningStart.seconds*1e3:R.lastMiningStart);Date.now()-D.getTime()<td?ue(D):ce(wd)}}return()=>{P.current&&clearInterval(P.current),B.current&&B.current()}},[n,e]);const ue=R=>{const D=wd/td;P.current=setInterval(async()=>{const z=Date.now()-R.getTime();if(z>=td){clearInterval(P.current),await ce(wd);return}const M=z*D;Math.floor(z/1e3)%10===0&&await SD(n.uid,M),o(parseFloat(M.toFixed(6))),h(parseFloat((M*.12).toFixed(4)))},1e3)},J=async()=>{if(!n){O("Please log in to start mining");return}if(!(y&&Date.now()<y)){E(!0),O(null);try{const R=await TD(n.uid);if(R.success){o(0),h(0);const D=new Date;ue(D),t(z=>({...z,mining:{...Z,isMining:!0,lastMiningStart:D,coinsMined:0,nextAvailable:new Date(D.getTime()+td)}}))}else O(R.error)}catch(R){O("Failed to start mining session"),console.error("Mining start error:",R)}E(!1)}},ce=async R=>{if(n)try{await AD(n.uid,R),await i7(n.uid,{"stats.coinsEarned":R,"stats.totalCoinsEarned":(H.totalCoinsEarned||0)+R,"mining.totalMiningSessions":(Z.totalMiningSessions||0)+1}),await B6(n.uid,R),g(!1),x(null),o(R),t(D=>({...D,mining:{...Z,isMining:!1,nextAvailable:null,totalMiningSessions:(Z.totalMiningSessions||0)+1},stats:{...H,coinsEarned:R,totalCoinsEarned:(H.totalCoinsEarned||0)+R}}))}catch(D){console.error("Error completing mining:",D),O("Failed to complete mining session")}},C=()=>{if(!y)return"";const R=y-Date.now();if(R<=0)return"You can mine now!";const D=Math.floor(R/(1e3*60*60)),z=Math.floor(R%(1e3*60*60)/(1e3*60));return`${D}h ${z}m remaining`},A=()=>Z.miningRate||RD,N=()=>{if(ee.referralCode){const R=`${window.location.origin}/signup?ref=${ee.referralCode}`;navigator.clipboard.writeText(R),alert("Referral link copied to clipboard! ")}else alert("Referral code not available yet. Please try again in a moment.")};return!n||!e?f.jsx("div",{className:"w-full h-full flex items-center justify-center p-6 bg-gradient-to-br from-[#251354] via-[#261547] to-[#321c64] rounded-2xl",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-400 mx-auto mb-4"}),f.jsx("p",{className:"text-purple-300",children:"Loading mining dashboard..."})]})}):f.jsxs("div",{className:"w-full h-full flex flex-col md:flex-row items-center md:items-start justify-center gap-10 p-6 bg-gradient-to-br from-[#251354] via-[#261547] to-[#321c64] rounded-2xl shadow-lg border border-purple-900/20 transition-all duration-300",children:[k&&f.jsxs("div",{className:"absolute top-4 right-4 bg-red-500/20 border border-red-500 text-red-300 px-4 py-2 rounded-lg",children:[k,f.jsx("button",{onClick:()=>O(null),className:"ml-2 text-red-400 hover:text-red-200",children:""})]}),f.jsx("div",{className:"w-full md:w-1/2 flex justify-center items-center py-12 md:py-0 md:pt-16",children:f.jsx(wD,{isMining:m})}),f.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center gap-5",children:[f.jsxs("div",{className:"flex gap-5",children:[f.jsxs("div",{className:"flex-1 bg-gradient-to-t from-[#221c34] to-[#35246b] px-6 py-5 rounded-lg shadow border border-purple-600/30 text-center transition-all duration-200 hover:scale-[1.03]",children:[f.jsx("p",{className:"text-xs text-purple-300 uppercase tracking-wider font-semibold",children:"Coins Mined"}),f.jsx("p",{className:"text-2xl text-yellow-400 font-extrabold drop-shadow",children:i.toFixed(4)})]}),f.jsxs("div",{className:"flex-1 bg-gradient-to-t from-[#221c34] to-[#35246b] px-6 py-5 rounded-lg shadow border border-purple-600/30 text-center transition-all duration-200 hover:scale-[1.03]",children:[f.jsx("p",{className:"text-xs text-purple-300 uppercase tracking-wider font-semibold",children:"USD Equivalent"}),f.jsxs("p",{className:"text-2xl text-green-400 font-extrabold drop-shadow",children:["$",c.toFixed(4)]})]})]}),f.jsxs("div",{className:"bg-gradient-to-t from-[#221c34] to-[#312567] px-6 py-5 rounded-lg shadow border border-purple-600/30 text-center",children:[f.jsx("p",{className:"text-xs text-purple-300 uppercase tracking-wider font-semibold",children:"Mining Rate"}),f.jsxs("p",{className:"text-lg text-purple-400 font-bold drop-shadow",children:[A().toFixed(6)," coins/hour"]})]}),f.jsxs("div",{className:"bg-gradient-to-t from-[#221c34] to-[#312567] px-6 py-5 rounded-lg shadow border border-purple-600/30 text-center",children:[f.jsx("p",{className:"text-xs text-purple-300 uppercase tracking-wider font-semibold",children:"Total Earned"}),f.jsxs("p",{className:"text-lg text-blue-400 font-bold drop-shadow",children:[(H.totalCoinsEarned||0).toFixed(2)," coins"]})]}),f.jsx("div",{className:"flex flex-col items-center mt-2",children:m?f.jsxs("p",{className:"text-sm text-green-400 font-semibold flex items-center mb-2 transition-all duration-300",children:[" Mining in progress...",f.jsx("span",{className:"text-purple-300",children:C()})]}):f.jsxs("button",{onClick:J,disabled:w||y&&Date.now()<y,className:`mt-1 px-6 py-3 rounded-md font-semibold text-sm shadow-lg transition-all duration-200 flex items-center gap-2 ${w||y&&Date.now()<y?"bg-gray-500 cursor-not-allowed text-white":"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-purple-400 hover:to-pink-400 text-white"}`,children:[w&&f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),y&&Date.now()<y?`Come back in ${C()}`:w?"Starting...":"Start Mining"]})}),f.jsxs("div",{className:"text-center mt-4",children:[f.jsx("button",{onClick:N,className:"bg-gradient-to-r from-purple-600 to-indigo-500 hover:from-indigo-500 hover:to-purple-600 text-white px-4 py-2 rounded-md text-xs shadow font-bold transition-all duration-200",children:" Share Referral Link"}),f.jsx("p",{className:"text-[11px] text-purple-300 mt-2 font-medium",children:"Share your referral link to increase your mining rate!"}),f.jsxs("p",{className:"text-[10px] text-purple-400 mt-1",children:["Code: ",ee.referralCode||"Loading..."]})]})]})]})},ID=n=>({FaRocket:zo,FaFire:Cf,FaHeart:f1,FaGem:W6,FaCog:d1,FaCrown:Qo,FaTrophy:Na,FaMedal:p1})[n]||Na,DD=()=>{const{currentUser:n}=Mi(),[e,t]=U.useState(0),[i,o]=U.useState([]),[c,h]=U.useState(!0),[m,g]=U.useState(null);U.useEffect(()=>{if(!n){h(!1);return}return JC(n.uid,B=>{o(B),h(!1)})},[n]);const y=async P=>{if(!n||i.length===0)return;const B=i[e],H=B.tasks.find(Z=>Z.id===P);try{const Z=await e7(n.uid,B.badgeId,P,!H.completed);Z.success&&Z.badgeEarned&&console.log(` Badge "${B.name}" earned!`)}catch(Z){console.error("Error toggling task:",Z)}};if(!n)return f.jsx("div",{className:"h-full flex items-center justify-center",children:f.jsx("p",{className:"text-gray-400",children:"Please log in to view badge quests"})});if(c)return f.jsx("div",{className:"h-full flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-400 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400",children:"Loading badge quests..."})]})});if(i.length===0)return f.jsx("div",{className:"h-full flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Na,{className:"text-4xl text-gray-500 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400",children:"No badge quests available"})]})});const x=i[e],w=x.tasks.filter(P=>P.completed).length,E=w/x.tasks.length*100,k=E===100,O=ID(x.icon);return f.jsxs("div",{className:"h-full flex flex-col",children:[m&&f.jsx("div",{className:"mb-4 bg-red-500/20 border border-red-500 text-red-300 px-3 py-2 rounded-lg text-sm",children:m}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("button",{onClick:()=>t(P=>(P-1+i.length)%i.length),className:"p-2 bg-slate-700/50 hover:bg-slate-700/70 rounded-lg text-slate-400 hover:text-white transition-all duration-200",children:f.jsx(K6,{className:"text-sm"})}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-r ${x.bgGradient} border ${x.borderColor} mb-2`,children:f.jsx(O,{className:`text-2xl ${x.color}`})}),f.jsx("h3",{className:"font-bold text-white text-sm",children:x.name}),f.jsx("p",{className:"text-xs text-slate-400",children:x.description})]}),f.jsx("button",{onClick:()=>t(P=>(P+1)%i.length),className:"p-2 bg-slate-700/50 hover:bg-slate-700/70 rounded-lg text-slate-400 hover:text-white transition-all duration-200",children:f.jsx(Q6,{className:"text-sm"})})]}),f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`text-xl font-bold ${x.color}`,children:w}),f.jsxs("span",{className:"text-slate-400 text-sm",children:["/ ",x.tasks.length]})]}),f.jsx("div",{className:`flex items-center gap-2 px-2 py-1 rounded-full ${k?"bg-green-500/20 border border-green-500/30":`bg-gradient-to-r ${x.bgGradient} border ${x.borderColor}`}`,children:k?f.jsxs(f.Fragment,{children:[f.jsx(D_,{className:"text-green-400 text-xs"}),f.jsx("span",{className:"text-green-400 font-semibold text-xs",children:"EARNED!"})]}):f.jsxs(f.Fragment,{children:[f.jsx(Na,{className:`${x.color} text-xs`}),f.jsxs("span",{className:`${x.color} font-semibold text-xs`,children:[Math.round(E),"%"]})]})})]}),f.jsx("div",{className:"w-full bg-slate-700/50 rounded-full h-2 mb-2",children:f.jsx("div",{className:`bg-gradient-to-r ${x.bgGradient.replace("/20","")} h-2 rounded-full transition-all duration-500 relative overflow-hidden`,style:{width:`${E}%`},children:f.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),f.jsx("div",{className:"flex items-center justify-center",children:f.jsx("div",{className:"flex gap-1",children:i.map((P,B)=>f.jsx("button",{onClick:()=>t(B),className:`w-2 h-2 rounded-full transition-all duration-200 ${B===e?x.color.replace("text-","bg-"):"bg-slate-600 hover:bg-slate-500"}`},B))})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:x.tasks.map(P=>f.jsxs("div",{className:`group flex items-center gap-3 p-3 rounded-lg border transition-all duration-200 cursor-pointer ${P.completed?`bg-gradient-to-r ${x.bgGradient} ${x.borderColor}`:"bg-slate-700/30 border-slate-600/40 hover:bg-slate-700/50"}`,onClick:()=>y(P.id),children:[f.jsx("div",{className:"flex-shrink-0",children:P.completed?f.jsx(D_,{className:`${x.color} text-lg transition-transform group-hover:scale-110`}):f.jsx(md,{className:"text-slate-500 text-lg transition-transform group-hover:scale-110"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:`text-sm transition-all duration-200 ${P.completed?`text-slate-300 ${x.color}`:"text-white group-hover:text-violet-300"}`,children:P.text}),P.completedAt&&f.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Completed: ",new Date(P.completedAt.seconds*1e3).toLocaleDateString()]})]}),P.completed&&f.jsx("div",{className:"px-2 py-1 bg-white/10 rounded-full",children:f.jsx("span",{className:"text-white text-xs font-medium",children:""})})]},P.id))}),f.jsx("div",{className:"mt-3 text-center",children:k?f.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-green-600/20 to-emerald-600/20 border border-green-500/30 rounded-lg",children:[f.jsx(p1,{className:"text-green-400"}),f.jsx("span",{className:"text-green-400 font-medium text-sm",children:"Badge Earned!"}),x.earnedAt&&f.jsxs("span",{className:"text-green-300 text-xs",children:[" ",new Date(x.earnedAt.seconds*1e3).toLocaleDateString()]})]}):f.jsx("p",{className:"text-slate-400 text-xs",children:"Complete all tasks to earn this badge"})})]})};function jD(){const{currentUser:n,userProfile:e}=Mi(),[t,i]=U.useState(!1),[o,c]=U.useState("");U.useEffect(()=>{const x=new Date().getHours();x<12?c("Good Morning"):x<18?c("Good Afternoon"):c("Good Evening")},[]);const h=e&&e.stats?{totalCoinsEarned:e.stats.totalCoinsEarned??0,level:e.stats.level??1,isVip:e.stats.isVip??!1}:{totalCoinsEarned:0,level:1,isVip:!1},m=e&&e.profile?{username:e.profile.username??"User",avatar:e.profile.avatar??"",email:e.profile.email??""}:{username:"User",avatar:""};if(!n||!e)return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-400 mx-auto mb-4"}),f.jsx("p",{className:"text-slate-300 text-lg",children:"Loading your dashboard..."}),f.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Setting up your personalized experience"})]})});const g=[{icon:m1,path:"/dashboard",label:"Home"},{icon:nw,path:"/friends",label:"Friends"},{icon:ew,path:"/work-in-progress",label:"News"}],y=()=>m.avatar?m.avatar:`https://api.dicebear.com/7.x/initials/svg?seed=${m.username}&backgroundColor=6366f1&fontSize=40`;return console.log(n,e),f.jsxs("div",{className:"min-h-screen pt-20 bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white relative overflow-hidden",children:[f.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[f.jsx("div",{className:"absolute top-0 left-10 w-72 h-72 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),f.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-violet-500/5 rounded-full blur-3xl animate-pulse delay-1000"}),f.jsx("div",{className:"absolute top-1/2 left-1/2 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse delay-500"})]}),t&&f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-30 md:hidden",onClick:()=>i(!1)}),f.jsxs("aside",{className:`
          fixed 
          top-1/2 left-4 transform -translate-y-1/2
          md:top-1/2 md:left-4 md:transform md:-translate-y-1/2
          w-72 md:w-24 
          bg-slate-800/90 backdrop-blur-xl border border-violet-500/30 rounded-2xl
          flex flex-col justify-between py-8 shadow-2xl shadow-violet-500/10
          transition-all duration-500 ease-out z-40
          ${t?"translate-x-0":"-translate-x-full md:translate-x-0"}
          max-h-[75vh]
        `,children:[f.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 text-violet-300 hover:text-white md:hidden p-2 bg-violet-600/20 rounded-lg hover:bg-violet-600/40 transition-all duration-200",children:f.jsx(Fg,{className:"text-lg"})}),f.jsx("div",{className:"flex flex-col gap-6 w-full px-4 md:px-2 mt-8",children:g.map((x,w)=>f.jsx(Mr,{to:x.path,className:"w-full",children:f.jsxs("button",{className:`
                  group relative w-full md:w-16 h-16 flex items-center justify-start md:justify-center
                  text-violet-300 hover:text-white transition-all duration-300
                  rounded-xl hover:bg-gradient-to-r hover:from-violet-600 hover:to-purple-600
                  hover:shadow-lg hover:shadow-violet-500/30 transform hover:scale-105
                  border border-transparent hover:border-violet-400/30
                  ${w===0?"bg-violet-600/30 text-violet-200 border-violet-400/40":""}
                `,style:{animationDelay:`${w*100}ms`},children:[f.jsx(x.icon,{className:"text-xl md:text-lg ml-4 md:ml-0 text-current flex-shrink-0"}),f.jsx("span",{className:"ml-4 md:hidden font-medium text-current",children:x.label}),f.jsxs("div",{className:"absolute left-20 bg-slate-800/95 backdrop-blur-sm text-white px-3 py-2 rounded-lg text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none hidden md:block border border-violet-500/30 shadow-lg z-50",children:[x.label,f.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-x-1 -translate-y-1/2 w-2 h-2 bg-slate-800 rotate-45 border-l border-b border-violet-500/30"})]})]})},x.path))}),f.jsx("div",{className:"w-full px-4 md:px-2 mb-4",children:f.jsx(Mr,{to:"/profile",children:f.jsxs("div",{className:"group relative flex md:justify-center items-center p-4 rounded-xl hover:bg-violet-600/30 transition-all duration-300 border border-transparent hover:border-violet-400/40",children:[f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:y(),alt:"Profile",className:"w-12 h-12 rounded-full border-2 border-violet-400/70 shadow-lg group-hover:shadow-violet-400/50 transition-all duration-300 group-hover:border-violet-300"}),f.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-slate-800 animate-pulse"})]}),f.jsxs("div",{className:"ml-3 md:hidden",children:[f.jsx("p",{className:"text-white font-medium",children:m.username}),f.jsx("p",{className:"text-violet-300 text-sm",children:h.isVip?"VIP Member":"Standard User"})]}),h.isVip&&f.jsx(Qo,{className:"ml-auto md:hidden text-yellow-400 text-lg"})]})})})]}),f.jsx("button",{className:`
          fixed bottom-6 left-6 z-50 w-14 h-14 
          bg-gradient-to-r from-violet-600 to-purple-600 rounded-full 
          shadow-lg shadow-violet-500/40 flex items-center justify-center 
          hover:shadow-xl hover:shadow-violet-500/60 transition-all duration-300 
          transform hover:scale-110 active:scale-95 md:hidden
          border border-violet-400/30 hover:border-violet-300
          ${t?"rotate-180":"rotate-0"}
        `,onClick:()=>i(!t),children:t?f.jsx(Fg,{className:"text-white text-xl"}):f.jsx(T7,{className:"text-white text-xl"})}),f.jsxs("div",{className:"min-h-screen overflow-y-auto",children:[f.jsxs("div",{className:"px-6 py-8 md:ml-32",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-violet-400 to-purple-400 bg-clip-text text-transparent",children:[o,", ",m.username,"! "]}),f.jsxs("p",{className:"text-slate-300 mt-2 flex items-center gap-2",children:[f.jsx(h1,{className:"text-violet-400"}),"Ready to boost your productivity today?"]})]}),f.jsx("div",{className:"hidden md:block",children:f.jsxs("div",{className:"flex items-center gap-4 bg-slate-800/60 backdrop-blur-sm rounded-xl px-4 py-2 border border-violet-500/30 shadow-lg",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm text-violet-300",children:"Total Coins"}),f.jsx("p",{className:"text-xl font-bold text-yellow-400",children:(h.totalCoinsEarned||0).toLocaleString()})]}),f.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full flex items-center justify-center shadow-md",children:""})]})})]}),f.jsxs("div",{className:"md:hidden mt-4 grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-xl px-4 py-3 border border-violet-500/30",children:[f.jsx("p",{className:"text-xs text-violet-300",children:"Total Coins"}),f.jsx("p",{className:"text-lg font-bold text-yellow-400",children:(h.totalCoinsEarned||0).toLocaleString()})]}),f.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-xl px-4 py-3 border border-violet-500/30",children:[f.jsx("p",{className:"text-xs text-violet-300",children:"Level"}),f.jsx("p",{className:"text-lg font-bold text-blue-400",children:h.level||1})]})]})]}),f.jsxs("main",{className:"px-6 pb-8 md:ml-32 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[f.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 relative overflow-hidden min-h-[350px]",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("h2",{className:"text-xl font-bold text-violet-300 mb-4 flex items-center gap-3",children:[" Mining Dashboard",f.jsx("div",{className:"px-3 py-1 bg-green-500/20 border border-green-500/30 rounded-full text-xs text-green-400 font-semibold",children:"ACTIVE"})]}),f.jsx(CD,{})]})]}),f.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 min-h-[350px] relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-cyan-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),f.jsxs("div",{className:"relative z-10 h-full",children:[f.jsxs("h2",{className:"text-xl font-bold text-violet-300 mb-4 flex items-center gap-3",children:[" Notifications",f.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse"})]}),f.jsx(vD,{})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 h-[350px] relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-600/5 to-orange-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),f.jsxs("div",{className:"relative z-10 h-full",children:[f.jsxs("h2",{className:"text-xl font-bold text-violet-300 mb-4 flex items-center gap-3",children:[" Achievements",f.jsx(Qo,{className:"text-yellow-400"})]}),f.jsx(bD,{})]})]}),f.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 h-[350px] relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600/5 to-red-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),f.jsxs("div",{className:"relative z-10 h-full",children:[f.jsxs("h2",{className:"text-xl font-bold text-violet-300 mb-4 flex items-center gap-3",children:[" Your Streak",f.jsx("div",{className:"px-2 py-1 bg-orange-500/20 border border-orange-500/30 rounded-full text-xs text-orange-400 font-semibold",children:"HOT"})]}),f.jsx(tI,{})]})]}),f.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 h-[450px] relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),f.jsxs("div",{className:"relative z-10 h-full",children:[f.jsxs("h2",{className:"text-xl font-bold text-violet-300 mb-4 flex items-center gap-3",children:[f.jsx(p1,{className:"text-purple-400"}),"Badge Quests",f.jsx("div",{className:"px-2 py-1 bg-purple-500/20 border border-purple-500/30 rounded-full text-xs text-purple-400 font-semibold",children:"EARN"})]}),f.jsx(DD,{})]})]})]})]})]})]})}const MD=[{id:1,title:"The Future of Digital Mining: Earn While You Sleep",date:"August 2025",author:"Team MineVerse",image:"https://www.shutterstock.com/image-vector/crypto-currency-news-golden-bitcoin-260nw-773520289.jpg",excerpt:"Ever wondered what its like to make money while binge-watching your favorite series or catching some Zs? Welcome to 24-hour continuous mining  the game-changer in passive earnings.",content:`
      Our mining system is designed to keep working for you, even when youre offline. 
      With a fixed daily rate, your earnings grow slowly but steadily, showing live updates so you can watch your balance increase in real time.

      Why is this exciting? Because you no longer need expensive equipment, high electricity bills, or complex setups. 
      All you need is an account and a bit of patience.

      And heres the best part  refer your friends, and youll get a mining rate boost. The more friends you invite, the faster your coins grow.

      In this digital gold rush, the only limit is how connected you are.
    `},{id:2,title:"5 Pro Tips to Maximize Your Mining Rewards",date:"August 2025",author:"MineVerse Experts",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRLnfqmMJxmTpx8W2l0O9vRHBY6EA-RlBtP4g&s",excerpt:"Want to mine faster? These simple strategies can give you a head start in the race for coins.",content:`
      1. **Start Early**  The sooner you begin your 24-hour session, the sooner it resets.
      2. **Use Referrals**  Each referral increases your rate for the next session.
      3. **Stay Consistent**  Daily mining builds momentum.
      4. **Engage with the Community**  Learn new hacks from fellow miners.
      5. **Track Your Stats**  Use the live dashboard to keep an eye on your progress.
    `}],kD=()=>{const[n,e]=U.useState(null);return f.jsxs("div",{className:"bg-[#0f0f1a] min-h-screen text-white px-6 py-10 pt-20",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-8 text-center",children:" The MineVerse Blog"}),f.jsx("div",{className:"max-w-5xl mx-auto grid md:grid-cols-2 gap-8",children:MD.map(t=>f.jsxs("div",{className:"bg-[#1d1d2e] rounded-lg overflow-hidden shadow-lg hover:shadow-purple-500/40 transition",children:[f.jsx("img",{src:t.image,alt:t.title,className:"w-full h-48 object-cover"}),f.jsxs("div",{className:"p-4",children:[f.jsx("h2",{className:"text-xl font-bold mb-2",children:t.title}),f.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:[t.date,"  by ",t.author]}),f.jsx("p",{className:"text-gray-300 text-sm mb-3",children:t.excerpt}),f.jsx("button",{className:"text-purple-400 text-sm hover:underline",onClick:()=>e(t),children:"Read More "})]})]},t.id))}),n&&f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-50 animate-fadeIn",children:f.jsxs("div",{className:"bg-[#1d1d2e] max-w-3xl w-full rounded-lg shadow-lg overflow-y-auto max-h-[90vh]",children:[f.jsx("img",{src:n.image,alt:n.title,className:"w-full h-64 object-cover"}),f.jsxs("div",{className:"p-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-2",children:n.title}),f.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:[n.date,"  by ",n.author]}),f.jsx("div",{className:"text-gray-300 text-sm leading-relaxed whitespace-pre-line",children:n.content}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("button",{onClick:()=>e(null),className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-md text-white",children:"Close"})})]})]})}),f.jsx("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
          }
          .animate-fadeIn {
            animation: fadeIn 0.3s ease-out;
          }
        `})]})},OD=()=>{const n=[{number:"",label:"Potential Connections",icon:Xo},{number:"0",label:"Day One - We Start Here",icon:zo},{number:"24/7",label:"Knowledge Never Sleeps",icon:Kd},{number:"100%",label:"Authenticity Guaranteed",icon:If}],e=[{icon:Kd,title:"Expert Mentorship",description:"Connect with industry leaders who guide your journey from beginner to expert",color:"bg-blue-500"},{icon:k7,title:"Mystery Solving",description:"Tackle real-world case studies and unsolved challenges with brilliant minds",color:"bg-yellow-500"},{icon:Qd,title:"Global Network",description:"Access a worldwide community of passionate professionals and innovators",color:"bg-green-500"},{icon:I7,title:"Project Collaboration",description:"Join ambitious projects, earn fees or ESOPs, and build your professional network",color:"bg-purple-500"},{icon:h1,title:"Company Insights",description:"Discover how successful companies operate with verified, authentic information",color:"bg-red-500"},{icon:J6,title:"Niche Communities",description:"Find your tribe in focused chat rooms designed around specific interests and skills",color:"bg-indigo-500"}],t=[{icon:M7,text:"To become the world's most-used platform outside social media and entertainment"},{icon:f1,text:"Where passion meets purpose and knowledge transforms lives"},{icon:Qd,text:"Connecting minds across borders, cultures, and disciplines"},{icon:Y6,text:"Accelerating human potential through authentic collaboration"}];return f.jsxs("div",{className:"bg-gray-900 text-white min-h-screen",children:[f.jsx("section",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:f.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:f.jsxs("div",{className:"text-center max-w-5xl mx-auto",children:[f.jsx("div",{className:"mb-6",children:f.jsx("span",{className:"bg-purple-600 text-white px-4 py-2 rounded-full text-sm font-semibold tracking-wide",children:" LAUNCHING SOON"})}),f.jsxs("h1",{className:"text-4xl sm:text-6xl lg:text-7xl xl:text-8xl font-bold mb-6 leading-tight",children:["Welcome to",f.jsx("br",{}),f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Collabria ~ Nexus"})]}),f.jsxs("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-300 mb-12 leading-relaxed max-w-4xl mx-auto",children:["The revolutionary platform where ",f.jsx("span",{className:"text-purple-400 font-semibold",children:"knowledge meets passion"}),",",f.jsx("span",{className:"text-pink-400 font-semibold",children:" experts guide beginners"}),", and",f.jsx("span",{className:"text-cyan-400 font-semibold",children:" global minds collaborate"})," to solve tomorrow's challenges"]}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 sm:gap-6 mb-16",children:[f.jsx("button",{className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg font-bold text-lg hover:from-purple-700 hover:to-pink-700 transform hover:scale-105 transition-all duration-300 shadow-lg",children:f.jsxs("span",{className:"flex items-center justify-center gap-2",children:[f.jsx(zo,{}),"Join the Revolution"]})}),f.jsx("button",{className:"px-8 py-4 border-2 border-gray-600 rounded-lg font-bold text-lg hover:bg-gray-800 transition-all duration-300",children:"Learn More"})]}),f.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((i,o)=>f.jsx("div",{className:"text-center",children:f.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-6 hover:bg-gray-750 transition-all duration-300",children:[f.jsx(i.icon,{className:"text-3xl text-purple-400 mx-auto mb-3"}),f.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-white",children:i.number}),f.jsx("div",{className:"text-sm text-gray-400 mt-2",children:i.label})]})},o))})]})})}),f.jsx("section",{className:"py-16 lg:py-24 bg-gray-800",children:f.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 text-white",children:"Our Vision"}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto",children:"We're not just building an app  we're crafting the future of human connection and knowledge sharing"})]}),f.jsx("div",{className:"grid sm:grid-cols-2 gap-6 lg:gap-8 mb-16",children:t.map((i,o)=>f.jsxs("div",{className:"flex items-start gap-4 p-6 bg-gray-900 border border-gray-700 rounded-xl hover:bg-gray-850 transition-all duration-300",children:[f.jsx(i.icon,{className:"text-2xl text-purple-400 flex-shrink-0 mt-1"}),f.jsx("p",{className:"text-gray-300 leading-relaxed",children:i.text})]},o))}),f.jsxs("div",{className:"text-center bg-gradient-to-r from-purple-900/50 to-pink-900/50 border border-purple-500/30 rounded-2xl p-8 lg:p-12",children:[f.jsx("h3",{className:"text-2xl lg:text-3xl font-bold mb-4 text-purple-200",children:"The World's Next Essential Platform"}),f.jsxs("p",{className:"text-lg lg:text-xl text-gray-300 leading-relaxed",children:["Beyond social media, beyond entertainment  we're creating the definitive space where",f.jsx("span",{className:"text-purple-400 font-semibold",children:" knowledge, passion, and authentic human connection "}),"converge to accelerate human potential and solve the world's most pressing challenges."]})]})]})})}),f.jsx("section",{className:"py-16 lg:py-24 bg-gray-900",children:f.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 text-white",children:"What Makes Us Different"}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300",children:"Six pillars that will transform how the world collaborates"})]}),f.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:e.map((i,o)=>f.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl p-8 hover:bg-gray-750 hover:border-gray-600 transition-all duration-300 hover:scale-105",children:[f.jsx("div",{className:`inline-flex p-4 rounded-xl ${i.color} mb-6`,children:f.jsx(i.icon,{className:"text-2xl text-white"})}),f.jsx("h3",{className:"text-xl lg:text-2xl font-bold mb-4 text-white",children:i.title}),f.jsx("p",{className:"text-gray-300 leading-relaxed",children:i.description})]},o))})]})})}),f.jsx("section",{className:"py-16 lg:py-24 bg-gray-800",children:f.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12",children:[f.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl p-8 lg:p-10",children:[f.jsx("h2",{className:"text-2xl lg:text-3xl font-bold mb-6 text-purple-400",children:"Our Mission"}),f.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"To democratize knowledge sharing and create authentic connections between experts and learners worldwide. We believe that everyone has something valuable to teach and something meaningful to learn."}),f.jsxs("ul",{className:"space-y-3 text-gray-400",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),"Connect passionate minds across the globe"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),"Verify and authenticate all knowledge shared"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),"Create opportunities for meaningful collaboration"]})]})]}),f.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl p-8 lg:p-10",children:[f.jsx("h2",{className:"text-2xl lg:text-3xl font-bold mb-6 text-pink-400",children:"Our Values"}),f.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"Built on the foundation of authenticity, accessibility, and human potential. We're creating a platform where knowledge flows freely and connections form naturally."}),f.jsxs("ul",{className:"space-y-3 text-gray-400",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full"}),"Authenticity in every interaction"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full"}),"Inclusive and accessible to everyone"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full"}),"Focused on genuine human connection"]})]})]})]})})})}),f.jsx("section",{className:"py-16 lg:py-24 bg-gray-900",children:f.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:f.jsx("div",{className:"max-w-4xl mx-auto text-center",children:f.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-pink-900/30 border border-purple-500/30 rounded-2xl p-8 lg:p-12",children:[f.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-8 text-white",children:"This Is Just The Beginning"}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-300 mb-8 leading-relaxed",children:"We're starting from zero, but we're thinking infinite. Every great platform began with a vision, a first user, and the courage to reimagine what's possible."}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6 mb-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-5xl lg:text-6xl font-bold text-purple-400 mb-2",children:"Day 0"}),f.jsx("div",{className:"text-gray-400",children:"Where we are"})]}),f.jsx("div",{className:"text-2xl text-gray-500 rotate-90 sm:rotate-0",children:""}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-pink-400 mb-2",children:"The Future"}),f.jsx("div",{className:"text-gray-400",children:"Starts now"})]})]}),f.jsx("blockquote",{className:"text-lg lg:text-xl text-gray-400 italic border-l-4 border-purple-500 pl-6",children:'"Every expert was once a beginner. Every pro was once an amateur. Every icon was once an unknown."'})]})})})}),f.jsx("section",{className:"py-16 lg:py-24 bg-gradient-to-r from-purple-900 to-pink-900",children:f.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:f.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[f.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 text-white",children:"Ready to Shape the Future?"}),f.jsx("p",{className:"text-lg sm:text-xl text-gray-200 mb-12 leading-relaxed",children:"Be among the first to experience the platform that will connect minds, accelerate learning, and transform how the world collaborates"}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center mb-8",children:[f.jsx("button",{className:"px-12 py-4 bg-white text-purple-900 rounded-lg font-bold text-lg hover:bg-gray-100 transform hover:scale-105 transition-all duration-300 shadow-lg",children:f.jsxs("span",{className:"flex items-center justify-center gap-2",children:[f.jsx(zo,{}),"Get Early Access"]})}),f.jsx("button",{className:"px-12 py-4 border-2 border-white/30 text-white rounded-lg font-bold text-lg hover:bg-white/10 transition-all duration-300",children:"Subscribe for Updates"})]}),f.jsx("div",{className:"text-sm text-gray-300",children:f.jsx("p",{children:" Join our waitlist and be part of something revolutionary"})})]})})})]})},PD=()=>f.jsxs("div",{className:"bg-[#0f0f1a] text-white min-h-screen py-20 px-6",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-purple-400",children:"Contact Us"}),f.jsx("p",{className:"mt-4 text-gray-300 max-w-2xl mx-auto text-base md:text-lg",children:"Got questions, feedback, or ideas? Wed love to hear from you. Drop us a message and well get back to you as soon as possible."})]}),f.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-2 gap-12 items-start",children:[f.jsxs("form",{className:"bg-[#1d1d2e] p-8 rounded-lg shadow-lg border border-purple-600/30 space-y-6",children:[[{label:"Name",type:"text",placeholder:"Your name"},{label:"Email",type:"email",placeholder:"you@example.com"},{label:"Subject",type:"text",placeholder:"Subject"}].map(({label:n,type:e,placeholder:t},i)=>f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-left text-gray-300 mb-1",children:n}),f.jsx("input",{type:e,placeholder:t,className:"w-full px-4 py-2 rounded-md bg-[#0f0f1a] border border-gray-700 focus:border-purple-500 focus:outline-none text-white text-sm",required:!0})]},i)),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-left text-gray-300 mb-1",children:"Message"}),f.jsx("textarea",{placeholder:"Write your message...",rows:"5",className:"w-full px-4 py-2 rounded-md bg-[#0f0f1a] border border-gray-700 focus:border-purple-500 focus:outline-none text-white text-sm resize-none",required:!0})]}),f.jsx("button",{type:"submit",className:"w-full py-2 bg-gradient-to-r from-pink-500 to-purple-600 rounded-md font-semibold hover:opacity-90 transition",children:"Send Message"})]}),f.jsxs("div",{className:"bg-[#1d1d2e] p-8 rounded-lg shadow-lg border border-purple-600/30 flex flex-col justify-between space-y-6",children:[[{icon:f.jsx(j7,{className:"text-purple-400 text-xl"}),title:"Email",value:"support@mineverse.com"},{icon:f.jsx(V7,{className:"text-purple-400 text-xl"}),title:"Phone",value:"+1 (555) 123-4567"},{icon:f.jsx(O7,{className:"text-purple-400 text-xl"}),title:"Address",value:"123 Crypto Street, Blockchain City, 00000"}].map(({icon:n,title:e,value:t},i)=>f.jsxs("div",{className:"flex items-start space-x-4",children:[n,f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold",children:e}),f.jsx("p",{className:"text-gray-300 text-sm",children:t})]})]},i)),f.jsx("div",{className:"pt-2 border-t border-gray-700 mt-4",children:f.jsx("p",{className:"text-sm text-gray-400",children:"Our support team is available 24/7 to assist you with your mining journey."})})]})]})]}),VD=async n=>{try{const e=xt($e,"users",n),t=await Is(e);if(!t.exists())return{success:!0,friends:[]};const o=t.data().social?.referredUsers||[];if(o.length===0)return{success:!0,friends:[]};const c=[];for(const h of o){const m=await Is(xt($e,"users",h));if(m.exists()){const g=m.data();c.push({id:h,name:g.profile?.username||"Unknown",avatar:g.profile?.avatar||`https://api.dicebear.com/7.x/initials/svg?seed=${g.profile?.username}`,mining:g.mining?.isMining||!1,lastActive:g.profile?.lastActive?zD(g.profile.lastActive.toDate()):"Unknown",joined:g.profile?.joined?g.profile.joined.toDate().toLocaleDateString():"Unknown",coinsEarned:g.stats?.totalCoinsEarned||0,level:g.stats?.level||1,streak:g.stats?.currentStreak||0,isVip:g.stats?.isVip||!1})}}return{success:!0,friends:c}}catch(e){return console.error("Error getting referred friends:",e),{success:!1,error:e.message,friends:[]}}},LD=async n=>{try{const e=xt($e,"users",n),t=await Is(e);if(!t.exists())return{success:!1,error:"User not found"};const i=t.data(),o=i.social?.referredUsers||[];let c=0,h=0,m=0;for(const g of o){const y=await Is(xt($e,"users",g));if(y.exists()){const x=y.data();c+=x.stats?.totalCoinsEarned||0,x.mining?.isMining&&h++,x.stats?.isVip&&m++}}return{success:!0,stats:{totalFriends:o.length,activeNow:h,networkCoins:c,vipMembers:m,referralCode:i.profile?.referralCode||""}}}catch(e){return console.error("Error getting network stats:",e),{success:!1,error:e.message}}},UD=async(n,e,t)=>{try{return await fl(e,{message:" You got a poke from a friend! Time to start mining! ",type:"poke_notification",metadata:{fromUid:n,friendName:t}}),{success:!0,message:`Poked ${t}! They'll get a notification.`}}catch(i){return console.error("Error poking friend:",i),{success:!1,error:i.message}}},zD=n=>{const t=new Date-n,i=Math.floor(t/6e4),o=Math.floor(t/36e5),c=Math.floor(t/864e5);return i<1?"Just now":i<60?`${i} mins ago`:o<24?`${o} hours ago`:c===1?"1 day ago":`${c} days ago`};function BD(){Ra();const{currentUser:n,userProfile:e}=Mi(),[t,i]=U.useState(""),[o,c]=U.useState("all"),[h,m]=U.useState(!1),[g,y]=U.useState(!1),[x,w]=U.useState([]),[E,k]=U.useState({totalFriends:0,activeNow:0,networkCoins:0,vipMembers:0,referralCode:""}),[O,P]=U.useState(!0),[B,H]=U.useState(null);U.useEffect(()=>{if(!n){P(!1);return}(async()=>{try{P(!0);const ce=await VD(n.uid);ce.success?w(ce.friends):H(ce.error);const C=await LD(n.uid);C.success&&k(C.stats)}catch(ce){console.error("Error loading friends data:",ce),H("Failed to load friends data")}finally{P(!1)}})()},[n]);const Z=async J=>{if(!n)return;const ce=document.getElementById(`friend-${J.id}`);ce&&(ce.classList.add("animate-pulse"),setTimeout(()=>{ce.classList.remove("animate-pulse")},1e3));try{(await UD(n.uid,J.id,J.name)).success?alert(`You poked ${J.name}!  They'll get a notification to start mining!`):alert("Failed to poke friend. Please try again.")}catch(C){console.error("Error poking friend:",C),alert("Failed to poke friend. Please try again.")}},ee=()=>{const J=e?.profile?.referralCode||E.referralCode;J?(navigator.clipboard.writeText(J),y(!0),setTimeout(()=>y(!1),2e3)):alert("Referral code not available")},ue=x.filter(J=>{const ce=J.name.toLowerCase().includes(t.toLowerCase()),C=o==="all"||o==="active"&&J.mining||o==="inactive"&&!J.mining||o==="vip"&&J.isVip;return ce&&C});return n?O?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white pt-20 px-4 sm:px-6 lg:px-12 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-400 mx-auto mb-4"}),f.jsx("p",{className:"text-slate-400",children:"Loading your referral network..."})]})}):f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white pt-20 px-4 sm:px-6 lg:px-12 relative overflow-hidden",children:[f.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[f.jsx("div",{className:"absolute top-32 left-20 w-64 h-64 bg-violet-500/10 rounded-full blur-3xl animate-pulse"}),f.jsx("div",{className:"absolute bottom-32 right-20 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),B&&f.jsx("div",{className:"relative z-10 mb-4 bg-red-500/20 border border-red-500 text-red-300 px-4 py-3 rounded-lg",children:B}),f.jsxs("div",{className:"relative z-10 mb-8",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-violet-400 to-purple-400 bg-clip-text text-transparent mb-2",children:"Your Referral Network "}),f.jsxs("p",{className:"text-slate-400 flex items-center gap-2",children:[f.jsx(Xo,{className:"text-violet-400"}),"Build your team and earn together"]})]}),f.jsxs("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 rounded-xl font-semibold shadow-lg hover:shadow-violet-500/30 transition-all duration-300 transform hover:scale-105 flex items-center gap-2",children:[f.jsx(B7,{}),"Invite Friends"]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[f.jsx("div",{className:"bg-slate-800/60 backdrop-blur-xl border border-violet-500/20 rounded-xl p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-slate-400 text-sm",children:"Total Friends"}),f.jsx("p",{className:"text-2xl font-bold text-violet-400",children:E.totalFriends})]}),f.jsx(Xo,{className:"text-violet-400 text-2xl"})]})}),f.jsx("div",{className:"bg-slate-800/60 backdrop-blur-xl border border-green-500/20 rounded-xl p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-slate-400 text-sm",children:"Active Now"}),f.jsx("p",{className:"text-2xl font-bold text-green-400",children:E.activeNow})]}),f.jsx(md,{className:"text-green-400 text-2xl"})]})}),f.jsx("div",{className:"bg-slate-800/60 backdrop-blur-xl border border-yellow-500/20 rounded-xl p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-slate-400 text-sm",children:"Network Coins"}),f.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:E.networkCoins.toLocaleString()})]}),f.jsx(h1,{className:"text-yellow-400 text-2xl"})]})}),f.jsx("div",{className:"bg-slate-800/60 backdrop-blur-xl border border-purple-500/20 rounded-xl p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-slate-400 text-sm",children:"VIP Members"}),f.jsx("p",{className:"text-2xl font-bold text-purple-400",children:E.vipMembers})]}),f.jsx(Qo,{className:"text-purple-400 text-2xl"})]})})]})]}),f.jsxs("div",{className:"relative z-10 mb-6 flex flex-col sm:flex-row gap-4",children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx(tw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Search friends...",value:t,onChange:J=>i(J.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-800/60 backdrop-blur-xl border border-violet-500/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 transition-all duration-300"})]}),f.jsxs("select",{value:o,onChange:J=>c(J.target.value),className:"px-4 py-3 bg-slate-800/60 backdrop-blur-xl border border-violet-500/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-violet-500/50 transition-all duration-300",children:[f.jsx("option",{value:"all",children:"All Friends"}),f.jsx("option",{value:"active",children:"Active"}),f.jsx("option",{value:"inactive",children:"Inactive"}),f.jsx("option",{value:"vip",children:"VIP Members"})]})]}),f.jsx("div",{className:"relative z-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:ue.map((J,ce)=>f.jsxs("div",{id:`friend-${J.id}`,className:"group bg-slate-800/60 backdrop-blur-xl border border-violet-500/20 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 transform hover:scale-105 hover:bg-slate-800/80 relative overflow-hidden",style:{animationDelay:`${ce*100}ms`},children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),J.isVip&&f.jsx("div",{className:"absolute top-3 right-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full p-1",children:f.jsx(Qo,{className:"text-white text-xs"})}),f.jsxs("div",{className:"relative z-10 text-center",children:[f.jsxs("div",{className:"relative inline-block mb-4",children:[f.jsx("img",{src:J.avatar,alt:J.name,className:"w-20 h-20 rounded-full border-3 border-violet-400 shadow-lg group-hover:shadow-violet-400/50 transition-all duration-300"}),f.jsx("div",{className:`
                  absolute -bottom-1 -right-1 w-6 h-6 rounded-full border-3 border-slate-800 flex items-center justify-center text-xs
                  ${J.mining?"bg-green-500 animate-pulse":"bg-gray-500"}
                `,children:J.mining?"":""})]}),f.jsx("h2",{className:"text-lg font-bold text-white mb-1 group-hover:text-violet-300 transition-colors",children:J.name}),f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[f.jsxs("span",{className:"px-2 py-1 bg-violet-600/20 border border-violet-500/30 rounded-full text-xs text-violet-300",children:["Level ",J.level]}),J.streak>0&&f.jsxs("span",{className:"px-2 py-1 bg-orange-600/20 border border-orange-500/30 rounded-full text-xs text-orange-300 flex items-center gap-1",children:[f.jsx(Cf,{})," ",J.streak]})]}),J.mining?f.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-400 font-medium mb-3",children:[f.jsx(md,{className:"text-xs animate-pulse"}),f.jsx("span",{children:"Mining Active"})]}):f.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400 font-medium mb-3",children:[f.jsx(md,{className:"text-xs"}),f.jsxs("span",{className:"text-xs",children:["Last seen: ",J.lastActive]})]}),f.jsx("div",{className:"grid grid-cols-1 gap-2 mb-4",children:f.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-2",children:[f.jsxs("div",{className:"text-yellow-400 font-bold text-sm",children:[" ",J.coinsEarned.toLocaleString()]}),f.jsx("div",{className:"text-xs text-slate-400",children:"Coins Earned"})]})}),f.jsxs("p",{className:"text-xs text-slate-500 mb-4",children:["Joined: ",J.joined]}),f.jsxs("div",{className:"space-y-2",children:[!J.mining&&f.jsxs("button",{onClick:()=>Z(J),className:"w-full px-4 py-2 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white rounded-lg flex items-center justify-center gap-2 shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:[f.jsx(ko,{className:"animate-bounce"}),"Poke to Mine"]}),f.jsxs("button",{disabled:!0,className:"w-full px-4 py-2 bg-slate-700/50 text-slate-500 rounded-lg flex items-center justify-center gap-2 cursor-not-allowed border border-slate-600/50",children:[f.jsx(Z6,{}),"Send Gift (Coming Soon)"]})]})]})]},J.id))}),ue.length===0&&!O&&f.jsxs("div",{className:"relative z-10 text-center py-12",children:[f.jsx("div",{className:"text-6xl mb-4",children:""}),f.jsx("h3",{className:"text-xl font-semibold text-slate-300 mb-2",children:x.length===0?"No referrals yet":"No friends found"}),f.jsx("p",{className:"text-slate-400 mb-6",children:x.length===0?"Invite friends using your referral code to build your network":"Try adjusting your search or filter criteria"}),x.length===0?f.jsx("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-violet-600 hover:bg-violet-500 rounded-lg text-white transition-all duration-300",children:"Invite Friends"}):f.jsx("button",{onClick:()=>{i(""),c("all")},className:"px-6 py-3 bg-violet-600 hover:bg-violet-500 rounded-lg text-white transition-all duration-300",children:"Clear Filters"})]}),h&&f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-slate-800 border border-violet-500/30 rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:"text-4xl mb-2",children:""}),f.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Invite Friends"}),f.jsx("p",{className:"text-slate-400",children:"Share your referral code and earn together!"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-violet-500/20",children:[f.jsx("p",{className:"text-sm text-slate-400 mb-2",children:"Your Referral Code"}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("code",{className:"text-lg font-bold text-violet-400 bg-slate-800 px-3 py-1 rounded",children:e?.profile?.referralCode||E.referralCode||"Loading..."}),f.jsx("button",{onClick:ee,className:`p-2 rounded-lg transition-all duration-300 ${g?"bg-green-600 text-white":"bg-violet-600 hover:bg-violet-500 text-white"}`,children:g?"":f.jsx(D7,{})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>{const ce=`Join me on MineVerse and start earning! Use my referral code: ${e?.profile?.referralCode||E.referralCode}`;navigator.share?navigator.share({text:ce}):(navigator.clipboard.writeText(ce),alert("Referral message copied to clipboard!"))},className:"px-4 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg text-white font-medium transition-all duration-300 flex items-center justify-center gap-2",children:[f.jsx(z7,{}),"Share"]}),f.jsx("button",{onClick:()=>m(!1),className:"px-4 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg text-white font-medium transition-all duration-300",children:"Close"})]})]})]})})]}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white pt-20 px-4 sm:px-6 lg:px-12 flex items-center justify-center",children:f.jsx("div",{className:"text-center",children:f.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Please log in to view your referral network"})})})}const FD=(n,e)=>{const t=$r($e,"users",n,"activities"),i=ka(t,pu("timestamp","desc"),oC(10));return gu(i,o=>{const c=o.docs.map(h=>({id:h.id,...h.data()}));e(c)})};function HD(){const n=Ra(),{currentUser:e,userProfile:t,logout:i}=Mi(),[o,c]=U.useState("overview"),[h,m]=U.useState(!1),[g,y]=U.useState([]),[x,w]=U.useState([]),[E,k]=U.useState(!0);U.useEffect(()=>{if(!e){k(!1);return}let C,A;return(async()=>{try{C=FD(e.uid,R=>{y(R)}),A=ZC(e.uid,R=>{w(R)}),k(!1)}catch(R){console.error("Error loading profile data:",R),k(!1)}})(),()=>{C&&C(),A&&A()}},[e]),U.useEffect(()=>{t&&k(!1)},[t]);const O=sn.useMemo(()=>!t||!t.stats?{totalCoinsEarned:0,level:1,currentTier:"Bronze Miner",nextTier:"Silver Miner",tierProgress:0,currentStreak:0,totalMined:0,rank:"#0",isVip:!1}:{totalCoinsEarned:t.stats.totalCoinsEarned??0,level:t.stats.level??1,currentTier:t.stats.currentTier??"Bronze Miner",nextTier:t.stats.nextTier??"Silver Miner",tierProgress:t.stats.tierProgress??0,currentStreak:t.stats.currentStreak??0,totalMined:t.stats.totalMined??0,rank:t.stats.rank??"#0",isVip:t.stats.isVip??!1},[t]),P=sn.useMemo(()=>!t||!t.profile?{username:"User",name:"User",email:"",avatar:"",referralCode:"",joined:new Date,lastActive:new Date}:{username:t.profile.username??"User",name:t.profile.name??t.profile.username??"User",email:t.profile.email??"",avatar:t.profile.avatar??"",referralCode:t.profile.referralCode??"",joined:t.profile.joined??new Date,lastActive:t.profile.lastActive??new Date},[t]),B=sn.useMemo(()=>!t||!t.social?{totalReferrals:0}:{totalReferrals:t.social.totalReferrals??0},[t]),H=sn.useMemo(()=>!t||!t.mining?{isMining:!1,totalMiningSessions:0}:{isMining:t.mining.isMining??!1,totalMiningSessions:t.mining.totalMiningSessions??0},[t]);if(!e)return f.jsx("div",{className:"min-h-screen pt-20 bg-gradient-to-br from-slate-900 via-violet-900/40 to-slate-900 text-white flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-red-400 mb-4",children:"Please log in to view profile"}),f.jsx("button",{onClick:()=>n("/login"),className:"px-4 py-2 bg-violet-600 hover:bg-violet-500 rounded-lg",children:"Go to Login"})]})});if(E||!t)return f.jsx("div",{className:"min-h-screen pt-20 bg-gradient-to-br from-slate-900 via-violet-900/40 to-slate-900 text-white flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-400 mx-auto mb-4"}),f.jsx("p",{className:"text-slate-300 text-lg",children:"Loading profile..."}),f.jsx("p",{className:"text-slate-500 text-sm mt-2",children:t?"Loading profile data...":"Fetching user data..."})]})});const Z=()=>{if(!P.referralCode){alert("Referral code not available yet. Please try again in a moment.");return}const C=`Join CollabriaNexus with my code: ${P.referralCode}`;navigator.clipboard.writeText(C),alert("Referral code copied! ")},ee=async()=>{try{await c7()(),n("/login")}catch(C){console.error("Error logging out:",C),alert("Failed to logout. Please try again.")}},ue=()=>P.avatar?P.avatar:`https://api.dicebear.com/7.x/initials/svg?seed=${P.username}&backgroundColor=6366f1&fontSize=40`,J=C=>C?.seconds?new Date(C.seconds*1e3).toLocaleDateString("en-US",{month:"long",year:"numeric"}):new Date(C).toLocaleDateString("en-US",{month:"long",year:"numeric"}),ce=({id:C,label:A,isActive:N,onClick:R})=>f.jsx("button",{onClick:()=>R(C),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${N?"bg-violet-600 text-white shadow-lg":"text-slate-400 hover:text-violet-300 hover:bg-slate-700/50"}`,children:A});return f.jsxs("div",{className:"min-h-screen pt-20 bg-gradient-to-br from-slate-900 via-violet-900/40 to-slate-900 text-white relative overflow-hidden",children:[f.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[f.jsx("div",{className:"absolute top-0 left-10 w-72 h-72 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),f.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-violet-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),f.jsx("div",{className:"relative z-10 px-6 py-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("button",{onClick:()=>n(-1),className:"flex items-center gap-2 px-4 py-2 bg-slate-800/60 backdrop-blur-sm rounded-xl border border-violet-500/30 text-violet-300 hover:text-white hover:bg-slate-800/80 transition-all duration-200",children:[f.jsx(G6,{className:"text-sm"}),"Back to Dashboard"]}),f.jsx("button",{onClick:()=>m(!h),className:"p-2 bg-slate-800/60 backdrop-blur-sm rounded-xl border border-violet-500/30 text-violet-300 hover:text-white hover:bg-slate-800/80 transition-all duration-200 relative",children:f.jsx(d1,{className:"text-lg"})}),h&&f.jsxs("div",{className:"absolute right-6 top-16 bg-slate-900 border border-violet-500/30 rounded-xl shadow-lg z-50 px-6 py-4 min-w-[180px] flex flex-col",children:[f.jsx("button",{onClick:ee,className:"w-full text-left px-3 py-2 mb-2 bg-violet-600/30 hover:bg-violet-600/60 rounded-lg text-white font-semibold transition-all duration-200",children:"Logout"}),f.jsx("button",{onClick:()=>m(!1),className:"w-full text-left px-3 py-2 bg-slate-800/50 hover:bg-slate-800/70 rounded-lg text-violet-300 font-medium transition-all duration-200",children:"Close"})]})]})}),f.jsxs("div",{className:"relative z-10 px-6 pb-8",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsxs("div",{className:"relative inline-block mb-6",children:[f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:ue(),alt:P.name,className:"w-36 h-36 rounded-full border-4 border-gradient-to-r from-violet-400 to-pink-400 shadow-[0_8px_40px_0_rgba(120,56,255,0.4)] bg-gradient-to-tr from-violet-400/20 to-pink-400/20"}),f.jsx("div",{className:"absolute -bottom-2 -right-2 bg-gradient-to-r from-violet-600 to-purple-600 rounded-full p-3 border-4 border-slate-900 shadow-lg",children:f.jsx(R7,{className:"text-white text-sm"})}),f.jsx("div",{className:`absolute top-2 right-2 w-6 h-6 rounded-full border-4 border-slate-900 shadow-lg ${H.isMining?"bg-green-400 animate-pulse":"bg-gray-400"}`})]}),f.jsxs("div",{className:"absolute -top-2 -left-2 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full px-3 py-1 text-sm font-bold text-white shadow-lg border-2 border-slate-900",children:["LVL ",O.level]})]}),f.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-violet-300 via-pink-300 to-violet-300 bg-clip-text text-transparent mb-2",children:P.name}),f.jsxs("p",{className:"text-violet-400 font-medium mb-1",children:["@",P.username]}),f.jsx("p",{className:"text-slate-400 text-sm mb-4",children:P.email}),f.jsxs("div",{className:"max-w-md mx-auto mb-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm font-medium text-slate-300",children:O.currentTier}),f.jsxs("span",{className:"text-sm text-slate-400",children:[O.tierProgress,"% to ",O.nextTier]})]}),f.jsx("div",{className:"w-full bg-slate-700/50 rounded-full h-3",children:f.jsx("div",{className:"bg-gradient-to-r from-violet-500 to-purple-500 h-3 rounded-full relative overflow-hidden transition-all duration-1000",style:{width:`${O.tierProgress}%`},children:f.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})})]}),f.jsxs("div",{className:"flex justify-center gap-6 mb-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:O.currentStreak}),f.jsx("div",{className:"text-xs text-slate-400",children:"Day Streak"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-violet-400",children:O.rank}),f.jsx("div",{className:"text-xs text-slate-400",children:"Global Rank"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-green-400",children:H.totalMiningSessions}),f.jsx("div",{className:"text-xs text-slate-400",children:"Sessions"})]})]})]}),f.jsx("div",{className:"flex justify-center mb-8",children:f.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-xl p-1 border border-violet-500/30",children:[f.jsx(ce,{id:"overview",label:"Overview",isActive:o==="overview",onClick:c}),f.jsx(ce,{id:"activity",label:"Activity",isActive:o==="activity",onClick:c}),f.jsx(ce,{id:"badges",label:"Badges",isActive:o==="badges",onClick:c})]})}),o==="overview"&&f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 text-center",children:[f.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border border-yellow-500/30 mb-4 mx-auto group-hover:scale-110 transition-transform duration-300",children:f.jsx(X6,{className:"text-3xl text-yellow-400"})}),f.jsx("h2",{className:"text-3xl font-bold text-yellow-300 mb-2",children:O.totalCoinsEarned.toLocaleString()}),f.jsx("p",{className:"text-slate-400 text-sm",children:"Total Coins Earned"})]}),f.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 text-center",children:[f.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30 mb-4 mx-auto group-hover:scale-110 transition-transform duration-300",children:f.jsx(nw,{className:"text-3xl text-blue-400"})}),f.jsx("h2",{className:"text-3xl font-bold text-blue-300 mb-2",children:B.totalReferrals}),f.jsx("p",{className:"text-slate-400 text-sm",children:"Friends Referred"})]}),f.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 text-center",children:[f.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-r from-pink-500/20 to-rose-500/20 border border-pink-500/30 mb-4 mx-auto group-hover:scale-110 transition-transform duration-300",children:f.jsx(j_,{className:"text-3xl text-pink-400"})}),f.jsx("h2",{className:"text-2xl font-bold text-pink-300 mb-2",children:P.referralCode||"Loading..."}),f.jsx("p",{className:"text-slate-400 text-sm",children:"Your Referral Code"}),f.jsx("button",{onClick:Z,className:"mt-3 px-3 py-1 bg-pink-500/20 hover:bg-pink-500/30 rounded-lg text-pink-300 text-xs font-medium transition-all duration-200",children:"Copy Code"})]})]}),f.jsx("div",{className:"flex justify-center",children:f.jsxs("button",{onClick:Z,className:"group px-8 py-4 bg-gradient-to-r from-violet-600 via-purple-600 to-pink-600 hover:from-violet-500 hover:via-purple-500 hover:to-pink-500 rounded-2xl text-white font-bold shadow-lg shadow-violet-500/30 flex items-center gap-3 hover:scale-105 transform transition-all duration-300 border border-white/10",children:[f.jsx(j_,{className:"text-lg group-hover:rotate-12 transition-transform duration-300"}),"Share Referral Code & Earn Rewards",f.jsx("div",{className:"ml-2 px-2 py-1 bg-white/20 rounded-lg text-xs",children:"+50 coins"})]})})]}),f.jsx("div",{className:"flex justify-center mt-8",children:f.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-800/50 backdrop-blur-sm rounded-xl border border-violet-500/20",children:[f.jsx(A7,{className:"text-violet-400 text-sm"}),f.jsxs("span",{className:"text-slate-400 text-sm",children:["Member since ",J(P.joined)]})]})})]})]})}function qD(){const n=Ra();return f.jsxs("div",{className:"min-h-screen bg-[#0f0f1a] text-white flex items-center justify-center px-4 py-20",children:[f.jsxs("div",{className:"max-w-3xl w-full bg-gradient-to-b from-[#0f1016]/60 via-[#12121b]/60 to-[#0f0f14]/60 border border-violet-400/10 rounded-2xl shadow-2xl p-8 relative overflow-hidden",children:[f.jsx("div",{className:"absolute -left-20 -top-20 w-72 h-72 rounded-full bg-violet-600/10 blur-3xl animate-blob"}),f.jsx("div",{className:"absolute -right-28 -bottom-24 w-96 h-96 rounded-full bg-pink-500/6 blur-3xl animate-blob animation-delay-2000"}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center gap-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"rounded-full bg-gradient-to-tr from-pink-500 to-violet-600 p-4 shadow-xl",children:f.jsx(Y6,{className:"text-white text-2xl"})}),f.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight text-white",children:"Work in Progress"})]}),f.jsx("p",{className:"max-w-2xl text-gray-300 text-sm md:text-base leading-relaxed",children:"Were forging something shiny behind the scenes  features that make mining smoother, smarter, and more fun. Hang tight, miner. Good things take time... and a little bit of  magic."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-2",children:[f.jsxs("button",{onClick:()=>n(-1),className:"flex items-center gap-2 justify-center px-5 py-2 rounded-lg bg-violet-600 hover:bg-violet-500 transition shadow",children:[f.jsx(G6,{})," Back"]}),f.jsxs(Mr,{to:"/",className:"flex items-center gap-2 justify-center px-5 py-2 rounded-lg bg-transparent border border-violet-600 text-violet-300 hover:bg-violet-600/10 transition shadow",children:[f.jsx(m1,{})," Go Home"]})]}),f.jsx("div",{className:"mt-4 text-xs text-gray-500",children:"Want updates? We can add an email subscribe soon  tell me if you want that."})]})]}),f.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px,0px) scale(1); }
          33% { transform: translate(30px,-20px) scale(1.05); }
          66% { transform: translate(-20px,20px) scale(0.95); }
          100% { transform: translate(0px,0px) scale(1); }
        }
        .animate-blob { animation: blob 6s infinite ease-in-out; }
        .animation-delay-2000 { animation-delay: 2s; }
      `})]})}const hg=({children:n})=>{const[e,t]=U.useState(null),[i,o]=U.useState(!0);return U.useEffect(()=>u1(h=>{t(!!h),o(!1)}),[]),i?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),f.jsx("p",{className:"text-textMuted",children:"Loading..."})]})}):e?n:f.jsx(s0,{to:"/login",replace:!0})},X_=({children:n})=>{const[e,t]=U.useState(null),[i,o]=U.useState(!0);return U.useEffect(()=>u1(h=>{t(!!h),o(!1)}),[]),i?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),f.jsx("p",{className:"text-textMuted",children:"Loading..."})]})}):e?f.jsx(s0,{to:"/dashboard",replace:!0}):n};function $D(){return f.jsx(Q7,{children:f.jsxs(YT,{basename:"/CollabriaNexus",children:[f.jsx(q7,{}),f.jsxs(TT,{children:[f.jsx(Zn,{path:"/",element:f.jsx(F7,{})}),f.jsx(Zn,{path:"/blog",element:f.jsx(kD,{})}),f.jsx(Zn,{path:"/about",element:f.jsx(OD,{})}),f.jsx(Zn,{path:"/contact",element:f.jsx(PD,{})}),f.jsx(Zn,{path:"/work-in-progress",element:f.jsx(qD,{})}),f.jsx(Zn,{path:"/login",element:f.jsx(X_,{children:f.jsx(u7,{onLogin:()=>{}})})}),f.jsx(Zn,{path:"/signup",element:f.jsx(X_,{children:f.jsx(h7,{onSignUp:()=>{}})})}),f.jsx(Zn,{path:"/dashboard",element:f.jsx(hg,{children:f.jsx(jD,{})})}),f.jsx(Zn,{path:"/friends",element:f.jsx(hg,{children:f.jsx(BD,{})})}),f.jsx(Zn,{path:"/profile",element:f.jsx(hg,{children:f.jsx(HD,{})})}),f.jsx(Zn,{path:"*",element:f.jsx(s0,{to:"/",replace:!0})})]}),f.jsx($7,{})]})})}fE.createRoot(document.getElementById("root")).render(f.jsx(sn.StrictMode,{children:f.jsx($D,{})}));
