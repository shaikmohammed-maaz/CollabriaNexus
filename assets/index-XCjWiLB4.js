(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function r0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qp={exports:{}},Ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2;function gE(){if(B2)return Ic;B2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var m in a)m!=="key"&&(l[m]=a[m])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Ic.Fragment=e,Ic.jsx=t,Ic.jsxs=t,Ic}var F2;function yE(){return F2||(F2=1,qp.exports=gE()),qp.exports}var d=yE(),$p={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2;function vE(){if(H2)return je;H2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.iterator;function E(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,z={};function B(R,X,ae){this.props=R,this.context=X,this.refs=z,this.updater=ae||j}B.prototype.isReactComponent={},B.prototype.setState=function(R,X){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,X,"setState")},B.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function q(){}q.prototype=B.prototype;function te(R,X,ae){this.props=R,this.context=X,this.refs=z,this.updater=ae||j}var ee=te.prototype=new q;ee.constructor=te,P(ee,B.prototype),ee.isPureReactComponent=!0;var de=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function I(R,X,ae,le,pe,be){return ae=be.ref,{$$typeof:n,type:R,key:X,ref:ae!==void 0?ae:null,props:be}}function T(R,X){return I(R.type,X,void 0,void 0,void 0,R.props)}function A(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function C(R){var X={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ae){return X[ae]})}var k=/\/+/g;function V(R,X){return typeof R=="object"&&R!==null&&R.key!=null?C(""+R.key):X.toString(36)}function D(){}function ge(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(D,D):(R.status="pending",R.then(function(X){R.status==="pending"&&(R.status="fulfilled",R.value=X)},function(X){R.status==="pending"&&(R.status="rejected",R.reason=X)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function he(R,X,ae,le,pe){var be=typeof R;(be==="undefined"||be==="boolean")&&(R=null);var xe=!1;if(R===null)xe=!0;else switch(be){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(R.$$typeof){case n:case e:xe=!0;break;case x:return xe=R._init,he(xe(R._payload),X,ae,le,pe)}}if(xe)return pe=pe(R),xe=le===""?"."+V(R,0):le,de(pe)?(ae="",xe!=null&&(ae=xe.replace(k,"$&/")+"/"),he(pe,X,ae,"",function(lt){return lt})):pe!=null&&(A(pe)&&(pe=T(pe,ae+(pe.key==null||R&&R.key===pe.key?"":(""+pe.key).replace(k,"$&/")+"/")+xe)),X.push(pe)),1;xe=0;var Ke=le===""?".":le+":";if(de(R))for(var Oe=0;Oe<R.length;Oe++)le=R[Oe],be=Ke+V(le,Oe),xe+=he(le,X,ae,be,pe);else if(Oe=E(R),typeof Oe=="function")for(R=Oe.call(R),Oe=0;!(le=R.next()).done;)le=le.value,be=Ke+V(le,Oe++),xe+=he(le,X,ae,be,pe);else if(be==="object"){if(typeof R.then=="function")return he(ge(R),X,ae,le,pe);throw X=String(R),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return xe}function L(R,X,ae){if(R==null)return R;var le=[],pe=0;return he(R,le,"","",function(be){return X.call(ae,be,pe++)}),le}function W(R){if(R._status===-1){var X=R._result;X=X(),X.then(function(ae){(R._status===0||R._status===-1)&&(R._status=1,R._result=ae)},function(ae){(R._status===0||R._status===-1)&&(R._status=2,R._result=ae)}),R._status===-1&&(R._status=0,R._result=X)}if(R._status===1)return R._result.default;throw R._result}var H=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function se(){}return je.Children={map:L,forEach:function(R,X,ae){L(R,function(){X.apply(this,arguments)},ae)},count:function(R){var X=0;return L(R,function(){X++}),X},toArray:function(R){return L(R,function(X){return X})||[]},only:function(R){if(!A(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},je.Component=B,je.Fragment=t,je.Profiler=a,je.PureComponent=te,je.StrictMode=s,je.Suspense=p,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,je.__COMPILER_RUNTIME={__proto__:null,c:function(R){return J.H.useMemoCache(R)}},je.cache=function(R){return function(){return R.apply(null,arguments)}},je.cloneElement=function(R,X,ae){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var le=P({},R.props),pe=R.key,be=void 0;if(X!=null)for(xe in X.ref!==void 0&&(be=void 0),X.key!==void 0&&(pe=""+X.key),X)!ue.call(X,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&X.ref===void 0||(le[xe]=X[xe]);var xe=arguments.length-2;if(xe===1)le.children=ae;else if(1<xe){for(var Ke=Array(xe),Oe=0;Oe<xe;Oe++)Ke[Oe]=arguments[Oe+2];le.children=Ke}return I(R.type,pe,void 0,void 0,be,le)},je.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},je.createElement=function(R,X,ae){var le,pe={},be=null;if(X!=null)for(le in X.key!==void 0&&(be=""+X.key),X)ue.call(X,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(pe[le]=X[le]);var xe=arguments.length-2;if(xe===1)pe.children=ae;else if(1<xe){for(var Ke=Array(xe),Oe=0;Oe<xe;Oe++)Ke[Oe]=arguments[Oe+2];pe.children=Ke}if(R&&R.defaultProps)for(le in xe=R.defaultProps,xe)pe[le]===void 0&&(pe[le]=xe[le]);return I(R,be,void 0,void 0,null,pe)},je.createRef=function(){return{current:null}},je.forwardRef=function(R){return{$$typeof:m,render:R}},je.isValidElement=A,je.lazy=function(R){return{$$typeof:x,_payload:{_status:-1,_result:R},_init:W}},je.memo=function(R,X){return{$$typeof:y,type:R,compare:X===void 0?null:X}},je.startTransition=function(R){var X=J.T,ae={};J.T=ae;try{var le=R(),pe=J.S;pe!==null&&pe(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(se,H)}catch(be){H(be)}finally{J.T=X}},je.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},je.use=function(R){return J.H.use(R)},je.useActionState=function(R,X,ae){return J.H.useActionState(R,X,ae)},je.useCallback=function(R,X){return J.H.useCallback(R,X)},je.useContext=function(R){return J.H.useContext(R)},je.useDebugValue=function(){},je.useDeferredValue=function(R,X){return J.H.useDeferredValue(R,X)},je.useEffect=function(R,X,ae){var le=J.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(R,X)},je.useId=function(){return J.H.useId()},je.useImperativeHandle=function(R,X,ae){return J.H.useImperativeHandle(R,X,ae)},je.useInsertionEffect=function(R,X){return J.H.useInsertionEffect(R,X)},je.useLayoutEffect=function(R,X){return J.H.useLayoutEffect(R,X)},je.useMemo=function(R,X){return J.H.useMemo(R,X)},je.useOptimistic=function(R,X){return J.H.useOptimistic(R,X)},je.useReducer=function(R,X,ae){return J.H.useReducer(R,X,ae)},je.useRef=function(R){return J.H.useRef(R)},je.useState=function(R){return J.H.useState(R)},je.useSyncExternalStore=function(R,X,ae){return J.H.useSyncExternalStore(R,X,ae)},je.useTransition=function(){return J.H.useTransition()},je.version="19.1.0",je}var q2;function s0(){return q2||(q2=1,$p.exports=vE()),$p.exports}var O=s0();const Nn=r0(O);var Gp={exports:{}},jc={},Yp={exports:{}},Kp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2;function xE(){return $2||($2=1,function(n){function e(L,W){var H=L.length;L.push(W);e:for(;0<H;){var se=H-1>>>1,R=L[se];if(0<a(R,W))L[se]=W,L[H]=R,H=se;else break e}}function t(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var W=L[0],H=L.pop();if(H!==W){L[0]=H;e:for(var se=0,R=L.length,X=R>>>1;se<X;){var ae=2*(se+1)-1,le=L[ae],pe=ae+1,be=L[pe];if(0>a(le,H))pe<R&&0>a(be,le)?(L[se]=be,L[pe]=H,se=pe):(L[se]=le,L[ae]=H,se=ae);else if(pe<R&&0>a(be,H))L[se]=be,L[pe]=H,se=pe;else break e}}return W}function a(L,W){var H=L.sortIndex-W.sortIndex;return H!==0?H:L.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,m=u.now();n.unstable_now=function(){return u.now()-m}}var p=[],y=[],x=1,w=null,E=3,j=!1,P=!1,z=!1,B=!1,q=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function de(L){for(var W=t(y);W!==null;){if(W.callback===null)s(y);else if(W.startTime<=L)s(y),W.sortIndex=W.expirationTime,e(p,W);else break;W=t(y)}}function J(L){if(z=!1,de(L),!P)if(t(p)!==null)P=!0,ue||(ue=!0,V());else{var W=t(y);W!==null&&he(J,W.startTime-L)}}var ue=!1,I=-1,T=5,A=-1;function C(){return B?!0:!(n.unstable_now()-A<T)}function k(){if(B=!1,ue){var L=n.unstable_now();A=L;var W=!0;try{e:{P=!1,z&&(z=!1,te(I),I=-1),j=!0;var H=E;try{t:{for(de(L),w=t(p);w!==null&&!(w.expirationTime>L&&C());){var se=w.callback;if(typeof se=="function"){w.callback=null,E=w.priorityLevel;var R=se(w.expirationTime<=L);if(L=n.unstable_now(),typeof R=="function"){w.callback=R,de(L),W=!0;break t}w===t(p)&&s(p),de(L)}else s(p);w=t(p)}if(w!==null)W=!0;else{var X=t(y);X!==null&&he(J,X.startTime-L),W=!1}}break e}finally{w=null,E=H,j=!1}W=void 0}}finally{W?V():ue=!1}}}var V;if(typeof ee=="function")V=function(){ee(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ge=D.port2;D.port1.onmessage=k,V=function(){ge.postMessage(null)}}else V=function(){q(k,0)};function he(L,W){I=q(function(){L(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(L){switch(E){case 1:case 2:case 3:var W=3;break;default:W=E}var H=E;E=W;try{return L()}finally{E=H}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=E;E=L;try{return W()}finally{E=H}},n.unstable_scheduleCallback=function(L,W,H){var se=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?se+H:se):H=se,L){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=H+R,L={id:x++,callback:W,priorityLevel:L,startTime:H,expirationTime:R,sortIndex:-1},H>se?(L.sortIndex=H,e(y,L),t(p)===null&&L===t(y)&&(z?(te(I),I=-1):z=!0,he(J,H-se))):(L.sortIndex=R,e(p,L),P||j||(P=!0,ue||(ue=!0,V()))),L},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(L){var W=E;return function(){var H=E;E=W;try{return L.apply(this,arguments)}finally{E=H}}}}(Kp)),Kp}var G2;function _E(){return G2||(G2=1,Yp.exports=xE()),Yp.exports}var Qp={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2;function bE(){if(Y2)return hn;Y2=1;var n=s0();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,y,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:p,containerInfo:y,implementation:x}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(p,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(p,y,null,x)},hn.flushSync=function(p){var y=u.T,x=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=y,s.p=x,s.d.f()}},hn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},hn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},hn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var x=y.as,w=m(x,y.crossOrigin),E=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:j}):x==="script"&&s.d.X(p,{crossOrigin:w,integrity:E,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},hn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},hn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,w=m(x,y.crossOrigin);s.d.L(p,x,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},hn.preloadModule=function(p,y){if(typeof p=="string")if(y){var x=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},hn.requestFormReset=function(p){s.d.r(p)},hn.unstable_batchedUpdates=function(p,y){return p(y)},hn.useFormState=function(p,y,x){return u.H.useFormState(p,y,x)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.1.0",hn}var K2;function wE(){if(K2)return Qp.exports;K2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qp.exports=bE(),Qp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2;function EE(){if(Q2)return jc;Q2=1;var n=_E(),e=s0(),t=wE();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(s(188))}function p(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,c=i;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),r;if(g===c)return m(f),i;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=g;else{for(var b=!1,S=f.child;S;){if(S===o){b=!0,o=f,c=g;break}if(S===c){b=!0,c=f,o=g;break}S=S.sibling}if(!b){for(S=g.child;S;){if(S===o){b=!0,o=g,c=f;break}if(S===c){b=!0,c=g,o=f;break}S=S.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=k&&r[k]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function ge(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case B:return"Profiler";case z:return"StrictMode";case J:return"Suspense";case ue:return"SuspenseList";case A:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case j:return"Portal";case ee:return(r.displayName||"Context")+".Provider";case te:return(r._context.displayName||"Context")+".Consumer";case de:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return i=r.displayName||null,i!==null?i:ge(r.type)||"Memo";case T:i=r._payload,r=r._init;try{return ge(r(i))}catch{}}return null}var he=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},se=[],R=-1;function X(r){return{current:r}}function ae(r){0>R||(r.current=se[R],se[R]=null,R--)}function le(r,i){R++,se[R]=r.current,r.current=i}var pe=X(null),be=X(null),xe=X(null),Ke=X(null);function Oe(r,i){switch(le(xe,i),le(be,r),le(pe,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?p2(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=p2(i),r=g2(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ae(pe),le(pe,r)}function lt(){ae(pe),ae(be),ae(xe)}function at(r){r.memoizedState!==null&&le(Ke,r);var i=pe.current,o=g2(i,r.type);i!==o&&(le(be,r),le(pe,o))}function yt(r){be.current===r&&(ae(pe),ae(be)),Ke.current===r&&(ae(Ke),Sc._currentValue=H)}var bt=Object.prototype.hasOwnProperty,$n=n.unstable_scheduleCallback,Li=n.unstable_cancelCallback,wl=n.unstable_shouldYield,Eu=n.unstable_requestPaint,Gn=n.unstable_now,qf=n.unstable_getCurrentPriorityLevel,El=n.unstable_ImmediatePriority,La=n.unstable_UserBlockingPriority,Ui=n.unstable_NormalPriority,$f=n.unstable_LowPriority,Ua=n.unstable_IdlePriority,Tl=n.log,Tu=n.unstable_setDisableYieldValue,wt=null,Ze=null;function Cn(r){if(typeof Tl=="function"&&Tu(r),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(wt,r)}catch{}}var un=Math.clz32?Math.clz32:zi,Su=Math.log,Gf=Math.LN2;function zi(r){return r>>>=0,r===0?32:31-(Su(r)/Gf|0)|0}var Bi=256,Fi=4194304;function ar(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function za(r,i,o){var c=r.pendingLanes;if(c===0)return 0;var f=0,g=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?f=ar(c):(b&=S,b!==0?f=ar(b):o||(o=S&~r,o!==0&&(f=ar(o))))):(S=c&~g,S!==0?f=ar(S):b!==0?f=ar(b):o||(o=c&~r,o!==0&&(f=ar(o)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:f}function Hi(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Sl(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Al(){var r=Bi;return Bi<<=1,(Bi&4194048)===0&&(Bi=256),r}function Nl(){var r=Fi;return Fi<<=1,(Fi&62914560)===0&&(Fi=4194304),r}function Zr(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function Jr(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Rl(r,i,o,c,f,g){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,M=r.expirationTimes,Y=r.hiddenUpdates;for(o=b&~o;0<o;){var re=31-un(o),oe=1<<re;S[re]=0,M[re]=-1;var K=Y[re];if(K!==null)for(Y[re]=null,re=0;re<K.length;re++){var Q=K[re];Q!==null&&(Q.lane&=-536870913)}o&=~oe}c!==0&&_r(r,c,0),g!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~i))}function _r(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var c=31-un(i);r.entangledLanes|=i,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function Cl(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var c=31-un(o),f=1<<c;f&i|r[c]&i&&(r[c]|=i),o&=~f}}function Ps(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ba(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Vs(){var r=W.p;return r!==0?r:(r=window.event,r===void 0?32:O2(r.type))}function Au(r,i){var o=W.p;try{return W.p=r,i()}finally{W.p=o}}var ht=Math.random().toString(36).slice(2),Vt="__reactFiber$"+ht,Ct="__reactProps$"+ht,Yn="__reactContainer$"+ht,Il="__reactEvents$"+ht,Yf="__reactListeners$"+ht,Ls="__reactHandles$"+ht,Nu="__reactResources$"+ht,qi="__reactMarker$"+ht;function Us(r){delete r[Vt],delete r[Ct],delete r[Il],delete r[Yf],delete r[Ls]}function es(r){var i=r[Vt];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Yn]||o[Vt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=_2(r);r!==null;){if(o=r[Vt])return o;r=_2(r)}return i}r=o,o=r.parentNode}return null}function br(r){if(r=r[Vt]||r[Yn]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function wr(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function gn(r){var i=r[Nu];return i||(i=r[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(r){r[qi]=!0}var jl=new Set,Fa={};function or(r,i){ts(r,i),ts(r+"Capture",i)}function ts(r,i){for(Fa[r]=i,r=0;r<i.length;r++)jl.add(i[r])}var Ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cu={},$i={};function Iu(r){return bt.call($i,r)?!0:bt.call(Cu,r)?!1:Ru.test(r)?$i[r]=!0:(Cu[r]=!0,!1)}function zs(r,i,o){if(Iu(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function Er(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function tn(r,i,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+c)}}var Gi,ju;function ns(r){if(Gi===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Gi=i&&i[1]||"",ju=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gi+r+ju}var Ha=!1;function qa(r,i){if(!r||Ha)return"";Ha=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Q){var K=Q}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(Q){K=Q}r.call(oe.prototype)}}else{try{throw Error()}catch(Q){K=Q}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],S=g[1];if(b&&S){var M=b.split(`
`),Y=S.split(`
`);for(f=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(c===M.length||f===Y.length)for(c=M.length-1,f=Y.length-1;1<=c&&0<=f&&M[c]!==Y[f];)f--;for(;1<=c&&0<=f;c--,f--)if(M[c]!==Y[f]){if(c!==1||f!==1)do if(c--,f--,0>f||M[c]!==Y[f]){var re=`
`+M[c].replace(" at new "," at ");return r.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",r.displayName)),re}while(1<=c&&0<=f);break}}}finally{Ha=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ns(o):""}function Dl(r){switch(r.tag){case 26:case 27:case 5:return ns(r.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 15:return qa(r.type,!1);case 11:return qa(r.type.render,!1);case 1:return qa(r.type,!0);case 31:return ns("Activity");default:return""}}function $a(r){try{var i="";do i+=Dl(r),r=r.return;while(r);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function kl(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Kf(r){var i=kl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ga(r){r._valueTracker||(r._valueTracker=Kf(r))}function Ml(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return r&&(c=kl(r)?r.checked?"true":"false":r.value),r=c,r!==o?(i.setValue(r),!0):!1}function Yi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Qf=/[\n"\\]/g;function It(r){return r.replace(Qf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function In(r,i,o,c,f,g,b,S){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),i!=null?b==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+yn(i)):r.value!==""+yn(i)&&(r.value=""+yn(i)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),i!=null?Bs(r,b,yn(i)):o!=null?Bs(r,b,yn(o)):c!=null&&r.removeAttribute("value"),f==null&&g!=null&&(r.defaultChecked=!!g),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+yn(S):r.removeAttribute("name")}function Ki(r,i,o,c,f,g,b,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;o=o!=null?""+yn(o):"",i=i!=null?""+yn(i):o,S||i===r.value||(r.value=i),r.defaultValue=i}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=S?r.checked:!!c,r.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function Bs(r,i,o){i==="number"&&Yi(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function rs(r,i,o,c){if(r=r.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=i.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&c&&(r[o].defaultSelected=!0)}else{for(o=""+yn(o),i=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function tt(r,i,o){if(i!=null&&(i=""+yn(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+yn(o):""}function Qi(r,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(s(92));if(he(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=yn(i),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Kn(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var Xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Du(r,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":c?r.setProperty(i,o):typeof o!="number"||o===0||Xi.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function Ol(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var f in i)c=i[f],i.hasOwnProperty(f)&&o[f]!==c&&Du(r,f,c)}else for(var g in i)i.hasOwnProperty(g)&&Du(r,g,i[g])}function Pl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(r){return Wf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ss=null;function Qn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var is=null,as=null;function Vl(r){var i=br(r);if(i&&(r=i.stateNode)){var o=r[Ct]||null;e:switch(r=i.stateNode,i.type){case"input":if(In(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+It(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==r&&c.form===r.form){var f=c[Ct]||null;if(!f)throw Error(s(90));In(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===r.form&&Ml(c)}break e;case"textarea":tt(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&rs(r,!!o.multiple,i,!1)}}}var Tr=!1;function ku(r,i,o){if(Tr)return r(i,o);Tr=!0;try{var c=r(i);return c}finally{if(Tr=!1,(is!==null||as!==null)&&(Ad(),is&&(i=is,r=as,as=is=null,Vl(i),r)))for(i=0;i<r.length;i++)Vl(r[i])}}function Wi(r,i){var o=r.stateNode;if(o===null)return null;var c=o[Ct]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xn=!1;if(lr)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{Xn=!1}var Sr=null,Fs=null,os=null;function Ll(){if(os)return os;var r,i=Fs,o=i.length,c,f="value"in Sr?Sr.value:Sr.textContent,g=f.length;for(r=0;r<o&&i[r]===f[r];r++);var b=o-r;for(c=1;c<=b&&i[o-c]===f[g-c];c++);return os=f.slice(r,1<c?1-c:void 0)}function Ar(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Nr(){return!0}function Ul(){return!1}function $t(r){function i(o,c,f,g,b){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Nr:Ul,this.isPropagationStopped=Ul,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),i}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=$t(Xe),Ji=x({},Xe,{view:0,detail:0}),Mu=$t(Ji),Qa,Xa,Rr,ea=x({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Rr&&(Rr&&r.type==="mousemove"?(Qa=r.screenX-Rr.screenX,Xa=r.screenY-Rr.screenY):Xa=Qa=0,Rr=r),Qa)},movementY:function(r){return"movementY"in r?r.movementY:Xa}}),Wn=$t(ea),Ou=x({},ea,{dataTransfer:0}),Zf=$t(Ou),ta=x({},Ji,{relatedTarget:0}),Wa=$t(ta),zl=x({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Za=$t(zl),Pu=x({},Xe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ja=$t(Pu),Jf=x({},Xe,{data:0}),Bl=$t(Jf),na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Lu[r])?!!i[r]:!1}function ra(){return Fl}var Uu=x({},Ji,{key:function(r){if(r.key){var i=na[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ar(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Vu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(r){return r.type==="keypress"?Ar(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ar(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),eo=$t(Uu),zu=x({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hl=$t(zu),ls=x({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),Bu=$t(ls),Fu=x({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hu=$t(Fu),qu=x({},ea,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),to=$t(qu),vn=x({},Xe,{newState:0,oldState:0}),$u=$t(vn),Gu=[9,13,27,32],Cr=lr&&"CompositionEvent"in window,h=null;lr&&"documentMode"in document&&(h=document.documentMode);var v=lr&&"TextEvent"in window&&!h,_=lr&&(!Cr||h&&8<h&&11>=h),N=" ",$=!1;function Z(r,i){switch(r){case"keyup":return Gu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Fe=!1;function Lt(r,i){switch(r){case"compositionend":return fe(i);case"keypress":return i.which!==32?null:($=!0,N);case"textInput":return r=i.data,r===N&&$?null:r;default:return null}}function He(r,i){if(Fe)return r==="compositionend"||!Cr&&Z(r,i)?(r=Ll(),os=Fs=Sr=null,Fe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Gt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Gt[r.type]:i==="textarea"}function cs(r,i,o,c){is?as?as.push(c):as=[c]:is=c,i=Dd(i,"onChange"),0<i.length&&(o=new Ka("onChange","change",null,o,c),r.push({event:o,listeners:i}))}var nn=null,Ir=null;function ql(r){u2(r,0)}function Yu(r){var i=wr(r);if(Ml(i))return r}function j1(r,i){if(r==="change")return i}var D1=!1;if(lr){var em;if(lr){var tm="oninput"in document;if(!tm){var k1=document.createElement("div");k1.setAttribute("oninput","return;"),tm=typeof k1.oninput=="function"}em=tm}else em=!1;D1=em&&(!document.documentMode||9<document.documentMode)}function M1(){nn&&(nn.detachEvent("onpropertychange",O1),Ir=nn=null)}function O1(r){if(r.propertyName==="value"&&Yu(Ir)){var i=[];cs(i,Ir,r,Qn(r)),ku(ql,i)}}function G6(r,i,o){r==="focusin"?(M1(),nn=i,Ir=o,nn.attachEvent("onpropertychange",O1)):r==="focusout"&&M1()}function Y6(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Yu(Ir)}function K6(r,i){if(r==="click")return Yu(i)}function Q6(r,i){if(r==="input"||r==="change")return Yu(i)}function X6(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var jn=typeof Object.is=="function"?Object.is:X6;function $l(r,i){if(jn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!bt.call(i,f)||!jn(r[f],i[f]))return!1}return!0}function P1(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function V1(r,i){var o=P1(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=i&&c>=i)return{node:o,offset:i-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=P1(o)}}function L1(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?L1(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function U1(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Yi(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Yi(r.document)}return i}function nm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var W6=lr&&"documentMode"in document&&11>=document.documentMode,no=null,rm=null,Gl=null,sm=!1;function z1(r,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;sm||no==null||no!==Yi(c)||(c=no,"selectionStart"in c&&nm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Gl&&$l(Gl,c)||(Gl=c,c=Dd(rm,"onSelect"),0<c.length&&(i=new Ka("onSelect","select",null,i,o),r.push({event:i,listeners:c}),i.target=no)))}function sa(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var ro={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},im={},B1={};lr&&(B1=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function ia(r){if(im[r])return im[r];if(!ro[r])return r;var i=ro[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in B1)return im[r]=i[o];return r}var F1=ia("animationend"),H1=ia("animationiteration"),q1=ia("animationstart"),Z6=ia("transitionrun"),J6=ia("transitionstart"),e3=ia("transitioncancel"),$1=ia("transitionend"),G1=new Map,am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");am.push("scrollEnd");function cr(r,i){G1.set(r,i),or(i,[r])}var Y1=new WeakMap;function Zn(r,i){if(typeof r=="object"&&r!==null){var o=Y1.get(r);return o!==void 0?o:(i={value:r,source:i,stack:$a(i)},Y1.set(r,i),i)}return{value:r,source:i,stack:$a(i)}}var Jn=[],so=0,om=0;function Ku(){for(var r=so,i=om=so=0;i<r;){var o=Jn[i];Jn[i++]=null;var c=Jn[i];Jn[i++]=null;var f=Jn[i];Jn[i++]=null;var g=Jn[i];if(Jn[i++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}g!==0&&K1(o,f,g)}}function Qu(r,i,o,c){Jn[so++]=r,Jn[so++]=i,Jn[so++]=o,Jn[so++]=c,om|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function lm(r,i,o,c){return Qu(r,i,o,c),Xu(r)}function io(r,i){return Qu(r,null,null,i),Xu(r)}function K1(r,i,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var f=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(f=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,f&&i!==null&&(f=31-un(o),r=g.hiddenUpdates,c=r[f],c===null?r[f]=[i]:c.push(i),i.lane=o|536870912),g):null}function Xu(r){if(50<yc)throw yc=0,mp=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var ao={};function t3(r,i,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(r,i,o,c){return new t3(r,i,o,c)}function cm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function us(r,i){var o=r.alternate;return o===null?(o=Dn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Q1(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Wu(r,i,o,c,f,g){var b=0;if(c=r,typeof r=="function")cm(r)&&(b=1);else if(typeof r=="string")b=rE(r,o,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case A:return r=Dn(31,o,i,f),r.elementType=A,r.lanes=g,r;case P:return aa(o.children,f,g,i);case z:b=8,f|=24;break;case B:return r=Dn(12,o,i,f|2),r.elementType=B,r.lanes=g,r;case J:return r=Dn(13,o,i,f),r.elementType=J,r.lanes=g,r;case ue:return r=Dn(19,o,i,f),r.elementType=ue,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case q:case ee:b=10;break e;case te:b=9;break e;case de:b=11;break e;case I:b=14;break e;case T:b=16,c=null;break e}b=29,o=Error(s(130,r===null?"null":typeof r,"")),c=null}return i=Dn(b,o,i,f),i.elementType=r,i.type=c,i.lanes=g,i}function aa(r,i,o,c){return r=Dn(7,r,c,i),r.lanes=o,r}function um(r,i,o){return r=Dn(6,r,null,i),r.lanes=o,r}function dm(r,i,o){return i=Dn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var oo=[],lo=0,Zu=null,Ju=0,er=[],tr=0,oa=null,ds=1,hs="";function la(r,i){oo[lo++]=Ju,oo[lo++]=Zu,Zu=r,Ju=i}function X1(r,i,o){er[tr++]=ds,er[tr++]=hs,er[tr++]=oa,oa=r;var c=ds;r=hs;var f=32-un(c)-1;c&=~(1<<f),o+=1;var g=32-un(i)+f;if(30<g){var b=f-f%5;g=(c&(1<<b)-1).toString(32),c>>=b,f-=b,ds=1<<32-un(i)+f|o<<f|c,hs=g+r}else ds=1<<g|o<<f|c,hs=r}function hm(r){r.return!==null&&(la(r,1),X1(r,1,0))}function fm(r){for(;r===Zu;)Zu=oo[--lo],oo[lo]=null,Ju=oo[--lo],oo[lo]=null;for(;r===oa;)oa=er[--tr],er[tr]=null,hs=er[--tr],er[tr]=null,ds=er[--tr],er[tr]=null}var xn=null,Et=null,Qe=!1,ca=null,jr=!1,mm=Error(s(519));function ua(r){var i=Error(s(418,""));throw Ql(Zn(i,r)),mm}function W1(r){var i=r.stateNode,o=r.type,c=r.memoizedProps;switch(i[Vt]=r,i[Ct]=c,o){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(o=0;o<xc.length;o++)Le(xc[o],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),Ki(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ga(i);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),Qi(i,c.value,c.defaultValue,c.children),Ga(i)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||m2(i.textContent,o)?(c.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),c.onScroll!=null&&Le("scroll",i),c.onScrollEnd!=null&&Le("scrollend",i),c.onClick!=null&&(i.onclick=kd),i=!0):i=!1,i||ua(r)}function Z1(r){for(xn=r.return;xn;)switch(xn.tag){case 5:case 13:jr=!1;return;case 27:case 3:jr=!0;return;default:xn=xn.return}}function Yl(r){if(r!==xn)return!1;if(!Qe)return Z1(r),Qe=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Ip(r.type,r.memoizedProps)),o=!o),o&&Et&&ua(r),Z1(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(i===0){Et=dr(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;r=r.nextSibling}Et=null}}else i===27?(i=Et,si(r.type)?(r=Mp,Mp=null,Et=r):Et=i):Et=xn?dr(r.stateNode.nextSibling):null;return!0}function Kl(){Et=xn=null,Qe=!1}function J1(){var r=ca;return r!==null&&(Tn===null?Tn=r:Tn.push.apply(Tn,r),ca=null),r}function Ql(r){ca===null?ca=[r]:ca.push(r)}var pm=X(null),da=null,fs=null;function Hs(r,i,o){le(pm,i._currentValue),i._currentValue=o}function ms(r){r._currentValue=pm.current,ae(pm)}function gm(r,i,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===o)break;r=r.return}}function ym(r,i,o,c){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var M=0;M<i.length;M++)if(S.context===i[M]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),gm(g.return,o,r),c||(b=null);break e}g=S.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),gm(b,o,r),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===r){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Xl(r,i,o,c){r=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var S=f.type;jn(f.pendingProps.value,b.value)||(r!==null?r.push(S):r=[S])}}else if(f===Ke.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Sc):r=[Sc])}f=f.return}r!==null&&ym(i,r,o,c),i.flags|=262144}function ed(r){for(r=r.firstContext;r!==null;){if(!jn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ha(r){da=r,fs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function dn(r){return ey(da,r)}function td(r,i){return da===null&&ha(r),ey(r,i)}function ey(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},fs===null){if(r===null)throw Error(s(308));fs=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else fs=fs.next=i;return o}var n3=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},r3=n.unstable_scheduleCallback,s3=n.unstable_NormalPriority,zt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vm(){return{controller:new n3,data:new Map,refCount:0}}function Wl(r){r.refCount--,r.refCount===0&&r3(s3,function(){r.controller.abort()})}var Zl=null,xm=0,co=0,uo=null;function i3(r,i){if(Zl===null){var o=Zl=[];xm=0,co=bp(),uo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return xm++,i.then(ty,ty),i}function ty(){if(--xm===0&&Zl!==null){uo!==null&&(uo.status="fulfilled");var r=Zl;Zl=null,co=0,uo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function a3(r,i){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){c.status="fulfilled",c.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var ny=L.S;L.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&i3(r,i),ny!==null&&ny(r,i)};var fa=X(null);function _m(){var r=fa.current;return r!==null?r:ct.pooledCache}function nd(r,i){i===null?le(fa,fa.current):le(fa,i.pool)}function ry(){var r=_m();return r===null?null:{parent:zt._currentValue,pool:r}}var Jl=Error(s(460)),sy=Error(s(474)),rd=Error(s(542)),bm={then:function(){}};function iy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function sd(){}function ay(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(sd,sd),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,ly(r),r;default:if(typeof i.status=="string")i.then(sd,sd);else{if(r=ct,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(c){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=c}},function(c){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,ly(r),r}throw ec=i,Jl}}var ec=null;function oy(){if(ec===null)throw Error(s(459));var r=ec;return ec=null,r}function ly(r){if(r===Jl||r===rd)throw Error(s(483))}var qs=!1;function wm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Em(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function $s(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Gs(r,i,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Je&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,i=Xu(r),K1(r,null,o),i}return Qu(r,c,i,o),Xu(r)}function tc(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,Cl(r,o)}}function Tm(r,i){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=i:g=g.next=i}else f=g=i;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Sm=!1;function nc(){if(Sm){var r=uo;if(r!==null)throw r}}function rc(r,i,o,c){Sm=!1;var f=r.updateQueue;qs=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var M=S,Y=M.next;M.next=null,b===null?g=Y:b.next=Y,b=M;var re=r.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==b&&(S===null?re.firstBaseUpdate=Y:S.next=Y,re.lastBaseUpdate=M))}if(g!==null){var oe=f.baseState;b=0,re=Y=M=null,S=g;do{var K=S.lane&-536870913,Q=K!==S.lane;if(Q?(qe&K)===K:(c&K)===K){K!==0&&K===co&&(Sm=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ce=r,Se=S;K=i;var st=o;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){oe=Ce.call(st,oe,K);break e}oe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,K=typeof Ce=="function"?Ce.call(st,oe,K):Ce,K==null)break e;oe=x({},oe,K);break e;case 2:qs=!0}}K=S.callback,K!==null&&(r.flags|=64,Q&&(r.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?(Y=re=Q,M=oe):re=re.next=Q,b|=K;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);re===null&&(M=oe),f.baseState=M,f.firstBaseUpdate=Y,f.lastBaseUpdate=re,g===null&&(f.shared.lanes=0),ei|=b,r.lanes=b,r.memoizedState=oe}}function cy(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function uy(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)cy(o[r],i)}var ho=X(null),id=X(0);function dy(r,i){r=bs,le(id,r),le(ho,i),bs=r|i.baseLanes}function Am(){le(id,bs),le(ho,ho.current)}function Nm(){bs=id.current,ae(ho),ae(id)}var Ys=0,Me=null,nt=null,jt=null,ad=!1,fo=!1,ma=!1,od=0,sc=0,mo=null,o3=0;function At(){throw Error(s(321))}function Rm(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!jn(r[o],i[o]))return!1;return!0}function Cm(r,i,o,c,f,g){return Ys=g,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=r===null||r.memoizedState===null?Ky:Qy,ma=!1,g=o(c,f),ma=!1,fo&&(g=fy(i,o,c,f)),hy(r),g}function hy(r){L.H=fd;var i=nt!==null&&nt.next!==null;if(Ys=0,jt=nt=Me=null,ad=!1,sc=0,mo=null,i)throw Error(s(300));r===null||Yt||(r=r.dependencies,r!==null&&ed(r)&&(Yt=!0))}function fy(r,i,o,c){Me=r;var f=0;do{if(fo&&(mo=null),sc=0,fo=!1,25<=f)throw Error(s(301));if(f+=1,jt=nt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}L.H=m3,g=i(o,c)}while(fo);return g}function l3(){var r=L.H,i=r.useState()[0];return i=typeof i.then=="function"?ic(i):i,r=r.useState()[0],(nt!==null?nt.memoizedState:null)!==r&&(Me.flags|=1024),i}function Im(){var r=od!==0;return od=0,r}function jm(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Dm(r){if(ad){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ad=!1}Ys=0,jt=nt=Me=null,fo=!1,sc=od=0,mo=null}function wn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Me.memoizedState=jt=r:jt=jt.next=r,jt}function Dt(){if(nt===null){var r=Me.alternate;r=r!==null?r.memoizedState:null}else r=nt.next;var i=jt===null?Me.memoizedState:jt.next;if(i!==null)jt=i,nt=r;else{if(r===null)throw Me.alternate===null?Error(s(467)):Error(s(310));nt=r,r={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},jt===null?Me.memoizedState=jt=r:jt=jt.next=r}return jt}function km(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ic(r){var i=sc;return sc+=1,mo===null&&(mo=[]),r=ay(mo,r,i),i=Me,(jt===null?i.memoizedState:jt.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?Ky:Qy),r}function ld(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ic(r);if(r.$$typeof===ee)return dn(r)}throw Error(s(438,String(r)))}function Mm(r){var i=null,o=Me.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=km(),Me.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),c=0;c<r;c++)o[c]=C;return i.index++,o}function ps(r,i){return typeof i=="function"?i(r):i}function cd(r){var i=Dt();return Om(i,nt,r)}function Om(r,i,o){var c=r.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var f=r.baseQueue,g=c.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}i.baseQueue=f=g,c.pending=null}if(g=r.baseState,f===null)r.memoizedState=g;else{i=f.next;var S=b=null,M=null,Y=i,re=!1;do{var oe=Y.lane&-536870913;if(oe!==Y.lane?(qe&oe)===oe:(Ys&oe)===oe){var K=Y.revertLane;if(K===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),oe===co&&(re=!0);else if((Ys&K)===K){Y=Y.next,K===co&&(re=!0);continue}else oe={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(S=M=oe,b=g):M=M.next=oe,Me.lanes|=K,ei|=K;oe=Y.action,ma&&o(g,oe),g=Y.hasEagerState?Y.eagerState:o(g,oe)}else K={lane:oe,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(S=M=K,b=g):M=M.next=K,Me.lanes|=oe,ei|=oe;Y=Y.next}while(Y!==null&&Y!==i);if(M===null?b=g:M.next=S,!jn(g,r.memoizedState)&&(Yt=!0,re&&(o=uo,o!==null)))throw o;r.memoizedState=g,r.baseState=b,r.baseQueue=M,c.lastRenderedState=g}return f===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Pm(r){var i=Dt(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var c=o.dispatch,f=o.pending,g=i.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=r(g,b.action),b=b.next;while(b!==f);jn(g,i.memoizedState)||(Yt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function my(r,i,o){var c=Me,f=Dt(),g=Qe;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=i();var b=!jn((nt||f).memoizedState,o);b&&(f.memoizedState=o,Yt=!0),f=f.queue;var S=yy.bind(null,c,f,r);if(ac(2048,8,S,[r]),f.getSnapshot!==i||b||jt!==null&&jt.memoizedState.tag&1){if(c.flags|=2048,po(9,ud(),gy.bind(null,c,f,o,i),null),ct===null)throw Error(s(349));g||(Ys&124)!==0||py(c,i,o)}return o}function py(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=Me.updateQueue,i===null?(i=km(),Me.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function gy(r,i,o,c){i.value=o,i.getSnapshot=c,vy(i)&&xy(r)}function yy(r,i,o){return o(function(){vy(i)&&xy(r)})}function vy(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!jn(r,o)}catch{return!0}}function xy(r){var i=io(r,2);i!==null&&Vn(i,r,2)}function Vm(r){var i=wn();if(typeof r=="function"){var o=r;if(r=o(),ma){Cn(!0);try{o()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:r},i}function _y(r,i,o,c){return r.baseState=o,Om(r,nt,typeof c=="function"?c:ps)}function c3(r,i,o,c,f){if(hd(r))throw Error(s(485));if(r=i.action,r!==null){var g={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};L.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,by(i,g)):(g.next=o.next,i.pending=o.next=g)}}function by(r,i){var o=i.action,c=i.payload,f=r.state;if(i.isTransition){var g=L.T,b={};L.T=b;try{var S=o(f,c),M=L.S;M!==null&&M(b,S),wy(r,i,S)}catch(Y){Lm(r,i,Y)}finally{L.T=g}}else try{g=o(f,c),wy(r,i,g)}catch(Y){Lm(r,i,Y)}}function wy(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Ey(r,i,c)},function(c){return Lm(r,i,c)}):Ey(r,i,o)}function Ey(r,i,o){i.status="fulfilled",i.value=o,Ty(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,by(r,o)))}function Lm(r,i,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,Ty(i),i=i.next;while(i!==c)}r.action=null}function Ty(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Sy(r,i){return i}function Ay(r,i){if(Qe){var o=ct.formState;if(o!==null){e:{var c=Me;if(Qe){if(Et){t:{for(var f=Et,g=jr;f.nodeType!==8;){if(!g){f=null;break t}if(f=dr(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Et=dr(f.nextSibling),c=f.data==="F!";break e}}ua(c)}c=!1}c&&(i=o[0])}}return o=wn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:i},o.queue=c,o=$y.bind(null,Me,c),c.dispatch=o,c=Vm(!1),g=Hm.bind(null,Me,!1,c.queue),c=wn(),f={state:i,dispatch:null,action:r,pending:null},c.queue=f,o=c3.bind(null,Me,f,g,o),f.dispatch=o,c.memoizedState=r,[i,o,!1]}function Ny(r){var i=Dt();return Ry(i,nt,r)}function Ry(r,i,o){if(i=Om(r,i,Sy)[0],r=cd(ps)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=ic(i)}catch(b){throw b===Jl?rd:b}else c=i;i=Dt();var f=i.queue,g=f.dispatch;return o!==i.memoizedState&&(Me.flags|=2048,po(9,ud(),u3.bind(null,f,o),null)),[c,g,r]}function u3(r,i){r.action=i}function Cy(r){var i=Dt(),o=nt;if(o!==null)return Ry(i,o,r);Dt(),i=i.memoizedState,o=Dt();var c=o.queue.dispatch;return o.memoizedState=r,[i,c,!1]}function po(r,i,o,c){return r={tag:r,create:o,deps:c,inst:i,next:null},i=Me.updateQueue,i===null&&(i=km(),Me.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,i.lastEffect=r),r}function ud(){return{destroy:void 0,resource:void 0}}function Iy(){return Dt().memoizedState}function dd(r,i,o,c){var f=wn();c=c===void 0?null:c,Me.flags|=r,f.memoizedState=po(1|i,ud(),o,c)}function ac(r,i,o,c){var f=Dt();c=c===void 0?null:c;var g=f.memoizedState.inst;nt!==null&&c!==null&&Rm(c,nt.memoizedState.deps)?f.memoizedState=po(i,g,o,c):(Me.flags|=r,f.memoizedState=po(1|i,g,o,c))}function jy(r,i){dd(8390656,8,r,i)}function Dy(r,i){ac(2048,8,r,i)}function ky(r,i){return ac(4,2,r,i)}function My(r,i){return ac(4,4,r,i)}function Oy(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Py(r,i,o){o=o!=null?o.concat([r]):null,ac(4,4,Oy.bind(null,i,r),o)}function Um(){}function Vy(r,i){var o=Dt();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Rm(i,c[1])?c[0]:(o.memoizedState=[r,i],r)}function Ly(r,i){var o=Dt();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Rm(i,c[1]))return c[0];if(c=r(),ma){Cn(!0);try{r()}finally{Cn(!1)}}return o.memoizedState=[c,i],c}function zm(r,i,o){return o===void 0||(Ys&1073741824)!==0?r.memoizedState=i:(r.memoizedState=o,r=Bv(),Me.lanes|=r,ei|=r,o)}function Uy(r,i,o,c){return jn(o,i)?o:ho.current!==null?(r=zm(r,o,c),jn(r,i)||(Yt=!0),r):(Ys&42)===0?(Yt=!0,r.memoizedState=o):(r=Bv(),Me.lanes|=r,ei|=r,i)}function zy(r,i,o,c,f){var g=W.p;W.p=g!==0&&8>g?g:8;var b=L.T,S={};L.T=S,Hm(r,!1,i,o);try{var M=f(),Y=L.S;if(Y!==null&&Y(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var re=a3(M,c);oc(r,i,re,Pn(r))}else oc(r,i,c,Pn(r))}catch(oe){oc(r,i,{then:function(){},status:"rejected",reason:oe},Pn())}finally{W.p=g,L.T=b}}function d3(){}function Bm(r,i,o,c){if(r.tag!==5)throw Error(s(476));var f=By(r).queue;zy(r,f,i,H,o===null?d3:function(){return Fy(r),o(c)})}function By(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:H},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Fy(r){var i=By(r).next.queue;oc(r,i,{},Pn())}function Fm(){return dn(Sc)}function Hy(){return Dt().memoizedState}function qy(){return Dt().memoizedState}function h3(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=Pn();r=$s(o);var c=Gs(i,r,o);c!==null&&(Vn(c,i,o),tc(c,i,o)),i={cache:vm()},r.payload=i;return}i=i.return}}function f3(r,i,o){var c=Pn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},hd(r)?Gy(i,o):(o=lm(r,i,o,c),o!==null&&(Vn(o,r,c),Yy(o,i,c)))}function $y(r,i,o){var c=Pn();oc(r,i,o,c)}function oc(r,i,o,c){var f={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(hd(r))Gy(i,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var b=i.lastRenderedState,S=g(b,o);if(f.hasEagerState=!0,f.eagerState=S,jn(S,b))return Qu(r,i,f,0),ct===null&&Ku(),!1}catch{}finally{}if(o=lm(r,i,f,c),o!==null)return Vn(o,r,c),Yy(o,i,c),!0}return!1}function Hm(r,i,o,c){if(c={lane:2,revertLane:bp(),action:c,hasEagerState:!1,eagerState:null,next:null},hd(r)){if(i)throw Error(s(479))}else i=lm(r,o,c,2),i!==null&&Vn(i,r,2)}function hd(r){var i=r.alternate;return r===Me||i!==null&&i===Me}function Gy(r,i){fo=ad=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function Yy(r,i,o){if((o&4194048)!==0){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,Cl(r,o)}}var fd={readContext:dn,use:ld,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},Ky={readContext:dn,use:ld,useCallback:function(r,i){return wn().memoizedState=[r,i===void 0?null:i],r},useContext:dn,useEffect:jy,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,dd(4194308,4,Oy.bind(null,i,r),o)},useLayoutEffect:function(r,i){return dd(4194308,4,r,i)},useInsertionEffect:function(r,i){dd(4,2,r,i)},useMemo:function(r,i){var o=wn();i=i===void 0?null:i;var c=r();if(ma){Cn(!0);try{r()}finally{Cn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(r,i,o){var c=wn();if(o!==void 0){var f=o(i);if(ma){Cn(!0);try{o(i)}finally{Cn(!1)}}}else f=i;return c.memoizedState=c.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},c.queue=r,r=r.dispatch=f3.bind(null,Me,r),[c.memoizedState,r]},useRef:function(r){var i=wn();return r={current:r},i.memoizedState=r},useState:function(r){r=Vm(r);var i=r.queue,o=$y.bind(null,Me,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Um,useDeferredValue:function(r,i){var o=wn();return zm(o,r,i)},useTransition:function(){var r=Vm(!1);return r=zy.bind(null,Me,r.queue,!0,!1),wn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var c=Me,f=wn();if(Qe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),ct===null)throw Error(s(349));(qe&124)!==0||py(c,i,o)}f.memoizedState=o;var g={value:o,getSnapshot:i};return f.queue=g,jy(yy.bind(null,c,g,r),[r]),c.flags|=2048,po(9,ud(),gy.bind(null,c,g,o,i),null),o},useId:function(){var r=wn(),i=ct.identifierPrefix;if(Qe){var o=hs,c=ds;o=(c&~(1<<32-un(c)-1)).toString(32)+o,i="«"+i+"R"+o,o=od++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=o3++,i="«"+i+"r"+o.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:Fm,useFormState:Ay,useActionState:Ay,useOptimistic:function(r){var i=wn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Hm.bind(null,Me,!0,o),o.dispatch=i,[r,i]},useMemoCache:Mm,useCacheRefresh:function(){return wn().memoizedState=h3.bind(null,Me)}},Qy={readContext:dn,use:ld,useCallback:Vy,useContext:dn,useEffect:Dy,useImperativeHandle:Py,useInsertionEffect:ky,useLayoutEffect:My,useMemo:Ly,useReducer:cd,useRef:Iy,useState:function(){return cd(ps)},useDebugValue:Um,useDeferredValue:function(r,i){var o=Dt();return Uy(o,nt.memoizedState,r,i)},useTransition:function(){var r=cd(ps)[0],i=Dt().memoizedState;return[typeof r=="boolean"?r:ic(r),i]},useSyncExternalStore:my,useId:Hy,useHostTransitionStatus:Fm,useFormState:Ny,useActionState:Ny,useOptimistic:function(r,i){var o=Dt();return _y(o,nt,r,i)},useMemoCache:Mm,useCacheRefresh:qy},m3={readContext:dn,use:ld,useCallback:Vy,useContext:dn,useEffect:Dy,useImperativeHandle:Py,useInsertionEffect:ky,useLayoutEffect:My,useMemo:Ly,useReducer:Pm,useRef:Iy,useState:function(){return Pm(ps)},useDebugValue:Um,useDeferredValue:function(r,i){var o=Dt();return nt===null?zm(o,r,i):Uy(o,nt.memoizedState,r,i)},useTransition:function(){var r=Pm(ps)[0],i=Dt().memoizedState;return[typeof r=="boolean"?r:ic(r),i]},useSyncExternalStore:my,useId:Hy,useHostTransitionStatus:Fm,useFormState:Cy,useActionState:Cy,useOptimistic:function(r,i){var o=Dt();return nt!==null?_y(o,nt,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Mm,useCacheRefresh:qy},go=null,lc=0;function md(r){var i=lc;return lc+=1,go===null&&(go=[]),ay(go,r,i)}function cc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function pd(r,i){throw i.$$typeof===w?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Xy(r){var i=r._init;return i(r._payload)}function Wy(r){function i(F,U){if(r){var G=F.deletions;G===null?(F.deletions=[U],F.flags|=16):G.push(U)}}function o(F,U){if(!r)return null;for(;U!==null;)i(F,U),U=U.sibling;return null}function c(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function f(F,U){return F=us(F,U),F.index=0,F.sibling=null,F}function g(F,U,G){return F.index=G,r?(G=F.alternate,G!==null?(G=G.index,G<U?(F.flags|=67108866,U):G):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function b(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function S(F,U,G,ie){return U===null||U.tag!==6?(U=um(G,F.mode,ie),U.return=F,U):(U=f(U,G),U.return=F,U)}function M(F,U,G,ie){var ve=G.type;return ve===P?re(F,U,G.props.children,ie,G.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===T&&Xy(ve)===U.type)?(U=f(U,G.props),cc(U,G),U.return=F,U):(U=Wu(G.type,G.key,G.props,null,F.mode,ie),cc(U,G),U.return=F,U)}function Y(F,U,G,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=dm(G,F.mode,ie),U.return=F,U):(U=f(U,G.children||[]),U.return=F,U)}function re(F,U,G,ie,ve){return U===null||U.tag!==7?(U=aa(G,F.mode,ie,ve),U.return=F,U):(U=f(U,G),U.return=F,U)}function oe(F,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=um(""+U,F.mode,G),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return G=Wu(U.type,U.key,U.props,null,F.mode,G),cc(G,U),G.return=F,G;case j:return U=dm(U,F.mode,G),U.return=F,U;case T:var ie=U._init;return U=ie(U._payload),oe(F,U,G)}if(he(U)||V(U))return U=aa(U,F.mode,G,null),U.return=F,U;if(typeof U.then=="function")return oe(F,md(U),G);if(U.$$typeof===ee)return oe(F,td(F,U),G);pd(F,U)}return null}function K(F,U,G,ie){var ve=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ve!==null?null:S(F,U,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return G.key===ve?M(F,U,G,ie):null;case j:return G.key===ve?Y(F,U,G,ie):null;case T:return ve=G._init,G=ve(G._payload),K(F,U,G,ie)}if(he(G)||V(G))return ve!==null?null:re(F,U,G,ie,null);if(typeof G.then=="function")return K(F,U,md(G),ie);if(G.$$typeof===ee)return K(F,U,td(F,G),ie);pd(F,G)}return null}function Q(F,U,G,ie,ve){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return F=F.get(G)||null,S(U,F,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case E:return F=F.get(ie.key===null?G:ie.key)||null,M(U,F,ie,ve);case j:return F=F.get(ie.key===null?G:ie.key)||null,Y(U,F,ie,ve);case T:var Pe=ie._init;return ie=Pe(ie._payload),Q(F,U,G,ie,ve)}if(he(ie)||V(ie))return F=F.get(G)||null,re(U,F,ie,ve,null);if(typeof ie.then=="function")return Q(F,U,G,md(ie),ve);if(ie.$$typeof===ee)return Q(F,U,G,td(U,ie),ve);pd(U,ie)}return null}function Ce(F,U,G,ie){for(var ve=null,Pe=null,_e=U,Ae=U=0,Qt=null;_e!==null&&Ae<G.length;Ae++){_e.index>Ae?(Qt=_e,_e=null):Qt=_e.sibling;var Ye=K(F,_e,G[Ae],ie);if(Ye===null){_e===null&&(_e=Qt);break}r&&_e&&Ye.alternate===null&&i(F,_e),U=g(Ye,U,Ae),Pe===null?ve=Ye:Pe.sibling=Ye,Pe=Ye,_e=Qt}if(Ae===G.length)return o(F,_e),Qe&&la(F,Ae),ve;if(_e===null){for(;Ae<G.length;Ae++)_e=oe(F,G[Ae],ie),_e!==null&&(U=g(_e,U,Ae),Pe===null?ve=_e:Pe.sibling=_e,Pe=_e);return Qe&&la(F,Ae),ve}for(_e=c(_e);Ae<G.length;Ae++)Qt=Q(_e,F,Ae,G[Ae],ie),Qt!==null&&(r&&Qt.alternate!==null&&_e.delete(Qt.key===null?Ae:Qt.key),U=g(Qt,U,Ae),Pe===null?ve=Qt:Pe.sibling=Qt,Pe=Qt);return r&&_e.forEach(function(ci){return i(F,ci)}),Qe&&la(F,Ae),ve}function Se(F,U,G,ie){if(G==null)throw Error(s(151));for(var ve=null,Pe=null,_e=U,Ae=U=0,Qt=null,Ye=G.next();_e!==null&&!Ye.done;Ae++,Ye=G.next()){_e.index>Ae?(Qt=_e,_e=null):Qt=_e.sibling;var ci=K(F,_e,Ye.value,ie);if(ci===null){_e===null&&(_e=Qt);break}r&&_e&&ci.alternate===null&&i(F,_e),U=g(ci,U,Ae),Pe===null?ve=ci:Pe.sibling=ci,Pe=ci,_e=Qt}if(Ye.done)return o(F,_e),Qe&&la(F,Ae),ve;if(_e===null){for(;!Ye.done;Ae++,Ye=G.next())Ye=oe(F,Ye.value,ie),Ye!==null&&(U=g(Ye,U,Ae),Pe===null?ve=Ye:Pe.sibling=Ye,Pe=Ye);return Qe&&la(F,Ae),ve}for(_e=c(_e);!Ye.done;Ae++,Ye=G.next())Ye=Q(_e,F,Ae,Ye.value,ie),Ye!==null&&(r&&Ye.alternate!==null&&_e.delete(Ye.key===null?Ae:Ye.key),U=g(Ye,U,Ae),Pe===null?ve=Ye:Pe.sibling=Ye,Pe=Ye);return r&&_e.forEach(function(pE){return i(F,pE)}),Qe&&la(F,Ae),ve}function st(F,U,G,ie){if(typeof G=="object"&&G!==null&&G.type===P&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case E:e:{for(var ve=G.key;U!==null;){if(U.key===ve){if(ve=G.type,ve===P){if(U.tag===7){o(F,U.sibling),ie=f(U,G.props.children),ie.return=F,F=ie;break e}}else if(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===T&&Xy(ve)===U.type){o(F,U.sibling),ie=f(U,G.props),cc(ie,G),ie.return=F,F=ie;break e}o(F,U);break}else i(F,U);U=U.sibling}G.type===P?(ie=aa(G.props.children,F.mode,ie,G.key),ie.return=F,F=ie):(ie=Wu(G.type,G.key,G.props,null,F.mode,ie),cc(ie,G),ie.return=F,F=ie)}return b(F);case j:e:{for(ve=G.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){o(F,U.sibling),ie=f(U,G.children||[]),ie.return=F,F=ie;break e}else{o(F,U);break}else i(F,U);U=U.sibling}ie=dm(G,F.mode,ie),ie.return=F,F=ie}return b(F);case T:return ve=G._init,G=ve(G._payload),st(F,U,G,ie)}if(he(G))return Ce(F,U,G,ie);if(V(G)){if(ve=V(G),typeof ve!="function")throw Error(s(150));return G=ve.call(G),Se(F,U,G,ie)}if(typeof G.then=="function")return st(F,U,md(G),ie);if(G.$$typeof===ee)return st(F,U,td(F,G),ie);pd(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(o(F,U.sibling),ie=f(U,G),ie.return=F,F=ie):(o(F,U),ie=um(G,F.mode,ie),ie.return=F,F=ie),b(F)):o(F,U)}return function(F,U,G,ie){try{lc=0;var ve=st(F,U,G,ie);return go=null,ve}catch(_e){if(_e===Jl||_e===rd)throw _e;var Pe=Dn(29,_e,null,F.mode);return Pe.lanes=ie,Pe.return=F,Pe}finally{}}}var yo=Wy(!0),Zy=Wy(!1),nr=X(null),Dr=null;function Ks(r){var i=r.alternate;le(Bt,Bt.current&1),le(nr,r),Dr===null&&(i===null||ho.current!==null||i.memoizedState!==null)&&(Dr=r)}function Jy(r){if(r.tag===22){if(le(Bt,Bt.current),le(nr,r),Dr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Dr=r)}}else Qs()}function Qs(){le(Bt,Bt.current),le(nr,nr.current)}function gs(r){ae(nr),Dr===r&&(Dr=null),ae(Bt)}var Bt=X(0);function gd(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||kp(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function qm(r,i,o,c){i=r.memoizedState,o=o(c,i),o=o==null?i:x({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var $m={enqueueSetState:function(r,i,o){r=r._reactInternals;var c=Pn(),f=$s(c);f.payload=i,o!=null&&(f.callback=o),i=Gs(r,f,c),i!==null&&(Vn(i,r,c),tc(i,r,c))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var c=Pn(),f=$s(c);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Gs(r,f,c),i!==null&&(Vn(i,r,c),tc(i,r,c))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Pn(),c=$s(o);c.tag=2,i!=null&&(c.callback=i),i=Gs(r,c,o),i!==null&&(Vn(i,r,o),tc(i,r,o))}};function ev(r,i,o,c,f,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,b):i.prototype&&i.prototype.isPureReactComponent?!$l(o,c)||!$l(f,g):!0}function tv(r,i,o,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==r&&$m.enqueueReplaceState(i,i.state,null)}function pa(r,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(r=r.defaultProps){o===i&&(o=x({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var yd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function nv(r){yd(r)}function rv(r){console.error(r)}function sv(r){yd(r)}function vd(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function iv(r,i,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gm(r,i,o){return o=$s(o),o.tag=3,o.payload={element:null},o.callback=function(){vd(r,i)},o}function av(r){return r=$s(r),r.tag=3,r}function ov(r,i,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;r.payload=function(){return f(g)},r.callback=function(){iv(i,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){iv(i,o,c),typeof f!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function p3(r,i,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Xl(i,o,f,!0),o=nr.current,o!==null){switch(o.tag){case 13:return Dr===null?gp():o.alternate===null&&Tt===0&&(Tt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===bm?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),vp(r,c,f)),!1;case 22:return o.flags|=65536,c===bm?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),vp(r,c,f)),!1}throw Error(s(435,o.tag))}return vp(r,c,f),gp(),!1}if(Qe)return i=nr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,c!==mm&&(r=Error(s(422),{cause:c}),Ql(Zn(r,o)))):(c!==mm&&(i=Error(s(423),{cause:c}),Ql(Zn(i,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,c=Zn(c,o),f=Gm(r.stateNode,c,f),Tm(r,f),Tt!==4&&(Tt=2)),!1;var g=Error(s(520),{cause:c});if(g=Zn(g,o),gc===null?gc=[g]:gc.push(g),Tt!==4&&(Tt=2),i===null)return!0;c=Zn(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Gm(o.stateNode,c,r),Tm(o,r),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ti===null||!ti.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=av(f),ov(f,r,o,c),Tm(o,f),!1}o=o.return}while(o!==null);return!1}var lv=Error(s(461)),Yt=!1;function rn(r,i,o,c){i.child=r===null?Zy(i,null,o,c):yo(i,r.child,o,c)}function cv(r,i,o,c,f){o=o.render;var g=i.ref;if("ref"in c){var b={};for(var S in c)S!=="ref"&&(b[S]=c[S])}else b=c;return ha(i),c=Cm(r,i,o,b,g,f),S=Im(),r!==null&&!Yt?(jm(r,i,f),ys(r,i,f)):(Qe&&S&&hm(i),i.flags|=1,rn(r,i,c,f),i.child)}function uv(r,i,o,c,f){if(r===null){var g=o.type;return typeof g=="function"&&!cm(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,dv(r,i,g,c,f)):(r=Wu(o.type,null,c,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,!ep(r,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:$l,o(b,c)&&r.ref===i.ref)return ys(r,i,f)}return i.flags|=1,r=us(g,c),r.ref=i.ref,r.return=i,i.child=r}function dv(r,i,o,c,f){if(r!==null){var g=r.memoizedProps;if($l(g,c)&&r.ref===i.ref)if(Yt=!1,i.pendingProps=c=g,ep(r,f))(r.flags&131072)!==0&&(Yt=!0);else return i.lanes=r.lanes,ys(r,i,f)}return Ym(r,i,o,c,f)}function hv(r,i,o){var c=i.pendingProps,f=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,r!==null){for(f=i.child=r.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~c}else i.childLanes=0,i.child=null;return fv(r,i,c,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&nd(i,g!==null?g.cachePool:null),g!==null?dy(i,g):Am(),Jy(i);else return i.lanes=i.childLanes=536870912,fv(r,i,g!==null?g.baseLanes|o:o,o)}else g!==null?(nd(i,g.cachePool),dy(i,g),Qs(),i.memoizedState=null):(r!==null&&nd(i,null),Am(),Qs());return rn(r,i,f,o),i.child}function fv(r,i,o,c){var f=_m();return f=f===null?null:{parent:zt._currentValue,pool:f},i.memoizedState={baseLanes:o,cachePool:f},r!==null&&nd(i,null),Am(),Jy(i),r!==null&&Xl(r,i,c,!0),null}function xd(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function Ym(r,i,o,c,f){return ha(i),o=Cm(r,i,o,c,void 0,f),c=Im(),r!==null&&!Yt?(jm(r,i,f),ys(r,i,f)):(Qe&&c&&hm(i),i.flags|=1,rn(r,i,o,f),i.child)}function mv(r,i,o,c,f,g){return ha(i),i.updateQueue=null,o=fy(i,c,o,f),hy(r),c=Im(),r!==null&&!Yt?(jm(r,i,g),ys(r,i,g)):(Qe&&c&&hm(i),i.flags|=1,rn(r,i,o,g),i.child)}function pv(r,i,o,c,f){if(ha(i),i.stateNode===null){var g=ao,b=o.contextType;typeof b=="object"&&b!==null&&(g=dn(b)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=$m,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},wm(i),b=o.contextType,g.context=typeof b=="object"&&b!==null?dn(b):ao,g.state=i.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(qm(i,o,b,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&$m.enqueueReplaceState(g,g.state,null),rc(i,c,g,f),nc(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(r===null){g=i.stateNode;var S=i.memoizedProps,M=pa(o,S);g.props=M;var Y=g.context,re=o.contextType;b=ao,typeof re=="object"&&re!==null&&(b=dn(re));var oe=o.getDerivedStateFromProps;re=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||Y!==b)&&tv(i,g,c,b),qs=!1;var K=i.memoizedState;g.state=K,rc(i,c,g,f),nc(),Y=i.memoizedState,S||K!==Y||qs?(typeof oe=="function"&&(qm(i,o,oe,c),Y=i.memoizedState),(M=qs||ev(i,o,M,c,K,Y,b))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Y),g.props=c,g.state=Y,g.context=b,c=M):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Em(r,i),b=i.memoizedProps,re=pa(o,b),g.props=re,oe=i.pendingProps,K=g.context,Y=o.contextType,M=ao,typeof Y=="object"&&Y!==null&&(M=dn(Y)),S=o.getDerivedStateFromProps,(Y=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==oe||K!==M)&&tv(i,g,c,M),qs=!1,K=i.memoizedState,g.state=K,rc(i,c,g,f),nc();var Q=i.memoizedState;b!==oe||K!==Q||qs||r!==null&&r.dependencies!==null&&ed(r.dependencies)?(typeof S=="function"&&(qm(i,o,S,c),Q=i.memoizedState),(re=qs||ev(i,o,re,c,K,Q,M)||r!==null&&r.dependencies!==null&&ed(r.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Q,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Q,M)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Q),g.props=c,g.state=Q,g.context=M,c=re):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),c=!1)}return g=c,xd(r,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,r!==null&&c?(i.child=yo(i,r.child,null,f),i.child=yo(i,null,o,f)):rn(r,i,o,f),i.memoizedState=g.state,r=i.child):r=ys(r,i,f),r}function gv(r,i,o,c){return Kl(),i.flags|=256,rn(r,i,o,c),i.child}var Km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qm(r){return{baseLanes:r,cachePool:ry()}}function Xm(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=rr),r}function yv(r,i,o){var c=i.pendingProps,f=!1,g=(i.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(Bt.current&2)!==0),b&&(f=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,r===null){if(Qe){if(f?Ks(i):Qs(),Qe){var S=Et,M;if(M=S){e:{for(M=S,S=jr;M.nodeType!==8;){if(!S){S=null;break e}if(M=dr(M.nextSibling),M===null){S=null;break e}}S=M}S!==null?(i.memoizedState={dehydrated:S,treeContext:oa!==null?{id:ds,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},M=Dn(18,null,null,0),M.stateNode=S,M.return=i,i.child=M,xn=i,Et=null,M=!0):M=!1}M||ua(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return kp(S)?i.lanes=32:i.lanes=536870912,null;gs(i)}return S=c.children,c=c.fallback,f?(Qs(),f=i.mode,S=_d({mode:"hidden",children:S},f),c=aa(c,f,o,null),S.return=i,c.return=i,S.sibling=c,i.child=S,f=i.child,f.memoizedState=Qm(o),f.childLanes=Xm(r,b,o),i.memoizedState=Km,c):(Ks(i),Wm(i,S))}if(M=r.memoizedState,M!==null&&(S=M.dehydrated,S!==null)){if(g)i.flags&256?(Ks(i),i.flags&=-257,i=Zm(r,i,o)):i.memoizedState!==null?(Qs(),i.child=r.child,i.flags|=128,i=null):(Qs(),f=c.fallback,S=i.mode,c=_d({mode:"visible",children:c.children},S),f=aa(f,S,o,null),f.flags|=2,c.return=i,f.return=i,c.sibling=f,i.child=c,yo(i,r.child,null,o),c=i.child,c.memoizedState=Qm(o),c.childLanes=Xm(r,b,o),i.memoizedState=Km,i=f);else if(Ks(i),kp(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var Y=b.dgst;b=Y,c=Error(s(419)),c.stack="",c.digest=b,Ql({value:c,source:null,stack:null}),i=Zm(r,i,o)}else if(Yt||Xl(r,i,o,!1),b=(o&r.childLanes)!==0,Yt||b){if(b=ct,b!==null&&(c=o&-o,c=(c&42)!==0?1:Ps(c),c=(c&(b.suspendedLanes|o))!==0?0:c,c!==0&&c!==M.retryLane))throw M.retryLane=c,io(r,c),Vn(b,r,c),lv;S.data==="$?"||gp(),i=Zm(r,i,o)}else S.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=M.treeContext,Et=dr(S.nextSibling),xn=i,Qe=!0,ca=null,jr=!1,r!==null&&(er[tr++]=ds,er[tr++]=hs,er[tr++]=oa,ds=r.id,hs=r.overflow,oa=i),i=Wm(i,c.children),i.flags|=4096);return i}return f?(Qs(),f=c.fallback,S=i.mode,M=r.child,Y=M.sibling,c=us(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,Y!==null?f=us(Y,f):(f=aa(f,S,o,null),f.flags|=2),f.return=i,c.return=i,c.sibling=f,i.child=c,c=f,f=i.child,S=r.child.memoizedState,S===null?S=Qm(o):(M=S.cachePool,M!==null?(Y=zt._currentValue,M=M.parent!==Y?{parent:Y,pool:Y}:M):M=ry(),S={baseLanes:S.baseLanes|o,cachePool:M}),f.memoizedState=S,f.childLanes=Xm(r,b,o),i.memoizedState=Km,c):(Ks(i),o=r.child,r=o.sibling,o=us(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,r!==null&&(b=i.deletions,b===null?(i.deletions=[r],i.flags|=16):b.push(r)),i.child=o,i.memoizedState=null,o)}function Wm(r,i){return i=_d({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function _d(r,i){return r=Dn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Zm(r,i,o){return yo(i,r.child,null,o),r=Wm(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function vv(r,i,o){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),gm(r.return,i,o)}function Jm(r,i,o,c,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=f)}function xv(r,i,o){var c=i.pendingProps,f=c.revealOrder,g=c.tail;if(rn(r,i,c.children,o),c=Bt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&vv(r,o,i);else if(r.tag===19)vv(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(le(Bt,c),f){case"forwards":for(o=i.child,f=null;o!==null;)r=o.alternate,r!==null&&gd(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),Jm(i,!1,f,o,g);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&gd(r)===null){i.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Jm(i,!0,o,null,g);break;case"together":Jm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ys(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),ei|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Xl(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=us(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=us(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function ep(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&ed(r)))}function g3(r,i,o){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),Hs(i,zt,r.memoizedState.cache),Kl();break;case 27:case 5:at(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:Hs(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ks(i),i.flags|=128,null):(o&i.child.childLanes)!==0?yv(r,i,o):(Ks(i),r=ys(r,i,o),r!==null?r.sibling:null);Ks(i);break;case 19:var f=(r.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Xl(r,i,o,!1),c=(o&i.childLanes)!==0),f){if(c)return xv(r,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Bt,Bt.current),c)break;return null;case 22:case 23:return i.lanes=0,hv(r,i,o);case 24:Hs(i,zt,r.memoizedState.cache)}return ys(r,i,o)}function _v(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)Yt=!0;else{if(!ep(r,o)&&(i.flags&128)===0)return Yt=!1,g3(r,i,o);Yt=(r.flags&131072)!==0}else Yt=!1,Qe&&(i.flags&1048576)!==0&&X1(i,Ju,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var c=i.elementType,f=c._init;if(c=f(c._payload),i.type=c,typeof c=="function")cm(c)?(r=pa(c,r),i.tag=1,i=pv(null,i,c,r,o)):(i.tag=0,i=Ym(null,i,c,r,o));else{if(c!=null){if(f=c.$$typeof,f===de){i.tag=11,i=cv(null,i,c,r,o);break e}else if(f===I){i.tag=14,i=uv(null,i,c,r,o);break e}}throw i=ge(c)||c,Error(s(306,i,""))}}return i;case 0:return Ym(r,i,i.type,i.pendingProps,o);case 1:return c=i.type,f=pa(c,i.pendingProps),pv(r,i,c,f,o);case 3:e:{if(Oe(i,i.stateNode.containerInfo),r===null)throw Error(s(387));c=i.pendingProps;var g=i.memoizedState;f=g.element,Em(r,i),rc(i,c,null,o);var b=i.memoizedState;if(c=b.cache,Hs(i,zt,c),c!==g.cache&&ym(i,[zt],o,!0),nc(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=gv(r,i,c,o);break e}else if(c!==f){f=Zn(Error(s(424)),i),Ql(f),i=gv(r,i,c,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Et=dr(r.firstChild),xn=i,Qe=!0,ca=null,jr=!0,o=Zy(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Kl(),c===f){i=ys(r,i,o);break e}rn(r,i,c,o)}i=i.child}return i;case 26:return xd(r,i),r===null?(o=T2(i.type,null,i.pendingProps,null))?i.memoizedState=o:Qe||(o=i.type,r=i.pendingProps,c=Md(xe.current).createElement(o),c[Vt]=i,c[Ct]=r,an(c,o,r),St(c),i.stateNode=c):i.memoizedState=T2(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return at(i),r===null&&Qe&&(c=i.stateNode=b2(i.type,i.pendingProps,xe.current),xn=i,jr=!0,f=Et,si(i.type)?(Mp=f,Et=dr(c.firstChild)):Et=f),rn(r,i,i.pendingProps.children,o),xd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Qe&&((f=c=Et)&&(c=q3(c,i.type,i.pendingProps,jr),c!==null?(i.stateNode=c,xn=i,Et=dr(c.firstChild),jr=!1,f=!0):f=!1),f||ua(i)),at(i),f=i.type,g=i.pendingProps,b=r!==null?r.memoizedProps:null,c=g.children,Ip(f,g)?c=null:b!==null&&Ip(f,b)&&(i.flags|=32),i.memoizedState!==null&&(f=Cm(r,i,l3,null,null,o),Sc._currentValue=f),xd(r,i),rn(r,i,c,o),i.child;case 6:return r===null&&Qe&&((r=o=Et)&&(o=$3(o,i.pendingProps,jr),o!==null?(i.stateNode=o,xn=i,Et=null,r=!0):r=!1),r||ua(i)),null;case 13:return yv(r,i,o);case 4:return Oe(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=yo(i,null,c,o):rn(r,i,c,o),i.child;case 11:return cv(r,i,i.type,i.pendingProps,o);case 7:return rn(r,i,i.pendingProps,o),i.child;case 8:return rn(r,i,i.pendingProps.children,o),i.child;case 12:return rn(r,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Hs(i,i.type,c.value),rn(r,i,c.children,o),i.child;case 9:return f=i.type._context,c=i.pendingProps.children,ha(i),f=dn(f),c=c(f),i.flags|=1,rn(r,i,c,o),i.child;case 14:return uv(r,i,i.type,i.pendingProps,o);case 15:return dv(r,i,i.type,i.pendingProps,o);case 19:return xv(r,i,o);case 31:return c=i.pendingProps,o=i.mode,c={mode:c.mode,children:c.children},r===null?(o=_d(c,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=us(r.child,c),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return hv(r,i,o);case 24:return ha(i),c=dn(zt),r===null?(f=_m(),f===null&&(f=ct,g=vm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),i.memoizedState={parent:c,cache:f},wm(i),Hs(i,zt,f)):((r.lanes&o)!==0&&(Em(r,i),rc(i,null,null,o),nc()),f=r.memoizedState,g=i.memoizedState,f.parent!==c?(f={parent:c,cache:c},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Hs(i,zt,c)):(c=g.cache,Hs(i,zt,c),c!==f.cache&&ym(i,[zt],o,!0))),rn(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function vs(r){r.flags|=4}function bv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!C2(i)){if(i=nr.current,i!==null&&((qe&4194048)===qe?Dr!==null:(qe&62914560)!==qe&&(qe&536870912)===0||i!==Dr))throw ec=bm,sy;r.flags|=8192}}function bd(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Nl():536870912,r.lanes|=i,bo|=i)}function uc(r,i){if(!Qe)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function vt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(i)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=o,i}function y3(r,i,o){var c=i.pendingProps;switch(fm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(i),null;case 1:return vt(i),null;case 3:return o=i.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),ms(zt),lt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Yl(i)?vs(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,J1())),vt(i),null;case 26:return o=i.memoizedState,r===null?(vs(i),o!==null?(vt(i),bv(i,o)):(vt(i),i.flags&=-16777217)):o?o!==r.memoizedState?(vs(i),vt(i),bv(i,o)):(vt(i),i.flags&=-16777217):(r.memoizedProps!==c&&vs(i),vt(i),i.flags&=-16777217),null;case 27:yt(i),o=xe.current;var f=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==c&&vs(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return vt(i),null}r=pe.current,Yl(i)?W1(i):(r=b2(f,c,o),i.stateNode=r,vs(i))}return vt(i),null;case 5:if(yt(i),o=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&vs(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return vt(i),null}if(r=pe.current,Yl(i))W1(i);else{switch(f=Md(xe.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?f.createElement(o,{is:c.is}):f.createElement(o)}}r[Vt]=i,r[Ct]=c;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=r;e:switch(an(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&vs(i)}}return vt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==c&&vs(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(r=xe.current,Yl(i)){if(r=i.stateNode,o=i.memoizedProps,c=null,f=xn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}r[Vt]=i,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||m2(r.nodeValue,o)),r||ua(i)}else r=Md(r).createTextNode(c),r[Vt]=i,i.stateNode=r}return vt(i),null;case 13:if(c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Yl(i),c!==null&&c.dehydrated!==null){if(r===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Vt]=i}else Kl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),f=!1}else f=J1(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(gs(i),i):(gs(i),null)}if(gs(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=i.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)}return o!==r&&o&&(i.child.flags|=8192),bd(i,i.updateQueue),vt(i),null;case 4:return lt(),r===null&&Sp(i.stateNode.containerInfo),vt(i),null;case 10:return ms(i.type),vt(i),null;case 19:if(ae(Bt),f=i.memoizedState,f===null)return vt(i),null;if(c=(i.flags&128)!==0,g=f.rendering,g===null)if(c)uc(f,!1);else{if(Tt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(g=gd(r),g!==null){for(i.flags|=128,uc(f,!1),r=g.updateQueue,i.updateQueue=r,bd(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)Q1(o,r),o=o.sibling;return le(Bt,Bt.current&1|2),i.child}r=r.sibling}f.tail!==null&&Gn()>Td&&(i.flags|=128,c=!0,uc(f,!1),i.lanes=4194304)}else{if(!c)if(r=gd(g),r!==null){if(i.flags|=128,c=!0,r=r.updateQueue,i.updateQueue=r,bd(i,r),uc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Qe)return vt(i),null}else 2*Gn()-f.renderingStartTime>Td&&o!==536870912&&(i.flags|=128,c=!0,uc(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(r=f.last,r!==null?r.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Gn(),i.sibling=null,r=Bt.current,le(Bt,c?r&1|2:r&1),i):(vt(i),null);case 22:case 23:return gs(i),Nm(),c=i.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(vt(i),i.subtreeFlags&6&&(i.flags|=8192)):vt(i),o=i.updateQueue,o!==null&&bd(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),r!==null&&ae(fa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ms(zt),vt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function v3(r,i){switch(fm(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ms(zt),lt(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return yt(i),null;case 13:if(gs(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Kl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ae(Bt),null;case 4:return lt(),null;case 10:return ms(i.type),null;case 22:case 23:return gs(i),Nm(),r!==null&&ae(fa),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return ms(zt),null;case 25:return null;default:return null}}function wv(r,i){switch(fm(i),i.tag){case 3:ms(zt),lt();break;case 26:case 27:case 5:yt(i);break;case 4:lt();break;case 13:gs(i);break;case 19:ae(Bt);break;case 10:ms(i.type);break;case 22:case 23:gs(i),Nm(),r!==null&&ae(fa);break;case 24:ms(zt)}}function dc(r,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&r)===r){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==f)}}catch(S){ot(i,i.return,S)}}function Xs(r,i,o){try{var c=i.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&r)===r){var b=c.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,f=i;var M=o,Y=S;try{Y()}catch(re){ot(f,M,re)}}}c=c.next}while(c!==g)}}catch(re){ot(i,i.return,re)}}function Ev(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{uy(i,o)}catch(c){ot(r,r.return,c)}}}function Tv(r,i,o){o.props=pa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){ot(r,i,c)}}function hc(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(f){ot(r,i,f)}}function kr(r,i){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){ot(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ot(r,i,f)}else o.current=null}function Sv(r){var i=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){ot(r,r.return,f)}}function tp(r,i,o){try{var c=r.stateNode;U3(c,r.type,o,i),c[Ct]=i}catch(f){ot(r,r.return,f)}}function Av(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&si(r.type)||r.tag===4}function np(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Av(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&si(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function rp(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=kd));else if(c!==4&&(c===27&&si(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(rp(r,i,o),r=r.sibling;r!==null;)rp(r,i,o),r=r.sibling}function wd(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(c!==4&&(c===27&&si(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(wd(r,i,o),r=r.sibling;r!==null;)wd(r,i,o),r=r.sibling}function Nv(r){var i=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);an(i,c,o),i[Vt]=r,i[Ct]=o}catch(g){ot(r,r.return,g)}}var xs=!1,Nt=!1,sp=!1,Rv=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function x3(r,i){if(r=r.containerInfo,Rp=zd,r=U1(r),nm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,S=-1,M=-1,Y=0,re=0,oe=r,K=null;t:for(;;){for(var Q;oe!==o||f!==0&&oe.nodeType!==3||(S=b+f),oe!==g||c!==0&&oe.nodeType!==3||(M=b+c),oe.nodeType===3&&(b+=oe.nodeValue.length),(Q=oe.firstChild)!==null;)K=oe,oe=Q;for(;;){if(oe===r)break t;if(K===o&&++Y===f&&(S=b),K===g&&++re===c&&(M=b),(Q=oe.nextSibling)!==null)break;oe=K,K=oe.parentNode}oe=Q}o=S===-1||M===-1?null:{start:S,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Cp={focusedElem:r,selectionRange:o},zd=!1,Kt=i;Kt!==null;)if(i=Kt,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Kt=r;else for(;Kt!==null;){switch(i=Kt,g=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=i,f=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Ce=pa(o.type,f,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(Ce,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Se){ot(o,o.return,Se)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Dp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Dp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Kt=r;break}Kt=i.return}}function Cv(r,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ws(r,o),c&4&&dc(5,o);break;case 1:if(Ws(r,o),c&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(b){ot(o,o.return,b)}else{var f=pa(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(b){ot(o,o.return,b)}}c&64&&Ev(o),c&512&&hc(o,o.return);break;case 3:if(Ws(r,o),c&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{uy(r,i)}catch(b){ot(o,o.return,b)}}break;case 27:i===null&&c&4&&Nv(o);case 26:case 5:Ws(r,o),i===null&&c&4&&Sv(o),c&512&&hc(o,o.return);break;case 12:Ws(r,o);break;case 13:Ws(r,o),c&4&&Dv(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=R3.bind(null,o),G3(r,o))));break;case 22:if(c=o.memoizedState!==null||xs,!c){i=i!==null&&i.memoizedState!==null||Nt,f=xs;var g=Nt;xs=c,(Nt=i)&&!g?Zs(r,o,(o.subtreeFlags&8772)!==0):Ws(r,o),xs=f,Nt=g}break;case 30:break;default:Ws(r,o)}}function Iv(r){var i=r.alternate;i!==null&&(r.alternate=null,Iv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Us(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ft=null,En=!1;function _s(r,i,o){for(o=o.child;o!==null;)jv(r,i,o),o=o.sibling}function jv(r,i,o){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(wt,o)}catch{}switch(o.tag){case 26:Nt||kr(o,i),_s(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Nt||kr(o,i);var c=ft,f=En;si(o.type)&&(ft=o.stateNode,En=!1),_s(r,i,o),bc(o.stateNode),ft=c,En=f;break;case 5:Nt||kr(o,i);case 6:if(c=ft,f=En,ft=null,_s(r,i,o),ft=c,En=f,ft!==null)if(En)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(g){ot(o,i,g)}else try{ft.removeChild(o.stateNode)}catch(g){ot(o,i,g)}break;case 18:ft!==null&&(En?(r=ft,x2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Cc(r)):x2(ft,o.stateNode));break;case 4:c=ft,f=En,ft=o.stateNode.containerInfo,En=!0,_s(r,i,o),ft=c,En=f;break;case 0:case 11:case 14:case 15:Nt||Xs(2,o,i),Nt||Xs(4,o,i),_s(r,i,o);break;case 1:Nt||(kr(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Tv(o,i,c)),_s(r,i,o);break;case 21:_s(r,i,o);break;case 22:Nt=(c=Nt)||o.memoizedState!==null,_s(r,i,o),Nt=c;break;default:_s(r,i,o)}}function Dv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Cc(r)}catch(o){ot(i,i.return,o)}}function _3(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Rv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Rv),i;default:throw Error(s(435,r.tag))}}function ip(r,i){var o=_3(r);i.forEach(function(c){var f=C3.bind(null,r,c);o.has(c)||(o.add(c),c.then(f,f))})}function kn(r,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],g=r,b=i,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(si(S.type)){ft=S.stateNode,En=!1;break e}break;case 5:ft=S.stateNode,En=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,En=!0;break e}S=S.return}if(ft===null)throw Error(s(160));jv(g,b,f),ft=null,En=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)kv(i,r),i=i.sibling}var ur=null;function kv(r,i){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:kn(i,r),Mn(r),c&4&&(Xs(3,r,r.return),dc(3,r),Xs(5,r,r.return));break;case 1:kn(i,r),Mn(r),c&512&&(Nt||o===null||kr(o,o.return)),c&64&&xs&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=ur;if(kn(i,r),Mn(r),c&512&&(Nt||o===null||kr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[qi]||g[Vt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),an(g,c,o),g[Vt]=r,St(g),c=g;break e;case"link":var b=N2("link","href",f).get(c+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(g=b[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break t}}g=f.createElement(c),an(g,c,o),f.head.appendChild(g);break;case"meta":if(b=N2("meta","content",f).get(c+(o.content||""))){for(S=0;S<b.length;S++)if(g=b[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break t}}g=f.createElement(c),an(g,c,o),f.head.appendChild(g);break;default:throw Error(s(468,c))}g[Vt]=r,St(g),c=g}r.stateNode=c}else R2(f,r.type,r.stateNode);else r.stateNode=A2(f,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?R2(f,r.type,r.stateNode):A2(f,c,r.memoizedProps)):c===null&&r.stateNode!==null&&tp(r,r.memoizedProps,o.memoizedProps)}break;case 27:kn(i,r),Mn(r),c&512&&(Nt||o===null||kr(o,o.return)),o!==null&&c&4&&tp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(kn(i,r),Mn(r),c&512&&(Nt||o===null||kr(o,o.return)),r.flags&32){f=r.stateNode;try{Kn(f,"")}catch(Q){ot(r,r.return,Q)}}c&4&&r.stateNode!=null&&(f=r.memoizedProps,tp(r,f,o!==null?o.memoizedProps:f)),c&1024&&(sp=!0);break;case 6:if(kn(i,r),Mn(r),c&4){if(r.stateNode===null)throw Error(s(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(Q){ot(r,r.return,Q)}}break;case 3:if(Vd=null,f=ur,ur=Od(i.containerInfo),kn(i,r),ur=f,Mn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Cc(i.containerInfo)}catch(Q){ot(r,r.return,Q)}sp&&(sp=!1,Mv(r));break;case 4:c=ur,ur=Od(r.stateNode.containerInfo),kn(i,r),Mn(r),ur=c;break;case 12:kn(i,r),Mn(r);break;case 13:kn(i,r),Mn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(dp=Gn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,ip(r,c)));break;case 22:f=r.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,Y=xs,re=Nt;if(xs=Y||f,Nt=re||M,kn(i,r),Nt=re,xs=Y,Mn(r),c&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||M||xs||Nt||ga(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){M=o=i;try{if(g=M.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=M.stateNode;var oe=M.memoizedProps.style,K=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Q){ot(M,M.return,Q)}}}else if(i.tag===6){if(o===null){M=i;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(Q){ot(M,M.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,ip(r,o))));break;case 19:kn(i,r),Mn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,ip(r,c)));break;case 30:break;case 21:break;default:kn(i,r),Mn(r)}}function Mn(r){var i=r.flags;if(i&2){try{for(var o,c=r.return;c!==null;){if(Av(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=np(r);wd(r,g,f);break;case 5:var b=o.stateNode;o.flags&32&&(Kn(b,""),o.flags&=-33);var S=np(r);wd(r,S,b);break;case 3:case 4:var M=o.stateNode.containerInfo,Y=np(r);rp(r,Y,M);break;default:throw Error(s(161))}}catch(re){ot(r,r.return,re)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Mv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Mv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Ws(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Cv(r,i.alternate,i),i=i.sibling}function ga(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Xs(4,i,i.return),ga(i);break;case 1:kr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Tv(i,i.return,o),ga(i);break;case 27:bc(i.stateNode);case 26:case 5:kr(i,i.return),ga(i);break;case 22:i.memoizedState===null&&ga(i);break;case 30:ga(i);break;default:ga(i)}r=r.sibling}}function Zs(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,f=r,g=i,b=g.flags;switch(g.tag){case 0:case 11:case 15:Zs(f,g,o),dc(4,g);break;case 1:if(Zs(f,g,o),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){ot(c,c.return,Y)}if(c=g,f=c.updateQueue,f!==null){var S=c.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)cy(M[f],S)}catch(Y){ot(c,c.return,Y)}}o&&b&64&&Ev(g),hc(g,g.return);break;case 27:Nv(g);case 26:case 5:Zs(f,g,o),o&&c===null&&b&4&&Sv(g),hc(g,g.return);break;case 12:Zs(f,g,o);break;case 13:Zs(f,g,o),o&&b&4&&Dv(f,g);break;case 22:g.memoizedState===null&&Zs(f,g,o),hc(g,g.return);break;case 30:break;default:Zs(f,g,o)}i=i.sibling}}function ap(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Wl(o))}function op(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Wl(r))}function Mr(r,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ov(r,i,o,c),i=i.sibling}function Ov(r,i,o,c){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Mr(r,i,o,c),f&2048&&dc(9,i);break;case 1:Mr(r,i,o,c);break;case 3:Mr(r,i,o,c),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Wl(r)));break;case 12:if(f&2048){Mr(r,i,o,c),r=i.stateNode;try{var g=i.memoizedProps,b=g.id,S=g.onPostCommit;typeof S=="function"&&S(b,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(M){ot(i,i.return,M)}}else Mr(r,i,o,c);break;case 13:Mr(r,i,o,c);break;case 23:break;case 22:g=i.stateNode,b=i.alternate,i.memoizedState!==null?g._visibility&2?Mr(r,i,o,c):fc(r,i):g._visibility&2?Mr(r,i,o,c):(g._visibility|=2,vo(r,i,o,c,(i.subtreeFlags&10256)!==0)),f&2048&&ap(b,i);break;case 24:Mr(r,i,o,c),f&2048&&op(i.alternate,i);break;default:Mr(r,i,o,c)}}function vo(r,i,o,c,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=r,b=i,S=o,M=c,Y=b.flags;switch(b.tag){case 0:case 11:case 15:vo(g,b,S,M,f),dc(8,b);break;case 23:break;case 22:var re=b.stateNode;b.memoizedState!==null?re._visibility&2?vo(g,b,S,M,f):fc(g,b):(re._visibility|=2,vo(g,b,S,M,f)),f&&Y&2048&&ap(b.alternate,b);break;case 24:vo(g,b,S,M,f),f&&Y&2048&&op(b.alternate,b);break;default:vo(g,b,S,M,f)}i=i.sibling}}function fc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,c=i,f=c.flags;switch(c.tag){case 22:fc(o,c),f&2048&&ap(c.alternate,c);break;case 24:fc(o,c),f&2048&&op(c.alternate,c);break;default:fc(o,c)}i=i.sibling}}var mc=8192;function xo(r){if(r.subtreeFlags&mc)for(r=r.child;r!==null;)Pv(r),r=r.sibling}function Pv(r){switch(r.tag){case 26:xo(r),r.flags&mc&&r.memoizedState!==null&&iE(ur,r.memoizedState,r.memoizedProps);break;case 5:xo(r);break;case 3:case 4:var i=ur;ur=Od(r.stateNode.containerInfo),xo(r),ur=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=mc,mc=16777216,xo(r),mc=i):xo(r));break;default:xo(r)}}function Vv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function pc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Kt=c,Uv(c,r)}Vv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Lv(r),r=r.sibling}function Lv(r){switch(r.tag){case 0:case 11:case 15:pc(r),r.flags&2048&&Xs(9,r,r.return);break;case 3:pc(r);break;case 12:pc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Ed(r)):pc(r);break;default:pc(r)}}function Ed(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Kt=c,Uv(c,r)}Vv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Xs(8,i,i.return),Ed(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Ed(i));break;default:Ed(i)}r=r.sibling}}function Uv(r,i){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:Xs(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Wl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Kt=c;else e:for(o=r;Kt!==null;){c=Kt;var f=c.sibling,g=c.return;if(Iv(c),c===o){Kt=null;break e}if(f!==null){f.return=g,Kt=f;break e}Kt=g}}}var b3={getCacheForType:function(r){var i=dn(zt),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o}},w3=typeof WeakMap=="function"?WeakMap:Map,Je=0,ct=null,Ve=null,qe=0,et=0,On=null,Js=!1,_o=!1,lp=!1,bs=0,Tt=0,ei=0,ya=0,cp=0,rr=0,bo=0,gc=null,Tn=null,up=!1,dp=0,Td=1/0,Sd=null,ti=null,sn=0,ni=null,wo=null,Eo=0,hp=0,fp=null,zv=null,yc=0,mp=null;function Pn(){if((Je&2)!==0&&qe!==0)return qe&-qe;if(L.T!==null){var r=co;return r!==0?r:bp()}return Vs()}function Bv(){rr===0&&(rr=(qe&536870912)===0||Qe?Al():536870912);var r=nr.current;return r!==null&&(r.flags|=32),rr}function Vn(r,i,o){(r===ct&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(To(r,0),ri(r,qe,rr,!1)),Jr(r,o),((Je&2)===0||r!==ct)&&(r===ct&&((Je&2)===0&&(ya|=o),Tt===4&&ri(r,qe,rr,!1)),Or(r))}function Fv(r,i,o){if((Je&6)!==0)throw Error(s(327));var c=!o&&(i&124)===0&&(i&r.expiredLanes)===0||Hi(r,i),f=c?S3(r,i):yp(r,i,!0),g=c;do{if(f===0){_o&&!c&&ri(r,i,0,!1);break}else{if(o=r.current.alternate,g&&!E3(o)){f=yp(r,i,!1),g=!1;continue}if(f===2){if(g=i,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var S=r;f=gc;var M=S.current.memoizedState.isDehydrated;if(M&&(To(S,b).flags|=256),b=yp(S,b,!1),b!==2){if(lp&&!M){S.errorRecoveryDisabledLanes|=g,ya|=g,f=4;break e}g=Tn,Tn=f,g!==null&&(Tn===null?Tn=g:Tn.push.apply(Tn,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){To(r,0),ri(r,i,0,!0);break}e:{switch(c=r,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ri(c,i,rr,!Js);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=dp+300-Gn(),10<f)){if(ri(c,i,rr,!Js),za(c,0,!0)!==0)break e;c.timeoutHandle=y2(Hv.bind(null,c,o,Tn,Sd,up,i,rr,ya,bo,Js,g,2,-0,0),f);break e}Hv(c,o,Tn,Sd,up,i,rr,ya,bo,Js,g,0,-0,0)}}break}while(!0);Or(r)}function Hv(r,i,o,c,f,g,b,S,M,Y,re,oe,K,Q){if(r.timeoutHandle=-1,oe=i.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Tc={stylesheets:null,count:0,unsuspend:sE},Pv(i),oe=aE(),oe!==null)){r.cancelPendingCommit=oe(Xv.bind(null,r,i,g,o,c,f,b,S,M,re,1,K,Q)),ri(r,g,b,!Y);return}Xv(r,i,g,o,c,f,b,S,M)}function E3(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],g=f.getSnapshot;f=f.value;try{if(!jn(g(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ri(r,i,o,c){i&=~cp,i&=~ya,r.suspendedLanes|=i,r.pingedLanes&=~i,c&&(r.warmLanes|=i),c=r.expirationTimes;for(var f=i;0<f;){var g=31-un(f),b=1<<g;c[g]=-1,f&=~b}o!==0&&_r(r,o,i)}function Ad(){return(Je&6)===0?(vc(0),!1):!0}function pp(){if(Ve!==null){if(et===0)var r=Ve.return;else r=Ve,fs=da=null,Dm(r),go=null,lc=0,r=Ve;for(;r!==null;)wv(r.alternate,r),r=r.return;Ve=null}}function To(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,B3(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),pp(),ct=r,Ve=o=us(r.current,null),qe=i,et=0,On=null,Js=!1,_o=Hi(r,i),lp=!1,bo=rr=cp=ya=ei=Tt=0,Tn=gc=null,up=!1,(i&8)!==0&&(i|=i&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=i;0<c;){var f=31-un(c),g=1<<f;i|=r[f],c&=~g}return bs=i,Ku(),o}function qv(r,i){Me=null,L.H=fd,i===Jl||i===rd?(i=oy(),et=3):i===sy?(i=oy(),et=4):et=i===lv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,On=i,Ve===null&&(Tt=1,vd(r,Zn(i,r.current)))}function $v(){var r=L.H;return L.H=fd,r===null?fd:r}function Gv(){var r=L.A;return L.A=b3,r}function gp(){Tt=4,Js||(qe&4194048)!==qe&&nr.current!==null||(_o=!0),(ei&134217727)===0&&(ya&134217727)===0||ct===null||ri(ct,qe,rr,!1)}function yp(r,i,o){var c=Je;Je|=2;var f=$v(),g=Gv();(ct!==r||qe!==i)&&(Sd=null,To(r,i)),i=!1;var b=Tt;e:do try{if(et!==0&&Ve!==null){var S=Ve,M=On;switch(et){case 8:pp(),b=6;break e;case 3:case 2:case 9:case 6:nr.current===null&&(i=!0);var Y=et;if(et=0,On=null,So(r,S,M,Y),o&&_o){b=0;break e}break;default:Y=et,et=0,On=null,So(r,S,M,Y)}}T3(),b=Tt;break}catch(re){qv(r,re)}while(!0);return i&&r.shellSuspendCounter++,fs=da=null,Je=c,L.H=f,L.A=g,Ve===null&&(ct=null,qe=0,Ku()),b}function T3(){for(;Ve!==null;)Yv(Ve)}function S3(r,i){var o=Je;Je|=2;var c=$v(),f=Gv();ct!==r||qe!==i?(Sd=null,Td=Gn()+500,To(r,i)):_o=Hi(r,i);e:do try{if(et!==0&&Ve!==null){i=Ve;var g=On;t:switch(et){case 1:et=0,On=null,So(r,i,g,1);break;case 2:case 9:if(iy(g)){et=0,On=null,Kv(i);break}i=function(){et!==2&&et!==9||ct!==r||(et=7),Or(r)},g.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:iy(g)?(et=0,On=null,Kv(i)):(et=0,On=null,So(r,i,g,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var S=Ve;if(!b||C2(b)){et=0,On=null;var M=S.sibling;if(M!==null)Ve=M;else{var Y=S.return;Y!==null?(Ve=Y,Nd(Y)):Ve=null}break t}}et=0,On=null,So(r,i,g,5);break;case 6:et=0,On=null,So(r,i,g,6);break;case 8:pp(),Tt=6;break e;default:throw Error(s(462))}}A3();break}catch(re){qv(r,re)}while(!0);return fs=da=null,L.H=c,L.A=f,Je=o,Ve!==null?0:(ct=null,qe=0,Ku(),Tt)}function A3(){for(;Ve!==null&&!wl();)Yv(Ve)}function Yv(r){var i=_v(r.alternate,r,bs);r.memoizedProps=r.pendingProps,i===null?Nd(r):Ve=i}function Kv(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=mv(o,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=mv(o,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:Dm(i);default:wv(o,i),i=Ve=Q1(i,bs),i=_v(o,i,bs)}r.memoizedProps=r.pendingProps,i===null?Nd(r):Ve=i}function So(r,i,o,c){fs=da=null,Dm(i),go=null,lc=0;var f=i.return;try{if(p3(r,f,i,o,qe)){Tt=1,vd(r,Zn(o,r.current)),Ve=null;return}}catch(g){if(f!==null)throw Ve=f,g;Tt=1,vd(r,Zn(o,r.current)),Ve=null;return}i.flags&32768?(Qe||c===1?r=!0:_o||(qe&536870912)!==0?r=!1:(Js=r=!0,(c===2||c===9||c===3||c===6)&&(c=nr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Qv(i,r)):Nd(i)}function Nd(r){var i=r;do{if((i.flags&32768)!==0){Qv(i,Js);return}r=i.return;var o=y3(i.alternate,i,bs);if(o!==null){Ve=o;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=r}while(i!==null);Tt===0&&(Tt=5)}function Qv(r,i){do{var o=v3(r.alternate,r);if(o!==null){o.flags&=32767,Ve=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){Ve=r;return}Ve=r=o}while(r!==null);Tt=6,Ve=null}function Xv(r,i,o,c,f,g,b,S,M){r.cancelPendingCommit=null;do Rd();while(sn!==0);if((Je&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=om,Rl(r,o,g,b,S,M),r===ct&&(Ve=ct=null,qe=0),wo=i,ni=r,Eo=o,hp=g,fp=f,zv=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,I3(Ui,function(){return t2(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=L.T,L.T=null,f=W.p,W.p=2,b=Je,Je|=4;try{x3(r,i,o)}finally{Je=b,W.p=f,L.T=c}}sn=1,Wv(),Zv(),Jv()}}function Wv(){if(sn===1){sn=0;var r=ni,i=wo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var c=W.p;W.p=2;var f=Je;Je|=4;try{kv(i,r);var g=Cp,b=U1(r.containerInfo),S=g.focusedElem,M=g.selectionRange;if(b!==S&&S&&S.ownerDocument&&L1(S.ownerDocument.documentElement,S)){if(M!==null&&nm(S)){var Y=M.start,re=M.end;if(re===void 0&&(re=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(re,S.value.length);else{var oe=S.ownerDocument||document,K=oe&&oe.defaultView||window;if(K.getSelection){var Q=K.getSelection(),Ce=S.textContent.length,Se=Math.min(M.start,Ce),st=M.end===void 0?Se:Math.min(M.end,Ce);!Q.extend&&Se>st&&(b=st,st=Se,Se=b);var F=V1(S,Se),U=V1(S,st);if(F&&U&&(Q.rangeCount!==1||Q.anchorNode!==F.node||Q.anchorOffset!==F.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var G=oe.createRange();G.setStart(F.node,F.offset),Q.removeAllRanges(),Se>st?(Q.addRange(G),Q.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),Q.addRange(G))}}}}for(oe=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&oe.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<oe.length;S++){var ie=oe[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}zd=!!Rp,Cp=Rp=null}finally{Je=f,W.p=c,L.T=o}}r.current=i,sn=2}}function Zv(){if(sn===2){sn=0;var r=ni,i=wo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var c=W.p;W.p=2;var f=Je;Je|=4;try{Cv(r,i.alternate,i)}finally{Je=f,W.p=c,L.T=o}}sn=3}}function Jv(){if(sn===4||sn===3){sn=0,Eu();var r=ni,i=wo,o=Eo,c=zv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?sn=5:(sn=0,wo=ni=null,e2(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(ti=null),Ba(o),i=i.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(wt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=L.T,f=W.p,W.p=2,L.T=null;try{for(var g=r.onRecoverableError,b=0;b<c.length;b++){var S=c[b];g(S.value,{componentStack:S.stack})}}finally{L.T=i,W.p=f}}(Eo&3)!==0&&Rd(),Or(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===mp?yc++:(yc=0,mp=r):yc=0,vc(0)}}function e2(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Wl(i)))}function Rd(r){return Wv(),Zv(),Jv(),t2()}function t2(){if(sn!==5)return!1;var r=ni,i=hp;hp=0;var o=Ba(Eo),c=L.T,f=W.p;try{W.p=32>o?32:o,L.T=null,o=fp,fp=null;var g=ni,b=Eo;if(sn=0,wo=ni=null,Eo=0,(Je&6)!==0)throw Error(s(331));var S=Je;if(Je|=4,Lv(g.current),Ov(g,g.current,b,o),Je=S,vc(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(wt,g)}catch{}return!0}finally{W.p=f,L.T=c,e2(r,i)}}function n2(r,i,o){i=Zn(o,i),i=Gm(r.stateNode,i,2),r=Gs(r,i,2),r!==null&&(Jr(r,2),Or(r))}function ot(r,i,o){if(r.tag===3)n2(r,r,o);else for(;i!==null;){if(i.tag===3){n2(i,r,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ti===null||!ti.has(c))){r=Zn(o,r),o=av(2),c=Gs(i,o,2),c!==null&&(ov(o,c,i,r),Jr(c,2),Or(c));break}}i=i.return}}function vp(r,i,o){var c=r.pingCache;if(c===null){c=r.pingCache=new w3;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(o)||(lp=!0,f.add(o),r=N3.bind(null,r,i,o),i.then(r,r))}function N3(r,i,o){var c=r.pingCache;c!==null&&c.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ct===r&&(qe&o)===o&&(Tt===4||Tt===3&&(qe&62914560)===qe&&300>Gn()-dp?(Je&2)===0&&To(r,0):cp|=o,bo===qe&&(bo=0)),Or(r)}function r2(r,i){i===0&&(i=Nl()),r=io(r,i),r!==null&&(Jr(r,i),Or(r))}function R3(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),r2(r,o)}function C3(r,i){var o=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),r2(r,o)}function I3(r,i){return $n(r,i)}var Cd=null,Ao=null,xp=!1,Id=!1,_p=!1,va=0;function Or(r){r!==Ao&&r.next===null&&(Ao===null?Cd=Ao=r:Ao=Ao.next=r),Id=!0,xp||(xp=!0,D3())}function vc(r,i){if(!_p&&Id){_p=!0;do for(var o=!1,c=Cd;c!==null;){if(r!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var b=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-un(42|r)+1)-1,g&=f&~(b&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,o2(c,g))}else g=qe,g=za(c,c===ct?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Hi(c,g)||(o=!0,o2(c,g));c=c.next}while(o);_p=!1}}function j3(){s2()}function s2(){Id=xp=!1;var r=0;va!==0&&(z3()&&(r=va),va=0);for(var i=Gn(),o=null,c=Cd;c!==null;){var f=c.next,g=i2(c,i);g===0?(c.next=null,o===null?Cd=f:o.next=f,f===null&&(Ao=o)):(o=c,(r!==0||(g&3)!==0)&&(Id=!0)),c=f}vc(r)}function i2(r,i){for(var o=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-un(g),S=1<<b,M=f[b];M===-1?((S&o)===0||(S&c)!==0)&&(f[b]=Sl(S,i)):M<=i&&(r.expiredLanes|=S),g&=~S}if(i=ct,o=qe,o=za(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===i&&(et===2||et===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Li(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Hi(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(c!==null&&Li(c),Ba(o)){case 2:case 8:o=La;break;case 32:o=Ui;break;case 268435456:o=Ua;break;default:o=Ui}return c=a2.bind(null,r),o=$n(o,c),r.callbackPriority=i,r.callbackNode=o,i}return c!==null&&c!==null&&Li(c),r.callbackPriority=2,r.callbackNode=null,2}function a2(r,i){if(sn!==0&&sn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Rd()&&r.callbackNode!==o)return null;var c=qe;return c=za(r,r===ct?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Fv(r,c,i),i2(r,Gn()),r.callbackNode!=null&&r.callbackNode===o?a2.bind(null,r):null)}function o2(r,i){if(Rd())return null;Fv(r,i,!0)}function D3(){F3(function(){(Je&6)!==0?$n(El,j3):s2()})}function bp(){return va===0&&(va=Al()),va}function l2(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ya(""+r)}function c2(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function k3(r,i,o,c,f){if(i==="submit"&&o&&o.stateNode===f){var g=l2((f[Ct]||null).action),b=c.submitter;b&&(i=(i=b[Ct]||null)?l2(i.formAction):b.getAttribute("formAction"),i!==null&&(g=i,b=null));var S=new Ka("action","action",null,c,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(va!==0){var M=b?c2(f,b):new FormData(f);Bm(o,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(S.preventDefault(),M=b?c2(f,b):new FormData(f),Bm(o,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var wp=0;wp<am.length;wp++){var Ep=am[wp],M3=Ep.toLowerCase(),O3=Ep[0].toUpperCase()+Ep.slice(1);cr(M3,"on"+O3)}cr(F1,"onAnimationEnd"),cr(H1,"onAnimationIteration"),cr(q1,"onAnimationStart"),cr("dblclick","onDoubleClick"),cr("focusin","onFocus"),cr("focusout","onBlur"),cr(Z6,"onTransitionRun"),cr(J6,"onTransitionStart"),cr(e3,"onTransitionCancel"),cr($1,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),or("onBeforeInput",["compositionend","keypress","textInput","paste"]),or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xc));function u2(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],f=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var b=c.length-1;0<=b;b--){var S=c[b],M=S.instance,Y=S.currentTarget;if(S=S.listener,M!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=Y;try{g(f)}catch(re){yd(re)}f.currentTarget=null,g=M}else for(b=0;b<c.length;b++){if(S=c[b],M=S.instance,Y=S.currentTarget,S=S.listener,M!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=Y;try{g(f)}catch(re){yd(re)}f.currentTarget=null,g=M}}}}function Le(r,i){var o=i[Il];o===void 0&&(o=i[Il]=new Set);var c=r+"__bubble";o.has(c)||(d2(i,r,2,!1),o.add(c))}function Tp(r,i,o){var c=0;i&&(c|=4),d2(o,r,c,i)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Sp(r){if(!r[jd]){r[jd]=!0,jl.forEach(function(o){o!=="selectionchange"&&(P3.has(o)||Tp(o,!1,r),Tp(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[jd]||(i[jd]=!0,Tp("selectionchange",!1,i))}}function d2(r,i,o,c){switch(O2(i)){case 2:var f=cE;break;case 8:f=uE;break;default:f=Up}o=f.bind(null,i,o,r),f=void 0,!Xn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(i,o,{capture:!0,passive:f}):r.addEventListener(i,o,!0):f!==void 0?r.addEventListener(i,o,{passive:f}):r.addEventListener(i,o,!1)}function Ap(r,i,o,c,f){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var S=c.stateNode.containerInfo;if(S===f)break;if(b===4)for(b=c.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;S!==null;){if(b=es(S),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){c=g=b;continue e}S=S.parentNode}}c=c.return}ku(function(){var Y=g,re=Qn(o),oe=[];e:{var K=G1.get(r);if(K!==void 0){var Q=Ka,Ce=r;switch(r){case"keypress":if(Ar(o)===0)break e;case"keydown":case"keyup":Q=eo;break;case"focusin":Ce="focus",Q=Wa;break;case"focusout":Ce="blur",Q=Wa;break;case"beforeblur":case"afterblur":Q=Wa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Bu;break;case F1:case H1:case q1:Q=Za;break;case $1:Q=Hu;break;case"scroll":case"scrollend":Q=Mu;break;case"wheel":Q=to;break;case"copy":case"cut":case"paste":Q=Ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Hl;break;case"toggle":case"beforetoggle":Q=$u}var Se=(i&4)!==0,st=!Se&&(r==="scroll"||r==="scrollend"),F=Se?K!==null?K+"Capture":null:K;Se=[];for(var U=Y,G;U!==null;){var ie=U;if(G=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||G===null||F===null||(ie=Wi(U,F),ie!=null&&Se.push(_c(U,ie,G))),st)break;U=U.return}0<Se.length&&(K=new Q(K,Ce,null,o,re),oe.push({event:K,listeners:Se}))}}if((i&7)===0){e:{if(K=r==="mouseover"||r==="pointerover",Q=r==="mouseout"||r==="pointerout",K&&o!==ss&&(Ce=o.relatedTarget||o.fromElement)&&(es(Ce)||Ce[Yn]))break e;if((Q||K)&&(K=re.window===re?re:(K=re.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(Ce=o.relatedTarget||o.toElement,Q=Y,Ce=Ce?es(Ce):null,Ce!==null&&(st=l(Ce),Se=Ce.tag,Ce!==st||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(Q=null,Ce=Y),Q!==Ce)){if(Se=Wn,ie="onMouseLeave",F="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(Se=Hl,ie="onPointerLeave",F="onPointerEnter",U="pointer"),st=Q==null?K:wr(Q),G=Ce==null?K:wr(Ce),K=new Se(ie,U+"leave",Q,o,re),K.target=st,K.relatedTarget=G,ie=null,es(re)===Y&&(Se=new Se(F,U+"enter",Ce,o,re),Se.target=G,Se.relatedTarget=st,ie=Se),st=ie,Q&&Ce)t:{for(Se=Q,F=Ce,U=0,G=Se;G;G=No(G))U++;for(G=0,ie=F;ie;ie=No(ie))G++;for(;0<U-G;)Se=No(Se),U--;for(;0<G-U;)F=No(F),G--;for(;U--;){if(Se===F||F!==null&&Se===F.alternate)break t;Se=No(Se),F=No(F)}Se=null}else Se=null;Q!==null&&h2(oe,K,Q,Se,!1),Ce!==null&&st!==null&&h2(oe,st,Ce,Se,!0)}}e:{if(K=Y?wr(Y):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var ve=j1;else if(Ut(K))if(D1)ve=Q6;else{ve=Y6;var Pe=G6}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&Pl(Y.elementType)&&(ve=j1):ve=K6;if(ve&&(ve=ve(r,Y))){cs(oe,ve,o,re);break e}Pe&&Pe(r,K,Y),r==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Bs(K,"number",K.value)}switch(Pe=Y?wr(Y):window,r){case"focusin":(Ut(Pe)||Pe.contentEditable==="true")&&(no=Pe,rm=Y,Gl=null);break;case"focusout":Gl=rm=no=null;break;case"mousedown":sm=!0;break;case"contextmenu":case"mouseup":case"dragend":sm=!1,z1(oe,o,re);break;case"selectionchange":if(W6)break;case"keydown":case"keyup":z1(oe,o,re)}var _e;if(Cr)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Fe?Z(r,o)&&(Ae="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(_&&o.locale!=="ko"&&(Fe||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Fe&&(_e=Ll()):(Sr=re,Fs="value"in Sr?Sr.value:Sr.textContent,Fe=!0)),Pe=Dd(Y,Ae),0<Pe.length&&(Ae=new Bl(Ae,r,null,o,re),oe.push({event:Ae,listeners:Pe}),_e?Ae.data=_e:(_e=fe(o),_e!==null&&(Ae.data=_e)))),(_e=v?Lt(r,o):He(r,o))&&(Ae=Dd(Y,"onBeforeInput"),0<Ae.length&&(Pe=new Bl("onBeforeInput","beforeinput",null,o,re),oe.push({event:Pe,listeners:Ae}),Pe.data=_e)),k3(oe,r,Y,o,re)}u2(oe,i)})}function _c(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Dd(r,i){for(var o=i+"Capture",c=[];r!==null;){var f=r,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Wi(r,o),f!=null&&c.unshift(_c(r,f,g)),f=Wi(r,i),f!=null&&c.push(_c(r,f,g))),r.tag===3)return c;r=r.return}return[]}function No(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function h2(r,i,o,c,f){for(var g=i._reactName,b=[];o!==null&&o!==c;){var S=o,M=S.alternate,Y=S.stateNode;if(S=S.tag,M!==null&&M===c)break;S!==5&&S!==26&&S!==27||Y===null||(M=Y,f?(Y=Wi(o,g),Y!=null&&b.unshift(_c(o,Y,M))):f||(Y=Wi(o,g),Y!=null&&b.push(_c(o,Y,M)))),o=o.return}b.length!==0&&r.push({event:i,listeners:b})}var V3=/\r\n?/g,L3=/\u0000|\uFFFD/g;function f2(r){return(typeof r=="string"?r:""+r).replace(V3,`
`).replace(L3,"")}function m2(r,i){return i=f2(i),f2(r)===i}function kd(){}function rt(r,i,o,c,f,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Kn(r,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Kn(r,""+c);break;case"className":Er(r,"class",c);break;case"tabIndex":Er(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(r,o,c);break;case"style":Ol(r,c,g);break;case"data":if(i!=="object"){Er(r,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Ya(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&rt(r,i,"name",f.name,f,null),rt(r,i,"formEncType",f.formEncType,f,null),rt(r,i,"formMethod",f.formMethod,f,null),rt(r,i,"formTarget",f.formTarget,f,null)):(rt(r,i,"encType",f.encType,f,null),rt(r,i,"method",f.method,f,null),rt(r,i,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Ya(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=kd);break;case"onScroll":c!=null&&Le("scroll",r);break;case"onScrollEnd":c!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Ya(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Le("beforetoggle",r),Le("toggle",r),zs(r,"popover",c);break;case"xlinkActuate":tn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":tn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":tn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":tn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":tn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":tn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":tn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":tn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":tn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":zs(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Xf.get(o)||o,zs(r,o,c))}}function Np(r,i,o,c,f,g){switch(o){case"style":Ol(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Kn(r,c):(typeof c=="number"||typeof c=="bigint")&&Kn(r,""+c);break;case"onScroll":c!=null&&Le("scroll",r);break;case"onScrollEnd":c!=null&&Le("scrollend",r);break;case"onClick":c!=null&&(r.onclick=kd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),g=r[Ct]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(i,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,c,f);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):zs(r,o,c)}}}function an(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var c=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(r,i,g,b,o,null)}}f&&rt(r,i,"srcSet",o.srcSet,o,null),c&&rt(r,i,"src",o.src,o,null);return;case"input":Le("invalid",r);var S=g=b=f=null,M=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var re=o[c];if(re!=null)switch(c){case"name":f=re;break;case"type":b=re;break;case"checked":M=re;break;case"defaultChecked":Y=re;break;case"value":g=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:rt(r,i,c,re,o,null)}}Ki(r,g,S,M,Y,b,f,!1),Ga(r);return;case"select":Le("invalid",r),c=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":b=S;break;case"multiple":c=S;default:rt(r,i,f,S,o,null)}i=g,o=b,r.multiple=!!c,i!=null?rs(r,!!c,i,!1):o!=null&&rs(r,!!c,o,!0);return;case"textarea":Le("invalid",r),g=f=c=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":c=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:rt(r,i,b,S,o,null)}Qi(r,c,f,g),Ga(r);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(c=o[M],c!=null))switch(M){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:rt(r,i,M,c,o,null)}return;case"dialog":Le("beforetoggle",r),Le("toggle",r),Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(c=0;c<xc.length;c++)Le(xc[c],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(r,i,Y,c,o,null)}return;default:if(Pl(i)){for(re in o)o.hasOwnProperty(re)&&(c=o[re],c!==void 0&&Np(r,i,re,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&rt(r,i,S,c,o,null))}function U3(r,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,S=null,M=null,Y=null,re=null;for(Q in o){var oe=o[Q];if(o.hasOwnProperty(Q)&&oe!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":M=oe;default:c.hasOwnProperty(Q)||rt(r,i,Q,null,c,oe)}}for(var K in c){var Q=c[K];if(oe=o[K],c.hasOwnProperty(K)&&(Q!=null||oe!=null))switch(K){case"type":g=Q;break;case"name":f=Q;break;case"checked":Y=Q;break;case"defaultChecked":re=Q;break;case"value":b=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==oe&&rt(r,i,K,Q,c,oe)}}In(r,b,S,M,Y,re,g,f);return;case"select":Q=b=S=K=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":Q=M;default:c.hasOwnProperty(g)||rt(r,i,g,null,c,M)}for(f in c)if(g=c[f],M=o[f],c.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":K=g;break;case"defaultValue":S=g;break;case"multiple":b=g;default:g!==M&&rt(r,i,f,g,c,M)}i=S,o=b,c=Q,K!=null?rs(r,!!o,K,!1):!!c!=!!o&&(i!=null?rs(r,!!o,i,!0):rs(r,!!o,o?[]:"",!1));return;case"textarea":Q=K=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:rt(r,i,S,null,c,f)}for(b in c)if(f=c[b],g=o[b],c.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":K=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&rt(r,i,b,f,c,g)}tt(r,K,Q);return;case"option":for(var Ce in o)if(K=o[Ce],o.hasOwnProperty(Ce)&&K!=null&&!c.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:rt(r,i,Ce,null,c,K)}for(M in c)if(K=c[M],Q=o[M],c.hasOwnProperty(M)&&K!==Q&&(K!=null||Q!=null))switch(M){case"selected":r.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:rt(r,i,M,K,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)K=o[Se],o.hasOwnProperty(Se)&&K!=null&&!c.hasOwnProperty(Se)&&rt(r,i,Se,null,c,K);for(Y in c)if(K=c[Y],Q=o[Y],c.hasOwnProperty(Y)&&K!==Q&&(K!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:rt(r,i,Y,K,c,Q)}return;default:if(Pl(i)){for(var st in o)K=o[st],o.hasOwnProperty(st)&&K!==void 0&&!c.hasOwnProperty(st)&&Np(r,i,st,void 0,c,K);for(re in c)K=c[re],Q=o[re],!c.hasOwnProperty(re)||K===Q||K===void 0&&Q===void 0||Np(r,i,re,K,c,Q);return}}for(var F in o)K=o[F],o.hasOwnProperty(F)&&K!=null&&!c.hasOwnProperty(F)&&rt(r,i,F,null,c,K);for(oe in c)K=c[oe],Q=o[oe],!c.hasOwnProperty(oe)||K===Q||K==null&&Q==null||rt(r,i,oe,K,c,Q)}var Rp=null,Cp=null;function Md(r){return r.nodeType===9?r:r.ownerDocument}function p2(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g2(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Ip(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jp=null;function z3(){var r=window.event;return r&&r.type==="popstate"?r===jp?!1:(jp=r,!0):(jp=null,!1)}var y2=typeof setTimeout=="function"?setTimeout:void 0,B3=typeof clearTimeout=="function"?clearTimeout:void 0,v2=typeof Promise=="function"?Promise:void 0,F3=typeof queueMicrotask=="function"?queueMicrotask:typeof v2<"u"?function(r){return v2.resolve(null).then(r).catch(H3)}:y2;function H3(r){setTimeout(function(){throw r})}function si(r){return r==="head"}function x2(r,i){var o=i,c=0,f=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var b=r.ownerDocument;if(o&1&&bc(b.documentElement),o&2&&bc(b.body),o&4)for(o=b.head,bc(o),b=o.firstChild;b;){var S=b.nextSibling,M=b.nodeName;b[qi]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=S}}if(f===0){r.removeChild(g),Cc(i);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);Cc(i)}function Dp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Dp(o),Us(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function q3(r,i,o,c){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[qi])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=dr(r.nextSibling),r===null)break}return null}function $3(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=dr(r.nextSibling),r===null))return null;return r}function kp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function G3(r,i){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function dr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Mp=null;function _2(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}function b2(r,i,o){switch(i=Md(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function bc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Us(r)}var sr=new Map,w2=new Set;function Od(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ws=W.d;W.d={f:Y3,r:K3,D:Q3,C:X3,L:W3,m:Z3,X:eE,S:J3,M:tE};function Y3(){var r=ws.f(),i=Ad();return r||i}function K3(r){var i=br(r);i!==null&&i.tag===5&&i.type==="form"?Fy(i):ws.r(r)}var Ro=typeof document>"u"?null:document;function E2(r,i,o){var c=Ro;if(c&&typeof i=="string"&&i){var f=It(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),w2.has(f)||(w2.add(f),r={rel:r,crossOrigin:o,href:i},c.querySelector(f)===null&&(i=c.createElement("link"),an(i,"link",r),St(i),c.head.appendChild(i)))}}function Q3(r){ws.D(r),E2("dns-prefetch",r,null)}function X3(r,i){ws.C(r,i),E2("preconnect",r,i)}function W3(r,i,o){ws.L(r,i,o);var c=Ro;if(c&&r&&i){var f='link[rel="preload"][as="'+It(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+It(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+It(o.imageSizes)+'"]')):f+='[href="'+It(r)+'"]';var g=f;switch(i){case"style":g=Co(r);break;case"script":g=Io(r)}sr.has(g)||(r=x({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),sr.set(g,r),c.querySelector(f)!==null||i==="style"&&c.querySelector(wc(g))||i==="script"&&c.querySelector(Ec(g))||(i=c.createElement("link"),an(i,"link",r),St(i),c.head.appendChild(i)))}}function Z3(r,i){ws.m(r,i);var o=Ro;if(o&&r){var c=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+It(c)+'"][href="'+It(r)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Io(r)}if(!sr.has(g)&&(r=x({rel:"modulepreload",href:r},i),sr.set(g,r),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ec(g)))return}c=o.createElement("link"),an(c,"link",r),St(c),o.head.appendChild(c)}}}function J3(r,i,o){ws.S(r,i,o);var c=Ro;if(c&&r){var f=gn(c).hoistableStyles,g=Co(r);i=i||"default";var b=f.get(g);if(!b){var S={loading:0,preload:null};if(b=c.querySelector(wc(g)))S.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":i},o),(o=sr.get(g))&&Op(r,o);var M=b=c.createElement("link");St(M),an(M,"link",r),M._p=new Promise(function(Y,re){M.onload=Y,M.onerror=re}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Pd(b,i,c)}b={type:"stylesheet",instance:b,count:1,state:S},f.set(g,b)}}}function eE(r,i){ws.X(r,i);var o=Ro;if(o&&r){var c=gn(o).hoistableScripts,f=Io(r),g=c.get(f);g||(g=o.querySelector(Ec(f)),g||(r=x({src:r,async:!0},i),(i=sr.get(f))&&Pp(r,i),g=o.createElement("script"),St(g),an(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function tE(r,i){ws.M(r,i);var o=Ro;if(o&&r){var c=gn(o).hoistableScripts,f=Io(r),g=c.get(f);g||(g=o.querySelector(Ec(f)),g||(r=x({src:r,async:!0,type:"module"},i),(i=sr.get(f))&&Pp(r,i),g=o.createElement("script"),St(g),an(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function T2(r,i,o,c){var f=(f=xe.current)?Od(f):null;if(!f)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Co(o.href),o=gn(f).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Co(o.href);var g=gn(f).hoistableStyles,b=g.get(r);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=f.querySelector(wc(r)))&&!g._p&&(b.instance=g,b.state.loading=5),sr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},sr.set(r,o),g||nE(f,r,o,b.state))),i&&c===null)throw Error(s(528,""));return b}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Io(o),o=gn(f).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Co(r){return'href="'+It(r)+'"'}function wc(r){return'link[rel="stylesheet"]['+r+"]"}function S2(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function nE(r,i,o,c){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=r.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),an(i,"link",o),St(i),r.head.appendChild(i))}function Io(r){return'[src="'+It(r)+'"]'}function Ec(r){return"script[async]"+r}function A2(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=r.querySelector('style[data-href~="'+It(o.href)+'"]');if(c)return i.instance=c,St(c),c;var f=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),St(c),an(c,"style",f),Pd(c,o.precedence,r),i.instance=c;case"stylesheet":f=Co(o.href);var g=r.querySelector(wc(f));if(g)return i.state.loading|=4,i.instance=g,St(g),g;c=S2(o),(f=sr.get(f))&&Op(c,f),g=(r.ownerDocument||r).createElement("link"),St(g);var b=g;return b._p=new Promise(function(S,M){b.onload=S,b.onerror=M}),an(g,"link",c),i.state.loading|=4,Pd(g,o.precedence,r),i.instance=g;case"script":return g=Io(o.src),(f=r.querySelector(Ec(g)))?(i.instance=f,St(f),f):(c=o,(f=sr.get(g))&&(c=x({},o),Pp(c,f)),r=r.ownerDocument||r,f=r.createElement("script"),St(f),an(f,"link",c),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Pd(c,o.precedence,r));return i.instance}function Pd(r,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,b=0;b<c.length;b++){var S=c[b];if(S.dataset.precedence===i)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(r,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Op(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Pp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Vd=null;function N2(r,i,o){if(Vd===null){var c=new Map,f=Vd=new Map;f.set(o,c)}else f=Vd,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var g=o[f];if(!(g[qi]||g[Vt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(i)||"";b=r+b;var S=c.get(b);S?S.push(g):c.set(b,[g])}}return c}function R2(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function rE(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function C2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Tc=null;function sE(){}function iE(r,i,o){if(Tc===null)throw Error(s(475));var c=Tc;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Co(o.href),g=r.querySelector(wc(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Ld.bind(c),r.then(c,c)),i.state.loading|=4,i.instance=g,St(g);return}g=r.ownerDocument||r,o=S2(o),(f=sr.get(f))&&Op(o,f),g=g.createElement("link"),St(g);var b=g;b._p=new Promise(function(S,M){b.onload=S,b.onerror=M}),an(g,"link",o),i.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Ld.bind(c),r.addEventListener("load",i),r.addEventListener("error",i))}}function aE(){if(Tc===null)throw Error(s(475));var r=Tc;return r.stylesheets&&r.count===0&&Vp(r,r.stylesheets),0<r.count?function(i){var o=setTimeout(function(){if(r.stylesheets&&Vp(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Ld(){if(this.count--,this.count===0){if(this.stylesheets)Vp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ud=null;function Vp(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ud=new Map,i.forEach(oE,r),Ud=null,Ld.call(r))}function oE(r,i){if(!(i.state.loading&4)){var o=Ud.get(r);if(o)var c=o.get(null);else{o=new Map,Ud.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}f=i.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,f),o.set(b,f),this.count++,c=Ld.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var Sc={$$typeof:ee,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function lE(r,i,o,c,f,g,b,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zr(0),this.hiddenUpdates=Zr(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function I2(r,i,o,c,f,g,b,S,M,Y,re,oe){return r=new lE(r,i,o,b,S,M,Y,oe),i=1,g===!0&&(i|=24),g=Dn(3,null,null,i),r.current=g,g.stateNode=r,i=vm(),i.refCount++,r.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},wm(g),r}function j2(r){return r?(r=ao,r):ao}function D2(r,i,o,c,f,g){f=j2(f),c.context===null?c.context=f:c.pendingContext=f,c=$s(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Gs(r,c,i),o!==null&&(Vn(o,r,i),tc(o,r,i))}function k2(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Lp(r,i){k2(r,i),(r=r.alternate)&&k2(r,i)}function M2(r){if(r.tag===13){var i=io(r,67108864);i!==null&&Vn(i,r,67108864),Lp(r,67108864)}}var zd=!0;function cE(r,i,o,c){var f=L.T;L.T=null;var g=W.p;try{W.p=2,Up(r,i,o,c)}finally{W.p=g,L.T=f}}function uE(r,i,o,c){var f=L.T;L.T=null;var g=W.p;try{W.p=8,Up(r,i,o,c)}finally{W.p=g,L.T=f}}function Up(r,i,o,c){if(zd){var f=zp(c);if(f===null)Ap(r,i,c,Bd,o),P2(r,c);else if(hE(f,r,i,o,c))c.stopPropagation();else if(P2(r,c),i&4&&-1<dE.indexOf(r)){for(;f!==null;){var g=br(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=ar(g.pendingLanes);if(b!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var M=1<<31-un(b);S.entanglements[1]|=M,b&=~M}Or(g),(Je&6)===0&&(Td=Gn()+500,vc(0))}}break;case 13:S=io(g,2),S!==null&&Vn(S,g,2),Ad(),Lp(g,2)}if(g=zp(c),g===null&&Ap(r,i,c,Bd,o),g===f)break;f=g}f!==null&&c.stopPropagation()}else Ap(r,i,c,null,o)}}function zp(r){return r=Qn(r),Bp(r)}var Bd=null;function Bp(r){if(Bd=null,r=es(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=u(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Bd=r,null}function O2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qf()){case El:return 2;case La:return 8;case Ui:case $f:return 32;case Ua:return 268435456;default:return 32}default:return 32}}var Fp=!1,ii=null,ai=null,oi=null,Ac=new Map,Nc=new Map,li=[],dE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P2(r,i){switch(r){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":Ac.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nc.delete(i.pointerId)}}function Rc(r,i,o,c,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},i!==null&&(i=br(i),i!==null&&M2(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function hE(r,i,o,c,f){switch(i){case"focusin":return ii=Rc(ii,r,i,o,c,f),!0;case"dragenter":return ai=Rc(ai,r,i,o,c,f),!0;case"mouseover":return oi=Rc(oi,r,i,o,c,f),!0;case"pointerover":var g=f.pointerId;return Ac.set(g,Rc(Ac.get(g)||null,r,i,o,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Nc.set(g,Rc(Nc.get(g)||null,r,i,o,c,f)),!0}return!1}function V2(r){var i=es(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){r.blockedOn=i,Au(r.priority,function(){if(o.tag===13){var c=Pn();c=Ps(c);var f=io(o,c);f!==null&&Vn(f,o,c),Lp(o,c)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Fd(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=zp(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);ss=c,o.target.dispatchEvent(c),ss=null}else return i=br(o),i!==null&&M2(i),r.blockedOn=o,!1;i.shift()}return!0}function L2(r,i,o){Fd(r)&&o.delete(i)}function fE(){Fp=!1,ii!==null&&Fd(ii)&&(ii=null),ai!==null&&Fd(ai)&&(ai=null),oi!==null&&Fd(oi)&&(oi=null),Ac.forEach(L2),Nc.forEach(L2)}function Hd(r,i){r.blockedOn===i&&(r.blockedOn=null,Fp||(Fp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,fE)))}var qd=null;function U2(r){qd!==r&&(qd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qd===r&&(qd=null);for(var i=0;i<r.length;i+=3){var o=r[i],c=r[i+1],f=r[i+2];if(typeof c!="function"){if(Bp(c||o)===null)continue;break}var g=br(o);g!==null&&(r.splice(i,3),i-=3,Bm(g,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Cc(r){function i(M){return Hd(M,r)}ii!==null&&Hd(ii,r),ai!==null&&Hd(ai,r),oi!==null&&Hd(oi,r),Ac.forEach(i),Nc.forEach(i);for(var o=0;o<li.length;o++){var c=li[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<li.length&&(o=li[0],o.blockedOn===null);)V2(o),o.blockedOn===null&&li.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],g=o[c+1],b=f[Ct]||null;if(typeof g=="function")b||U2(o);else if(b){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[Ct]||null)S=b.formAction;else if(Bp(f)!==null)continue}else S=b.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),U2(o)}}}function Hp(r){this._internalRoot=r}$d.prototype.render=Hp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,c=Pn();D2(o,c,r,i,null,null)},$d.prototype.unmount=Hp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;D2(r.current,2,null,r,null,null),Ad(),i[Yn]=null}};function $d(r){this._internalRoot=r}$d.prototype.unstable_scheduleHydration=function(r){if(r){var i=Vs();r={blockedOn:null,target:r,priority:i};for(var o=0;o<li.length&&i!==0&&i<li[o].priority;o++);li.splice(o,0,r),o===0&&V2(r)}};var z2=e.version;if(z2!=="19.1.0")throw Error(s(527,z2,"19.1.0"));W.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=p(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var mE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gd.isDisabled&&Gd.supportsFiber)try{wt=Gd.inject(mE),Ze=Gd}catch{}}return jc.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,c="",f=nv,g=rv,b=sv,S=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=I2(r,1,!1,null,null,o,c,f,g,b,S,null),r[Yn]=i.current,Sp(r),new Hp(i)},jc.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var c=!1,f="",g=nv,b=rv,S=sv,M=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),i=I2(r,1,!0,i,o??null,c,f,g,b,S,M,Y),i.context=j2(null),o=i.current,c=Pn(),c=Ps(c),f=$s(c),f.callback=null,Gs(o,f,c),o=c,i.current.lanes=o,Jr(i,o),Or(i),r[Yn]=i.current,Sp(r),new $d(i)},jc.version="19.1.0",jc}var X2;function TE(){if(X2)return Gp.exports;X2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gp.exports=EE(),Gp.exports}var SE=TE();const AE=r0(SE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RE=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),W2=n=>{const e=RE(n);return e.charAt(0).toUpperCase()+e.slice(1)},fb=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),CE=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=O.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...m},p)=>O.createElement("svg",{ref:p,...IE,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:fb("lucide",a),...!l&&!CE(m)&&{"aria-hidden":"true"},...m},[...u.map(([y,x])=>O.createElement(y,x)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=(n,e)=>{const t=O.forwardRef(({className:s,...a},l)=>O.createElement(jE,{ref:l,iconNode:e,className:fb(`lucide-${NE(W2(n))}`,`lucide-${n}`,s),...a}));return t.displayName=W2(n),t};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kE=en("arrow-right",DE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],OE=en("award",ME);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],VE=en("book-open",PE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Z2=en("calendar",LE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zE=en("chevron-left",UE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],FE=en("chevron-right",BE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],J2=en("clock",HE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vg=en("eye-off",qE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xg=en("eye",$E);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],YE=en("funnel",GE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],QE=en("globe",KE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],WE=en("loader",XE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],JE=en("lock",ZE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],tT=en("mail",eT);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rT=en("search",nT);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ex=en("tag",sT);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tx=en("user",iT);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oT=en("users",aT),mb="/CollabriaNexus/assets/LoginImg-CE3dO27n.png";/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nx="popstate";function lT(n={}){function e(s,a){let{pathname:l,search:u,hash:m}=s.location;return _g("",{pathname:l,search:u,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:Kc(a)}return uT(e,t,null,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cT(){return Math.random().toString(36).substring(2,10)}function rx(n,e){return{usr:n.state,key:n.key,idx:e}}function _g(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?il(e):e,state:t,key:e&&e.key||s||cT()}}function Kc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function il(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function uT(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,m="POP",p=null,y=x();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function x(){return(u.state||{idx:null}).idx}function w(){m="POP";let B=x(),q=B==null?null:B-y;y=B,p&&p({action:m,location:z.location,delta:q})}function E(B,q){m="PUSH";let te=_g(z.location,B,q);y=x()+1;let ee=rx(te,y),de=z.createHref(te);try{u.pushState(ee,"",de)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(de)}l&&p&&p({action:m,location:z.location,delta:1})}function j(B,q){m="REPLACE";let te=_g(z.location,B,q);y=x();let ee=rx(te,y),de=z.createHref(te);u.replaceState(ee,"",de),l&&p&&p({action:m,location:z.location,delta:0})}function P(B){return dT(B)}let z={get action(){return m},get location(){return n(a,u)},listen(B){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(nx,w),p=B,()=>{a.removeEventListener(nx,w),p=null}},createHref(B){return e(a,B)},createURL:P,encodeLocation(B){let q=P(B);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:E,replace:j,go(B){return u.go(B)}};return z}function dT(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Kc(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function pb(n,e,t="/"){return hT(n,e,t,!1)}function hT(n,e,t,s){let a=typeof e=="string"?il(e):e,l=Rs(a.pathname||"/",t);if(l==null)return null;let u=gb(n);fT(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let y=TT(l);m=wT(u[p],y,s)}return m}function gb(n,e=[],t=[],s=""){let a=(l,u,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(mt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=As([s,p.relativePath]),x=t.concat(p);l.children&&l.children.length>0&&(mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),gb(l.children,e,x,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:_T(y,l.index),routesMeta:x})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let m of yb(l.path))a(l,u,m)}),e}function yb(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=yb(s.join("/")),m=[];return m.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&m.push(...u),m.map(p=>n.startsWith("/")&&p===""?"/":p)}function fT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bT(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var mT=/^:[\w-]+$/,pT=3,gT=2,yT=1,vT=10,xT=-2,sx=n=>n==="*";function _T(n,e){let t=n.split("/"),s=t.length;return t.some(sx)&&(s+=xT),e&&(s+=gT),t.filter(a=>!sx(a)).reduce((a,l)=>a+(mT.test(l)?pT:l===""?yT:vT),s)}function bT(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function wT(n,e,t=!1){let{routesMeta:s}=n,a={},l="/",u=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,x=l==="/"?e:e.slice(l.length)||"/",w=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},x),E=p.route;if(!w&&y&&t&&!s[s.length-1].route.index&&(w=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!w)return null;Object.assign(a,w.params),u.push({params:a,pathname:As([l,w.pathname]),pathnameBase:RT(As([l,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(l=As([l,w.pathnameBase]))}return u}function Sh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=ET(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((y,{paramName:x,isOptional:w},E)=>{if(x==="*"){let P=m[E]||"";u=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const j=m[E];return w&&!j?y[x]=void 0:y[x]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:u,pattern:n}}function ET(n,e=!1,t=!0){pr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function TT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Rs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function ST(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?il(n):n;return{pathname:t?t.startsWith("/")?t:AT(t,e):e,search:CT(s),hash:IT(a)}}function AT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Xp(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function i0(n){let e=NT(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function a0(n,e,t,s=!1){let a;typeof n=="string"?a=il(n):(a={...n},mt(!a.pathname||!a.pathname.includes("?"),Xp("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),Xp("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),Xp("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,m;if(u==null)m=t;else{let w=e.length-1;if(!s&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;a.pathname=E.join("/")}m=w>=0?e[w]:"/"}let p=ST(a,m),y=u&&u!=="/"&&u.endsWith("/"),x=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||x)&&(p.pathname+="/"),p}var As=n=>n.join("/").replace(/\/\/+/g,"/"),RT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),CT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,IT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function jT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var vb=["POST","PUT","PATCH","DELETE"];new Set(vb);var DT=["GET",...vb];new Set(DT);var al=O.createContext(null);al.displayName="DataRouter";var af=O.createContext(null);af.displayName="DataRouterState";O.createContext(!1);var xb=O.createContext({isTransitioning:!1});xb.displayName="ViewTransition";var kT=O.createContext(new Map);kT.displayName="Fetchers";var MT=O.createContext(null);MT.displayName="Await";var xr=O.createContext(null);xr.displayName="Navigation";var ou=O.createContext(null);ou.displayName="Location";var Qr=O.createContext({outlet:null,matches:[],isDataRoute:!1});Qr.displayName="Route";var o0=O.createContext(null);o0.displayName="RouteError";function OT(n,{relative:e}={}){mt(ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=O.useContext(xr),{hash:a,pathname:l,search:u}=lu(n,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:As([t,l])),s.createHref({pathname:m,search:u,hash:a})}function ol(){return O.useContext(ou)!=null}function ks(){return mt(ol(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(ou).location}var _b="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bb(n){O.useContext(xr).static||O.useLayoutEffect(n)}function ja(){let{isDataRoute:n}=O.useContext(Qr);return n?KT():PT()}function PT(){mt(ol(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(al),{basename:e,navigator:t}=O.useContext(xr),{matches:s}=O.useContext(Qr),{pathname:a}=ks(),l=JSON.stringify(i0(s)),u=O.useRef(!1);return bb(()=>{u.current=!0}),O.useCallback((p,y={})=>{if(pr(u.current,_b),!u.current)return;if(typeof p=="number"){t.go(p);return}let x=a0(p,JSON.parse(l),a,y.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:As([e,x.pathname])),(y.replace?t.replace:t.push)(x,y.state,y)},[e,t,l,a,n])}O.createContext(null);function lu(n,{relative:e}={}){let{matches:t}=O.useContext(Qr),{pathname:s}=ks(),a=JSON.stringify(i0(t));return O.useMemo(()=>a0(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function VT(n,e){return wb(n,e)}function wb(n,e,t,s){mt(ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(xr),{matches:l}=O.useContext(Qr),u=l[l.length-1],m=u?u.params:{},p=u?u.pathname:"/",y=u?u.pathnameBase:"/",x=u&&u.route;{let q=x&&x.path||"";Eb(p,!x||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let w=ks(),E;if(e){let q=typeof e=="string"?il(e):e;mt(y==="/"||q.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),E=q}else E=w;let j=E.pathname||"/",P=j;if(y!=="/"){let q=y.replace(/^\//,"").split("/");P="/"+j.replace(/^\//,"").split("/").slice(q.length).join("/")}let z=pb(n,{pathname:P});pr(x||z!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),pr(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=FT(z&&z.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:As([y,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:As([y,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),l,t,s);return e&&B?O.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},B):B}function LT(){let n=YT(),e=jT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:a},t):null,u)}var UT=O.createElement(LT,null),zT=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(Qr.Provider,{value:this.props.routeContext},O.createElement(o0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BT({routeContext:n,match:e,children:t}){let s=O.useContext(al);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Qr.Provider,{value:n},t)}function FT(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let p=a.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,m=-1;if(t)for(let p=0;p<a.length;p++){let y=a[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:x,errors:w}=t,E=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||E){u=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((p,y,x)=>{let w,E=!1,j=null,P=null;t&&(w=l&&y.route.id?l[y.route.id]:void 0,j=y.route.errorElement||UT,u&&(m<0&&x===0?(Eb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,P=null):m===x&&(E=!0,P=y.route.hydrateFallbackElement||null)));let z=e.concat(a.slice(0,x+1)),B=()=>{let q;return w?q=j:E?q=P:y.route.Component?q=O.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=p,O.createElement(BT,{match:y,routeContext:{outlet:p,matches:z,isDataRoute:t!=null},children:q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?O.createElement(zT,{location:t.location,revalidation:t.revalidation,component:j,error:w,children:B(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):B()},null)}function l0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HT(n){let e=O.useContext(al);return mt(e,l0(n)),e}function qT(n){let e=O.useContext(af);return mt(e,l0(n)),e}function $T(n){let e=O.useContext(Qr);return mt(e,l0(n)),e}function c0(n){let e=$T(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function GT(){return c0("useRouteId")}function YT(){let n=O.useContext(o0),e=qT("useRouteError"),t=c0("useRouteError");return n!==void 0?n:e.errors?.[t]}function KT(){let{router:n}=HT("useNavigate"),e=c0("useNavigate"),t=O.useRef(!1);return bb(()=>{t.current=!0}),O.useCallback(async(a,l={})=>{pr(t.current,_b),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var ix={};function Eb(n,e,t){!e&&!ix[n]&&(ix[n]=!0,pr(!1,t))}O.memo(QT);function QT({routes:n,future:e,state:t}){return wb(n,void 0,t,e)}function u0({to:n,replace:e,state:t,relative:s}){mt(ol(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(xr);pr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(Qr),{pathname:u}=ks(),m=ja(),p=a0(n,i0(l),u,s==="path"),y=JSON.stringify(p);return O.useEffect(()=>{m(JSON.parse(y),{replace:e,state:t,relative:s})},[m,y,s,e,t]),null}function Ln(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XT({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){mt(!ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof t=="string"&&(t=il(t));let{pathname:p="/",search:y="",hash:x="",state:w=null,key:E="default"}=t,j=O.useMemo(()=>{let P=Rs(p,u);return P==null?null:{location:{pathname:P,search:y,hash:x,state:w,key:E},navigationType:s}},[u,p,y,x,w,E,s]);return pr(j!=null,`<Router basename="${u}"> is not able to match the URL "${p}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:O.createElement(xr.Provider,{value:m},O.createElement(ou.Provider,{children:e,value:j}))}function WT({children:n,location:e}){return VT(bg(n),e)}function bg(n,e=[]){let t=[];return O.Children.forEach(n,(s,a)=>{if(!O.isValidElement(s))return;let l=[...e,a];if(s.type===O.Fragment){t.push.apply(t,bg(s.props.children,l));return}mt(s.type===Ln,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=bg(s.props.children,l)),t.push(u)}),t}var ah="get",oh="application/x-www-form-urlencoded";function of(n){return n!=null&&typeof n.tagName=="string"}function ZT(n){return of(n)&&n.tagName.toLowerCase()==="button"}function JT(n){return of(n)&&n.tagName.toLowerCase()==="form"}function e5(n){return of(n)&&n.tagName.toLowerCase()==="input"}function t5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function n5(n,e){return n.button===0&&(!e||e==="_self")&&!t5(n)}var Yd=null;function r5(){if(Yd===null)try{new FormData(document.createElement("form"),0),Yd=!1}catch{Yd=!0}return Yd}var s5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wp(n){return n!=null&&!s5.has(n)?(pr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):n}function i5(n,e){let t,s,a,l,u;if(JT(n)){let m=n.getAttribute("action");s=m?Rs(m,e):null,t=n.getAttribute("method")||ah,a=Wp(n.getAttribute("enctype"))||oh,l=new FormData(n)}else if(ZT(n)||e5(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||m.getAttribute("action");if(s=p?Rs(p,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||ah,a=Wp(n.getAttribute("formenctype"))||Wp(m.getAttribute("enctype"))||oh,l=new FormData(m,n),!r5()){let{name:y,type:x,value:w}=n;if(x==="image"){let E=y?`${y}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else y&&l.append(y,w)}}else{if(of(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ah,s=null,a=oh,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function d0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function a5(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Rs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function o5(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function l5(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function c5(n,e,t){let s=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await o5(l,t);return u.links?u.links():[]}return[]}));return f5(s.flat(1).filter(l5).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ax(n,e,t,s,a,l){let u=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,m=(p,y)=>t[y].pathname!==p.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,y)=>u(p,y)||m(p,y)):l==="data"?e.filter((p,y)=>{let x=s.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(u(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function u5(n,e,{includeHydrateFallback:t}={}){return d5(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function d5(n){return[...new Set(n)]}function h5(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function f5(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let l=JSON.stringify(h5(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function Tb(){let n=O.useContext(al);return d0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function m5(){let n=O.useContext(af);return d0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var h0=O.createContext(void 0);h0.displayName="FrameworkContext";function Sb(){let n=O.useContext(h0);return d0(n,"You must render this element inside a <HydratedRouter> element"),n}function p5(n,e){let t=O.useContext(h0),[s,a]=O.useState(!1),[l,u]=O.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:x,onTouchStart:w}=e,E=O.useRef(null);O.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let z=q=>{q.forEach(te=>{u(te.isIntersecting)})},B=new IntersectionObserver(z,{threshold:.5});return E.current&&B.observe(E.current),()=>{B.disconnect()}}},[n]),O.useEffect(()=>{if(s){let z=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(z)}}},[s]);let j=()=>{a(!0)},P=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:Dc(m,j),onBlur:Dc(p,P),onMouseEnter:Dc(y,j),onMouseLeave:Dc(x,P),onTouchStart:Dc(w,j)}]:[!1,E,{}]}function Dc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function g5({page:n,...e}){let{router:t}=Tb(),s=O.useMemo(()=>pb(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?O.createElement(v5,{page:n,matches:s,...e}):null}function y5(n){let{manifest:e,routeModules:t}=Sb(),[s,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return c5(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),s}function v5({page:n,matches:e,...t}){let s=ks(),{manifest:a,routeModules:l}=Sb(),{basename:u}=Tb(),{loaderData:m,matches:p}=m5(),y=O.useMemo(()=>ax(n,e,p,a,s,"data"),[n,e,p,a,s]),x=O.useMemo(()=>ax(n,e,p,a,s,"assets"),[n,e,p,a,s]),w=O.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let P=new Set,z=!1;if(e.forEach(q=>{let te=a.routes[q.route.id];!te||!te.hasLoader||(!y.some(ee=>ee.route.id===q.route.id)&&q.route.id in m&&l[q.route.id]?.shouldRevalidate||te.hasClientLoader?z=!0:P.add(q.route.id))}),P.size===0)return[];let B=a5(n,u,"data");return z&&P.size>0&&B.searchParams.set("_routes",e.filter(q=>P.has(q.route.id)).map(q=>q.route.id).join(",")),[B.pathname+B.search]},[u,m,s,a,y,e,n,l]),E=O.useMemo(()=>u5(x,a),[x,a]),j=y5(x);return O.createElement(O.Fragment,null,w.map(P=>O.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),E.map(P=>O.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),j.map(({key:P,link:z})=>O.createElement("link",{key:P,...z})))}function x5(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ab=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ab&&(window.__reactRouterVersion="7.7.1")}catch{}function _5({basename:n,children:e,window:t}){let s=O.useRef();s.current==null&&(s.current=lT({window:t,v5Compat:!0}));let a=s.current,[l,u]=O.useState({action:a.action,location:a.location}),m=O.useCallback(p=>{O.startTransition(()=>u(p))},[u]);return O.useLayoutEffect(()=>a.listen(m),[a,m]),O.createElement(XT,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var Nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lr=O.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:m,target:p,to:y,preventScrollReset:x,viewTransition:w,...E},j){let{basename:P}=O.useContext(xr),z=typeof y=="string"&&Nb.test(y),B,q=!1;if(typeof y=="string"&&z&&(B=y,Ab))try{let A=new URL(window.location.href),C=y.startsWith("//")?new URL(A.protocol+y):new URL(y),k=Rs(C.pathname,P);C.origin===A.origin&&k!=null?y=k+C.search+C.hash:q=!0}catch{pr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=OT(y,{relative:a}),[ee,de,J]=p5(s,E),ue=T5(y,{replace:u,state:m,target:p,preventScrollReset:x,relative:a,viewTransition:w});function I(A){e&&e(A),A.defaultPrevented||ue(A)}let T=O.createElement("a",{...E,...J,href:B||te,onClick:q||l?e:I,ref:x5(j,de),target:p,"data-discover":!z&&t==="render"?"true":void 0});return ee&&!z?O.createElement(O.Fragment,null,T,O.createElement(g5,{page:te})):T});Lr.displayName="Link";var b5=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:m,children:p,...y},x){let w=lu(u,{relative:y.relative}),E=ks(),j=O.useContext(af),{navigator:P,basename:z}=O.useContext(xr),B=j!=null&&C5(w)&&m===!0,q=P.encodeLocation?P.encodeLocation(w).pathname:w.pathname,te=E.pathname,ee=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;t||(te=te.toLowerCase(),ee=ee?ee.toLowerCase():null,q=q.toLowerCase()),ee&&z&&(ee=Rs(ee,z)||ee);const de=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let J=te===q||!a&&te.startsWith(q)&&te.charAt(de)==="/",ue=ee!=null&&(ee===q||!a&&ee.startsWith(q)&&ee.charAt(q.length)==="/"),I={isActive:J,isPending:ue,isTransitioning:B},T=J?e:void 0,A;typeof s=="function"?A=s(I):A=[s,J?"active":null,ue?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(I):l;return O.createElement(Lr,{...y,"aria-current":T,className:A,ref:x,style:C,to:u,viewTransition:m},typeof p=="function"?p(I):p)});b5.displayName="NavLink";var w5=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:u=ah,action:m,onSubmit:p,relative:y,preventScrollReset:x,viewTransition:w,...E},j)=>{let P=N5(),z=R5(m,{relative:y}),B=u.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&Nb.test(m),te=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let de=ee.nativeEvent.submitter,J=de?.getAttribute("formmethod")||u;P(de||ee.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:a,state:l,relative:y,preventScrollReset:x,viewTransition:w})};return O.createElement("form",{ref:j,method:B,action:z,onSubmit:s?p:te,...E,"data-discover":!q&&n==="render"?"true":void 0})});w5.displayName="Form";function E5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rb(n){let e=O.useContext(al);return mt(e,E5(n)),e}function T5(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let m=ja(),p=ks(),y=lu(n,{relative:l});return O.useCallback(x=>{if(n5(x,e)){x.preventDefault();let w=t!==void 0?t:Kc(p)===Kc(y);m(n,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[p,m,y,t,s,e,n,a,l,u])}var S5=0,A5=()=>`__${String(++S5)}__`;function N5(){let{router:n}=Rb("useSubmit"),{basename:e}=O.useContext(xr),t=GT();return O.useCallback(async(s,a={})=>{let{action:l,method:u,encType:m,formData:p,body:y}=i5(s,e);if(a.navigate===!1){let x=a.fetcherKey||A5();await n.fetch(x,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:y,formMethod:a.method||u,formEncType:a.encType||m,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:y,formMethod:a.method||u,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function R5(n,{relative:e}={}){let{basename:t}=O.useContext(xr),s=O.useContext(Qr);mt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...lu(n||".",{relative:e})},u=ks();if(n==null){l.search=u.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(x=>x==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let x=m.toString();l.search=x?`?${x}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:As([t,l.pathname])),Kc(l)}function C5(n,{relative:e}={}){let t=O.useContext(xb);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Rb("useViewTransitionState"),a=lu(n,{relative:e});if(!t.isTransitioning)return!1;let l=Rs(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=Rs(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Sh(a.pathname,u)!=null||Sh(a.pathname,l)!=null}const I5=()=>{};var ox={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},j5=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],m=n[t++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],u=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,m=u?n[a+1]:0,p=a+2<n.length,y=p?n[a+2]:0,x=l>>2,w=(l&3)<<4|m>>4;let E=(m&15)<<2|y>>6,j=y&63;p||(j=64,u||(E=64)),s.push(t[x],t[w],t[E],t[j])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Cb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):j5(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],m=a<n.length?t[n.charAt(a)]:0;++a;const y=a<n.length?t[n.charAt(a)]:64;++a;const w=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||m==null||y==null||w==null)throw new D5;const E=l<<2|m>>4;if(s.push(E),y!==64){const j=m<<4&240|y>>2;if(s.push(j),w!==64){const P=y<<6&192|w;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class D5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k5=function(n){const e=Cb(n);return Ib.encodeByteArray(e,!0)},Ah=function(n){return k5(n).replace(/\./g,"")},jb=function(n){try{return Ib.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=()=>M5().__FIREBASE_DEFAULTS__,P5=()=>{if(typeof process>"u"||typeof ox>"u")return;const n=ox.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},V5=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&jb(n[1]);return e&&JSON.parse(e)},lf=()=>{try{return I5()||O5()||P5()||V5()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Db=n=>lf()?.emulatorHosts?.[n],kb=n=>{const e=Db(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Mb=()=>lf()?.config,Ob=n=>lf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f0(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ah(JSON.stringify(t)),Ah(JSON.stringify(u)),""].join(".")}const Uc={};function U5(){const n={prod:[],emulator:[]};for(const e of Object.keys(Uc))Uc[e]?n.emulator.push(e):n.prod.push(e);return n}function z5(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let lx=!1;function m0(n,e){if(typeof window>"u"||typeof document>"u"||!Da(window.location.host)||Uc[n]===e||Uc[n]||lx)return;Uc[n]=e;function t(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=U5().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,j){E.setAttribute("width","24"),E.setAttribute("id",j),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function y(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{lx=!0,u()},E}function x(E,j){E.setAttribute("id",j),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=z5(s),j=t("text"),P=document.getElementById(j)||document.createElement("span"),z=t("learnmore"),B=document.getElementById(z)||document.createElement("a"),q=t("preprendIcon"),te=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const ee=E.element;m(ee),x(B,z);const de=y();p(te,q),ee.append(te,P,B,de),document.body.appendChild(ee)}l?(P.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function F5(){const n=lf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q5(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G5(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Y5(){return!F5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K5(){try{return typeof indexedDB=="object"}catch{return!1}}function Q5(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="FirebaseError";class Xr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=X5,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?W5(l,s):"Error",m=`${this.serviceName}: ${u} (${a}).`;return new Xr(a,m,s)}}function W5(n,e){return n.replace(Z5,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Z5=/\{\$([^}]+)}/g;function J5(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ti(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],u=e[a];if(cx(l)&&cx(u)){if(!Ti(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function cx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function kc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Mc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function eS(n,e){const t=new tS(n,e);return t.subscribe.bind(t)}class tS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");nS(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Zp),a.error===void 0&&(a.error=Zp),a.complete===void 0&&(a.complete=Zp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(n){return n&&n._delegate?n._delegate:n}class Si{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new L5;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iS(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&u.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sS(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sS(n){return n===xa?void 0:n}function iS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const oS={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},lS=Ue.INFO,cS={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},uS=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=cS[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p0{constructor(e){this.name=e,this._logLevel=lS,this._logHandler=uS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const dS=(n,e)=>e.some(t=>n instanceof t);let ux,dx;function hS(){return ux||(ux=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fS(){return dx||(dx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vb=new WeakMap,wg=new WeakMap,Lb=new WeakMap,Jp=new WeakMap,g0=new WeakMap;function mS(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(vi(n.result)),a()},u=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Vb.set(t,n)}).catch(()=>{}),g0.set(e,n),e}function pS(n){if(wg.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});wg.set(n,e)}let Eg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return wg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Lb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gS(n){Eg=n(Eg)}function yS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(eg(this),e,...t);return Lb.set(s,e.sort?e.sort():[e]),vi(s)}:fS().includes(n)?function(...e){return n.apply(eg(this),e),vi(Vb.get(this))}:function(...e){return vi(n.apply(eg(this),e))}}function vS(n){return typeof n=="function"?yS(n):(n instanceof IDBTransaction&&pS(n),dS(n,hS())?new Proxy(n,Eg):n)}function vi(n){if(n instanceof IDBRequest)return mS(n);if(Jp.has(n))return Jp.get(n);const e=vS(n);return e!==n&&(Jp.set(n,e),g0.set(e,n)),e}const eg=n=>g0.get(n);function xS(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),m=vi(u);return s&&u.addEventListener("upgradeneeded",p=>{s(vi(u.result),p.oldVersion,p.newVersion,vi(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const _S=["get","getKey","getAll","getAllKeys","count"],bS=["put","add","delete","clear"],tg=new Map;function hx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=bS.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||_S.includes(t)))return;const l=async function(u,...m){const p=this.transaction(u,a?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),a&&p.done]))[0]};return tg.set(e,l),l}gS(n=>({...n,get:(e,t,s)=>hx(e,t)||n.get(e,t,s),has:(e,t)=>!!hx(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ES(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function ES(n){return n.getComponent()?.type==="VERSION"}const Tg="@firebase/app",fx="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new p0("@firebase/app"),TS="@firebase/app-compat",SS="@firebase/analytics-compat",AS="@firebase/analytics",NS="@firebase/app-check-compat",RS="@firebase/app-check",CS="@firebase/auth",IS="@firebase/auth-compat",jS="@firebase/database",DS="@firebase/data-connect",kS="@firebase/database-compat",MS="@firebase/functions",OS="@firebase/functions-compat",PS="@firebase/installations",VS="@firebase/installations-compat",LS="@firebase/messaging",US="@firebase/messaging-compat",zS="@firebase/performance",BS="@firebase/performance-compat",FS="@firebase/remote-config",HS="@firebase/remote-config-compat",qS="@firebase/storage",$S="@firebase/storage-compat",GS="@firebase/firestore",YS="@firebase/ai",KS="@firebase/firestore-compat",QS="firebase",XS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="[DEFAULT]",WS={[Tg]:"fire-core",[TS]:"fire-core-compat",[AS]:"fire-analytics",[SS]:"fire-analytics-compat",[RS]:"fire-app-check",[NS]:"fire-app-check-compat",[CS]:"fire-auth",[IS]:"fire-auth-compat",[jS]:"fire-rtdb",[DS]:"fire-data-connect",[kS]:"fire-rtdb-compat",[MS]:"fire-fn",[OS]:"fire-fn-compat",[PS]:"fire-iid",[VS]:"fire-iid-compat",[LS]:"fire-fcm",[US]:"fire-fcm-compat",[zS]:"fire-perf",[BS]:"fire-perf-compat",[FS]:"fire-rc",[HS]:"fire-rc-compat",[qS]:"fire-gcs",[$S]:"fire-gcs-compat",[GS]:"fire-fst",[KS]:"fire-fst-compat",[YS]:"fire-vertex","fire-js":"fire-js",[QS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,ZS=new Map,Ag=new Map;function mx(n,e){try{n.container.addComponent(e)}catch(t){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Sa(n){const e=n.name;if(Ag.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;Ag.set(e,n);for(const t of Nh.values())mx(t,n);for(const t of ZS.values())mx(t,n);return!0}function cf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function zn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new cu("app","Firebase",JS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=XS;function Ub(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Sg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw xi.create("bad-app-name",{appName:String(a)});if(t||(t=Mb()),!t)throw xi.create("no-options");const l=Nh.get(a);if(l){if(Ti(t,l.options)&&Ti(s,l.config))return l;throw xi.create("duplicate-app",{appName:a})}const u=new aS(a);for(const p of Ag.values())u.addComponent(p);const m=new eA(t,s,u);return Nh.set(a,m),m}function y0(n=Sg){const e=Nh.get(n);if(!e&&n===Sg&&Mb())return Ub();if(!e)throw xi.create("no-app",{appName:n});return e}function Ur(n,e,t){let s=WS[n]??n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(u.join(" "));return}Sa(new Si(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firebase-heartbeat-database",nA=1,Qc="firebase-heartbeat-store";let ng=null;function zb(){return ng||(ng=xS(tA,nA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Qc)}catch(t){console.warn(t)}}}}).catch(n=>{throw xi.create("idb-open",{originalErrorMessage:n.message})})),ng}async function rA(n){try{const t=(await zb()).transaction(Qc),s=await t.objectStore(Qc).get(Bb(n));return await t.done,s}catch(e){if(e instanceof Xr)Cs.warn(e.message);else{const t=xi.create("idb-get",{originalErrorMessage:e?.message});Cs.warn(t.message)}}}async function px(n,e){try{const s=(await zb()).transaction(Qc,"readwrite");await s.objectStore(Qc).put(e,Bb(n)),await s.done}catch(t){if(t instanceof Xr)Cs.warn(t.message);else{const s=xi.create("idb-set",{originalErrorMessage:t?.message});Cs.warn(s.message)}}}function Bb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=1024,iA=30;class aA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lA(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>iA){const a=cA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gx(),{heartbeatsToSend:t,unsentEntries:s}=oA(this._heartbeatsCache.heartbeats),a=Ah(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Cs.warn(e),""}}}function gx(){return new Date().toISOString().substring(0,10)}function oA(n,e=sA){const t=[];let s=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),yx(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),yx(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class lA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K5()?Q5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return px(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return px(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yx(n){return Ah(JSON.stringify({version:2,heartbeats:n})).length}function cA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n){Sa(new Si("platform-logger",e=>new wS(e),"PRIVATE")),Sa(new Si("heartbeat",e=>new aA(e),"PRIVATE")),Ur(Tg,fx,n),Ur(Tg,fx,"esm2020"),Ur("fire-js","")}uA("");function Fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dA=Fb,Hb=new cu("auth","Firebase",Fb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new p0("@firebase/auth");function hA(n,...e){Rh.logLevel<=Ue.WARN&&Rh.warn(`Auth (${ka}): ${n}`,...e)}function lh(n,...e){Rh.logLevel<=Ue.ERROR&&Rh.error(`Auth (${ka}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(n,...e){throw v0(n,...e)}function zr(n,...e){return v0(n,...e)}function qb(n,e,t){const s={...dA(),[e]:t};return new cu("auth","Firebase",s).create(e,{appName:n.name})}function Ns(n){return qb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v0(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return Hb.create(n,...e)}function Re(n,e,...t){if(!n)throw v0(e,...t)}function Ts(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lh(e),new Error(e)}function Is(n,e){n||Ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){return typeof self<"u"&&self.location?.href||""}function fA(){return vx()==="http:"||vx()==="https:"}function vx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fA()||q5()||"connection"in navigator)?navigator.onLine:!0}function pA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,t){this.shortDelay=e,this.longDelay=t,Is(t>e,"Short delay should be less than long delay!"),this.isMobile=B5()||$5()}get(){return mA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(n,e){Is(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vA=new du(3e4,6e4);function ki(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ms(n,e,t,s,a={}){return Gb(n,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const m=uu({key:n.config.apiKey,...u}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:p,...l};return H5()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Da(n.emulatorConfig.host)&&(y.credentials="include"),$b.fetch()(await Yb(n,n.config.apiHost,t,m),y)})}async function Gb(n,e,t){n._canInitEmulator=!1;const s={...gA,...e};try{const a=new _A(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Kd(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const m=l.ok?u.errorMessage:u.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kd(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Kd(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw Kd(n,"user-disabled",u);const x=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw qb(n,x,y);gr(n,x)}}catch(a){if(a instanceof Xr)throw a;gr(n,"network-request-failed",{message:String(a)})}}async function hu(n,e,t,s,a={}){const l=await Ms(n,e,t,s,a);return"mfaPendingCredential"in l&&gr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Yb(n,e,t,s){const a=`${e}${t}?${s}`,l=n,u=l.config.emulator?x0(n.config,a):`${n.config.apiScheme}://${a}`;return yA.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function xA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _A{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(zr(this.auth,"network-request-failed")),vA.get())})}}function Kd(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=zr(n,e,s);return a.customData._tokenResponse=t,a}function xx(n){return n!==void 0&&n.enterprise!==void 0}class bA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wA(n,e){return Ms(n,"GET","/v2/recaptchaConfig",ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(n,e){return Ms(n,"POST","/v1/accounts:delete",e)}async function Ch(n,e){return Ms(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TA(n,e=!1){const t=pt(n),s=await t.getIdToken(e),a=_0(s);Re(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:zc(rg(a.auth_time)),issuedAtTime:zc(rg(a.iat)),expirationTime:zc(rg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function rg(n){return Number(n)*1e3}function _0(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const a=jb(t);return a?JSON.parse(a):(lh("Failed to decode base64 JWT payload"),null)}catch(a){return lh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function _x(n){const e=_0(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Xr&&SA(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function SA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(n){const e=n.auth,t=await n.getIdToken(),s=await $o(n,Ch(e,{idToken:t}));Re(s?.users.length,e,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?Kb(a.providerUserInfo):[],u=RA(n.providerData,l),m=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!u?.length,y=m?p:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Rg(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,x)}async function NA(n){const e=pt(n);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RA(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function Kb(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(n,e){const t=await Gb(n,{},async()=>{const s=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await Yb(n,a,"/v1/token",`key=${l}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return n.emulatorConfig&&Da(n.emulatorConfig.host)&&(p.credentials="include"),$b.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function IA(n,e){return Ms(n,"POST","/v2/accounts:revokeToken",ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_x(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=_x(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await CA(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,u=new zo;return s&&(Re(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Re(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class hr{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new AA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Rg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await $o(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TA(this,e)}reload(){return NA(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await $o(this,EA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,y=t.createdAt??void 0,x=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:j,providerData:P,stsTokenManager:z}=t;Re(w&&z,e,"internal-error");const B=zo.fromJSON(this.name,z);Re(typeof w=="string",e,"internal-error"),ui(s,e.name),ui(a,e.name),Re(typeof E=="boolean",e,"internal-error"),Re(typeof j=="boolean",e,"internal-error"),ui(l,e.name),ui(u,e.name),ui(m,e.name),ui(p,e.name),ui(y,e.name),ui(x,e.name);const q=new hr({uid:w,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:j,photoURL:u,phoneNumber:l,tenantId:m,stsTokenManager:B,createdAt:y,lastLoginAt:x});return P&&Array.isArray(P)&&(q.providerData=P.map(te=>({...te}))),p&&(q._redirectEventId=p),q}static async _fromIdTokenResponse(e,t,s=!1){const a=new zo;a.updateFromServerResponse(t);const l=new hr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Ih(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Kb(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,m=new zo;m.updateFromIdToken(s);const p=new hr({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:u}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Rg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new Map;function Ss(n){Is(n instanceof Function,"Expected a class definition");let e=bx.get(n);return e?(Is(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qb.type="NONE";const wx=Qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(n,e,t){return`firebase:${n}:${e}:${t}`}class Bo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=ch(this.userKey,a.apiKey,l),this.fullPersistenceKey=ch("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ch(this.auth,{idToken:e}).catch(()=>{});return t?hr._fromGetAccountInfoResponse(this.auth,t,e):null}return hr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Bo(Ss(wx),e,s);const a=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=a[0]||Ss(wx);const u=ch(s,e.config.apiKey,e.name);let m=null;for(const y of t)try{const x=await y._get(u);if(x){let w;if(typeof x=="string"){const E=await Ch(e,{idToken:x}).catch(()=>{});if(!E)break;w=await hr._fromGetAccountInfoResponse(e,E,x)}else w=hr._fromJSON(e,x);y!==l&&(m=w),l=y;break}}catch{}const p=a.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Bo(l,e,s):(l=p[0],m&&await l._set(u,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(u)}catch{}})),new Bo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t4(e))return"Blackberry";if(n4(e))return"Webos";if(Wb(e))return"Safari";if((e.includes("chrome/")||Zb(e))&&!e.includes("edge/"))return"Chrome";if(e4(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function Xb(n=pn()){return/firefox\//i.test(n)}function Wb(n=pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zb(n=pn()){return/crios\//i.test(n)}function Jb(n=pn()){return/iemobile/i.test(n)}function e4(n=pn()){return/android/i.test(n)}function t4(n=pn()){return/blackberry/i.test(n)}function n4(n=pn()){return/webos/i.test(n)}function b0(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jA(n=pn()){return b0(n)&&!!window.navigator?.standalone}function DA(){return G5()&&document.documentMode===10}function r4(n=pn()){return b0(n)||e4(n)||n4(n)||t4(n)||/windows phone/i.test(n)||Jb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(n,e=[]){let t;switch(n){case"Browser":t=Ex(pn());break;case"Worker":t=`${Ex(pn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ka}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((u,m)=>{try{const p=e(l);u(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(n,e={}){return Ms(n,"GET","/v2/passwordPolicy",ki(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=6;class PA{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??OA,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tx(this),this.idTokenSubscription=new Tx(this),this.beforeStateQueue=new kA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ss(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ch(this,{idToken:e}),s=await hr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===u)&&m?.user&&(s=m.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(Ns(this));const t=e?pt(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MA(this),t=new PA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await IA(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ss(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[Ss(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(m,this,"internal-error"),m.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,a);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&hA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ma(n){return pt(n)}class Tx{constructor(e){this.auth=e,this.observer=null,this.addObserver=eS(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LA(n){uf=n}function i4(n){return uf.loadJS(n)}function UA(){return uf.recaptchaEnterpriseScript}function zA(){return uf.gapiScript}function BA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class FA{constructor(){this.enterprise=new HA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class HA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const qA="recaptcha-enterprise",a4="NO_RECAPTCHA";class $A{constructor(e){this.type=qA,this.auth=Ma(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,m)=>{wA(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new bA(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,u(y.siteKey)}}).catch(p=>{m(p)})})}function a(l,u,m){const p=window.grecaptcha;xx(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{u(y)}).catch(()=>{u(a4)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FA().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(m=>{if(!t&&xx(window.grecaptcha))a(m,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=UA();p.length!==0&&(p+=m),i4(p).then(()=>{a(m,l,u)}).catch(y=>{u(y)})}}).catch(m=>{u(m)})})}}async function Sx(n,e,t,s=!1,a=!1){const l=new $A(n);let u;if(a)u=a4;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Cg(n,e,t,s,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Sx(n,e,t,t==="getOobCode");return s(n,l)}else return s(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Sx(n,e,t,t==="getOobCode");return s(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(n,e){const t=cf(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ti(l,e??{}))return a;gr(a,"already-initialized")}return t.initialize({options:e})}function YA(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ss);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function KA(n,e,t){const s=Ma(n);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=o4(e),{host:u,port:m}=QA(e),p=m===null?"":`:${m}`,y={url:`${l}//${u}${p}/`},x=Object.freeze({host:u,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(Ti(y,s.config.emulator)&&Ti(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,Da(u)?(f0(`${l}//${u}${p}`),m0("Auth",!0)):XA()}function o4(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function QA(n){const e=o4(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Ax(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:Ax(u)}}}function Ax(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function XA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,t){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}async function WA(n,e){return Ms(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZA(n,e){return hu(n,"POST","/v1/accounts:signInWithPassword",ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(n,e){return hu(n,"POST","/v1/accounts:signInWithEmailLink",ki(n,e))}async function eN(n,e){return hu(n,"POST","/v1/accounts:signInWithEmailLink",ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends w0{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Xc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Xc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,t,"signInWithPassword",ZA);case"emailLink":return JA(e,{email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,s,"signUpPassword",WA);case"emailLink":return eN(e,{idToken:t,email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(n,e){return hu(n,"POST","/v1/accounts:signInWithIdp",ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="http://localhost";class Aa extends w0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=t;if(!s||!a)return null;const u=new Aa(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Fo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Fo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fo(e,t)}buildRequest(){const e={requestUri:tN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=uu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rN(n){const e=kc(Mc(n)).link,t=e?kc(Mc(e)).deep_link_id:null,s=kc(Mc(n)).deep_link_id;return(s?kc(Mc(s)).link:null)||s||t||e||n}class E0{constructor(e){const t=kc(Mc(e)),s=t.apiKey??null,a=t.oobCode??null,l=nN(t.mode??null);Re(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=rN(e);try{return new E0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.providerId=ll.PROVIDER_ID}static credential(e,t){return Xc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=E0.parseLink(t);return Re(s,"argument-error"),Xc._fromEmailAndCode(e,s.code,s.tenantId)}}ll.PROVIDER_ID="password";ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends l4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends fu{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Aa._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return fi.credential(t,s)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends fu{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends fu{constructor(){super("twitter.com")}static credential(e,t){return Aa._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return pi.credential(t,s)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(n,e){return hu(n,"POST","/v1/accounts:signUp",ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await hr._fromIdTokenResponse(e,s,a),u=Nx(s);return new Na({user:l,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=Nx(s);return new Na({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function Nx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends Xr{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new jh(e,t,s,a)}}function c4(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(n,l,e,s):l})}async function iN(n,e,t=!1){const s=await $o(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Na._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(n,e,t=!1){const{auth:s}=n;if(zn(s.app))return Promise.reject(Ns(s));const a="reauthenticate";try{const l=await $o(n,c4(s,a,e,n),t);Re(l.idToken,s,"internal-error");const u=_0(l.idToken);Re(u,s,"internal-error");const{sub:m}=u;return Re(n.uid===m,s,"user-mismatch"),Na._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&gr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(n,e,t=!1){if(zn(n.app))return Promise.reject(Ns(n));const s="signIn",a=await c4(n,s,e),l=await Na._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(l.user),l}async function oN(n,e){return u4(Ma(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(n){const e=Ma(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lN(n,e,t){if(zn(n.app))return Promise.reject(Ns(n));const s=Ma(n),u=await Cg(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&d4(n),p}),m=await Na._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(m.user),m}function cN(n,e,t){return zn(n.app)?Promise.reject(Ns(n)):oN(pt(n),ll.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&d4(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(n,e){return Ms(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=pt(n),l={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await $o(s,uN(s.auth,l));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function hN(n,e,t,s){return pt(n).onIdTokenChanged(e,t,s)}function fN(n,e,t){return pt(n).beforeAuthStateChanged(e,t)}function mN(n,e,t,s){return pt(n).onAuthStateChanged(e,t,s)}function pN(n){return pt(n).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=1e3,yN=10;class f4 extends h4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,m,p)=>{this.notifyListeners(u,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);DA()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,yN):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},gN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}f4.type="LOCAL";const vN=f4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4 extends h4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}m4.type="SESSION";const p4=m4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new df(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const m=Array.from(u).map(async y=>y(t.origin,l)),p=await xN(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((m,p)=>{const y=T0("",20);a.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(w){const E=w;if(E.data.eventId===y)switch(E.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(E.data.response);break;default:clearTimeout(x),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function bN(n){Br().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function wN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EN(){return navigator?.serviceWorker?.controller||null}function TN(){return g4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="firebaseLocalStorageDb",SN=1,kh="firebaseLocalStorage",v4="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hf(n,e){return n.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function AN(){const n=indexedDB.deleteDatabase(y4);return new mu(n).toPromise()}function Ig(){const n=indexedDB.open(y4,SN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(kh,{keyPath:v4})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await AN(),e(await Ig()))})})}async function Rx(n,e,t){const s=hf(n,!0).put({[v4]:e,value:t});return new mu(s).toPromise()}async function NN(n,e){const t=hf(n,!1).get(e),s=await new mu(t).toPromise();return s===void 0?null:s.value}function Cx(n,e){const t=hf(n,!0).delete(e);return new mu(t).toPromise()}const RN=800,CN=3;class x4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ig(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>CN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=df._getInstance(TN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wN(),!this.activeServiceWorker)return;this.sender=new _N(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ig();return await Rx(e,Dh,"1"),await Cx(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Rx(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>NN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Cx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=hf(a,!1).getAll();return new mu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}x4.type="LOCAL";const IN=x4;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n,e){return e?Ss(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0 extends w0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function DN(n){return u4(n.auth,new S0(n),n.bypassAuthState)}function kN(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),aN(t,new S0(n),n.bypassAuthState)}async function MN(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),iN(t,new S0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:u,type:m}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DN;case"linkViaPopup":case"linkViaRedirect":return MN;case"reauthViaPopup":case"reauthViaRedirect":return kN;default:gr(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new du(2e3,1e4);class Po extends _4{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=T0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ON.get())};e()}}Po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="pendingRedirect",uh=new Map;class VN extends _4{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const s=await LN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LN(n,e){const t=BN(e),s=zN(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function UN(n,e){uh.set(n._key(),e)}function zN(n){return Ss(n._redirectPersistence)}function BN(n){return ch(PN,n.config.apiKey,n.name)}async function FN(n,e,t=!1){if(zn(n.app))return Promise.reject(Ns(n));const s=Ma(n),a=jN(s,e),u=await new VN(s,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=10*60*1e3;class qN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$N(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!b4(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(zr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ix(e))}saveEventToCache(e){this.cachedEventUids.add(Ix(e)),this.lastProcessedEventTime=Date.now()}}function Ix(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function b4({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function $N(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b4(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(n,e={}){return Ms(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KN=/^https?/;async function QN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await GN(n);for(const t of e)try{if(XN(t))return}catch{}gr(n,"unauthorized-domain")}function XN(n){const e=Ng(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!KN.test(t))return!1;if(YN.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new du(3e4,6e4);function jx(){const n=Br().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ZN(n){return new Promise((e,t)=>{function s(){jx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jx(),t(zr(n,"network-request-failed"))},timeout:WN.get()})}if(Br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Br().gapi?.load)s();else{const a=BA("iframefcb");return Br()[a]=()=>{gapi.load?s():t(zr(n,"network-request-failed"))},i4(`${zA()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw dh=null,e})}let dh=null;function JN(n){return dh=dh||ZN(n),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=new du(5e3,15e3),t8="__/auth/iframe",n8="emulator/auth/iframe",r8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i8(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?x0(e,n8):`https://${n.config.authDomain}/${t8}`,s={apiKey:e.apiKey,appName:n.name,v:ka},a=s8.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${uu(s).slice(1)}`}async function a8(n){const e=await JN(n),t=Br().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:i8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r8,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=zr(n,"network-request-failed"),m=Br().setTimeout(()=>{l(u)},e8.get());function p(){Br().clearTimeout(m),a(s)}s.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l8=500,c8=600,u8="_blank",d8="http://localhost";class Dx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h8(n,e,t,s=l8,a=c8){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...o8,width:s.toString(),height:a.toString(),top:l,left:u},y=pn().toLowerCase();t&&(m=Zb(y)?u8:t),Xb(y)&&(e=e||d8,p.scrollbars="yes");const x=Object.entries(p).reduce((E,[j,P])=>`${E}${j}=${P},`,"");if(jA(y)&&m!=="_self")return f8(e||"",m),new Dx(null);const w=window.open(e||"",m,x);Re(w,n,"popup-blocked");try{w.focus()}catch{}return new Dx(w)}function f8(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="__/auth/handler",p8="emulator/auth/handler",g8=encodeURIComponent("fac");async function kx(n,e,t,s,a,l){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:ka,eventId:a};if(e instanceof l4){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",J5(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,w]of Object.entries({}))u[x]=w}if(e instanceof fu){const x=e.getScopes().filter(w=>w!=="");x.length>0&&(u.scopes=x.join(","))}n.tenantId&&(u.tid=n.tenantId);const m=u;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const p=await n._getAppCheckToken(),y=p?`#${g8}=${encodeURIComponent(p)}`:"";return`${y8(n)}?${uu(m).slice(1)}${y}`}function y8({config:n}){return n.emulator?x0(n,p8):`https://${n.authDomain}/${m8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="webStorageSupport";class v8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p4,this._completeRedirectFn=FN,this._overrideRedirectResult=UN}async _openPopup(e,t,s,a){Is(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await kx(e,t,s,Ng(),a);return h8(e,l,T0())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await kx(e,t,s,Ng(),a);return bN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Is(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await a8(e),s=new qN(e);return t.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sg,{type:sg},a=>{const l=a?.[0]?.[sg];l!==void 0&&t(!!l),gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=QN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return r4()||Wb()||b0()}}const x8=v8;var Mx="@firebase/auth",Ox="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w8(n){Sa(new Si("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=s.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s4(n)},y=new VA(s,a,l,p);return YA(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Sa(new Si("auth-internal",e=>{const t=Ma(e.getProvider("auth").getImmediate());return(s=>new _8(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(Mx,Ox,b8(n)),Ur(Mx,Ox,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=5*60,T8=Ob("authIdTokenMaxAge")||E8;let Px=null;const S8=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>T8)return;const a=t?.token;Px!==a&&(Px=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function A8(n=y0()){const e=cf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=GA(n,{popupRedirectResolver:x8,persistence:[IN,vN,p4]}),s=Ob("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=S8(l.toString());fN(t,u,()=>u(t.currentUser)),hN(t,m=>u(m))}}const a=Db("auth");return a&&KA(t,`http://${a}`),t}function N8(){return document.getElementsByTagName("head")?.[0]??document}LA({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const l=zr("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",N8().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w8("Browser");var R8="firebase",C8="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(R8,C8,"app");var Vx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _i,w4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function A(){}A.prototype=T.prototype,I.D=T.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(C,k,V){for(var D=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)D[ge-2]=arguments[ge];return T.prototype[k].apply(C,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,T,A){A||(A=0);var C=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)C[k]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(k=0;16>k;++k)C[k]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=I.g[0],A=I.g[1],k=I.g[2];var V=I.g[3],D=T+(V^A&(k^V))+C[0]+3614090360&4294967295;T=A+(D<<7&4294967295|D>>>25),D=V+(k^T&(A^k))+C[1]+3905402710&4294967295,V=T+(D<<12&4294967295|D>>>20),D=k+(A^V&(T^A))+C[2]+606105819&4294967295,k=V+(D<<17&4294967295|D>>>15),D=A+(T^k&(V^T))+C[3]+3250441966&4294967295,A=k+(D<<22&4294967295|D>>>10),D=T+(V^A&(k^V))+C[4]+4118548399&4294967295,T=A+(D<<7&4294967295|D>>>25),D=V+(k^T&(A^k))+C[5]+1200080426&4294967295,V=T+(D<<12&4294967295|D>>>20),D=k+(A^V&(T^A))+C[6]+2821735955&4294967295,k=V+(D<<17&4294967295|D>>>15),D=A+(T^k&(V^T))+C[7]+4249261313&4294967295,A=k+(D<<22&4294967295|D>>>10),D=T+(V^A&(k^V))+C[8]+1770035416&4294967295,T=A+(D<<7&4294967295|D>>>25),D=V+(k^T&(A^k))+C[9]+2336552879&4294967295,V=T+(D<<12&4294967295|D>>>20),D=k+(A^V&(T^A))+C[10]+4294925233&4294967295,k=V+(D<<17&4294967295|D>>>15),D=A+(T^k&(V^T))+C[11]+2304563134&4294967295,A=k+(D<<22&4294967295|D>>>10),D=T+(V^A&(k^V))+C[12]+1804603682&4294967295,T=A+(D<<7&4294967295|D>>>25),D=V+(k^T&(A^k))+C[13]+4254626195&4294967295,V=T+(D<<12&4294967295|D>>>20),D=k+(A^V&(T^A))+C[14]+2792965006&4294967295,k=V+(D<<17&4294967295|D>>>15),D=A+(T^k&(V^T))+C[15]+1236535329&4294967295,A=k+(D<<22&4294967295|D>>>10),D=T+(k^V&(A^k))+C[1]+4129170786&4294967295,T=A+(D<<5&4294967295|D>>>27),D=V+(A^k&(T^A))+C[6]+3225465664&4294967295,V=T+(D<<9&4294967295|D>>>23),D=k+(T^A&(V^T))+C[11]+643717713&4294967295,k=V+(D<<14&4294967295|D>>>18),D=A+(V^T&(k^V))+C[0]+3921069994&4294967295,A=k+(D<<20&4294967295|D>>>12),D=T+(k^V&(A^k))+C[5]+3593408605&4294967295,T=A+(D<<5&4294967295|D>>>27),D=V+(A^k&(T^A))+C[10]+38016083&4294967295,V=T+(D<<9&4294967295|D>>>23),D=k+(T^A&(V^T))+C[15]+3634488961&4294967295,k=V+(D<<14&4294967295|D>>>18),D=A+(V^T&(k^V))+C[4]+3889429448&4294967295,A=k+(D<<20&4294967295|D>>>12),D=T+(k^V&(A^k))+C[9]+568446438&4294967295,T=A+(D<<5&4294967295|D>>>27),D=V+(A^k&(T^A))+C[14]+3275163606&4294967295,V=T+(D<<9&4294967295|D>>>23),D=k+(T^A&(V^T))+C[3]+4107603335&4294967295,k=V+(D<<14&4294967295|D>>>18),D=A+(V^T&(k^V))+C[8]+1163531501&4294967295,A=k+(D<<20&4294967295|D>>>12),D=T+(k^V&(A^k))+C[13]+2850285829&4294967295,T=A+(D<<5&4294967295|D>>>27),D=V+(A^k&(T^A))+C[2]+4243563512&4294967295,V=T+(D<<9&4294967295|D>>>23),D=k+(T^A&(V^T))+C[7]+1735328473&4294967295,k=V+(D<<14&4294967295|D>>>18),D=A+(V^T&(k^V))+C[12]+2368359562&4294967295,A=k+(D<<20&4294967295|D>>>12),D=T+(A^k^V)+C[5]+4294588738&4294967295,T=A+(D<<4&4294967295|D>>>28),D=V+(T^A^k)+C[8]+2272392833&4294967295,V=T+(D<<11&4294967295|D>>>21),D=k+(V^T^A)+C[11]+1839030562&4294967295,k=V+(D<<16&4294967295|D>>>16),D=A+(k^V^T)+C[14]+4259657740&4294967295,A=k+(D<<23&4294967295|D>>>9),D=T+(A^k^V)+C[1]+2763975236&4294967295,T=A+(D<<4&4294967295|D>>>28),D=V+(T^A^k)+C[4]+1272893353&4294967295,V=T+(D<<11&4294967295|D>>>21),D=k+(V^T^A)+C[7]+4139469664&4294967295,k=V+(D<<16&4294967295|D>>>16),D=A+(k^V^T)+C[10]+3200236656&4294967295,A=k+(D<<23&4294967295|D>>>9),D=T+(A^k^V)+C[13]+681279174&4294967295,T=A+(D<<4&4294967295|D>>>28),D=V+(T^A^k)+C[0]+3936430074&4294967295,V=T+(D<<11&4294967295|D>>>21),D=k+(V^T^A)+C[3]+3572445317&4294967295,k=V+(D<<16&4294967295|D>>>16),D=A+(k^V^T)+C[6]+76029189&4294967295,A=k+(D<<23&4294967295|D>>>9),D=T+(A^k^V)+C[9]+3654602809&4294967295,T=A+(D<<4&4294967295|D>>>28),D=V+(T^A^k)+C[12]+3873151461&4294967295,V=T+(D<<11&4294967295|D>>>21),D=k+(V^T^A)+C[15]+530742520&4294967295,k=V+(D<<16&4294967295|D>>>16),D=A+(k^V^T)+C[2]+3299628645&4294967295,A=k+(D<<23&4294967295|D>>>9),D=T+(k^(A|~V))+C[0]+4096336452&4294967295,T=A+(D<<6&4294967295|D>>>26),D=V+(A^(T|~k))+C[7]+1126891415&4294967295,V=T+(D<<10&4294967295|D>>>22),D=k+(T^(V|~A))+C[14]+2878612391&4294967295,k=V+(D<<15&4294967295|D>>>17),D=A+(V^(k|~T))+C[5]+4237533241&4294967295,A=k+(D<<21&4294967295|D>>>11),D=T+(k^(A|~V))+C[12]+1700485571&4294967295,T=A+(D<<6&4294967295|D>>>26),D=V+(A^(T|~k))+C[3]+2399980690&4294967295,V=T+(D<<10&4294967295|D>>>22),D=k+(T^(V|~A))+C[10]+4293915773&4294967295,k=V+(D<<15&4294967295|D>>>17),D=A+(V^(k|~T))+C[1]+2240044497&4294967295,A=k+(D<<21&4294967295|D>>>11),D=T+(k^(A|~V))+C[8]+1873313359&4294967295,T=A+(D<<6&4294967295|D>>>26),D=V+(A^(T|~k))+C[15]+4264355552&4294967295,V=T+(D<<10&4294967295|D>>>22),D=k+(T^(V|~A))+C[6]+2734768916&4294967295,k=V+(D<<15&4294967295|D>>>17),D=A+(V^(k|~T))+C[13]+1309151649&4294967295,A=k+(D<<21&4294967295|D>>>11),D=T+(k^(A|~V))+C[4]+4149444226&4294967295,T=A+(D<<6&4294967295|D>>>26),D=V+(A^(T|~k))+C[11]+3174756917&4294967295,V=T+(D<<10&4294967295|D>>>22),D=k+(T^(V|~A))+C[2]+718787259&4294967295,k=V+(D<<15&4294967295|D>>>17),D=A+(V^(k|~T))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+V&4294967295}s.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var A=T-this.blockSize,C=this.B,k=this.h,V=0;V<T;){if(k==0)for(;V<=A;)a(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<T;)if(C[k++]=I.charCodeAt(V++),k==this.blockSize){a(this,C),k=0;break}}else for(;V<T;)if(C[k++]=I[V++],k==this.blockSize){a(this,C),k=0;break}}this.h=k,this.o+=T},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var A=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=A&255,A/=256;for(this.u(I),I=Array(16),T=A=0;4>T;++T)for(var C=0;32>C;C+=8)I[A++]=this.g[T]>>>C&255;return I};function l(I,T){var A=m;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=T(I)}function u(I,T){this.h=T;for(var A=[],C=!0,k=I.length-1;0<=k;k--){var V=I[k]|0;C&&V==T||(A[k]=V,C=!1)}this.g=A}var m={};function p(I){return-128<=I&&128>I?l(I,function(T){return new u([T|0],0>T?-1:0)}):new u([I|0],0>I?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return w;if(0>I)return B(y(-I));for(var T=[],A=1,C=0;I>=A;C++)T[C]=I/A|0,A*=4294967296;return new u(T,0)}function x(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return B(x(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(T,8)),C=w,k=0;k<I.length;k+=8){var V=Math.min(8,I.length-k),D=parseInt(I.substring(k,k+V),T);8>V?(V=y(Math.pow(T,V)),C=C.j(V).add(y(D))):(C=C.j(A),C=C.add(y(D)))}return C}var w=p(0),E=p(1),j=p(16777216);n=u.prototype,n.m=function(){if(z(this))return-B(this).m();for(var I=0,T=1,A=0;A<this.g.length;A++){var C=this.i(A);I+=(0<=C?C:4294967296+C)*T,T*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P(this))return"0";if(z(this))return"-"+B(this).toString(I);for(var T=y(Math.pow(I,6)),A=this,C="";;){var k=de(A,T).g;A=q(A,k.j(T));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=k,P(A))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function P(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function z(I){return I.h==-1}n.l=function(I){return I=q(this,I),z(I)?-1:P(I)?0:1};function B(I){for(var T=I.g.length,A=[],C=0;C<T;C++)A[C]=~I.g[C];return new u(A,~I.h).add(E)}n.abs=function(){return z(this)?B(this):this},n.add=function(I){for(var T=Math.max(this.g.length,I.g.length),A=[],C=0,k=0;k<=T;k++){var V=C+(this.i(k)&65535)+(I.i(k)&65535),D=(V>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);C=D>>>16,V&=65535,D&=65535,A[k]=D<<16|V}return new u(A,A[A.length-1]&-2147483648?-1:0)};function q(I,T){return I.add(B(T))}n.j=function(I){if(P(this)||P(I))return w;if(z(this))return z(I)?B(this).j(B(I)):B(B(this).j(I));if(z(I))return B(this.j(B(I)));if(0>this.l(j)&&0>I.l(j))return y(this.m()*I.m());for(var T=this.g.length+I.g.length,A=[],C=0;C<2*T;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<I.g.length;k++){var V=this.i(C)>>>16,D=this.i(C)&65535,ge=I.i(k)>>>16,he=I.i(k)&65535;A[2*C+2*k]+=D*he,te(A,2*C+2*k),A[2*C+2*k+1]+=V*he,te(A,2*C+2*k+1),A[2*C+2*k+1]+=D*ge,te(A,2*C+2*k+1),A[2*C+2*k+2]+=V*ge,te(A,2*C+2*k+2)}for(C=0;C<T;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=T;C<2*T;C++)A[C]=0;return new u(A,0)};function te(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function ee(I,T){this.g=I,this.h=T}function de(I,T){if(P(T))throw Error("division by zero");if(P(I))return new ee(w,w);if(z(I))return T=de(B(I),T),new ee(B(T.g),B(T.h));if(z(T))return T=de(I,B(T)),new ee(B(T.g),T.h);if(30<I.g.length){if(z(I)||z(T))throw Error("slowDivide_ only works with positive integers.");for(var A=E,C=T;0>=C.l(I);)A=J(A),C=J(C);var k=ue(A,1),V=ue(C,1);for(C=ue(C,2),A=ue(A,2);!P(C);){var D=V.add(C);0>=D.l(I)&&(k=k.add(A),V=D),C=ue(C,1),A=ue(A,1)}return T=q(I,k.j(T)),new ee(k,T)}for(k=w;0<=I.l(T);){for(A=Math.max(1,Math.floor(I.m()/T.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=y(A),D=V.j(T);z(D)||0<D.l(I);)A-=C,V=y(A),D=V.j(T);P(V)&&(V=E),k=k.add(V),I=q(I,D)}return new ee(k,I)}n.A=function(I){return de(this,I).h},n.and=function(I){for(var T=Math.max(this.g.length,I.g.length),A=[],C=0;C<T;C++)A[C]=this.i(C)&I.i(C);return new u(A,this.h&I.h)},n.or=function(I){for(var T=Math.max(this.g.length,I.g.length),A=[],C=0;C<T;C++)A[C]=this.i(C)|I.i(C);return new u(A,this.h|I.h)},n.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),A=[],C=0;C<T;C++)A[C]=this.i(C)^I.i(C);return new u(A,this.h^I.h)};function J(I){for(var T=I.g.length+1,A=[],C=0;C<T;C++)A[C]=I.i(C)<<1|I.i(C-1)>>>31;return new u(A,I.h)}function ue(I,T){var A=T>>5;T%=32;for(var C=I.g.length-A,k=[],V=0;V<C;V++)k[V]=0<T?I.i(V+A)>>>T|I.i(V+A+1)<<32-T:I.i(V+A);return new u(k,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,w4=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=x,_i=u}).apply(typeof Vx<"u"?Vx:typeof self<"u"?self:typeof window<"u"?window:{});var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E4,Oc,T4,hh,jg,S4,A4,N4;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qd=="object"&&Qd];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function a(h,v){if(v)e:{var _=s;h=h.split(".");for(var N=0;N<h.length-1;N++){var $=h[N];if(!($ in _))break e;_=_[$]}h=h[h.length-1],N=_[h],v=v(N),v!=N&&v!=null&&e(_,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var _=0,N=!1,$={next:function(){if(!N&&_<h.length){var Z=_++;return{value:v(Z,h[Z]),done:!1}}return N=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},m=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function y(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function x(h,v,_){return h.call.apply(h.bind,arguments)}function w(h,v,_){if(!h)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,N),h.apply(v,$)}}return function(){return h.apply(v,arguments)}}function E(h,v,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:w,E.apply(null,arguments)}function j(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var N=_.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function P(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(N,$,Z){for(var fe=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)fe[Fe-2]=arguments[Fe];return v.prototype[$].apply(N,fe)}}function z(h){const v=h.length;if(0<v){const _=Array(v);for(let N=0;N<v;N++)_[N]=h[N];return _}return[]}function B(h,v){for(let _=1;_<arguments.length;_++){const N=arguments[_];if(p(N)){const $=h.length||0,Z=N.length||0;h.length=$+Z;for(let fe=0;fe<Z;fe++)h[$+fe]=N[fe]}else h.push(N)}}class q{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function te(h){return/^[\s\xa0]*$/.test(h)}function ee(){var h=m.navigator;return h&&(h=h.userAgent)?h:""}function de(h){return de[" "](h),h}de[" "]=function(){};var J=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function ue(h,v,_){for(const N in h)v.call(_,h[N],N,h)}function I(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function T(h){const v={};for(const _ in h)v[_]=h[_];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,v){let _,N;for(let $=1;$<arguments.length;$++){N=arguments[$];for(_ in N)h[_]=N[_];for(let Z=0;Z<A.length;Z++)_=A[Z],Object.prototype.hasOwnProperty.call(N,_)&&(h[_]=N[_])}}function k(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function V(h){m.setTimeout(()=>{throw h},0)}function D(){var h=se;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ge{constructor(){this.h=this.g=null}add(v,_){const N=he.get();N.set(v,_),this.h?this.h.next=N:this.g=N,this.h=N}}var he=new q(()=>new L,h=>h.reset());class L{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let W,H=!1,se=new ge,R=()=>{const h=m.Promise.resolve(void 0);W=()=>{h.then(X)}};var X=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(_){V(_)}var v=he;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}H=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};m.addEventListener("test",_,v),m.removeEventListener("test",_,v)}catch{}return h}();function be(h,v){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(J){e:{try{de(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:xe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&be.aa.h.call(this)}}P(be,le);var xe={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function lt(h,v,_,N,$){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!N,this.ha=$,this.key=++Oe,this.da=this.fa=!1}function at(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function yt(h){this.src=h,this.g={},this.h=0}yt.prototype.add=function(h,v,_,N,$){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var fe=$n(h,v,N,$);return-1<fe?(v=h[fe],_||(v.fa=!1)):(v=new lt(v,this.src,Z,!!N,$),v.fa=_,h.push(v)),v};function bt(h,v){var _=v.type;if(_ in h.g){var N=h.g[_],$=Array.prototype.indexOf.call(N,v,void 0),Z;(Z=0<=$)&&Array.prototype.splice.call(N,$,1),Z&&(at(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function $n(h,v,_,N){for(var $=0;$<h.length;++$){var Z=h[$];if(!Z.da&&Z.listener==v&&Z.capture==!!_&&Z.ha==N)return $}return-1}var Li="closure_lm_"+(1e6*Math.random()|0),wl={};function Eu(h,v,_,N,$){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)Eu(h,v[Z],_,N,$);return null}return _=Tu(_),h&&h[Ke]?h.K(v,_,y(N)?!!N.capture:!1,$):Gn(h,v,_,!1,N,$)}function Gn(h,v,_,N,$,Z){if(!v)throw Error("Invalid event type");var fe=y($)?!!$.capture:!!$,Fe=Ua(h);if(Fe||(h[Li]=Fe=new yt(h)),_=Fe.add(v,_,N,fe,Z),_.proxy)return _;if(N=qf(),_.proxy=N,N.src=h,N.listener=_,h.addEventListener)pe||($=fe),$===void 0&&($=!1),h.addEventListener(v.toString(),N,$);else if(h.attachEvent)h.attachEvent(Ui(v.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return _}function qf(){function h(_){return v.call(h.src,h.listener,_)}const v=$f;return h}function El(h,v,_,N,$){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)El(h,v[Z],_,N,$);else N=y(N)?!!N.capture:!!N,_=Tu(_),h&&h[Ke]?(h=h.i,v=String(v).toString(),v in h.g&&(Z=h.g[v],_=$n(Z,_,N,$),-1<_&&(at(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete h.g[v],h.h--)))):h&&(h=Ua(h))&&(v=h.g[v.toString()],h=-1,v&&(h=$n(v,_,N,$)),(_=-1<h?v[h]:null)&&La(_))}function La(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ke])bt(v.i,h);else{var _=h.type,N=h.proxy;v.removeEventListener?v.removeEventListener(_,N,h.capture):v.detachEvent?v.detachEvent(Ui(_),N):v.addListener&&v.removeListener&&v.removeListener(N),(_=Ua(v))?(bt(_,h),_.h==0&&(_.src=null,v[Li]=null)):at(h)}}}function Ui(h){return h in wl?wl[h]:wl[h]="on"+h}function $f(h,v){if(h.da)h=!0;else{v=new be(v,this);var _=h.listener,N=h.ha||h.src;h.fa&&La(h),h=_.call(N,v)}return h}function Ua(h){return h=h[Li],h instanceof yt?h:null}var Tl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tu(h){return typeof h=="function"?h:(h[Tl]||(h[Tl]=function(v){return h.handleEvent(v)}),h[Tl])}function wt(){ae.call(this),this.i=new yt(this),this.M=this,this.F=null}P(wt,ae),wt.prototype[Ke]=!0,wt.prototype.removeEventListener=function(h,v,_,N){El(this,h,v,_,N)};function Ze(h,v){var _,N=h.F;if(N)for(_=[];N;N=N.F)_.push(N);if(h=h.M,N=v.type||v,typeof v=="string")v=new le(v,h);else if(v instanceof le)v.target=v.target||h;else{var $=v;v=new le(N,h),C(v,$)}if($=!0,_)for(var Z=_.length-1;0<=Z;Z--){var fe=v.g=_[Z];$=Cn(fe,N,!0,v)&&$}if(fe=v.g=h,$=Cn(fe,N,!0,v)&&$,$=Cn(fe,N,!1,v)&&$,_)for(Z=0;Z<_.length;Z++)fe=v.g=_[Z],$=Cn(fe,N,!1,v)&&$}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],N=0;N<_.length;N++)at(_[N]);delete h.g[v],h.h--}}this.F=null},wt.prototype.K=function(h,v,_,N){return this.i.add(String(h),v,!1,_,N)},wt.prototype.L=function(h,v,_,N){return this.i.add(String(h),v,!0,_,N)};function Cn(h,v,_,N){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,Z=0;Z<v.length;++Z){var fe=v[Z];if(fe&&!fe.da&&fe.capture==_){var Fe=fe.listener,Lt=fe.ha||fe.src;fe.fa&&bt(h.i,fe),$=Fe.call(Lt,N)!==!1&&$}}return $&&!N.defaultPrevented}function un(h,v,_){if(typeof h=="function")_&&(h=E(h,_));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(h,v||0)}function Su(h){h.g=un(()=>{h.g=null,h.i&&(h.i=!1,Su(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Gf extends ae{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Su(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zi(h){ae.call(this),this.h=h,this.g={}}P(zi,ae);var Bi=[];function Fi(h){ue(h.g,function(v,_){this.g.hasOwnProperty(_)&&La(v)},h),h.g={}}zi.prototype.N=function(){zi.aa.N.call(this),Fi(this)},zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=m.JSON.stringify,za=m.JSON.parse,Hi=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function Sl(){}Sl.prototype.h=null;function Al(h){return h.h||(h.h=h.i())}function Nl(){}var Zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jr(){le.call(this,"d")}P(Jr,le);function Rl(){le.call(this,"c")}P(Rl,le);var _r={},Cl=null;function Ps(){return Cl=Cl||new wt}_r.La="serverreachability";function Ba(h){le.call(this,_r.La,h)}P(Ba,le);function Vs(h){const v=Ps();Ze(v,new Ba(v))}_r.STAT_EVENT="statevent";function Au(h,v){le.call(this,_r.STAT_EVENT,h),this.stat=v}P(Au,le);function ht(h){const v=Ps();Ze(v,new Au(v,h))}_r.Ma="timingevent";function Vt(h,v){le.call(this,_r.Ma,h),this.size=v}P(Vt,le);function Ct(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},v)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function Il(h,v,_,N,$,Z){h.info(function(){if(h.g)if(Z)for(var fe="",Fe=Z.split("&"),Lt=0;Lt<Fe.length;Lt++){var He=Fe[Lt].split("=");if(1<He.length){var Gt=He[0];He=He[1];var Ut=Gt.split("_");fe=2<=Ut.length&&Ut[1]=="type"?fe+(Gt+"="+He+"&"):fe+(Gt+"=redacted&")}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+N+") [attempt "+$+"]: "+v+`
`+_+`
`+fe})}function Yf(h,v,_,N,$,Z,fe){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+$+"]: "+v+`
`+_+`
`+Z+" "+fe})}function Ls(h,v,_,N){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+qi(h,_)+(N?" "+N:"")})}function Nu(h,v){h.info(function(){return"TIMEOUT: "+v})}Yn.prototype.info=function(){};function qi(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var N=_[h];if(!(2>N.length)){var $=N[1];if(Array.isArray($)&&!(1>$.length)){var Z=$[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var fe=1;fe<$.length;fe++)$[fe]=""}}}}return ar(_)}catch{return v}}var Us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},es={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},br;function wr(){}P(wr,Sl),wr.prototype.g=function(){return new XMLHttpRequest},wr.prototype.i=function(){return{}},br=new wr;function gn(h,v,_,N){this.j=h,this.i=v,this.l=_,this.R=N||1,this.U=new zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var jl={},Fa={};function or(h,v,_){h.L=1,h.v=Qi(In(v)),h.m=_,h.P=!0,ts(h,null)}function ts(h,v){h.F=Date.now(),$i(h),h.A=In(h.v);var _=h.A,N=h.R;Array.isArray(N)||(N=[String(N)]),Vl(_.i,"t",N),h.C=0,_=h.j.J,h.h=new St,h.g=Hu(h.j,_?v:null,!h.m),0<h.O&&(h.M=new Gf(E(h.Y,h,h.g),h.O)),v=h.U,_=h.g,N=h.ca;var $="readystatechange";Array.isArray($)||($&&(Bi[0]=$.toString()),$=Bi);for(var Z=0;Z<$.length;Z++){var fe=Eu(_,$[Z],N||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Vs(),Il(h.i,h.u,h.A,h.l,h.R,h.m)}gn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Wn(h)==3?v.j():this.Y(h)},gn.prototype.Y=function(h){try{if(h==this.g)e:{const Ut=Wn(this.g);var v=this.g.Ba();const cs=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||Ou(this.g)))){this.J||Ut!=4||v==7||(v==8||0>=cs?Vs(3):Vs(2)),zs(this);var _=this.g.Z();this.X=_;t:if(Ru(this)){var N=Ou(this.g);h="";var $=N.length,Z=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),Er(this);var fe="";break t}this.h.i=new m.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,h+=this.h.i.decode(N[v],{stream:!(Z&&v==$-1)});N.length=0,this.h.g+=h,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=_==200,Yf(this.i,this.u,this.A,this.l,this.R,Ut,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Lt=this.g;if((Fe=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Fe)){var He=Fe;break t}}He=null}if(_=He)Ls(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gi(this,_);else{this.o=!1,this.s=3,ht(12),tn(this),Er(this);break e}}if(this.P){_=!0;let nn;for(;!this.J&&this.C<fe.length;)if(nn=Cu(this,fe),nn==Fa){Ut==4&&(this.s=4,ht(14),_=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==jl){this.s=4,ht(15),Ls(this.i,this.l,fe,"[Invalid Chunk]"),_=!1;break}else Ls(this.i,this.l,nn,null),Gi(this,nn);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||fe.length!=0||this.h.h||(this.s=1,ht(16),_=!1),this.o=this.o&&_,!_)Ls(this.i,this.l,fe,"[Invalid Chunked Response]"),tn(this),Er(this);else if(0<fe.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),ra(Gt),Gt.M=!0,ht(11))}}else Ls(this.i,this.l,fe,null),Gi(this,fe);Ut==4&&tn(this),this.o&&!this.J&&(Ut==4?zu(this.j,this):(this.o=!1,$i(this)))}else Zf(this.g),_==400&&0<fe.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),tn(this),Er(this)}}}catch{}finally{}};function Ru(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Cu(h,v){var _=h.C,N=v.indexOf(`
`,_);return N==-1?Fa:(_=Number(v.substring(_,N)),isNaN(_)?jl:(N+=1,N+_>v.length?Fa:(v=v.slice(N,N+_),h.C=N+_,v)))}gn.prototype.cancel=function(){this.J=!0,tn(this)};function $i(h){h.S=Date.now()+h.I,Iu(h,h.I)}function Iu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ct(E(h.ba,h),v)}function zs(h){h.B&&(m.clearTimeout(h.B),h.B=null)}gn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Nu(this.i,this.A),this.L!=2&&(Vs(),ht(17)),tn(this),this.s=2,Er(this)):Iu(this,this.S-h)};function Er(h){h.j.G==0||h.J||zu(h.j,h)}function tn(h){zs(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Fi(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Gi(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||Dl(_.h,h))){if(!h.K&&Dl(_.h,h)&&_.G==3){try{var N=_.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var $=N;if($[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)eo(_),Za(_);else break e;Fl(_),ht(18)}}else _.za=$[1],0<_.za-_.T&&37500>$[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ct(E(_.Za,_),6e3));if(1>=qa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ls(_,11)}else if((h.K||_.g==h)&&eo(_),!te(v))for($=_.Da.g.parse(v),v=0;v<$.length;v++){let He=$[v];if(_.T=He[0],He=He[1],_.G==2)if(He[0]=="c"){_.K=He[1],_.ia=He[2];const Gt=He[3];Gt!=null&&(_.la=Gt,_.j.info("VER="+_.la));const Ut=He[4];Ut!=null&&(_.Aa=Ut,_.j.info("SVER="+_.Aa));const cs=He[5];cs!=null&&typeof cs=="number"&&0<cs&&(N=1.5*cs,_.L=N,_.j.info("backChannelRequestTimeoutMs_="+N)),N=_;const nn=h.g;if(nn){const Ir=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var Z=N.h;Z.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&($a(Z,Z.h),Z.h=null))}if(N.D){const ql=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;ql&&(N.ya=ql,tt(N.I,N.D,ql))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),N=_;var fe=h;if(N.qa=Fu(N,N.J?N.ia:null,N.W),fe.K){yn(N.h,fe);var Fe=fe,Lt=N.L;Lt&&(Fe.I=Lt),Fe.B&&(zs(Fe),$i(Fe)),N.g=fe}else Lu(N);0<_.i.length&&Ja(_)}else He[0]!="stop"&&He[0]!="close"||ls(_,7);else _.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?ls(_,7):zl(_):He[0]!="noop"&&_.l&&_.l.ta(He),_.v=0)}}Vs(4)}catch{}}var ju=class{constructor(h,v){this.g=h,this.map=v}};function ns(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ha(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qa(h){return h.h?1:h.g?h.g.size:0}function Dl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function $a(h,v){h.g?h.g.add(v):h.h=v}function yn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}ns.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function kl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return z(h.i)}function Kf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],_=h.length,N=0;N<_;N++)v.push(h[N]);return v}v=[],_=0;for(N in h)v[_++]=h[N];return v}function Ga(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const N in h)v[_++]=N;return v}}}function Ml(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=Ga(h),N=Kf(h),$=N.length,Z=0;Z<$;Z++)v.call(void 0,N[Z],_&&_[Z],h)}var Yi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qf(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var N=h[_].indexOf("="),$=null;if(0<=N){var Z=h[_].substring(0,N);$=h[_].substring(N+1)}else Z=h[_];v(Z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function It(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof It){this.h=h.h,Ki(this,h.j),this.o=h.o,this.g=h.g,Bs(this,h.s),this.l=h.l;var v=h.i,_=new ss;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),rs(this,_),this.m=h.m}else h&&(v=String(h).match(Yi))?(this.h=!1,Ki(this,v[1]||"",!0),this.o=Kn(v[2]||""),this.g=Kn(v[3]||"",!0),Bs(this,v[4]),this.l=Kn(v[5]||"",!0),rs(this,v[6]||"",!0),this.m=Kn(v[7]||"")):(this.h=!1,this.i=new ss(null,this.h))}It.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Xi(v,Ol,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Xi(v,Ol,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Xi(_,_.charAt(0)=="/"?Xf:Pl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Xi(_,Ya)),h.join("")};function In(h){return new It(h)}function Ki(h,v,_){h.j=_?Kn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Bs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function rs(h,v,_){v instanceof ss?(h.i=v,ku(h.i,h.h)):(_||(v=Xi(v,Wf)),h.i=new ss(v,h.h))}function tt(h,v,_){h.i.set(v,_)}function Qi(h){return tt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Kn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xi(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,Du),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Du(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ol=/[#\/\?@]/g,Pl=/[#\?:]/g,Xf=/[#\?]/g,Wf=/[#\?@]/g,Ya=/#/g;function ss(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Qn(h){h.g||(h.g=new Map,h.h=0,h.i&&Qf(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}n=ss.prototype,n.add=function(h,v){Qn(this),this.i=null,h=Tr(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function is(h,v){Qn(h),v=Tr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function as(h,v){return Qn(h),v=Tr(h,v),h.g.has(v)}n.forEach=function(h,v){Qn(this),this.g.forEach(function(_,N){_.forEach(function($){h.call(v,$,N,this)},this)},this)},n.na=function(){Qn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let N=0;N<v.length;N++){const $=h[N];for(let Z=0;Z<$.length;Z++)_.push(v[N])}return _},n.V=function(h){Qn(this);let v=[];if(typeof h=="string")as(this,h)&&(v=v.concat(this.g.get(Tr(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},n.set=function(h,v){return Qn(this),this.i=null,h=Tr(this,h),as(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Vl(h,v,_){is(h,v),0<_.length&&(h.i=null,h.g.set(Tr(h,v),z(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var N=v[_];const Z=encodeURIComponent(String(N)),fe=this.V(N);for(N=0;N<fe.length;N++){var $=Z;fe[N]!==""&&($+="="+encodeURIComponent(String(fe[N]))),h.push($)}}return this.i=h.join("&")};function Tr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function ku(h,v){v&&!h.j&&(Qn(h),h.i=null,h.g.forEach(function(_,N){var $=N.toLowerCase();N!=$&&(is(this,N),Vl(this,$,_))},h)),h.j=v}function Wi(h,v){const _=new Yn;if(m.Image){const N=new Image;N.onload=j(Xn,_,"TestLoadImage: loaded",!0,v,N),N.onerror=j(Xn,_,"TestLoadImage: error",!1,v,N),N.onabort=j(Xn,_,"TestLoadImage: abort",!1,v,N),N.ontimeout=j(Xn,_,"TestLoadImage: timeout",!1,v,N),m.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else v(!1)}function lr(h,v){const _=new Yn,N=new AbortController,$=setTimeout(()=>{N.abort(),Xn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:N.signal}).then(Z=>{clearTimeout($),Z.ok?Xn(_,"TestPingServer: ok",!0,v):Xn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Xn(_,"TestPingServer: error",!1,v)})}function Xn(h,v,_,N,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),N(_)}catch{}}function Zi(){this.g=new Hi}function Sr(h,v,_){const N=_||"";try{Ml(h,function($,Z){let fe=$;y($)&&(fe=ar($)),v.push(N+Z+"="+encodeURIComponent(fe))})}catch($){throw v.push(N+"type="+encodeURIComponent("_badmap")),$}}function Fs(h){this.l=h.Ub||null,this.j=h.eb||!1}P(Fs,Sl),Fs.prototype.g=function(){return new os(this.l,this.j)},Fs.prototype.i=function(h){return function(){return h}}({});function os(h,v){wt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(os,wt),n=os.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Nr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Nr(this)),this.g&&(this.readyState=3,Nr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ll(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ll(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ar(this):Nr(this),this.readyState==3&&Ll(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Ar(this))},n.Qa=function(h){this.g&&(this.response=h,Ar(this))},n.ga=function(){this.g&&Ar(this)};function Ar(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Nr(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function Nr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ul(h){let v="";return ue(h,function(_,N){v+=N,v+=":",v+=_,v+=`\r
`}),v}function $t(h,v,_){e:{for(N in _){var N=!1;break e}N=!0}N||(_=Ul(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):tt(h,v,_))}function Xe(h){wt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Xe,wt);var Ka=/^https?$/i,Ji=["POST","PUT"];n=Xe.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,_,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():br.g(),this.v=this.o?Al(this.o):Al(br),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Z){Mu(this,Z);return}if(h=_||"",_=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var $ in N)_.set($,N[$]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Z of N.keys())_.set(Z,N.get(Z));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),$=m.FormData&&h instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ji,v,void 0))||N||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of _)this.g.setRequestHeader(Z,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){Mu(this,Z)}};function Mu(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Qa(h),Rr(h)}function Qa(h){h.A||(h.A=!0,Ze(h,"complete"),Ze(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ze(this,"complete"),Ze(this,"abort"),Rr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rr(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Xa(this):this.bb())},n.bb=function(){Xa(this)};function Xa(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Wn(h)!=4||h.Z()!=2)){if(h.u&&Wn(h)==4)un(h.Ea,0,h);else if(Ze(h,"readystatechange"),Wn(h)==4){h.h=!1;try{const fe=h.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var N;if(N=fe===0){var $=String(h.D).match(Yi)[1]||null;!$&&m.self&&m.self.location&&($=m.self.location.protocol.slice(0,-1)),N=!Ka.test($?$.toLowerCase():"")}_=N}if(_)Ze(h,"complete"),Ze(h,"success");else{h.m=6;try{var Z=2<Wn(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",Qa(h)}}finally{Rr(h)}}}}function Rr(h,v){if(h.g){ea(h);const _=h.g,N=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ze(h,"ready");try{_.onreadystatechange=N}catch{}}}function ea(h){h.I&&(m.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Wn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),za(v)}};function Ou(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Zf(h){const v={};h=(h.g&&2<=Wn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(te(h[N]))continue;var _=k(h[N]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=v[$]||[];v[$]=Z,Z.push(_)}I(v,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function Wa(h){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,h),this.cb=ta("retryDelaySeedMs",1e4,h),this.Wa=ta("forwardChannelMaxRetries",2,h),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ns(h&&h.concurrentRequestLimit),this.Da=new Zi,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Wa.prototype,n.la=8,n.G=1,n.connect=function(h,v,_,N){ht(0),this.W=h,this.H=v||{},_&&N!==void 0&&(this.H.OSID=_,this.H.OAID=N),this.F=this.X,this.I=Fu(this,null,this.W),Ja(this)};function zl(h){if(Pu(h),h.G==3){var v=h.U++,_=In(h.I);if(tt(_,"SID",h.K),tt(_,"RID",v),tt(_,"TYPE","terminate"),na(h,_),v=new gn(h,h.j,v),v.L=2,v.v=Qi(In(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=v.v,_=!0),_||(v.g=Hu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),$i(v)}Bu(h)}function Za(h){h.g&&(ra(h),h.g.cancel(),h.g=null)}function Pu(h){Za(h),h.u&&(m.clearTimeout(h.u),h.u=null),eo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&m.clearTimeout(h.s),h.s=null)}function Ja(h){if(!Ha(h.h)&&!h.s){h.s=!0;var v=h.Ga;W||R(),H||(W(),H=!0),se.add(v,h),h.B=0}}function Jf(h,v){return qa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ct(E(h.Ga,h,v),Hl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new gn(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=T(Z),C(Z,this.S)):Z=this.S),this.m!==null||this.O||($.H=Z,Z=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var N=this.i[_];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Vu(this,$,v),_=In(this.I),tt(_,"RID",h),tt(_,"CVER",22),this.D&&tt(_,"X-HTTP-Session-Id",this.D),na(this,_),Z&&(this.O?v="headers="+encodeURIComponent(String(Ul(Z)))+"&"+v:this.m&&$t(_,this.m,Z)),$a(this.h,$),this.Ua&&tt(_,"TYPE","init"),this.P?(tt(_,"$req",v),tt(_,"SID","null"),$.T=!0,or($,_,null)):or($,_,v),this.G=2}}else this.G==3&&(h?Bl(this,h):this.i.length==0||Ha(this.h)||Bl(this))};function Bl(h,v){var _;v?_=v.l:_=h.U++;const N=In(h.I);tt(N,"SID",h.K),tt(N,"RID",_),tt(N,"AID",h.T),na(h,N),h.m&&h.o&&$t(N,h.m,h.o),_=new gn(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Vu(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),$a(h.h,_),or(_,N,v)}function na(h,v){h.H&&ue(h.H,function(_,N){tt(v,N,_)}),h.l&&Ml({},function(_,N){tt(v,N,_)})}function Vu(h,v,_){_=Math.min(h.i.length,_);var N=h.l?E(h.l.Na,h.l,h):null;e:{var $=h.i;let Z=-1;for(;;){const fe=["count="+_];Z==-1?0<_?(Z=$[0].g,fe.push("ofs="+Z)):Z=0:fe.push("ofs="+Z);let Fe=!0;for(let Lt=0;Lt<_;Lt++){let He=$[Lt].g;const Gt=$[Lt].map;if(He-=Z,0>He)Z=Math.max(0,$[Lt].g-100),Fe=!1;else try{Sr(Gt,fe,"req"+He+"_")}catch{N&&N(Gt)}}if(Fe){N=fe.join("&");break e}}}return h=h.i.splice(0,_),v.D=h,N}function Lu(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;W||R(),H||(W(),H=!0),se.add(v,h),h.v=0}}function Fl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ct(E(h.Fa,h),Hl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ct(E(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Za(this),Uu(this))};function ra(h){h.A!=null&&(m.clearTimeout(h.A),h.A=null)}function Uu(h){h.g=new gn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=In(h.qa);tt(v,"RID","rpc"),tt(v,"SID",h.K),tt(v,"AID",h.T),tt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&tt(v,"TO",h.ja),tt(v,"TYPE","xmlhttp"),na(h,v),h.m&&h.o&&$t(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Qi(In(v)),_.m=null,_.P=!0,ts(_,h)}n.Za=function(){this.C!=null&&(this.C=null,Za(this),Fl(this),ht(19))};function eo(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function zu(h,v){var _=null;if(h.g==v){eo(h),ra(h),h.g=null;var N=2}else if(Dl(h.h,v))_=v.D,yn(h.h,v),N=1;else return;if(h.G!=0){if(v.o)if(N==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var $=h.B;N=Ps(),Ze(N,new Vt(N,_)),Ja(h)}else Lu(h);else if($=v.s,$==3||$==0&&0<v.X||!(N==1&&Jf(h,v)||N==2&&Fl(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),$){case 1:ls(h,5);break;case 4:ls(h,10);break;case 3:ls(h,6);break;default:ls(h,2)}}}function Hl(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function ls(h,v){if(h.j.info("Error code "+v),v==2){var _=E(h.fb,h),N=h.Xa;const $=!N;N=new It(N||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ki(N,"https"),Qi(N),$?Wi(N.toString(),_):lr(N.toString(),_)}else ht(2);h.G=0,h.l&&h.l.sa(v),Bu(h),Pu(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Bu(h){if(h.G=0,h.ka=[],h.l){const v=kl(h.h);(v.length!=0||h.i.length!=0)&&(B(h.ka,v),B(h.ka,h.i),h.h.i.length=0,z(h.i),h.i.length=0),h.l.ra()}}function Fu(h,v,_){var N=_ instanceof It?In(_):new It(_);if(N.g!="")v&&(N.g=v+"."+N.g),Bs(N,N.s);else{var $=m.location;N=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var Z=new It(null);N&&Ki(Z,N),v&&(Z.g=v),$&&Bs(Z,$),_&&(Z.l=_),N=Z}return _=h.D,v=h.ya,_&&v&&tt(N,_,v),tt(N,"VER",h.la),na(h,N),N}function Hu(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Xe(new Fs({eb:_})):new Xe(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}n=qu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function to(){}to.prototype.g=function(h,v){return new vn(h,v)};function vn(h,v){wt.call(this),this.g=new Wa(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!te(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!te(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Cr(this)}P(vn,wt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){zl(this.g)},vn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=ar(h),h=_);v.i.push(new ju(v.Ya++,h)),v.G==3&&Ja(v)},vn.prototype.N=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,vn.aa.N.call(this)};function $u(h){Jr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const _ in v){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}P($u,Jr);function Gu(){Rl.call(this),this.status=1}P(Gu,Rl);function Cr(h){this.g=h}P(Cr,qu),Cr.prototype.ua=function(){Ze(this.g,"a")},Cr.prototype.ta=function(h){Ze(this.g,new $u(h))},Cr.prototype.sa=function(h){Ze(this.g,new Gu)},Cr.prototype.ra=function(){Ze(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,N4=function(){return new to},A4=function(){return Ps()},S4=_r,jg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,hh=Us,es.COMPLETE="complete",T4=es,Nl.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Oc=Nl,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,E4=Xe}).apply(typeof Qd<"u"?Qd:typeof self<"u"?self:typeof window<"u"?window:{});const Lx="@firebase/firestore",Ux="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new p0("@firebase/firestore");function Do(){return Ra.logLevel}function ye(n,...e){if(Ra.logLevel<=Ue.DEBUG){const t=e.map(A0);Ra.debug(`Firestore (${cl}): ${n}`,...t)}}function js(n,...e){if(Ra.logLevel<=Ue.ERROR){const t=e.map(A0);Ra.error(`Firestore (${cl}): ${n}`,...t)}}function Go(n,...e){if(Ra.logLevel<=Ue.WARN){const t=e.map(A0);Ra.warn(`Firestore (${cl}): ${n}`,...t)}}function A0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,R4(n,s,t)}function R4(n,e,t){let s=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw js(s),new Error(s)}function Ge(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||R4(e,a,s)}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mn.UNAUTHENTICATED))}shutdown(){}}class j8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class D8{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fr,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},m=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new C4(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class k8{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M8{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new k8(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O8{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const s=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new zx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=P8(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function ze(n,e){return n<e?-1:n>e?1:0}function Dg(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const a=n.charAt(s),l=e.charAt(s);if(a!==l)return ig(a)===ig(l)?ze(a,l):ig(a)?1:-1}return ze(n.length,e.length)}const V8=55296,L8=57343;function ig(n){const e=n.charCodeAt(0);return e>=V8&&e<=L8}function Yo(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="__name__";class Pr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Pr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return ze(e.length,t.length)}static compareSegments(e,t){const s=Pr.isNumericId(e),a=Pr.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Pr.extractNumericId(e).compare(Pr.extractNumericId(t)):Dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _i.fromString(e.substring(4,e.length-2))}}class it extends Pr{construct(e,t,s){return new it(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new it(t)}static emptyPath(){return new it([])}}const U8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Pr{construct(e,t,s){return new ln(e,t,s)}static isValidIdentifier(e){return U8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bx}static keyField(){return new ln([Bx])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else m==="`"?(u=!u,a++):m!=="."||u?(s+=m,a++):(l(),a++)}if(l(),u)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(it.fromString(e))}static fromName(e){return new we(it.fromString(e).popFirst(5))}static empty(){return new we(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(n,e,t){if(!t)throw new me(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function z8(n,e,t,s){if(e===!0&&s===!0)throw new me(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Fx(n){if(!we.isDocumentKey(n))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Hx(n){if(we.isDocumentKey(n))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function j4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ff(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function bn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ff(n);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n,e){const t={typeString:n};return e&&(t.value=e),t}function pu(n,e){if(!j4(n))throw new me(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const u=n[s];if(a&&typeof u!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new me(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=-62135596800,$x=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*$x);return new dt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qx)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$x}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Pt("string",dt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new dt(0,0))}static max(){return new Ne(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=-1;function B8(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(s===1e9?new dt(t+1,0):new dt(t,s));return new Ai(a,we.empty(),e)}function F8(n){return new Ai(n.readTime,n.key,Wc)}class Ai{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ai(Ne.min(),we.empty(),Wc)}static max(){return new Ai(Ne.max(),we.empty(),Wc)}}function H8(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==q8)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,s)=>{t(e)})}static reject(e){return new ce((t,s)=>{s(e)})}static waitFor(e){return new ce((t,s)=>{let a=0,l=0,u=!1;e.forEach(m=>{++a,m.next(()=>{++l,u&&l===a&&t()},p=>s(p))}),u=!0,l===a&&t()})}static or(e){let t=ce.resolve(!1);for(const s of e)t=t.next(a=>a?ce.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new ce((s,a)=>{const l=e.length,u=new Array(l);let m=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(x=>{u[y]=x,++m,m===l&&s(u)},x=>a(x))}})}static doWhile(e,t){return new ce((s,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):s()};l()})}}function G8(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=-1;function gu(n){return n==null}function Mh(n){return n===0&&1/n==-1/0}function Y8(n){return typeof n=="number"&&Number.isInteger(n)&&!Mh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="";function K8(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Gx(e)),e=Q8(n.get(t),e);return Gx(e)}function Q8(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case D4:t+="";break;default:t+=l}}return t}function Gx(n){return n+D4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Mi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function k4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??on.RED,this.left=a??on.EMPTY,this.right=l??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new on(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return on.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kx(this.data.getIterator())}getIteratorFrom(e){return new Kx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class Kx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Ht(ln.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new M4("Invalid base64 string: "+l):l}}(e);return new cn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const X8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(n){if(Ge(!!n,39018),typeof n=="string"){let e=0;const t=X8.exec(n);if(Ge(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ri(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="server_timestamp",P4="__type__",V4="__previous_value__",L4="__local_write_time__";function C0(n){return(n?.mapValue?.fields||{})[P4]?.stringValue===O4}function pf(n){const e=n.mapValue.fields[V4];return C0(e)?pf(e):e}function Zc(n){const e=Ni(n.mapValue.fields[L4].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e,t,s,a,l,u,m,p,y,x){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=x}}const Oh="(default)";class Jc{constructor(e,t){this.projectId=e,this.database=t||Oh}static empty(){return new Jc("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof Jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="__type__",Z8="__max__",Wd={mapValue:{}},z4="__vector__",Ph="value";function Ci(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?C0(n)?4:eR(n)?9007199254740991:J8(n)?10:11:Te(28295,{value:n})}function Gr(n,e){if(n===e)return!0;const t=Ci(n);if(t!==Ci(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zc(n).isEqual(Zc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ni(a.timestampValue),m=Ni(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Ri(a.bytesValue).isEqual(Ri(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Rt(a.doubleValue),m=Rt(l.doubleValue);return u===m?Mh(u)===Mh(m):isNaN(u)&&isNaN(m)}return!1}(n,e);case 9:return Yo(n.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},m=l.mapValue.fields||{};if(Yx(u)!==Yx(m))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(m[p]===void 0||!Gr(u[p],m[p])))return!1;return!0}(n,e);default:return Te(52216,{left:n})}}function eu(n,e){return(n.values||[]).find(t=>Gr(t,e))!==void 0}function Ko(n,e){if(n===e)return 0;const t=Ci(n),s=Ci(e);if(t!==s)return ze(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(l,u){const m=Rt(l.integerValue||l.doubleValue),p=Rt(u.integerValue||u.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(n,e);case 3:return Qx(n.timestampValue,e.timestampValue);case 4:return Qx(Zc(n),Zc(e));case 5:return Dg(n.stringValue,e.stringValue);case 6:return function(l,u){const m=Ri(l),p=Ri(u);return m.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const m=l.split("/"),p=u.split("/");for(let y=0;y<m.length&&y<p.length;y++){const x=ze(m[y],p[y]);if(x!==0)return x}return ze(m.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const m=ze(Rt(l.latitude),Rt(u.latitude));return m!==0?m:ze(Rt(l.longitude),Rt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Xx(n.arrayValue,e.arrayValue);case 10:return function(l,u){const m=l.fields||{},p=u.fields||{},y=m[Ph]?.arrayValue,x=p[Ph]?.arrayValue,w=ze(y?.values?.length||0,x?.values?.length||0);return w!==0?w:Xx(y,x)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===Wd.mapValue&&u===Wd.mapValue)return 0;if(l===Wd.mapValue)return 1;if(u===Wd.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),y=u.fields||{},x=Object.keys(y);p.sort(),x.sort();for(let w=0;w<p.length&&w<x.length;++w){const E=Dg(p[w],x[w]);if(E!==0)return E;const j=Ko(m[p[w]],y[x[w]]);if(j!==0)return j}return ze(p.length,x.length)}(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function Qx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=Ni(n),s=Ni(e),a=ze(t.seconds,s.seconds);return a!==0?a:ze(t.nanos,s.nanos)}function Xx(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=Ko(t[a],s[a]);if(l)return l}return ze(t.length,s.length)}function Qo(n){return kg(n)}function kg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Ni(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ri(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=kg(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${kg(t.fields[u])}`;return a+"}"}(n.mapValue):Te(61005,{value:n})}function fh(n){switch(Ci(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pf(n);return e?16+fh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ri(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+fh(l),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return Mi(s.fields,(l,u)=>{a+=l.length+fh(u)}),a}(n.mapValue);default:throw Te(13486,{value:n})}}function Wx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Mg(n){return!!n&&"integerValue"in n}function I0(n){return!!n&&"arrayValue"in n}function Zx(n){return!!n&&"nullValue"in n}function Jx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mh(n){return!!n&&"mapValue"in n}function J8(n){return(n?.mapValue?.fields||{})[U4]?.stringValue===z4}function Bc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Mi(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Bc(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bc(n.arrayValue.values[t]);return e}return{...n}}function eR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Z8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(t)}setAll(e){let t=ln.emptyPath(),s={},a=[];e.forEach((u,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,a),s={},a=[],t=m.popLast()}u?s[m.lastSegment()]=Bc(u):a.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];mh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Mi(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new _n(Bc(this.value))}}function B4(n){const e=[];return Mi(n.fields,(t,s)=>{const a=new ln([t]);if(mh(s)){const l=B4(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,s,a,l,u,m){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Ne.min(),Ne.min(),Ne.min(),_n.empty(),0)}static newFoundDocument(e,t,s,a){return new Zt(e,1,t,Ne.min(),s,a,0)}static newNoDocument(e,t){return new Zt(e,2,t,Ne.min(),Ne.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Ne.min(),Ne.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.position=e,this.inclusive=t}}function e_(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?s=we.comparator(we.fromName(u.referenceValue),t.key):s=Ko(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function t_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,t="asc"){this.field=e,this.dir=t}}function tR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{}class Ot extends F4{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new rR(e,t,s):t==="array-contains"?new aR(e,s):t==="in"?new oR(e,s):t==="not-in"?new lR(e,s):t==="array-contains-any"?new cR(e,s):new Ot(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new sR(e,s):new iR(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ko(t,this.value)):t!==null&&Ci(this.value)===Ci(t)&&this.matchesComparison(Ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends F4{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new yr(e,t)}matches(e){return H4(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H4(n){return n.op==="and"}function q4(n){return nR(n)&&H4(n)}function nR(n){for(const e of n.filters)if(e instanceof yr)return!1;return!0}function Og(n){if(n instanceof Ot)return n.field.canonicalString()+n.op.toString()+Qo(n.value);if(q4(n))return n.filters.map(e=>Og(e)).join(",");{const e=n.filters.map(t=>Og(t)).join(",");return`${n.op}(${e})`}}function $4(n,e){return n instanceof Ot?function(s,a){return a instanceof Ot&&s.op===a.op&&s.field.isEqual(a.field)&&Gr(s.value,a.value)}(n,e):n instanceof yr?function(s,a){return a instanceof yr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,u,m)=>l&&$4(u,a.filters[m]),!0):!1}(n,e):void Te(19439)}function G4(n){return n instanceof Ot?function(t){return`${t.field.canonicalString()} ${t.op} ${Qo(t.value)}`}(n):n instanceof yr?function(t){return t.op.toString()+" {"+t.getFilters().map(G4).join(" ,")+"}"}(n):"Filter"}class rR extends Ot{constructor(e,t,s){super(e,t,s),this.key=we.fromName(s.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class sR extends Ot{constructor(e,t){super(e,"in",t),this.keys=Y4("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iR extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=Y4("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Y4(n,e){return(e.arrayValue?.values||[]).map(t=>we.fromName(t.referenceValue))}class aR extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return I0(t)&&eu(t.arrayValue,this.value)}}class oR extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&eu(this.value.arrayValue,t)}}class lR extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!eu(this.value.arrayValue,t)}}class cR extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!I0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>eu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,t=null,s=[],a=[],l=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=m,this.Te=null}}function n_(n,e=null,t=[],s=[],a=null,l=null,u=null){return new uR(n,e,t,s,a,l,u)}function j0(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Og(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),gu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Qo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Qo(s)).join(",")),e.Te=t}return e.Te}function D0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!t_(n.startAt,e.startAt)&&t_(n.endAt,e.endAt)}function Pg(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,t=null,s=[],a=[],l=null,u="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dR(n,e,t,s,a,l,u,m){return new hl(n,e,t,s,a,l,u,m)}function gf(n){return new hl(n)}function r_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function K4(n){return n.collectionGroup!==null}function Fc(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new Ht(ln.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new tu(l,s))}),t.has(ln.keyField().canonicalString())||e.Ie.push(new tu(ln.keyField(),s))}return e.Ie}function Hr(n){const e=Ie(n);return e.Ee||(e.Ee=hR(e,Fc(n))),e.Ee}function hR(n,e){if(n.limitType==="F")return n_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new tu(a.field,l)});const t=n.endAt?new Vh(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Vh(n.startAt.position,n.startAt.inclusive):null;return n_(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Vg(n,e){const t=n.filters.concat([e]);return new hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Lh(n,e,t){return new hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yf(n,e){return D0(Hr(n),Hr(e))&&n.limitType===e.limitType}function Q4(n){return`${j0(Hr(n))}|lt:${n.limitType}`}function ko(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>G4(a)).join(", ")}]`),gu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>Qo(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>Qo(a)).join(",")),`Target(${s})`}(Hr(n))}; limitType=${n.limitType})`}function vf(n,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):we.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,e)&&function(s,a){for(const l of Fc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(s,a){return!(s.startAt&&!function(u,m,p){const y=e_(u,m,p);return u.inclusive?y<=0:y<0}(s.startAt,Fc(s),a)||s.endAt&&!function(u,m,p){const y=e_(u,m,p);return u.inclusive?y>=0:y>0}(s.endAt,Fc(s),a))}(n,e)}function fR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function X4(n){return(e,t)=>{let s=!1;for(const a of Fc(n)){const l=mR(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function mR(n,e,t){const s=n.field.isKeyField()?we.comparator(e.key,t.key):function(l,u,m){const p=u.data.field(l),y=m.data.field(l);return p!==null&&y!==null?Ko(p,y):Te(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Mi(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return k4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=new _t(we.comparator);function Ds(){return pR}const W4=new _t(we.comparator);function Pc(...n){let e=W4;for(const t of n)e=e.insert(t.key,t);return e}function Z4(n){let e=W4;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function _a(){return Hc()}function J4(){return Hc()}function Hc(){return new Oa(n=>n.toString(),(n,e)=>n.isEqual(e))}const gR=new _t(we.comparator),yR=new Ht(we.comparator);function Be(...n){let e=yR;for(const t of n)e=e.add(t);return e}const vR=new Ht(ze);function xR(){return vR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function ew(n){return{integerValue:""+n}}function tw(n,e){return Y8(e)?ew(e):k0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this._=void 0}}function _R(n,e,t){return n instanceof nu?function(a,l){const u={fields:{[P4]:{stringValue:O4},[L4]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&C0(l)&&(l=pf(l)),l&&(u.fields[V4]=l),{mapValue:u}}(t,e):n instanceof Xo?rw(n,e):n instanceof ru?sw(n,e):function(a,l){const u=nw(a,l),m=s_(u)+s_(a.Ae);return Mg(u)&&Mg(a.Ae)?ew(m):k0(a.serializer,m)}(n,e)}function bR(n,e,t){return n instanceof Xo?rw(n,e):n instanceof ru?sw(n,e):t}function nw(n,e){return n instanceof su?function(s){return Mg(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class nu extends xf{}class Xo extends xf{constructor(e){super(),this.elements=e}}function rw(n,e){const t=iw(e);for(const s of n.elements)t.some(a=>Gr(a,s))||t.push(s);return{arrayValue:{values:t}}}class ru extends xf{constructor(e){super(),this.elements=e}}function sw(n,e){let t=iw(e);for(const s of n.elements)t=t.filter(a=>!Gr(a,s));return{arrayValue:{values:t}}}class su extends xf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function s_(n){return Rt(n.integerValue||n.doubleValue)}function iw(n){return I0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,t){this.field=e,this.transform=t}}function wR(n,e){return n.field.isEqual(e.field)&&function(s,a){return s instanceof Xo&&a instanceof Xo||s instanceof ru&&a instanceof ru?Yo(s.elements,a.elements,Gr):s instanceof su&&a instanceof su?Gr(s.Ae,a.Ae):s instanceof nu&&a instanceof nu}(n.transform,e.transform)}class ER{constructor(e,t){this.version=e,this.transformResults=t}}class Ft{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ft}static exists(e){return new Ft(void 0,e)}static updateTime(e){return new Ft(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class _f{}function aw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bf(n.key,Ft.none()):new yu(n.key,n.data,Ft.none());{const t=n.data,s=_n.empty();let a=new Ht(ln.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Oi(n.key,s,new Fn(a.toArray()),Ft.none())}}function TR(n,e,t){n instanceof yu?function(a,l,u){const m=a.value.clone(),p=a_(a.fieldTransforms,l,u.transformResults);m.setAll(p),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Oi?function(a,l,u){if(!ph(a.precondition,l))return void l.convertToUnknownDocument(u.version);const m=a_(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(ow(a)),p.setAll(m),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function qc(n,e,t,s){return n instanceof yu?function(l,u,m,p){if(!ph(l.precondition,u))return m;const y=l.value.clone(),x=o_(l.fieldTransforms,p,u);return y.setAll(x),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,s):n instanceof Oi?function(l,u,m,p){if(!ph(l.precondition,u))return m;const y=o_(l.fieldTransforms,p,u),x=u.data;return x.setAll(ow(l)),x.setAll(y),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,s):function(l,u,m){return ph(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m}(n,e,t)}function SR(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=nw(s.transform,a||null);l!=null&&(t===null&&(t=_n.empty()),t.set(s.field,l))}return t||null}function i_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Yo(s,a,(l,u)=>wR(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yu extends _f{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Oi extends _f{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ow(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function a_(n,e,t){const s=new Map;Ge(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,m=e.data.field(l.field);s.set(l.field,bR(u,m,t[a]))}return s}function o_(n,e,t){const s=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);s.set(a.field,_R(l,u,e))}return s}class bf extends _f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lw extends _f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&TR(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=qc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=qc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=J4();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let m=this.applyToLocalView(u,l.mutatedFields);m=t.has(a.key)?null:m;const p=aw(u,m);p!==null&&s.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Ne.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(t,s)=>i_(t,s))&&Yo(this.baseMutations,e.baseMutations,(t,s)=>i_(t,s))}}class O0{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=function(){return gR}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new O0(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,$e;function cw(n){switch(n){case ne.OK:return Te(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function uw(n){if(n===void 0)return js("GRPC error has no .code"),ne.UNKNOWN;switch(n){case kt.OK:return ne.OK;case kt.CANCELLED:return ne.CANCELLED;case kt.UNKNOWN:return ne.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ne.INTERNAL;case kt.UNAVAILABLE:return ne.UNAVAILABLE;case kt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case kt.NOT_FOUND:return ne.NOT_FOUND;case kt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case kt.ABORTED:return ne.ABORTED;case kt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case kt.DATA_LOSS:return ne.DATA_LOSS;default:return Te(39323,{code:n})}}($e=kt||(kt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new _i([4294967295,4294967295],0);function l_(n){const e=CR().encode(n),t=new w4;return t.update(e),new Uint8Array(t.digest())}function c_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new _i([t,s],0),new _i([a,l],0)]}class P0{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Vc(`Invalid padding: ${t}`);if(s<0)throw new Vc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=_i.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(_i.fromNumber(s)));return a.compare(IR)===1&&(a=new _i([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=l_(e),[s,a]=c_(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new P0(l,a,t);return s.forEach(m=>u.insert(m)),u}insert(e){if(this.ge===0)return;const t=l_(e),[s,a]=c_(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new wf(Ne.min(),a,new _t(ze),Ds(),Be())}}class vu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new vu(s,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class dw{constructor(e,t){this.targetId=e,this.Ce=t}}class hw{constructor(e,t,s=cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class u_{constructor(){this.ve=0,this.Fe=d_(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),s=Be();return this.Fe.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Te(38017,{changeType:l})}}),new vu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=d_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ds(),this.Je=Zd(),this.He=Zd(),this.Ye=new _t(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,a)=>{this.rt(a)&&t(a)})}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Pg(l))if(s===0){const u=new we(l.path);this.et(t,u,Zt.newNoDocument(u,Ne.min()))}else Ge(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const m=this.ut(e),p=m?this.ct(m,e,u):1;if(p!==0){this.it(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let u,m;try{u=Ri(s).toUint8Array()}catch(p){if(p instanceof M4)return Go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new P0(u,a,l)}catch(p){return Go(p instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach(l=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(t,l,null),a++)}),a}Tt(e){const t=new Map;this.ze.forEach((l,u)=>{const m=this.ot(u);if(m){if(l.current&&Pg(m.target)){const p=new we(m.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Zt.newNoDocument(p,e))}l.Be&&(t.set(u,l.ke()),l.qe())}});let s=Be();this.He.forEach((l,u)=>{let m=!0;u.forEachWhile(p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.je.forEach((l,u)=>u.setReadTime(e));const a=new wf(e,t,this.Ye,this.je,s);return this.je=Ds(),this.Je=Zd(),this.He=Zd(),this.Ye=new _t(ze),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new u_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ht(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ht(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u_),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Zd(){return new _t(we.comparator)}function d_(){return new _t(we.comparator)}const DR={asc:"ASCENDING",desc:"DESCENDING"},kR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MR={and:"AND",or:"OR"};class OR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lg(n,e){return n.useProto3Json||gu(e)?e:{value:e}}function Uh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function PR(n,e){return Uh(n,e.toTimestamp())}function Hn(n){return Ge(!!n,49232),Ne.fromTimestamp(function(t){const s=Ni(t);return new dt(s.seconds,s.nanos)}(n))}function V0(n,e){return Ug(n,e).canonicalString()}function Ug(n,e){const t=function(a){return new it(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function mw(n){const e=it.fromString(n);return Ge(_w(e),10190,{key:e.toString()}),e}function zh(n,e){return V0(n.databaseId,e.path)}function $c(n,e){const t=mw(e);if(t.get(1)!==n.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(gw(t))}function pw(n,e){return V0(n.databaseId,e)}function VR(n){const e=mw(n);return e.length===4?it.emptyPath():gw(e)}function zg(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gw(n){return Ge(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function h_(n,e,t){return{name:zh(n,e),fields:t.value.mapValue.fields}}function LR(n,e){return"found"in e?function(s,a){Ge(!!a.found,43571),a.found.name,a.found.updateTime;const l=$c(s,a.found.name),u=Hn(a.found.updateTime),m=a.found.createTime?Hn(a.found.createTime):Ne.min(),p=new _n({mapValue:{fields:a.found.fields}});return Zt.newFoundDocument(l,u,m,p)}(n,e):"missing"in e?function(s,a){Ge(!!a.missing,3894),Ge(!!a.readTime,22933);const l=$c(s,a.missing),u=Hn(a.readTime);return Zt.newNoDocument(l,u)}(n,e):Te(7234,{result:e})}function UR(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(y,x){return y.useProto3Json?(Ge(x===void 0||typeof x=="string",58123),cn.fromBase64String(x||"")):(Ge(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),cn.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&function(y){const x=y.code===void 0?ne.UNKNOWN:uw(y.code);return new me(x,y.message||"")}(u);t=new hw(s,a,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=$c(n,s.document.name),l=Hn(s.document.updateTime),u=s.document.createTime?Hn(s.document.createTime):Ne.min(),m=new _n({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(a,l,u,m),y=s.targetIds||[],x=s.removedTargetIds||[];t=new gh(y,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=$c(n,s.document),l=s.readTime?Hn(s.readTime):Ne.min(),u=Zt.newNoDocument(a,l),m=s.removedTargetIds||[];t=new gh([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=$c(n,s.document),l=s.removedTargetIds||[];t=new gh([],l,a,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new RR(a,l),m=s.targetId;t=new dw(m,u)}}return t}function yw(n,e){let t;if(e instanceof yu)t={update:h_(n,e.key,e.value)};else if(e instanceof bf)t={delete:zh(n,e.key)};else if(e instanceof Oi)t={update:h_(n,e.key,e.data),updateMask:KR(e.fieldMask)};else{if(!(e instanceof lw))return Te(16599,{Vt:e.type});t={verify:zh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,u){const m=u.transform;if(m instanceof nu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Xo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ru)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof su)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:u.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:PR(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)}(n,e.precondition)),t}function zR(n,e){return n&&n.length>0?(Ge(e!==void 0,14353),n.map(t=>function(a,l){let u=a.updateTime?Hn(a.updateTime):Hn(l);return u.isEqual(Ne.min())&&(u=Hn(l)),new ER(u,a.transformResults||[])}(t,e))):[]}function BR(n,e){return{documents:[pw(n,e.path)]}}function FR(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=pw(n,a);const l=function(y){if(y.length!==0)return xw(yr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(y){if(y.length!==0)return y.map(x=>function(E){return{field:Mo(E.field),direction:$R(E.dir)}}(x))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=Lg(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:t,parent:a}}function HR(n){let e=VR(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Ge(s===1,65062);const x=t.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let l=[];t.where&&(l=function(w){const E=vw(w);return E instanceof yr&&q4(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(P){return new tu(Oo(P.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(E))}(t.orderBy));let m=null;t.limit&&(m=function(w){let E;return E=typeof w=="object"?w.value:w,gu(E)?null:E}(t.limit));let p=null;t.startAt&&(p=function(w){const E=!!w.before,j=w.values||[];return new Vh(j,E)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const E=!w.before,j=w.values||[];return new Vh(j,E)}(t.endAt)),dR(e,a,u,l,m,"F",p,y)}function qR(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function vw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Oo(t.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Oo(t.unaryFilter.field);return Ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(t.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Oo(t.unaryFilter.field);return Ot.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ot.create(Oo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return yr.create(t.compositeFilter.filters.map(s=>vw(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(n):Te(30097,{filter:n})}function $R(n){return DR[n]}function GR(n){return kR[n]}function YR(n){return MR[n]}function Mo(n){return{fieldPath:n.canonicalString()}}function Oo(n){return ln.fromServerFormat(n.fieldPath)}function xw(n){return n instanceof Ot?function(t){if(t.op==="=="){if(Jx(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NAN"}};if(Zx(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Jx(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NAN"}};if(Zx(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(t.field),op:GR(t.op),value:t.value}}}(n):n instanceof yr?function(t){const s=t.getFilters().map(a=>xw(a));return s.length===1?s[0]:{compositeFilter:{op:YR(t.op),filters:s}}}(n):Te(54877,{filter:n})}function KR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _w(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,t,s,a,l=Ne.min(),u=Ne.min(),m=cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.yt=e}}function XR(n){const e=HR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Lh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.Cn=new ZR}addToCollectionParentIndex(e,t){return this.Cn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Ai.min())}updateCollectionGroup(e,t,s){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class ZR{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ht(it.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ht(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bw=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(bw,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wo(0)}static cr(){return new Wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="LruGarbageCollector",JR=1048576;function p_([n,e],[t,s]){const a=ze(n,t);return a===0?ze(e,s):a}class e9{constructor(e){this.Ir=e,this.buffer=new Ht(p_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();p_(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class t9{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(m_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dl(t)?ye(m_,"Ignoring IndexedDB error during garbage collection: ",t):await ul(t)}await this.Vr(3e5)})}}class n9{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(mf.ce);const s=new e9(t);return this.mr.forEachTarget(e,a=>s.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>s.Ar(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(f_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,l,u,m,p,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,u=Date.now(),this.nthSequenceNumber(e,a))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),Do()<=Ue.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${a} in `+(m-u)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-x}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:w})))}}function r9(n,e){return new n9(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(){this.changes=new Oa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ce.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&qc(s.mutation,a,Fn.empty(),dt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Be()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Be()){const a=_a();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let u=Pc();return l.forEach((m,p)=>{u=u.insert(m,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const s=_a();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Be()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,m)=>{t.set(u,m)})})}computeViews(e,t,s,a){let l=Ds();const u=Hc(),m=function(){return Hc()}();return t.forEach((p,y)=>{const x=s.get(y.key);a.has(y.key)&&(x===void 0||x.mutation instanceof Oi)?l=l.insert(y.key,y):x!==void 0?(u.set(y.key,x.mutation.getFieldMask()),qc(x.mutation,y,x.mutation.getFieldMask(),dt.now())):u.set(y.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,x)=>u.set(y,x)),t.forEach((y,x)=>m.set(y,new i9(x,u.get(y)??null))),m))}recalculateAndSaveOverlays(e,t){const s=Hc();let a=new _t((u,m)=>u-m),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const m of u)m.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let x=s.get(p)||Fn.empty();x=m.applyToLocalView(y,x),s.set(p,x);const w=(a.get(m.batchId)||Be()).add(p);a=a.insert(m.batchId,w)})}).next(()=>{const u=[],m=a.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,x=p.value,w=J4();x.forEach(E=>{if(!l.has(E)){const j=aw(t.get(E),s.get(E));j!==null&&w.set(E,j),l=l.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ce.waitFor(u)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):K4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ce.resolve(_a());let m=Wc,p=l;return u.next(y=>ce.forEach(y,(x,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),l.get(x)?ce.resolve():this.remoteDocumentCache.getEntry(e,x).next(E=>{p=p.insert(x,E)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,Be())).next(x=>({batchId:m,changes:Z4(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(s=>{let a=Pc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let u=Pc();return this.indexManager.getCollectionParents(e,l).next(m=>ce.forEach(m,p=>{const y=function(w,E){return new hl(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,a).next(x=>{x.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a))).next(u=>{l.forEach((p,y)=>{const x=y.getKey();u.get(x)===null&&(u=u.insert(x,Zt.newInvalidDocument(x)))});let m=Pc();return u.forEach((p,y)=>{const x=l.get(p);x!==void 0&&qc(x.mutation,y,Fn.empty(),dt.now()),vf(t,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ce.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Hn(a.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(a){return{name:a.name,query:XR(a.bundledQuery),readTime:Hn(a.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(){this.overlays=new _t(we.comparator),this.qr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const s=_a();return ce.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.St(e,t,l)}),ce.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(s)),ce.resolve()}getOverlaysForCollection(e,t,s){const a=_a(),l=t.length+1,u=new we(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new _t((y,x)=>y-x);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let x=l.get(y.largestBatchId);x===null&&(x=_a(),l=l.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const m=_a(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,x)=>m.set(y,x)),!(m.size()>=a)););return ce.resolve(m)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new NR(t,s));let l=this.qr.get(t);l===void 0&&(l=Be(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.Qr=new Ht(Xt.$r),this.Ur=new Ht(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Xt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Xt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new we(new it([])),s=new Xt(t,e),a=new Xt(t,e+1),l=[];return this.Ur.forEachInRange([s,a],u=>{this.Gr(u),l.push(u.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new we(new it([])),s=new Xt(t,e),a=new Xt(t,e+1);let l=Be();return this.Ur.forEachInRange([s,a],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Xt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return we.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Xt.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new AR(l,t,s,a);this.mutationQueue.push(u);for(const m of a)this.Zr=this.Zr.add(new Xt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,t){return ce.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),l=a<0?0:a;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?R0:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Xt(t,0),a=new Xt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],u=>{const m=this.Xr(u.Yr);l.push(m)}),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ht(ze);return t.forEach(a=>{const l=new Xt(a,0),u=new Xt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],m=>{s=s.add(m.Yr)})}),ce.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;we.isDocumentKey(l)||(l=l.child(""));const u=new Xt(new we(l),0);let m=new Ht(ze);return this.Zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===a&&(m=m.add(p.Yr)),!0)},u),ce.resolve(this.ti(m))}ti(e){const t=[];return e.forEach(s=>{const a=this.Xr(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ge(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ce.forEach(t.mutations,a=>{const l=new Xt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Xt(t,0),a=this.Zr.firstAfterOrEqual(s);return ce.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.ri=e,this.docs=function(){return new _t(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ce.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let s=Ds();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Zt.newInvalidDocument(a))}),ce.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Ds();const u=t.path,m=new we(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:x}}=p.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||H8(F8(x),s)<=0||(a.has(x.key)||vf(t,x))&&(l=l.insert(x.key,x.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Te(9500)}ii(e,t){return ce.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new h9(this)}getSize(e){return ce.resolve(this.size)}}class h9 extends s9{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)}),ce.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.persistence=e,this.si=new Oa(t=>j0(t),D0),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new L0,this.targetCount=0,this.ai=Wo.ur()}forEachTarget(e,t){return this.si.forEach((s,a)=>t(a)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ce.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Wo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Pr(t),ce.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.si.forEach((u,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),ce.waitFor(l).next(()=>a)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ce.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ce.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ce.resolve(s)}containsKey(e,t){return ce.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t){this.ui={},this.overlays={},this.ci=new mf(0),this.li=!1,this.li=!0,this.hi=new c9,this.referenceDelegate=e(this),this.Pi=new f9(this),this.indexManager=new WR,this.remoteDocumentCache=function(a){return new d9(a)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new QR(t),this.Ii=new o9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new l9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new u9(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ye("MemoryPersistence","Starting transaction:",e);const a=new m9(this.ci.next());return this.referenceDelegate.Ei(),s(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,t){return ce.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class m9 extends $8{constructor(e){super(),this.currentSequenceNumber=e}}class U0{constructor(e){this.persistence=e,this.Ri=new L0,this.Vi=null}static mi(e){return new U0(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ce.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(a=>this.fi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,s=>{const a=we.fromPath(s);return this.gi(e,a).next(l=>{l||t.removeEntry(a,Ne.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ce.or([()=>ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Bh{constructor(e,t){this.persistence=e,this.pi=new Oa(s=>K8(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=r9(this,t)}static mi(e,t){return new Bh(e,t)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return ce.forEach(this.pi,(s,a)=>this.br(e,s,a).next(l=>l?ce.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,u=>this.br(e,u,t).next(m=>{m||(s++,l.removeEntry(u,Ne.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fh(e.data.value)),t}br(e,t,s){return ce.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ce.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=Be(),a=Be();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new z0(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Y5()?8:G8(pn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.ys(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ws(e,t,a,s).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new p9;return this.Ss(e,t,u).next(m=>{if(l.result=m,this.Vs)return this.bs(e,t,u,m.size)})}).next(()=>l.result)}bs(e,t,s,a){return s.documentReadCount<this.fs?(Do()<=Ue.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(Do()<=Ue.DEBUG&&ye("QueryEngine","Query:",ko(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Do()<=Ue.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(t))):ce.resolve())}ys(e,t){if(r_(t))return ce.resolve(null);let s=Hr(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Lh(t,null,"F"),s=Hr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const u=Be(...l);return this.ps.getDocuments(e,u).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.Ds(t,m);return this.Cs(t,y,u,p.readTime)?this.ys(e,Lh(t,null,"F")):this.vs(e,y,t,p)}))})))}ws(e,t,s,a){return r_(t)||a.isEqual(Ne.min())?ce.resolve(null):this.ps.getDocuments(e,s).next(l=>{const u=this.Ds(t,l);return this.Cs(t,u,s,a)?ce.resolve(null):(Do()<=Ue.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ko(t)),this.vs(e,u,t,B8(a,Wc)).next(m=>m))})}Ds(e,t){let s=new Ht(X4(e));return t.forEach((a,l)=>{vf(e,l)&&(s=s.add(l))}),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,s){return Do()<=Ue.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",ko(t)),this.ps.getDocumentsMatchingQuery(e,t,Ai.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="LocalStore",y9=3e8;class v9{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new _t(ze),this.xs=new Oa(l=>j0(l),D0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function x9(n,e,t,s){return new v9(n,e,t,s)}async function Ew(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const u=[],m=[];let p=Be();for(const y of a){u.push(y.batchId);for(const x of y.mutations)p=p.add(x.key)}for(const y of l){m.push(y.batchId);for(const x of y.mutations)p=p.add(x.key)}return t.localDocuments.getDocuments(s,p).next(y=>({Ls:y,removedBatchIds:u,addedBatchIds:m}))})})}function _9(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,y,x){const w=y.batch,E=w.keys();let j=ce.resolve();return E.forEach(P=>{j=j.next(()=>x.getEntry(p,P)).next(z=>{const B=y.docVersions.get(P);Ge(B!==null,48541),z.version.compareTo(B)<0&&(w.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),x.addEntry(z)))})}),j.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Be();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function Tw(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function b9(n,e){const t=Ie(n),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const m=[];e.targetChanges.forEach((x,w)=>{const E=a.get(w);if(!E)return;m.push(t.Pi.removeMatchingKeys(l,x.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(l,x.addedDocuments,w)));let j=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?j=j.withResumeToken(cn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):x.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(x.resumeToken,s)),a=a.insert(w,j),function(z,B,q){return z.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=y9?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(E,j,x)&&m.push(t.Pi.updateTargetData(l,j))});let p=Ds(),y=Be();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,x))}),m.push(w9(l,u,e.documentUpdates).next(x=>{p=x.ks,y=x.qs})),!s.isEqual(Ne.min())){const x=t.Pi.getLastRemoteSnapshotVersion(l).next(w=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(x)}return ce.waitFor(m).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.Ms=a,l))}function w9(n,e,t){let s=Be(),a=Be();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let u=Ds();return t.forEach((m,p)=>{const y=l.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(m)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(m,p.readTime),u=u.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(m,p)):ye(B0,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{ks:u,qs:a}})}function E9(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=R0),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function T9(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Pi.getTargetData(s,e).next(l=>l?(a=l,ce.resolve(a)):t.Pi.allocateTargetId(s).next(u=>(a=new gi(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function Bg(n,e,t){const s=Ie(n),a=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,u=>s.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!dl(u))throw u;ye(B0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function g_(n,e,t){const s=Ie(n);let a=Ne.min(),l=Be();return s.persistence.runTransaction("Execute query","readwrite",u=>function(p,y,x){const w=Ie(p),E=w.xs.get(x);return E!==void 0?ce.resolve(w.Ms.get(E)):w.Pi.getTargetData(y,x)}(s,u,Hr(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,m.targetId).next(p=>{l=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(u,e,t?a:Ne.min(),t?l:Be())).next(m=>(S9(s,fR(e),m),{documents:m,Qs:l})))}function S9(n,e,t){let s=n.Os.get(e)||Ne.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Os.set(e,s)}class y_{constructor(){this.activeTargetIds=xR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A9{constructor(){this.Mo=new y_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new y_,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="ConnectivityMonitor";class x_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(v_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(v_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd=null;function Fg(){return Jd===null?Jd=function(){return 268435456+Math.round(2147483648*Math.random())}():Jd++,"0x"+Jd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="RestConnection",R9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class C9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,l){const u=Fg(),m=this.zo(e,t.toUriEncodedString());ye(ag,`Sending RPC '${e}' ${u}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:y}=new URL(m),x=Da(y);return this.Jo(e,m,p,s,x).then(w=>(ye(ag,`Received RPC '${e}' ${u}: `,w),w),w=>{throw Go(ag,`RPC '${e}' ${u} failed with error: `,w,"url: ",m,"request:",s),w})}Ho(e,t,s,a,l,u){return this.Go(e,t,s,a,l)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}zo(e,t){const s=R9[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class j9 extends C9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,l){const u=Fg();return new Promise((m,p)=>{const y=new E4;y.setWithCredentials(!0),y.listenOnce(T4.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case hh.NO_ERROR:const w=y.getResponseJson();ye(fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),m(w);break;case hh.TIMEOUT:ye(fn,`RPC '${e}' ${u} timed out`),p(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const E=y.getStatus();if(ye(fn,`RPC '${e}' ${u} failed with status:`,E,"response text:",y.getResponseText()),E>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const P=j?.error;if(P&&P.status&&P.message){const z=function(q){const te=q.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(te)>=0?te:ne.UNKNOWN}(P.status);p(new me(z,P.message))}else p(new me(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new me(ne.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ye(fn,`RPC '${e}' ${u} completed.`)}});const x=JSON.stringify(a);ye(fn,`RPC '${e}' ${u} sending request:`,a),y.send(t,"POST",x,s,15)})}T_(e,t,s){const a=Fg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=N4(),m=A4(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const x=l.join("");ye(fn,`Creating RPC '${e}' stream ${a}: ${x}`,p);const w=u.createWebChannel(x,p);this.I_(w);let E=!1,j=!1;const P=new I9({Yo:B=>{j?ye(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,B):(E||(ye(fn,`Opening RPC '${e}' stream ${a} transport.`),w.open(),E=!0),ye(fn,`RPC '${e}' stream ${a} sending:`,B),w.send(B))},Zo:()=>w.close()}),z=(B,q,te)=>{B.listen(q,ee=>{try{te(ee)}catch(de){setTimeout(()=>{throw de},0)}})};return z(w,Oc.EventType.OPEN,()=>{j||(ye(fn,`RPC '${e}' stream ${a} transport opened.`),P.o_())}),z(w,Oc.EventType.CLOSE,()=>{j||(j=!0,ye(fn,`RPC '${e}' stream ${a} transport closed`),P.a_(),this.E_(w))}),z(w,Oc.EventType.ERROR,B=>{j||(j=!0,Go(fn,`RPC '${e}' stream ${a} transport errored. Name:`,B.name,"Message:",B.message),P.a_(new me(ne.UNAVAILABLE,"The operation could not be completed")))}),z(w,Oc.EventType.MESSAGE,B=>{if(!j){const q=B.data[0];Ge(!!q,16349);const te=q,ee=te?.error||te[0]?.error;if(ee){ye(fn,`RPC '${e}' stream ${a} received error:`,ee);const de=ee.status;let J=function(T){const A=kt[T];if(A!==void 0)return uw(A)}(de),ue=ee.message;J===void 0&&(J=ne.INTERNAL,ue="Unknown error status: "+de+" with message "+ee.message),j=!0,P.a_(new me(J,ue)),w.close()}else ye(fn,`RPC '${e}' stream ${a} received:`,q),P.u_(q)}}),z(m,S4.STAT_EVENT,B=>{B.stat===jg.PROXY?ye(fn,`RPC '${e}' stream ${a} detected buffering proxy`):B.stat===jg.NOPROXY&&ye(fn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function og(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(n){return new OR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="PersistentStream";class Sw{constructor(e,t,s,a,l,u,m,p){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new F0(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(js(t.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.D_===t&&this.G_(s,a)},s=>{e(()=>{const a=new me(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{s(()=>this.z_(a))}),this.stream.onMessage(a=>{s(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(__,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ye(__,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D9 extends Sw{constructor(e,t,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=UR(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ne.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?Hn(u.readTime):Ne.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=zg(this.serializer),t.addTarget=function(l,u){let m;const p=u.target;if(m=Pg(p)?{documents:BR(l,p)}:{query:FR(l,p).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=fw(l,u.resumeToken);const y=Lg(l,u.expectedCount);y!==null&&(m.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ne.min())>0){m.readTime=Uh(l,u.snapshotVersion.toTimestamp());const y=Lg(l,u.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=qR(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=zg(this.serializer),t.removeTarget=e,this.q_(t)}}class k9 extends Sw{constructor(e,t,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=zR(e.writeResults,e.commitTime),s=Hn(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=zg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>yw(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{}class O9 extends M9{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Go(e,Ug(t,s),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ne.UNKNOWN,l.toString())})}Ho(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.Ho(e,Ug(t,s),a,u,m,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ne.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class P9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(js(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class V9{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(u=>{s.enqueueAndForget(async()=>{Pa(this)&&(ye(Ca,"Restarting streams for network reachability change."),await async function(p){const y=Ie(p);y.Ea.add(4),await xu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Tf(y)}(this))})}),this.Ra=new P9(s,a)}}async function Tf(n){if(Pa(n))for(const e of n.da)await e(!0)}async function xu(n){for(const e of n.da)await e(!1)}function Aw(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),G0(t)?$0(t):fl(t).O_()&&q0(t,e))}function H0(n,e){const t=Ie(n),s=fl(t);t.Ia.delete(e),s.O_()&&Nw(t,e),t.Ia.size===0&&(s.O_()?s.L_():Pa(t)&&t.Ra.set("Unknown"))}function q0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fl(n).Y_(e)}function Nw(n,e){n.Va.Ue(e),fl(n).Z_(e)}function $0(n){n.Va=new jR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),fl(n).start(),n.Ra.ua()}function G0(n){return Pa(n)&&!fl(n).x_()&&n.Ia.size>0}function Pa(n){return Ie(n).Ea.size===0}function Rw(n){n.Va=void 0}async function L9(n){n.Ra.set("Online")}async function U9(n){n.Ia.forEach((e,t)=>{q0(n,e)})}async function z9(n,e){Rw(n),G0(n)?(n.Ra.ha(e),$0(n)):n.Ra.set("Unknown")}async function B9(n,e,t){if(n.Ra.set("Online"),e instanceof hw&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const m of l.targetIds)a.Ia.has(m)&&(await a.remoteSyncer.rejectListen(m,u),a.Ia.delete(m),a.Va.removeTarget(m))}(n,e)}catch(s){ye(Ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Fh(n,s)}else if(e instanceof gh?n.Va.Ze(e):e instanceof dw?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ne.min()))try{const s=await Tw(n.localStore);t.compareTo(s)>=0&&await function(l,u){const m=l.Va.Tt(u);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const x=l.Ia.get(y);x&&l.Ia.set(y,x.withResumeToken(p.resumeToken,u))}}),m.targetMismatches.forEach((p,y)=>{const x=l.Ia.get(p);if(!x)return;l.Ia.set(p,x.withResumeToken(cn.EMPTY_BYTE_STRING,x.snapshotVersion)),Nw(l,p);const w=new gi(x.target,p,y,x.sequenceNumber);q0(l,w)}),l.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(s){ye(Ca,"Failed to raise snapshot:",s),await Fh(n,s)}}async function Fh(n,e,t){if(!dl(e))throw e;n.Ea.add(1),await xu(n),n.Ra.set("Offline"),t||(t=()=>Tw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Ca,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Tf(n)})}function Cw(n,e){return e().catch(t=>Fh(n,t,e))}async function Sf(n){const e=Ie(n),t=Ii(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:R0;for(;F9(e);)try{const a=await E9(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,H9(e,a)}catch(a){await Fh(e,a)}Iw(e)&&jw(e)}function F9(n){return Pa(n)&&n.Ta.length<10}function H9(n,e){n.Ta.push(e);const t=Ii(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Iw(n){return Pa(n)&&!Ii(n).x_()&&n.Ta.length>0}function jw(n){Ii(n).start()}async function q9(n){Ii(n).ra()}async function $9(n){const e=Ii(n);for(const t of n.Ta)e.ea(t.mutations)}async function G9(n,e,t){const s=n.Ta.shift(),a=O0.from(s,e,t);await Cw(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Sf(n)}async function Y9(n,e){e&&Ii(n).X_&&await async function(s,a){if(function(u){return cw(u)&&u!==ne.ABORTED}(a.code)){const l=s.Ta.shift();Ii(s).B_(),await Cw(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Sf(s)}}(n,e),Iw(n)&&jw(n)}async function b_(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ye(Ca,"RemoteStore received new credentials");const s=Pa(t);t.Ea.add(3),await xu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Tf(t)}async function K9(n,e){const t=Ie(n);e?(t.Ea.delete(2),await Tf(t)):e||(t.Ea.add(2),await xu(t),t.Ra.set("Unknown"))}function fl(n){return n.ma||(n.ma=function(t,s,a){const l=Ie(t);return l.sa(),new D9(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Xo:L9.bind(null,n),t_:U9.bind(null,n),r_:z9.bind(null,n),H_:B9.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),G0(n)?$0(n):n.Ra.set("Unknown")):(await n.ma.stop(),Rw(n))})),n.ma}function Ii(n){return n.fa||(n.fa=function(t,s,a){const l=Ie(t);return l.sa(),new k9(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:q9.bind(null,n),r_:Y9.bind(null,n),ta:$9.bind(null,n),na:G9.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Sf(n)):(await n.fa.stop(),n.Ta.length>0&&(ye(Ca,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const u=Date.now()+s,m=new Y0(e,t,u,a,l);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function K0(n,e){if(js("AsyncQueue",`${e}: ${n}`),dl(n))return new me(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||we.comparator(t.key,s.key):(t,s)=>we.comparator(t.key,s.key),this.keyedMap=Pc(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.ga=new _t(we.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class Zo{constructor(e,t,s,a,l,u,m,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,a,l){const u=[];return t.forEach(m=>{u.push({type:0,doc:m})}),new Zo(e,t,Ho.emptySet(t),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class X9{constructor(){this.queries=E_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=Ie(t),l=a.queries;a.queries=E_(),l.forEach((u,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function E_(){return new Oa(n=>Q4(n),yf)}async function Q0(n,e){const t=Ie(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new Q9,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const m=K0(u,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&W0(t)}async function X0(n,e){const t=Ie(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function W9(n,e){const t=Ie(n);let s=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const m of u.Sa)m.Fa(a)&&(s=!0);u.wa=a}}s&&W0(t)}function Z9(n,e,t){const s=Ie(n),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);s.queries.delete(e)}function W0(n){n.Ca.forEach(e=>{e.next()})}var Hg,T_;(T_=Hg||(Hg={})).Ma="default",T_.Cache="cache";class Z0{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Zo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.key=e}}class kw{constructor(e){this.key=e}}class J9{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=X4(e),this.tu=new Ho(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new w_,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,m=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((x,w)=>{const E=a.get(x),j=vf(this.query,w)?w:null,P=!!E&&this.mutatedKeys.has(E.key),z=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let B=!1;E&&j?E.data.isEqual(j.data)?P!==z&&(s.track({type:3,doc:j}),B=!0):this.su(E,j)||(s.track({type:2,doc:j}),B=!0,(p&&this.eu(j,p)>0||y&&this.eu(j,y)<0)&&(m=!0)):!E&&j?(s.track({type:0,doc:j}),B=!0):E&&!j&&(s.track({type:1,doc:E}),B=!0,(p||y)&&(m=!0)),B&&(j?(u=u.add(j),l=z?l.add(x):l.delete(x)):(u=u.delete(x),l=l.delete(x)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),l=l.delete(x.key),s.track({type:1,doc:x})}return{tu:u,iu:s,Cs:m,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((x,w)=>function(j,P){const z=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:B})}};return z(j)-z(P)}(x.type,w.type)||this.eu(x.doc,w.doc)),this.ou(s),a=a??!1;const m=t&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,y=p!==this.Za;return this.Za=p,u.length!==0||y?{snapshot:new Zo(this.query,e.tu,l,u,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new kw(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new Dw(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const J0="SyncEngine";class eC{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class tC{constructor(e){this.key=e,this.hu=!1}}class nC{constructor(e,t,s,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Oa(m=>Q4(m),yf),this.Iu=new Map,this.Eu=new Set,this.du=new _t(we.comparator),this.Au=new Map,this.Ru=new L0,this.Vu={},this.mu=new Map,this.fu=Wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rC(n,e,t=!0){const s=Uw(n);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Mw(s,e,t,!0),a}async function sC(n,e){const t=Uw(n);await Mw(t,e,!0,!1)}async function Mw(n,e,t,s){const a=await T9(n.localStore,Hr(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await iC(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&Aw(n.remoteStore,a),m}async function iC(n,e,t,s,a){n.pu=(w,E,j)=>async function(z,B,q,te){let ee=B.view.ru(q);ee.Cs&&(ee=await g_(z.localStore,B.query,!1).then(({documents:I})=>B.view.ru(I,ee)));const de=te&&te.targetChanges.get(B.targetId),J=te&&te.targetMismatches.get(B.targetId)!=null,ue=B.view.applyChanges(ee,z.isPrimaryClient,de,J);return A_(z,B.targetId,ue.au),ue.snapshot}(n,w,E,j);const l=await g_(n.localStore,e,!0),u=new J9(e,l.Qs),m=u.ru(l.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),y=u.applyChanges(m,n.isPrimaryClient,p);A_(n,t,y.au);const x=new eC(e,t,u);return n.Tu.set(e,x),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function aC(n,e,t){const s=Ie(n),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter(u=>!yf(u,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Bg(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&H0(s.remoteStore,a.targetId),qg(s,a.targetId)}).catch(ul)):(qg(s,a.targetId),await Bg(s.localStore,a.targetId,!0))}async function oC(n,e){const t=Ie(n),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),H0(t.remoteStore,s.targetId))}async function lC(n,e,t){const s=pC(n);try{const a=await function(u,m){const p=Ie(u),y=dt.now(),x=m.reduce((j,P)=>j.add(P.key),Be());let w,E;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let P=Ds(),z=Be();return p.Ns.getEntries(j,x).next(B=>{P=B,P.forEach((q,te)=>{te.isValidDocument()||(z=z.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,P)).next(B=>{w=B;const q=[];for(const te of m){const ee=SR(te,w.get(te.key).overlayedDocument);ee!=null&&q.push(new Oi(te.key,ee,B4(ee.value.mapValue),Ft.exists(!0)))}return p.mutationQueue.addMutationBatch(j,y,q,m)}).next(B=>{E=B;const q=B.applyToLocalDocumentSet(w,z);return p.documentOverlayCache.saveOverlays(j,B.batchId,q)})}).then(()=>({batchId:E.batchId,changes:Z4(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(u,m,p){let y=u.Vu[u.currentUser.toKey()];y||(y=new _t(ze)),y=y.insert(m,p),u.Vu[u.currentUser.toKey()]=y}(s,a.batchId,t),await _u(s,a.changes),await Sf(s.remoteStore)}catch(a){const l=K0(a,"Failed to persist write");t.reject(l)}}async function Ow(n,e){const t=Ie(n);try{const s=await b9(t.localStore,e);e.targetChanges.forEach((a,l)=>{const u=t.Au.get(l);u&&(Ge(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Ge(u.hu,14607):a.removedDocuments.size>0&&(Ge(u.hu,42227),u.hu=!1))}),await _u(t,s,e)}catch(s){await ul(s)}}function S_(n,e,t){const s=Ie(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach((l,u)=>{const m=u.view.va(e);m.snapshot&&a.push(m.snapshot)}),function(u,m){const p=Ie(u);p.onlineState=m;let y=!1;p.queries.forEach((x,w)=>{for(const E of w.Sa)E.va(m)&&(y=!0)}),y&&W0(p)}(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function cC(n,e,t){const s=Ie(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new _t(we.comparator);u=u.insert(l,Zt.newNoDocument(l,Ne.min()));const m=Be().add(l),p=new wf(Ne.min(),new Map,new _t(ze),u,m);await Ow(s,p),s.du=s.du.remove(l),s.Au.delete(e),e1(s)}else await Bg(s.localStore,e,!1).then(()=>qg(s,e,t)).catch(ul)}async function uC(n,e){const t=Ie(n),s=e.batch.batchId;try{const a=await _9(t.localStore,e);Vw(t,s,null),Pw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await _u(t,a)}catch(a){await ul(a)}}async function dC(n,e,t){const s=Ie(n);try{const a=await function(u,m){const p=Ie(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let x;return p.mutationQueue.lookupMutationBatch(y,m).next(w=>(Ge(w!==null,37113),x=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,x,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x)).next(()=>p.localDocuments.getDocuments(y,x))})}(s.localStore,e);Vw(s,e,t),Pw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await _u(s,a)}catch(a){await ul(a)}}function Pw(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function Vw(n,e,t){const s=Ie(n);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function qg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(s=>{n.Ru.containsKey(s)||Lw(n,s)})}function Lw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(H0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),e1(n))}function A_(n,e,t){for(const s of t)s instanceof Dw?(n.Ru.addReference(s.key,e),hC(n,s)):s instanceof kw?(ye(J0,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||Lw(n,s.key)):Te(19791,{wu:s})}function hC(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(ye(J0,"New document in limbo: "+t),n.Eu.add(s),e1(n))}function e1(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(it.fromString(e)),s=n.fu.next();n.Au.set(s,new tC(t)),n.du=n.du.insert(t,s),Aw(n.remoteStore,new gi(Hr(gf(t.path)),s,"TargetPurposeLimboResolution",mf.ce))}}async function _u(n,e,t){const s=Ie(n),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{u.push(s.pu(p,e,t).then(y=>{if((y||t)&&s.isPrimaryClient){const x=y?!y.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(y){a.push(y);const x=z0.As(p.targetId,y);l.push(x)}}))}),await Promise.all(u),s.Pu.H_(a),await async function(p,y){const x=Ie(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ce.forEach(y,E=>ce.forEach(E.Es,j=>x.persistence.referenceDelegate.addReference(w,E.targetId,j)).next(()=>ce.forEach(E.ds,j=>x.persistence.referenceDelegate.removeReference(w,E.targetId,j)))))}catch(w){if(!dl(w))throw w;ye(B0,"Failed to update sequence numbers: "+w)}for(const w of y){const E=w.targetId;if(!w.fromCache){const j=x.Ms.get(E),P=j.snapshotVersion,z=j.withLastLimboFreeSnapshotVersion(P);x.Ms=x.Ms.insert(E,z)}}}(s.localStore,l))}async function fC(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){ye(J0,"User change. New user:",e.toKey());const s=await Ew(t.localStore,e);t.currentUser=e,function(l,u){l.mu.forEach(m=>{m.forEach(p=>{p.reject(new me(ne.CANCELLED,u))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _u(t,s.Ls)}}function mC(n,e){const t=Ie(n),s=t.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let a=Be();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const m=t.Tu.get(u);a=a.unionWith(m.view.nu)}return a}}function Uw(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ow.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cC.bind(null,e),e.Pu.H_=W9.bind(null,e.eventManager),e.Pu.yu=Z9.bind(null,e.eventManager),e}function pC(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dC.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return x9(this.persistence,new g9,e.initialUser,this.serializer)}Cu(e){return new ww(U0.mi,this.serializer)}Du(e){return new A9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class gC extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ge(this.persistence.referenceDelegate instanceof Bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new t9(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new ww(s=>Bh.mi(s,t),this.serializer)}}class $g{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>S_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=fC.bind(null,this.syncEngine),await K9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new X9}()}createDatastore(e){const t=Ef(e.databaseInfo.databaseId),s=function(l){return new j9(l)}(e.databaseInfo);return function(l,u,m,p){return new O9(l,u,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,l,u,m){return new V9(s,a,l,u,m)}(this.localStore,this.datastore,e.asyncQueue,t=>S_(this.syncEngine,t,0),function(){return x_.v()?new x_:new N9}())}createSyncEngine(e,t){return function(a,l,u,m,p,y,x){const w=new nC(a,l,u,m,p,y);return x&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=Ie(t);ye(Ca,"RemoteStore shutting down."),s.Ea.add(5),await xu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$g.provider={build:()=>new $g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):js("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new me(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(a,l){const u=Ie(a),m={documents:l.map(w=>zh(u.serializer,w))},p=await u.Ho("BatchGetDocuments",u.serializer.databaseId,it.emptyPath(),m,l.length),y=new Map;p.forEach(w=>{const E=LR(u.serializer,w);y.set(E.key.toString(),E)});const x=[];return l.forEach(w=>{const E=y.get(w.toString());Ge(!!E,55234,{key:w}),x.push(E)}),x}(this.datastore,e);return t.forEach(s=>this.recordVersion(s)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new bf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,s)=>{const a=we.fromPath(s);this.mutations.push(new lw(a,this.precondition(a)))}),await async function(s,a){const l=Ie(s),u={writes:a.map(m=>yw(l.serializer,m))};await l.Go("Commit",l.serializer.databaseId,it.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Te(50498,{Gu:e.constructor.name});t=Ne.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new me(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ne.min())?Ft.exists(!1):Ft.updateTime(t):Ft.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ne.min()))throw new me(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ft.updateTime(t)}return Ft.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,t,s,a,l){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=l,this.zu=s.maxAttempts,this.M_=new F0(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new yC(this.datastore),t=this.Hu(e);t&&t.then(s=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(s)}).catch(a=>{this.Yu(a)}))}).catch(s=>{this.Yu(s)})})}Hu(e){try{const t=this.updateFunction(e);return!gu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!cw(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="FirestoreClient";class xC{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=N0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async u=>{ye(ji,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(ye(ji,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=K0(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function lg(n,e){n.asyncQueue.verifyOperationInProgress(),ye(ji,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Ew(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function N_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await _C(n);ye(ji,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>b_(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>b_(e.remoteStore,a)),n._onlineComponents=e}async function _C(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(ji,"Using user provided OfflineComponentProvider");try{await lg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Go("Error using user provided cache. Falling back to memory cache: "+t),await lg(n,new Hh)}}else ye(ji,"Using default OfflineComponentProvider"),await lg(n,new gC(void 0));return n._offlineComponents}async function n1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(ji,"Using user provided OnlineComponentProvider"),await N_(n,n._uninitializedComponentsProvider._online)):(ye(ji,"Using default OnlineComponentProvider"),await N_(n,new $g))),n._onlineComponents}function bC(n){return n1(n).then(e=>e.syncEngine)}function wC(n){return n1(n).then(e=>e.datastore)}async function qh(n){const e=await n1(n),t=e.eventManager;return t.onListen=rC.bind(null,e.syncEngine),t.onUnlisten=aC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=oC.bind(null,e.syncEngine),t}function EC(n,e,t={}){const s=new Fr;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,m,p,y){const x=new t1({next:E=>{x.Nu(),u.enqueueAndForget(()=>X0(l,w));const j=E.docs.has(m);!j&&E.fromCache?y.reject(new me(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&E.fromCache&&p&&p.source==="server"?y.reject(new me(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(E)},error:E=>y.reject(E)}),w=new Z0(gf(m.path),x,{includeMetadataChanges:!0,qa:!0});return Q0(l,w)}(await qh(n),n.asyncQueue,e,t,s)),s.promise}function TC(n,e,t={}){const s=new Fr;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,m,p,y){const x=new t1({next:E=>{x.Nu(),u.enqueueAndForget(()=>X0(l,w)),E.fromCache&&p.source==="server"?y.reject(new me(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(E)},error:E=>y.reject(E)}),w=new Z0(m,x,{includeMetadataChanges:!0,qa:!0});return Q0(l,w)}(await qh(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="firestore.googleapis.com",C_=!0;class I_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bw,this.ssl=C_}else this.host=e.host,this.ssl=e.ssl??C_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JR)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zw(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Af{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new I8;switch(s.type){case"firstParty":return new M8(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=R_.get(t);s&&(ye("ComponentProvider","Removing Datastore"),R_.delete(t),s.terminate())}(this),Promise.resolve()}}function SC(n,e,t,s={}){n=bn(n,Af);const a=Da(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},m=`${e}:${t}`;a&&(f0(`https://${m}`),m0("Firestore",!0)),l.host!==Bw&&l.host!==m&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:m,ssl:a,emulatorOptions:s};if(!Ti(p,u)&&(n._setSettings(p),s.mockUserToken)){let y,x;if(typeof s.mockUserToken=="string")y=s.mockUserToken,x=mn.MOCK_USER;else{y=Pb(s.mockUserToken,n._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new mn(w)}n._authCredentials=new j8(new C4(y,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Os(this.firestore,e,this._query)}}class xt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(pu(t,xt._jsonSchema))return new xt(e,s||null,new we(it.fromString(t.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Pt("string",xt._jsonSchemaVersion),referencePath:Pt("string")};class bi extends Os{constructor(e,t,s){super(e,t,gf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new we(e))}withConverter(e){return new bi(this.firestore,e,this._path)}}function Rn(n,e,...t){if(n=pt(n),I4("collection","path",e),n instanceof Af){const s=it.fromString(e,...t);return Hx(s),new bi(n,null,s)}{if(!(n instanceof xt||n instanceof bi))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(it.fromString(e,...t));return Hx(s),new bi(n.firestore,null,s)}}function gt(n,e,...t){if(n=pt(n),arguments.length===1&&(e=N0.newId()),I4("doc","path",e),n instanceof Af){const s=it.fromString(e,...t);return Fx(s),new xt(n,null,new we(s))}{if(!(n instanceof xt||n instanceof bi))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(it.fromString(e,...t));return Fx(s),new xt(n.firestore,n instanceof bi?n.converter:null,new we(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="AsyncQueue";class D_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new F0(this,"async_queue_retry"),this._c=()=>{const s=og();s&&ye(j_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=og();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=og();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Fr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;ye(j_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,js("INTERNAL UNHANDLED ERROR: ",k_(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Y0.createAndSchedule(this,e,t,s,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Te(47125,{Pc:k_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function k_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(n){return function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Yr extends Af{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new D_,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D_(e),this._firestoreClient=void 0,await e}}}function AC(n,e){const t=typeof n=="object"?n:y0(),s=typeof n=="string"?n:Oh,a=cf(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=kb("firestore");l&&SC(a,...l)}return a}function ml(n){if(n._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||NC(n),n._firestoreClient}function NC(n){const e=n._freezeSettings(),t=function(a,l,u,m){return new W8(a,l,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,zw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new xC(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(cn.fromBase64String(e))}catch(t){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bn(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Pt("string",Bn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qr._jsonSchemaVersion}}static fromJSON(e){if(pu(e,qr._jsonSchema))return new qr(e.latitude,e.longitude)}}qr._jsonSchemaVersion="firestore/geoPoint/1.0",qr._jsonSchema={type:Pt("string",qr._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,$r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new $r(e.vectorValues);throw new me(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$r._jsonSchemaVersion="firestore/vectorValue/1.0",$r._jsonSchema={type:Pt("string",$r._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=/^__.*__$/;class CC{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Oi(e,this.data,this.fieldMask,t,this.fieldTransforms):new yu(e,this.data,t,this.fieldTransforms)}}class Fw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Oi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Hw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class Nf{constructor(e,t,s,a,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Nf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $h(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Hw(this.Ac)&&RC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IC{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ef(e)}Cc(e,t,s,a=!1){return new Nf({Ac:e,methodName:t,Dc:s,path:ln.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yl(n){const e=n._freezeSettings(),t=Ef(n._databaseId);return new IC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Rf(n,e,t,s,a,l={}){const u=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);l1("Data must be an object, but it was:",u,s);const m=qw(s,u);let p,y;if(l.merge)p=new Fn(u.fieldMask),y=u.fieldTransforms;else if(l.mergeFields){const x=[];for(const w of l.mergeFields){const E=Gg(e,w,t);if(!u.contains(E))throw new me(ne.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Gw(x,E)||x.push(E)}p=new Fn(x),y=u.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=u.fieldTransforms;return new CC(new _n(m),p,y)}class Cf extends gl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}function jC(n,e,t){return new Nf({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class r1 extends gl{_toFieldTransform(e){return new M0(e.path,new nu)}isEqual(e){return e instanceof r1}}class s1 extends gl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=jC(this,e,!0),s=this.vc.map(l=>vl(l,t)),a=new Xo(s);return new M0(e.path,a)}isEqual(e){return e instanceof s1&&Ti(this.vc,e.vc)}}class i1 extends gl{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new su(e.serializer,tw(e.serializer,this.Fc));return new M0(e.path,t)}isEqual(e){return e instanceof i1&&this.Fc===e.Fc}}function a1(n,e,t,s){const a=n.Cc(1,e,t);l1("Data must be an object, but it was:",a,s);const l=[],u=_n.empty();Mi(s,(p,y)=>{const x=c1(e,p,t);y=pt(y);const w=a.yc(x);if(y instanceof Cf)l.push(x);else{const E=vl(y,w);E!=null&&(l.push(x),u.set(x,E))}});const m=new Fn(l);return new Fw(u,m,a.fieldTransforms)}function o1(n,e,t,s,a,l){const u=n.Cc(1,e,t),m=[Gg(e,s,t)],p=[a];if(l.length%2!=0)throw new me(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)m.push(Gg(e,l[E])),p.push(l[E+1]);const y=[],x=_n.empty();for(let E=m.length-1;E>=0;--E)if(!Gw(y,m[E])){const j=m[E];let P=p[E];P=pt(P);const z=u.yc(j);if(P instanceof Cf)y.push(j);else{const B=vl(P,z);B!=null&&(y.push(j),x.set(j,B))}}const w=new Fn(y);return new Fw(x,w,u.fieldTransforms)}function DC(n,e,t,s=!1){return vl(t,n.Cc(s?4:3,e))}function vl(n,e){if($w(n=pt(n)))return l1("Unsupported field value:",e,n),qw(n,e);if(n instanceof gl)return function(s,a){if(!Hw(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,a){const l=[];let u=0;for(const m of s){let p=vl(m,a.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}}(n,e)}return function(s,a){if((s=pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tw(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=dt.fromDate(s);return{timestampValue:Uh(a.serializer,l)}}if(s instanceof dt){const l=new dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(a.serializer,l)}}if(s instanceof qr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:fw(a.serializer,s._byteString)};if(s instanceof xt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:V0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof $r)return function(u,m){return{mapValue:{fields:{[U4]:{stringValue:z4},[Ph]:{arrayValue:{values:u.toArray().map(y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return k0(m.serializer,y)})}}}}}}(s,a);throw a.Sc(`Unsupported field value: ${ff(s)}`)}(n,e)}function qw(n,e){const t={};return k4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mi(n,(s,a)=>{const l=vl(a,e.mc(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function $w(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof qr||n instanceof Bn||n instanceof xt||n instanceof gl||n instanceof $r)}function l1(n,e,t){if(!$w(t)||!j4(t)){const s=ff(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function Gg(n,e,t){if((e=pt(e))instanceof pl)return e._internalPath;if(typeof e=="string")return c1(n,e);throw $h("Field path arguments must be of type string or ",n,!1,void 0,t)}const kC=new RegExp("[~\\*/\\[\\]]");function c1(n,e,t){if(e.search(kC)>=0)throw $h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pl(...e.split("."))._internalPath}catch{throw $h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $h(n,e,t,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${s}`),u&&(p+=` in document ${a}`),p+=")"),new me(ne.INVALID_ARGUMENT,m+n+p)}function Gw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(If("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class MC extends Gh{data(){return super.data()}}function If(n,e){return typeof e=="string"?c1(n,e):e instanceof pl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u1{}class d1 extends u1{}function Kw(n,e,...t){let s=[];e instanceof u1&&s.push(e),s=s.concat(t),function(l){const u=l.filter(p=>p instanceof h1).length,m=l.filter(p=>p instanceof jf).length;if(u>1||u>0&&m>0)throw new me(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class jf extends d1{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new jf(e,t,s)}_apply(e){const t=this._parse(e);return Qw(e._query,t),new Os(e.firestore,e.converter,Vg(e._query,t))}_parse(e){const t=yl(e.firestore);return function(l,u,m,p,y,x,w){let E;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new me(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){P_(w,x);const P=[];for(const z of w)P.push(O_(p,l,z));E={arrayValue:{values:P}}}else E=O_(p,l,w)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||P_(w,x),E=DC(m,u,w,x==="in"||x==="not-in");return Ot.create(y,x,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function OC(n,e,t){const s=e,a=If("where",n);return jf._create(a,s,t)}class h1 extends u1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new h1(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:yr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let u=a;const m=l.getFlattenedFilters();for(const p of m)Qw(u,p),u=Vg(u,p)}(e._query,t),new Os(e.firestore,e.converter,Vg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class f1 extends d1{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new f1(e,t)}_apply(e){const t=function(a,l,u){if(a.startAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(l,u)}(e._query,this._field,this._direction);return new Os(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new hl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function PC(n,e="asc"){const t=e,s=If("orderBy",n);return f1._create(s,t)}class m1 extends d1{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new m1(e,t,s)}_apply(e){return new Os(e.firestore,e.converter,Lh(e._query,this._limit,this._limitType))}}function VC(n){return m1._create("limit",n,"F")}function O_(n,e,t){if(typeof(t=pt(t))=="string"){if(t==="")throw new me(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K4(e)&&t.indexOf("/")!==-1)throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(it.fromString(t));if(!we.isDocumentKey(s))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Wx(n,new we(s))}if(t instanceof xt)return Wx(n,t._key);throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(t)}.`)}function P_(n,e){if(!Array.isArray(n)||n.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qw(n,e){const t=function(a,l){for(const u of a)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Xw{convertValue(e,t="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Mi(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertVectorValue(e){const t=e.fields?.[Ph].arrayValue?.values?.map(s=>Rt(s.doubleValue));return new $r(t)}convertGeoPoint(e){return new qr(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=pf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Zc(e));default:return null}}convertTimestamp(e){const t=Ni(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=it.fromString(e);Ge(_w(s),9688,{name:e});const a=new Jc(s.get(1),s.get(3)),l=new we(s.popFirst(5));return a.isEqual(t)||js(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class LC extends Xw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}class Vo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wi extends Gh{constructor(e,t,s,a,l,u){super(e,t,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(If("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=wi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}wi._jsonSchemaVersion="firestore/documentSnapshot/1.0",wi._jsonSchema={type:Pt("string",wi._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class yh extends wi{data(e={}){return super.data(e)}}class wa{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Vo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new yh(this._firestore,this._userDataWriter,s.key,s,new Vo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(m=>{const p=new yh(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Vo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const p=new yh(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Vo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,x=-1;return m.type!==0&&(y=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),x=u.indexOf(m.doc.key)),{type:UC(m.type),doc:p,oldIndex:y,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=N0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(n){n=bn(n,xt);const e=bn(n.firestore,Yr);return EC(ml(e),n._key).then(t=>Ww(e,n,t))}wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:Pt("string",wa._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class kf extends Xw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function xl(n){n=bn(n,Os);const e=bn(n.firestore,Yr),t=ml(e),s=new kf(e);return Yw(n._query),TC(t,n._query).then(a=>new wa(e,s,n,a))}function p1(n,e,t){n=bn(n,xt);const s=bn(n.firestore,Yr),a=Df(n.converter,e,t);return Of(s,[Rf(yl(s),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Ft.none())])}function Di(n,e,t,...s){n=bn(n,xt);const a=bn(n.firestore,Yr),l=yl(a);let u;return u=typeof(e=pt(e))=="string"||e instanceof pl?o1(l,"updateDoc",n._key,e,t,s):a1(l,"updateDoc",n._key,e),Of(a,[u.toMutation(n._key,Ft.exists(!0))])}function Mf(n,e){const t=bn(n.firestore,Yr),s=gt(n),a=Df(n.converter,e);return Of(t,[Rf(yl(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,Ft.exists(!1))]).then(()=>s)}function _l(n,...e){n=pt(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||M_(e[s])||(t=e[s++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(M_(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,u,m;if(n instanceof xt)u=bn(n.firestore,Yr),m=gf(n._key.path),l={next:p=>{e[s]&&e[s](Ww(u,n,p))},error:e[s+1],complete:e[s+2]};else{const p=bn(n,Os);u=bn(p.firestore,Yr),m=p._query;const y=new kf(u);l={next:x=>{e[s]&&e[s](new wa(u,y,p,x))},error:e[s+1],complete:e[s+2]},Yw(n._query)}return function(y,x,w,E){const j=new t1(E),P=new Z0(x,j,w);return y.asyncQueue.enqueueAndForget(async()=>Q0(await qh(y),P)),()=>{j.Nu(),y.asyncQueue.enqueueAndForget(async()=>X0(await qh(y),P))}}(ml(u),m,a,l)}function Of(n,e){return function(s,a){const l=new Fr;return s.asyncQueue.enqueueAndForget(async()=>lC(await bC(s),a,l)),l.promise}(ml(n),e)}function Ww(n,e,t){const s=t.docs.get(e._key),a=new kf(n);return new wi(n,a,e._key,s,new Vo(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yl(e)}set(e,t,s){this._verifyNotCommitted();const a=yi(e,this._firestore),l=Df(a.converter,t,s),u=Rf(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(u.toMutation(a._key,Ft.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const l=yi(e,this._firestore);let u;return u=typeof(t=pt(t))=="string"||t instanceof pl?o1(this._dataReader,"WriteBatch.update",l._key,t,s,a):a1(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,Ft.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=yi(e,this._firestore);return this._mutations=this._mutations.concat(new bf(t._key,Ft.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yi(n,e){if((n=pt(n)).firestore!==e)throw new me(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=yl(e)}get(e){const t=yi(e,this._firestore),s=new LC(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||a.length!==1)return Te(24041);const l=a[0];if(l.isFoundDocument())return new Gh(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new Gh(this._firestore,s,t._key,null,t.converter);throw Te(18433,{doc:l})})}set(e,t,s){const a=yi(e,this._firestore),l=Df(a.converter,t,s),u=Rf(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,s);return this._transaction.set(a._key,u),this}update(e,t,s,...a){const l=yi(e,this._firestore);let u;return u=typeof(t=pt(t))=="string"||t instanceof pl?o1(this._dataReader,"Transaction.update",l._key,t,s,a):a1(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,u),this}delete(e){const t=yi(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC extends FC{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=yi(e,this._firestore),s=new kf(this._firestore);return super.get(e).then(a=>new wi(this._firestore,s,t._key,a._document,new Vo(!1,!1),t.converter))}}function Zw(n,e,t){n=bn(n,Yr);const s={...zC,...t};return function(l){if(l.maxAttempts<1)throw new me(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(l,u,m){const p=new Fr;return l.asyncQueue.enqueueAndForget(async()=>{const y=await wC(l);new vC(l.asyncQueue,y,m,u,p).ju()}),p.promise}(ml(n),a=>e(new HC(n,a)),s)}function Jt(){return new r1("serverTimestamp")}function qC(...n){return new s1("arrayUnion",n)}function Gc(n){return new i1("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(n){return ml(n=bn(n,Yr)),new BC(n,e=>Of(n,e))}(function(e,t=!0){(function(a){cl=a})(ka),Sa(new Si("firestore",(s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),m=new Yr(new D8(s.getProvider("auth-internal")),new O8(u,s.getProvider("app-check-internal")),function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jc(y.options.projectId,x)}(u,a),u);return l={useFetchStreams:t,...l},m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Ur(Lx,Ux,e),Ur(Lx,Ux,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="firebasestorage.googleapis.com",GC="storageBucket",YC=2*60*1e3,KC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Xr{constructor(e,t,s=0){super(cg(e),`Firebase Storage: ${t} (${cg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Kr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Kr||(Kr={}));function cg(n){return"storage/"+n}function QC(){const n="An unknown error occurred, please check the error payload for server response.";return new Wr(Kr.UNKNOWN,n)}function XC(){return new Wr(Kr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WC(){return new Wr(Kr.CANCELED,"User canceled the upload/download.")}function ZC(n){return new Wr(Kr.INVALID_URL,"Invalid URL '"+n+"'.")}function JC(n){return new Wr(Kr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function V_(n){return new Wr(Kr.INVALID_ARGUMENT,n)}function e6(){return new Wr(Kr.APP_DELETED,"The Firebase app was deleted.")}function e7(n){return new Wr(Kr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=fr.makeFromUrl(e,t)}catch{return new fr(e,"")}if(s.path==="")return s;throw JC(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(de){de.path.charAt(de.path.length-1)==="/"&&(de.path_=de.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+a+u,"i"),p={bucket:1,path:3};function y(de){de.path_=decodeURIComponent(de.path)}const x="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",j=new RegExp(`^https?://${w}/${x}/b/${a}/o${E}`,"i"),P={bucket:1,path:3},z=t===Jw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,B="([^?#]*)",q=new RegExp(`^https?://${z}/${a}/${B}`,"i"),ee=[{regex:m,indices:p,postModify:l},{regex:j,indices:P,postModify:y},{regex:q,indices:{bucket:1,path:2},postModify:y}];for(let de=0;de<ee.length;de++){const J=ee[de],ue=J.regex.exec(e);if(ue){const I=ue[J.indices.bucket];let T=ue[J.indices.path];T||(T=""),s=new fr(I,T),J.postModify(s);break}}if(s==null)throw ZC(e);return s}}class t7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(n,e,t){let s=1,a=null,l=null,u=!1,m=0;function p(){return m===2}let y=!1;function x(...B){y||(y=!0,e.apply(null,B))}function w(B){a=setTimeout(()=>{a=null,n(j,p())},B)}function E(){l&&clearTimeout(l)}function j(B,...q){if(y){E();return}if(B){E(),x.call(null,B,...q);return}if(p()||u){E(),x.call(null,B,...q);return}s<64&&(s*=2);let ee;m===1?(m=2,ee=0):ee=(s+Math.random())*1e3,w(ee)}let P=!1;function z(B){P||(P=!0,E(),!y&&(a!==null?(B||(m=2),clearTimeout(a),w(0)):B||(m=1)))}return w(0),l=setTimeout(()=>{u=!0,z(!0)},t),z}function r7(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(n){return n!==void 0}function L_(n,e,t,s){if(s<e)throw V_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw V_(`Invalid value for '${n}'. Expected ${t} or less.`)}function i7(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const a=e(s)+"="+e(n[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var Yh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Yh||(Yh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,t,s,a,l,u,m,p,y,x,w,E=!0,j=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=x,this.connectionFactory_=w,this.retry=E,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,z)=>{this.resolve_=P,this.reject_=z,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new eh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const m=l.getErrorCode()===Yh.NO_ERROR,p=l.getStatus();if(!m||a7(p,this.additionalRetryCodes_)&&this.retry){const x=l.getErrorCode()===Yh.ABORT;s(!1,new eh(!1,null,x));return}const y=this.successCodes_.indexOf(p)!==-1;s(!0,new eh(y,l))})},t=(s,a)=>{const l=this.resolve_,u=this.reject_,m=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());s7(p)?l(p):l()}catch(p){u(p)}else if(m!==null){const p=QC();p.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,p)):u(p)}else if(a.canceled){const p=this.appDelete_?e6():WC();u(p)}else{const p=XC();u(p)}};this.canceled_?t(!1,new eh(!1,null,!0)):this.backoffId_=n7(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&r7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class eh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function l7(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function c7(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function u7(n,e){e&&(n["X-Firebase-GMPID"]=e)}function d7(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function h7(n,e,t,s,a,l,u=!0,m=!1){const p=i7(n.urlParams),y=n.url+p,x=Object.assign({},n.headers);return u7(x,e),l7(x,t),c7(x,l),d7(x,s),new o7(y,n.method,x,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function m7(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t){this._service=e,t instanceof fr?this._location=t:this._location=fr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Kh(e,t)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return m7(this._location.path)}get storage(){return this._service}get parent(){const e=f7(this._location.path);if(e===null)return null;const t=new fr(this._location.bucket,e);return new Kh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw e7(e)}}function U_(n,e){const t=e?.[GC];return t==null?null:fr.makeFromBucketSpec(t,n)}function p7(n,e,t,s={}){n.host=`${e}:${t}`;const a=Da(e);a&&(f0(`https://${n.host}/b`),m0("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(n._overrideAuthToken=typeof l=="string"?l:Pb(l,n.app.options.projectId))}class g7{constructor(e,t,s,a,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=Jw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YC,this._maxUploadRetryTime=KC,this._requests=new Set,a!=null?this._bucket=fr.makeFromBucketSpec(a,this._host):this._bucket=U_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=U_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){L_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){L_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kh(this,e)}_makeRequest(e,t,s,a,l=!0){if(this._deleted)return new t7(e6());{const u=h7(e,this._appId,s,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const z_="@firebase/storage",B_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="storage";function y7(n=y0(),e){n=pt(n);const s=cf(n,t6).getImmediate({identifier:e}),a=kb("storage");return a&&v7(s,...a),s}function v7(n,e,t,s={}){p7(n,e,t,s)}function x7(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new g7(t,s,a,e,ka)}function _7(){Sa(new Si(t6,x7,"PUBLIC").setMultipleInstances(!0)),Ur(z_,B_,""),Ur(z_,B_,"esm2020")}_7();const b7={apiKey:"AIzaSyDO5YcqXk5nhPT2OXyCScTamwmedBEFxTE",authDomain:"collabrianexus.firebaseapp.com",projectId:"collabrianexus",storageBucket:"collabrianexus.firebasestorage.app",messagingSenderId:"1047185526287",appId:"1:1047185526287:web:ada10cb1be8c92c0799d7a",measurementId:"G-PNZLHYBXYT"},g1=Ub(b7),Pf=A8(g1),ke=AC(g1);y7(g1);const w7=(n,e)=>{const t=Rn(ke,"users",n,"notifications");return _l(t,s=>{const a=s.docs.map(l=>({id:l.id,...l.data()})).filter(l=>!l.isDismissed).sort((l,u)=>!l.timestamp||!u.timestamp?0:u.timestamp.seconds-l.timestamp.seconds);e(a)})},Pi=async(n,e)=>{try{const t=Rn(ke,"users",n,"notifications");return await Mf(t,{message:e.message,type:e.type||"general",timestamp:Jt(),isRead:!1,isDismissed:!1,metadata:e.metadata||{}}),{success:!0}}catch(t){return console.error("Error creating notification:",t),{success:!1,error:t.message}}},E7=async(n,e)=>{try{const t=gt(ke,"users",n,"notifications",e);return await Di(t,{isRead:!0}),{success:!0}}catch(t){return console.error("Error marking notification as read:",t),{success:!1,error:t.message}}},T7=async(n,e)=>{try{const t=gt(ke,"users",n,"notifications",e);return await Di(t,{isDismissed:!0}),{success:!0}}catch(t){return console.error("Error dismissing notification:",t),{success:!1,error:t.message}}},S7=async(n,e)=>await Pi(n,{message:`🎉 Mining completed! You earned ${e} coins!`,type:"mining_completed",metadata:{coinsEarned:e}}),A7=async(n,e)=>await Pi(n,{message:`🤝 ${e} joined using your referral code! Mining rate boosted!`,type:"referral_success",metadata:{referredUsername:e}}),N7=async(n,e)=>await Pi(n,{message:`🏆 Congratulations! You earned the "${e}" badge!`,type:"badge_earned",metadata:{badgeName:e}}),R7=async(n,e)=>await Pi(n,{message:`🔥 Amazing! You've reached a ${e}-day streak!`,type:"streak_milestone",metadata:{streakCount:e}}),C7=async n=>await Pi(n,{message:"🎁 Welcome! You received a mining rate bonus for joining via referral!",type:"welcome_bonus"}),I7=async(n,e,t)=>await Pi(n,{message:`✅ Task completed: "${e}" in ${t} badge!`,type:"task_completed",metadata:{taskName:e,badgeName:t}}),j7=async(n,e,t)=>await Pi(n,{message:`🎯 ${t}% progress on "${e}" badge!`,type:"quest_progress",metadata:{badgeName:e,progress:t}}),n6=[{id:"first_steps",name:"First Steps",description:"Complete your first milestone",icon:"FaRocket",color:"text-blue-400",bgGradient:"from-blue-600/20 to-cyan-600/20",borderColor:"border-blue-500/30",tasks:[{id:1,text:"Complete profile setup",completed:!1},{id:2,text:"Start your first mining session",completed:!1}]},{id:"streak_master",name:"Streak Master",description:"Maintain consistent activity",icon:"FaFire",color:"text-orange-400",bgGradient:"from-orange-600/20 to-red-600/20",borderColor:"border-orange-500/30",tasks:[{id:1,text:"Login for 3 consecutive days",completed:!1},{id:2,text:"Mine for 5 days straight",completed:!1},{id:3,text:"Complete daily goals for 7 days",completed:!1},{id:4,text:"Maintain 10-day login streak",completed:!1},{id:5,text:"Achieve 15-day mining streak",completed:!1},{id:6,text:"Reach 30-day activity streak",completed:!1}]},{id:"social_butterfly",name:"Social Butterfly",description:"Build your network",icon:"FaHeart",color:"text-pink-400",bgGradient:"from-pink-600/20 to-rose-600/20",borderColor:"border-pink-500/30",tasks:[{id:1,text:"Refer your first friend",completed:!1},{id:2,text:"Get 3 successful referrals",completed:!1},{id:3,text:"Get 5 successful referrals",completed:!1}]},{id:"mining_expert",name:"Mining Expert",description:"Master the mining system",icon:"FaGem",color:"text-purple-400",bgGradient:"from-purple-600/20 to-violet-600/20",borderColor:"border-purple-500/30",tasks:[{id:1,text:"Complete 10 mining sessions",completed:!1},{id:2,text:"Mine for 100 total hours",completed:!1},{id:3,text:"Reach 100 coins mined",completed:!1}]},{id:"legend",name:"Legend",description:"Ultimate achievement",icon:"FaCrown",color:"text-yellow-400",bgGradient:"from-yellow-600/20 to-amber-600/20",borderColor:"border-yellow-500/30",tasks:[{id:1,text:"Earn all other badges",completed:!1},{id:2,text:"Refer 25+ successful users",completed:!1},{id:3,text:"Mine 1000+ coins",completed:!1},{id:4,text:"Maintain 60-day streak",completed:!1}]}],D7=async n=>{try{console.log("Initializing badges for user:",n);const e=$C(ke);return n6.forEach(t=>{const s=gt(ke,"users",n,"badges",t.id);e.set(s,{badgeId:t.id,name:t.name,description:t.description,icon:t.icon,color:t.color,bgGradient:t.bgGradient,borderColor:t.borderColor,tasks:t.tasks.map(a=>({...a,completed:!1,completedAt:null})),progress:0,isEarned:!1,earnedAt:null})}),await e.commit(),console.log("Badges initialized successfully"),{success:!0}}catch(e){return console.error("Error initializing badges:",e),{success:!1,error:e.message}}},k7=(n,e,t)=>{const s=t.stats||{},a=t.mining||{},l=t.social||{},u=t.profile||{};switch(n){case"first_steps":switch(e){case 1:return u.username&&u.email;case 2:return a.totalMiningSessions>=1;default:return!1}case"streak_master":const m=s.currentStreak||0;switch(e){case 1:return m>=3;case 2:return m>=5;case 3:return m>=7;case 4:return m>=10;case 5:return m>=15;case 6:return m>=30;default:return!1}case"social_butterfly":const p=l.referredUsers?.length||0;switch(e){case 1:return p>=1;case 2:return p>=3;case 3:return p>=5;default:return!1}case"mining_expert":const y=a.totalMiningSessions||0,x=s.totalCoinsEarned||0,w=y*24;switch(e){case 1:return y>=10;case 2:return w>=100;case 3:return x>=100;default:return!1}case"legend":const E=l.referredUsers?.length||0,j=s.totalCoinsEarned||0,P=s.currentStreak||0;switch(e){case 1:return!1;case 2:return E>=25;case 3:return j>=1e3;case 4:return P>=60;default:return!1}default:return!1}},y1=async n=>{try{const e=gt(ke,"users",n),t=await qn(e);if(!t.exists())return{success:!1,error:"User not found"};const s=t.data(),a=await r6(n);if(!a.success)return a;for(const l of a.badges){if(l.isEarned)continue;let u=!1,m=[];const p=n6.find(w=>w.id===l.badgeId),y=Array.isArray(l.tasks)?l.tasks:[],x=(p?.tasks||y).map(w=>{const E=y.find(z=>z.id===w.id)||w,j=k7(l.badgeId,w.id,s),P=j&&!E.completed;return P&&(u=!0,m.push(w.text)),{...w,completed:E.completed||j,completedAt:E.completedAt||(P?new Date:null)}});if(p&&y.length!==p.tasks.length&&(u=!0),u){const w=x.filter(z=>z.completed).length,E=w/(x.length||1)*100,j=w===x.length&&x.length>0,P=gt(ke,"users",n,"badges",l.badgeId);await Di(P,{tasks:x,progress:E,isEarned:j,...j&&!l.isEarned?{earnedAt:new Date}:{}});for(const z of m)await I7(n,z,l.name);!j&&E>=25&&E%25===0&&await j7(n,l.name,Math.round(E)),j&&!l.isEarned&&await N7(n,l.name)}}return{success:!0}}catch(e){return console.error("Error validating badge progress:",e),{success:!1,error:e.message}}},Vf=async(n,e,t={})=>{try{return await y1(n),{success:!0}}catch(s){return console.error("Error checking badge conditions:",s),{success:!1,error:s.message}}},r6=async n=>{try{const e=Rn(ke,"users",n,"badges");return{success:!0,badges:(await xl(e)).docs.map(a=>({id:a.id,...a.data()})).sort((a,l)=>a.badgeId>l.badgeId?1:-1)}}catch(e){return console.error("Error getting user badges:",e),{success:!1,error:e.message,badges:[]}}},M7=(n,e)=>{const t=Rn(ke,"users",n,"badges");return _l(t,s=>{const a=s.docs.map(l=>({id:l.id,...l.data()})).sort((l,u)=>l.badgeId>u.badgeId?1:-1);e(a)})},O7=(n,e)=>{const t=Rn(ke,"users",n,"badges");return _l(t,async s=>{await y1(n);const a=s.docs.map(l=>{const u=l.data();return{id:l.id,badgeId:u.badgeId,name:u.name,description:u.description,icon:u.icon,color:u.color,bgGradient:u.bgGradient,borderColor:u.borderColor,tasks:u.tasks||[],isEarned:u.isEarned||!1,progress:u.progress||0}}).sort((l,u)=>l.badgeId>u.badgeId?1:-1);e(a)})},P7=()=>Math.random().toString(36).substring(2,8).toUpperCase(),V7=async(n,e)=>{try{console.log(`Processing referral: ${n} for new user: ${e}`);const t=Rn(ke,"users"),s=Kw(t,OC("profile.referralCode","==",n)),a=await xl(s);if(a.empty)return console.log("Referral code not found:",n),{success:!1,error:"Invalid referral code"};const l=a.docs[0],u=l.id,m=l.data(),p=gt(ke,"users",e),x=(await qn(p)).data();console.log("Found referrer:",u);const w=gt(ke,"users",u);await Di(w,{"social.totalReferrals":Gc(1),"social.referredUsers":qC(e),"mining.miningRate":(m.mining?.miningRate||3)+.1,"profile.lastActive":Jt()}),await A7(u,x.profile.username),await C7(e),await Di(p,{"profile.referredBy":u,"mining.miningRate":3.2});const E=(m.social?.totalReferrals||0)+1;return await Vf(u,"REFERRAL_SUCCESS",{totalReferrals:E}),console.log("Referral processed successfully"),{success:!0,referrerUid:u,message:"Referral processed successfully! Both users received bonuses."}}catch(t){return console.error("Error processing referral:",t),{success:!1,error:t.message}}},L7=async(n,e)=>{try{const t=gt(ke,"users",n),s={uid:n,profile:{username:e.username,email:e.email,name:e.name||e.username,avatar:"",joined:Jt(),lastActive:Jt(),referralCode:P7(),referredBy:(e.referralCode,null)},stats:{coinsEarned:0,totalCoinsEarned:0,level:1,currentTier:"Bronze Miner",nextTier:"Silver Miner",tierProgress:0,currentStreak:0,totalMined:0,rank:"#0",isVip:!1},mining:{isMining:!1,lastMiningStart:null,coinsMined:0,nextAvailable:null,totalMiningSessions:0,miningRate:3},social:{friends:[],totalReferrals:0,referredUsers:[],networkCoins:0},settings:{notifications:!0,privacy:"public"}};if(await p1(t,s),await D7(n),e.referralCode){const a=await V7(e.referralCode,n);a.success?console.log("Referral processed during user creation"):console.log("Referral processing failed:",a.error)}return{success:!0}}catch(t){return console.error("Error creating user profile:",t),{success:!1,error:t.message}}},U7=async n=>{try{const e=gt(ke,"users",n);await Di(e,{"profile.lastActive":Jt()})}catch(e){console.error("Error updating last active:",e)}},z7=async(n,e,t)=>{try{const a=(await lN(Pf,n,e)).user;return console.log("User created:",a),await dN(a,{displayName:t.username}),await L7(a.uid,t),{success:!0,user:a}}catch(s){return{success:!1,error:s.message}}},B7=async(n,e)=>{try{return{success:!0,user:(await cN(Pf,n,e)).user}}catch(t){return{success:!1,error:t.message}}},F7=async()=>{try{return await pN(Pf),{success:!0}}catch(n){return{success:!1,error:n.message}}},v1=n=>mN(Pf,n);function H7({onLogin:n}){const e=ja(),[t,s]=O.useState({email:"",password:""}),[a,l]=O.useState(!1),[u,m]=O.useState(!1),[p,y]=O.useState({}),[x,w]=O.useState(!1),E=z=>{const{name:B,value:q}=z.target;s(te=>({...te,[B]:q})),p[B]&&y(te=>({...te,[B]:""}))},j=()=>{const z={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(z.email="Please enter a valid email"):z.email="Email is required",t.password||(z.password="Password is required"),y(z),Object.keys(z).length===0},P=async z=>{if(z.preventDefault(),!j())return;w(!0);const B=await B7(t.email,t.password);w(!1),B.success?(n&&n(),e("/")):y({general:B.error})};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background px-4 py-8 md:py-16 pt-20 relative overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[d.jsx("div",{className:"absolute top-20 right-20 w-64 h-64 bg-accent/20 rounded-full blur-3xl floating"}),d.jsx("div",{className:"absolute bottom-20 left-20 w-80 h-80 bg-accentLight/10 rounded-full blur-3xl",style:{animationDelay:"3s"}})]}),d.jsxs("div",{className:"w-full max-w-6xl bg-card rounded-2xl shadow-2xl flex overflow-hidden relative z-10 border border-border",children:[d.jsxs("div",{className:"flex-1 p-10 lg:p-12 flex flex-col justify-center",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("span",{className:"font-bold text-3xl text-accent",children:"Collabria Nexus"}),d.jsx("p",{className:"text-textMuted mt-2 text-sm",children:"Welcome back to your learning & earning journey"})]}),d.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-2 text-accentLight",children:"Welcome Back!"}),d.jsx("p",{className:"mb-8 text-textMuted text-lg",children:"Continue your journey of knowledge and collaboration"}),d.jsxs("form",{onSubmit:P,className:"space-y-5",children:[d.jsxs("div",{className:"relative",children:[d.jsx(tT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-accent w-5 h-5"}),d.jsx("input",{type:"email",name:"email",value:t.email,onChange:E,placeholder:"Email Address",className:`w-full pl-12 pr-4 py-3 rounded-lg border ${p.email?"border-error":"border-border"} bg-background/70 text-text placeholder-textMuted focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),p.email&&d.jsx("p",{className:"text-error text-sm mt-1",children:p.email})]}),d.jsxs("div",{className:"relative",children:[d.jsx(JE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text/40 w-5 h-5"}),d.jsx("input",{type:a?"text":"password",name:"password",value:t.password,onChange:E,placeholder:"Password",className:`w-full pl-12 pr-12 py-3 rounded-lg border ${p.password?"border-red-500":"border-border"} bg-background/50 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),d.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text/40 hover:text-accent p-1 transition-colors",children:a?d.jsx(vg,{size:20}):d.jsx(xg,{size:20})}),p.password&&d.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.password})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsxs("label",{className:"flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:u,onChange:z=>m(z.target.checked),className:"accent-accent w-4 h-4 mr-2"}),d.jsx("span",{className:"text-text/70",children:"Remember me"})]}),d.jsx("a",{href:"#",className:"text-accent hover:text-accentLight transition-colors",children:"Forgot password?"})]}),d.jsx("button",{type:"submit",disabled:x,className:"w-full py-4 rounded-lg bg-gradient-to-r from-accent to-accentLight text-white font-semibold hover:shadow-lg hover:shadow-accent/25 transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center group",children:x?d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):d.jsxs(d.Fragment,{children:["Sign In",d.jsx(kE,{className:"ml-2 w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]}),d.jsxs("div",{className:"mt-8 text-center text-sm text-textMuted",children:["New to our community?"," ",d.jsx(Lr,{to:"/SignUp",className:"text-accent hover:text-accentLight hover:underline font-medium",children:"Create your account"})]}),d.jsx("div",{className:"mt-8 pt-6 border-t border-border/50",children:d.jsxs("div",{className:"flex justify-center space-x-8 text-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xl font-bold text-accent",children:"10K+"}),d.jsx("div",{className:"text-xs text-text/60",children:"Active Members"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xl font-bold text-accent",children:"500+"}),d.jsx("div",{className:"text-xs text-text/60",children:"Expert Mentors"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xl font-bold text-accent",children:"1M+"}),d.jsx("div",{className:"text-xs text-text/60",children:"Knowledge Shares"})]})]})})]}),d.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center bg-gradient-to-br from-background/80 to-card/50 p-12 relative",children:d.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-center",children:[d.jsx("img",{src:mb,alt:"Knowledge Access Illustration",className:"max-h-80 object-contain drop-shadow-2xl rounded-2xl mb-8 floating"}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("h3",{className:"text-2xl font-bold gradient-text",children:"Your Knowledge Universe Awaits"}),d.jsx("p",{className:"text-text/70 text-lg leading-relaxed max-w-md",children:"Access your personalized dashboard, connect with mentors, and continue building your professional network in the knowledge economy."}),d.jsxs("div",{className:"bg-gradient-to-r from-accent/10 to-accent-light/10 p-6 rounded-xl border border-accent/20",children:[d.jsx("div",{className:"text-sm text-text/60 mb-2",children:"💡 Today's Insight"}),d.jsx("div",{className:"text-text/80 italic",children:'"The best way to learn is to teach others. Join discussions, share your expertise, and grow together."'})]})]})]})})]})]})}function q7({onSignUp:n}){const e=ja(),[t,s]=O.useState({username:"",email:"",password:"",confirmPassword:"",referralCode:""}),[a,l]=O.useState(!1),[u,m]=O.useState(!1),[p,y]=O.useState(!1),[x,w]=O.useState({}),[E,j]=O.useState(!1),P=q=>{const{name:te,value:ee}=q.target;s(de=>({...de,[te]:ee})),x[te]&&w(de=>({...de,[te]:""}))},z=()=>{const q={};return t.username.trim()?t.username.length<3&&(q.username="Username must be at least 3 characters"):q.username="Username is required",t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(q.email="Please enter a valid email"):q.email="Email is required",t.password?t.password.length<8&&(q.password="Password must be at least 8 characters"):q.password="Password is required",t.password!==t.confirmPassword&&(q.confirmPassword="Passwords do not match"),a||(q.terms="You must accept the terms and privacy policy"),w(q),Object.keys(q).length===0},B=async q=>{if(q.preventDefault(),!z())return;j(!0);const te=await z7(t.email,t.password,{username:t.username,email:t.email,name:t.username,referralCode:t.referralCode});j(!1),te.success?(n&&n(),e("/dashboard")):w({general:te.error||"Sign up failed. Please try again."})};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background px-4 py-8 md:py-16 pt-20 relative overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[d.jsx("div",{className:"absolute top-20 left-20 w-64 h-64 bg-accent/20 rounded-full blur-3xl floating"}),d.jsx("div",{className:"absolute bottom-20 right-20 w-80 h-80 bg-accentLight/10 rounded-full blur-3xl",style:{animationDelay:"2s"}})]}),d.jsxs("div",{className:"w-full max-w-6xl bg-card rounded-2xl shadow-2xl flex overflow-hidden relative z-10 border border-border",children:[d.jsxs("div",{className:"flex-1 p-10 lg:p-12 flex flex-col justify-center",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("span",{className:"font-bold text-3xl text-accent",children:"Collabria Nexus"}),d.jsx("p",{className:"text-textMuted mt-2 text-sm",children:"Empowering minds, building futures"})]}),d.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-2 text-accentLight",children:"Join Our Community"}),d.jsx("p",{className:"mb-8 text-textMuted text-lg",children:"Start your journey of knowledge sharing and collaboration"}),d.jsxs("form",{onSubmit:B,className:"space-y-5",children:[d.jsx("input",{type:"text",name:"username",value:t.username,onChange:P,placeholder:"Username",className:`w-full px-4 py-3 rounded-lg border ${x.username?"border-error":"border-border"} bg-background/70 text-text placeholder-textMuted focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),d.jsxs("div",{children:[d.jsx("input",{type:"email",name:"email",value:t.email,onChange:P,placeholder:"Email Address",className:`w-full px-4 py-3 rounded-lg border ${x.email?"border-red-500":"border-border"} bg-background/50 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),x.email&&d.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.email})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:u?"text":"password",name:"password",value:t.password,onChange:P,placeholder:"Password",className:`w-full px-4 py-3 pr-12 rounded-lg border ${x.password?"border-red-500":"border-border"} bg-background/50 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),d.jsx("button",{type:"button",onClick:()=>m(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text/50 hover:text-accent p-1",children:u?d.jsx(vg,{size:20}):d.jsx(xg,{size:20})}),x.password&&d.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.password})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:p?"text":"password",name:"confirmPassword",value:t.confirmPassword,onChange:P,placeholder:"Confirm Password",className:`w-full px-4 py-3 pr-12 rounded-lg border ${x.confirmPassword?"border-red-500":"border-border"} bg-background/50 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),d.jsx("button",{type:"button",onClick:()=>y(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text/50 hover:text-accent p-1",children:p?d.jsx(vg,{size:20}):d.jsx(xg,{size:20})}),x.confirmPassword&&d.jsx("p",{className:"text-red-400 text-sm mt-1",children:x.confirmPassword})]}),d.jsx("div",{children:d.jsx("input",{type:"text",name:"referralCode",value:t.referralCode,onChange:P,placeholder:"Referral Code (Optional)",className:"w-full px-4 py-3 rounded-lg border border-border bg-background/50 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300"})}),d.jsxs("div",{className:"flex items-start text-sm mt-6",children:[d.jsx("input",{id:"accept",type:"checkbox",checked:a,onChange:q=>l(q.target.checked),className:"accent-accent w-4 h-4 mr-3 mt-1 flex-shrink-0"}),d.jsxs("label",{htmlFor:"accept",className:"text-textMuted select-none leading-relaxed",children:["I agree to the"," ",d.jsx("a",{href:"#",className:"text-accent hover:text-accentLight underline",children:"Terms of Service"})," ","and"," ",d.jsx("a",{href:"#",className:"text-accent hover:text-accentLight underline",children:"Privacy Policy"}),"."]})]}),d.jsx("button",{type:"submit",disabled:!a||E,className:"w-full py-4 rounded-lg bg-gradient-to-r from-accent to-accentLight text-white font-semibold hover:shadow-lg hover:shadow-accent/25 transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center",children:E?d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Create Account"}),x.general&&d.jsx("p",{className:"text-error text-center text-sm mb-2",children:x.general})]}),d.jsxs("div",{className:"mt-8 text-center text-sm text-textMuted",children:["Already part of our community?"," ",d.jsx(Lr,{to:"/login",className:"text-accent hover:text-accentLight hover:underline font-medium",children:"Sign in here"})]})]}),d.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center bg-gradient-to-br from-background/80 to-card/50 p-12 relative",children:d.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-center",children:[d.jsx("img",{src:mb,alt:"Knowledge Community Illustration",className:"max-h-80 object-contain drop-shadow-2xl rounded-2xl mb-8 floating"}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-accentLight",children:"Join the Knowledge Revolution"}),d.jsx("p",{className:"text-textMuted text-lg leading-relaxed max-w-md",children:"Connect with experts, share insights, and collaborate on projects that matter."}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[d.jsxs("div",{className:"flex flex-col items-center p-4 glass rounded-xl bg-background/60 border border-border",children:[d.jsx(oT,{className:"w-8 h-8 text-accent mb-2"}),d.jsx("span",{className:"text-sm text-textMuted",children:"Expert Network"})]}),d.jsxs("div",{className:"flex flex-col items-center p-4 glass rounded-xl",children:[d.jsx(VE,{className:"w-8 h-8 text-accent mb-2"}),d.jsx("span",{className:"text-sm text-text/70",children:"Knowledge Base"})]}),d.jsxs("div",{className:"flex flex-col items-center p-4 glass rounded-xl",children:[d.jsx(OE,{className:"w-8 h-8 text-accent mb-2"}),d.jsx("span",{className:"text-sm text-text/70",children:"Verified Insights"})]}),d.jsxs("div",{className:"flex flex-col items-center p-4 glass rounded-xl",children:[d.jsx(QE,{className:"w-8 h-8 text-accent mb-2"}),d.jsx("span",{className:"text-sm text-text/70",children:"Global Impact"})]})]})]})]})})]})]})}var s6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},F_=Nn.createContext&&Nn.createContext(s6),$7=["attr","size","title"];function G7(n,e){if(n==null)return{};var t=Y7(n,e),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)s=l[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function Y7(n,e){if(n==null)return{};var t={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function Qh(){return Qh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Qh.apply(this,arguments)}function H_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function Xh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(t),!0).forEach(function(s){K7(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H_(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function K7(n,e,t){return e=Q7(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Q7(n){var e=X7(n,"string");return typeof e=="symbol"?e:e+""}function X7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function i6(n){return n&&n.map((e,t)=>Nn.createElement(e.tag,Xh({key:t},e.attr),i6(e.child)))}function Ee(n){return e=>Nn.createElement(W7,Qh({attr:Xh({},n.attr)},e),i6(n.child))}function W7(n){var e=t=>{var{attr:s,size:a,title:l}=n,u=G7(n,$7),m=a||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),Nn.createElement("svg",Qh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,u,{className:p,style:Xh(Xh({color:n.color||t.color},t.style),n.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&Nn.createElement("title",null,l),n.children)};return F_!==void 0?Nn.createElement(F_.Consumer,null,t=>e(t)):e(s6)}function Z7(n){return Ee({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 167.5l64.9 98.8H183.1l64.9-98.8zM496 256c0 136.9-111.1 248-248 248S0 392.9 0 256 111.1 8 248 8s248 111.1 248 248zm-99.8 82.7L248 115.5 99.8 338.7h30.4l33.6-51.7h168.6l33.6 51.7h30.2z"},child:[]}]})(n)}function J7(n){return Ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(n)}function eI(n){return Ee({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function tI(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function nI(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function rI(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function sI(n){return Ee({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(n)}function a6(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M11.5 280.6l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2zm256 0l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2z"},child:[]}]})(n)}function o6(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function Lo(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(n)}function l6(n){return Ee({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(n)}function q_(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(n)}function iI(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(n)}function Wh(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(n)}function aI(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function oI(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function x1(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(n)}function _1(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function c6(n){return Ee({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function u6(n){return Ee({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function vh(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(n)}function Yg(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function lI(n){return Ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(n)}function b1(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function Zh(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(n)}function cI(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(n)}function Jo(n){return Ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(n)}function uI(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function dI(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function Va(n){return Ee({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(n)}function d6(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"},child:[]}]})(n)}function h6(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(n)}function Jh(n){return Ee({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(n)}function f6(n){return Ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(n)}function w1(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function E1(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function hI(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(n)}function fI(n){return Ee({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(n)}function mI(n){return Ee({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function qo(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(n)}function m6(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H88c-13.255 0-24 10.745-24 24v8H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h472c26.51 0 48-21.49 48-48V88c0-13.255-10.745-24-24-24zM56 400a8 8 0 0 1-8-8V144h16v248a8 8 0 0 1-8 8zm236-16H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm-208-96H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm0-96H140c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12z"},child:[]}]})(n)}function pI(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(n)}function gI(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(n)}function yI(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function Ei(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(n)}function p6(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function $_(n){return Ee({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(n)}function vI(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(n)}function G_(n){return Ee({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(n)}function bu(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function ef(n){return Ee({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function vr(n){return Ee({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(n)}function tf(n){return Ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(n)}function xI(n){return Ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function Ia(n){return Ee({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}const _I=()=>{const[n,e]=O.useState("learn"),t=[{icon:q_,title:"Curated Knowledge Base",description:"Access verified articles, company insights, and proven strategies from industry leaders.",category:"learn"},{icon:Wh,title:"Expert Mentorship",description:"Connect directly with professionals and get personalized guidance for your career growth.",category:"connect"},{icon:m6,title:"Industry News & Trends",description:"Stay updated with the latest industry developments and breakthrough innovations.",category:"discover"},{icon:f6,title:"Project Collaboration",description:"Join meaningful projects, contribute your skills, and build your professional network.",category:"grow"}],s=[{id:"discover",label:"Discover",icon:p6},{id:"connect",label:"Connect",icon:Ia},{id:"learn",label:"Learn",icon:q_},{id:"grow",label:"Grow",icon:rI}];return d.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[d.jsx("section",{className:"pt-24 pb-16 bg-gradient-to-b from-gray-900 to-gray-800",children:d.jsx("div",{className:"px-6 lg:px-8 w-full max-w-6xl mx-auto",children:d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("div",{className:"mb-6",children:d.jsx("span",{className:"bg-purple-600 text-white px-4 py-2 rounded-full text-sm font-semibold",children:"🚀 LAUNCHING SOON"})}),d.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-8 leading-tight",children:["Your Gateway to",d.jsx("br",{}),d.jsx("span",{className:"text-purple-400",children:"Global Knowledge"})," &",d.jsx("span",{className:"text-pink-400",children:" Expert Networks"})]}),d.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-3xl mx-auto",children:"Connect with industry experts, access verified insights, and accelerate your professional journey through authentic knowledge sharing and meaningful collaboration."}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 mb-12",children:[d.jsx("button",{className:"px-8 py-4 bg-purple-600 hover:bg-purple-700 rounded-lg font-semibold text-lg transition-colors shadow-lg",children:d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx(Ei,{}),"Get Early Access"]})}),d.jsx("button",{className:"px-8 py-4 border border-gray-600 hover:bg-gray-800 rounded-lg font-semibold text-lg transition-colors",children:d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx(gI,{}),"Watch Demo"]})})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-8 max-w-2xl mx-auto text-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-1",children:"100%"}),d.jsx("div",{className:"text-sm text-gray-400",children:"Verified Content"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-pink-400 mb-1",children:"24/7"}),d.jsx("div",{className:"text-sm text-gray-400",children:"Global Access"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-cyan-400 mb-1",children:"∞"}),d.jsx("div",{className:"text-sm text-gray-400",children:"Learning Opportunities"})]})]})]})})}),d.jsx("section",{className:"py-16 bg-gray-800",children:d.jsxs("div",{className:"px-6 lg:px-8 w-full max-w-6xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"How It Works"}),d.jsx("p",{className:"text-xl text-gray-300",children:"Four simple steps to transform your professional journey"})]}),d.jsx("div",{className:"flex justify-center mb-12",children:d.jsx("div",{className:"bg-gray-900 p-2 rounded-xl inline-flex w-full max-w-full overflow-x-auto flex-wrap space-x-2 scrollbar-hide",children:s.map(a=>d.jsxs("button",{onClick:()=>e(a.id),className:`min-w-[100px] px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2 whitespace-nowrap 
          ${n===a.id?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,style:{flex:"0 0 auto"},children:[d.jsx(a.icon,{className:"text-lg"}),a.label]},a.id))})}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[d.jsx("div",{children:t.filter(a=>a.category===n).map((a,l)=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("div",{className:"bg-purple-600 p-3 rounded-lg",children:d.jsx(a.icon,{className:"text-2xl text-white"})}),d.jsx("h3",{className:"text-2xl font-bold",children:a.title})]}),d.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:a.description})]},l))}),d.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl p-8",children:[d.jsxs("div",{className:"bg-gradient-to-br from-purple-600/20 to-pink-600/20 rounded-xl p-6 mb-6",children:[d.jsx("h4",{className:"text-lg font-semibold mb-2 text-center",children:"Coming Soon"}),d.jsx("div",{className:"text-center text-gray-300",children:"Interactive demo and preview will be available here"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[d.jsx("span",{className:"text-gray-300",children:"Platform Features"}),d.jsx(G_,{className:"text-green-400"})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[d.jsx("span",{className:"text-gray-300",children:"Expert Network"}),d.jsx(Ia,{className:"text-blue-400"})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[d.jsx("span",{className:"text-gray-300",children:"Global Access"}),d.jsx(Jh,{className:"text-purple-400"})]})]})]})]})]})}),d.jsx("section",{className:"py-16 bg-gray-900",children:d.jsxs("div",{className:"px-6 lg:px-8 w-full max-w-6xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"Why Choose CollabriaNexus?"}),d.jsx("p",{className:"text-xl text-gray-300",children:"Built for professionals who value authentic knowledge and meaningful connections"})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-cyan-500 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4",children:d.jsx(G_,{className:"text-2xl text-white"})}),d.jsx("h3",{className:"text-xl font-bold mb-3",children:"Verified & Authentic"}),d.jsx("p",{className:"text-gray-300",children:"All content and expert profiles are thoroughly verified to ensure authenticity and quality."})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-pink-500 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4",children:d.jsx(Jh,{className:"text-2xl text-white"})}),d.jsx("h3",{className:"text-xl font-bold mb-3",children:"Global Community"}),d.jsx("p",{className:"text-gray-300",children:"Connect with professionals and experts from around the world in your field of interest."})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-gradient-to-br from-green-600 to-emerald-500 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4",children:d.jsx(Wh,{className:"text-2xl text-white"})}),d.jsx("h3",{className:"text-xl font-bold mb-3",children:"Career Growth"}),d.jsx("p",{className:"text-gray-300",children:"Access opportunities for skill development, mentorship, and collaborative projects."})]})]})]})}),d.jsx("section",{className:"py-16 bg-gradient-to-r from-purple-900 to-pink-900",children:d.jsxs("div",{className:"px-6 lg:px-8 w-full max-w-4xl mx-auto text-center",children:[d.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-6",children:"Be Among the First"}),d.jsx("p",{className:"text-xl text-gray-200 mb-8 leading-relaxed",children:"Join our exclusive waitlist and get early access to the platform that will transform how professionals connect, learn, and grow together."}),d.jsx("div",{className:"bg-white/10 backdrop-blur border border-white/20 rounded-2xl p-8 mb-8",children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[d.jsx("input",{type:"email",placeholder:"Enter your email address",className:"flex-1 px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-purple-500 focus:outline-none"}),d.jsx("button",{className:"px-6 py-3 bg-white text-purple-900 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Join Waitlist"})]})}),d.jsxs("div",{className:"text-sm text-gray-300 flex items-center justify-center gap-2",children:[d.jsx(bu,{className:"text-yellow-400"}),"No spam, just updates on our launch progress"]})]})})]})},bI="/CollabriaNexus/assets/LOGO-BUWBIFdy.png";function wI(){const[n,e]=O.useState(!1),[t,s]=O.useState(!1),a=ks();O.useEffect(()=>{const m=()=>{const p=window.scrollY>20;s(p)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]),O.useEffect(()=>{e(!1)},[a]);const l=[{to:"/",label:"Home",icon:d.jsx(E1,{})},{to:"/blog",label:"Blogs",icon:d.jsx(iI,{})},{to:"/about",label:"About Us",icon:d.jsx(hI,{})},{to:"/dashboard",label:"Dashboard",icon:d.jsx(oI,{})}],u=m=>a.pathname===m;return d.jsxs(d.Fragment,{children:[d.jsxs("nav",{className:`fixed top-0 left-0 w-full z-50 transition-all duration-300 ${t?"glass-scrolled border-b border-violet-300/40 shadow-2xl backdrop-blur-xl":"glass border-b border-violet-300/30 shadow-lg backdrop-blur-md"} rounded-b-2xl`,children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-6 py-3",children:[d.jsxs(Lr,{to:"/",className:"flex items-center group",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{className:"w-[50px] transition-transform duration-300 group-hover:scale-110 group-hover:rotate-3",src:bI,alt:"Logo"}),d.jsx("div",{className:"absolute inset-0 w-[50px] h-[50px] rounded-full bg-gradient-to-r from-violet-400/20 to-purple-400/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-lg"})]}),d.jsx("span",{className:"ml-3 text-xl font-bold gradient-text group-hover:scale-105 transition-transform duration-300",children:"CollabriaNexus"})]}),d.jsx("ul",{className:"hidden md:flex items-center space-x-1 font-medium",children:l.map((m,p)=>d.jsx("li",{children:d.jsxs(Lr,{to:m.to,className:`relative px-4 py-2 rounded-xl transition-all duration-300 group flex items-center gap-2 ${u(m.to)?"text-violet-300 bg-violet-500/20 shadow-lg":"text-white hover:text-violet-300 hover:bg-violet-500/10"}`,children:[d.jsx("span",{className:`transition-transform duration-300 ${u(m.to)?"scale-110":"group-hover:scale-110"}`,children:m.icon}),d.jsxs("span",{className:"relative",children:[m.label,u(m.to)&&d.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-violet-400 to-purple-400 rounded-full"})]})]})},p))}),d.jsx("button",{className:"md:hidden relative flex flex-col justify-center items-center w-10 h-10 rounded-lg hover:bg-violet-500/20 transition-colors duration-300",onClick:()=>e(!n),"aria-label":"Toggle navigation",children:n?d.jsx(ef,{className:"text-white text-xl transition-transform duration-300 rotate-180"}):d.jsx(o6,{className:"text-white text-xl transition-transform duration-300"})})]}),d.jsx("div",{className:`md:hidden overflow-hidden transition-all duration-300 ease-in-out ${n?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:d.jsx("ul",{className:"bg-gradient-to-b from-[#181828] to-[#0f0f1a] border-t border-violet-300/20 shadow-2xl rounded-b-2xl px-4 py-4 font-medium text-white",children:l.map((m,p)=>d.jsx("li",{className:"border-b border-violet-300/10 last:border-none",children:d.jsxs(Lr,{to:m.to,className:`flex items-center gap-3 py-4 px-3 rounded-xl transition-all duration-300 group ${u(m.to)?"bg-violet-500/20 text-violet-300 shadow-lg transform translate-x-2":"hover:bg-violet-500/20 hover:text-violet-300 hover:transform hover:translate-x-2"}`,onClick:()=>e(!1),children:[d.jsx("span",{className:`text-lg transition-all duration-300 ${u(m.to)?"text-violet-400 scale-110":"group-hover:text-violet-400 group-hover:scale-110"}`,children:m.icon}),d.jsxs("span",{className:"relative",children:[m.label,u(m.to)&&d.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-violet-400 to-purple-400 rounded-full"})]}),u(m.to)&&d.jsx("span",{className:"ml-auto w-2 h-2 bg-violet-400 rounded-full animate-pulse"})]})},p))})})]}),n&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300",onClick:()=>e(!1)}),d.jsx("style",{jsx:!0,children:`
        .glass {
          background: rgba(24, 24, 40, 0.85);
          backdrop-filter: blur(12px);
          -webkit-backdrop-filter: blur(12px);
        }
        
        .glass-scrolled {
          background: rgba(15, 15, 26, 0.95);
          backdrop-filter: blur(20px);
          -webkit-backdrop-filter: blur(20px);
        }
        
        .gradient-text {
          background: linear-gradient(135deg, #a855f7, #ec4899, #06b6d4);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          animation: gradient-shift 3s ease-in-out infinite;
        }
        
        @keyframes gradient-shift {
          0%, 100% { 
            background: linear-gradient(135deg, #a855f7, #ec4899, #06b6d4);
            -webkit-background-clip: text;
            background-clip: text;
          }
          50% { 
            background: linear-gradient(135deg, #06b6d4, #a855f7, #ec4899);
            -webkit-background-clip: text;
            background-clip: text;
          }
        }
        
        @keyframes fadeInDown {
          from {
            opacity: 0;
            transform: translate3d(0, -20px, 0);
          }
          to {
            opacity: 1;
            transform: translate3d(0, 0, 0);
          }
        }
        
        .animate-fadeInDown {
          animation: fadeInDown 0.3s ease-out;
        }
        
        /* Smooth scrollbar for mobile menu */
        .overflow-y-auto::-webkit-scrollbar {
          width: 4px;
        }
        
        .overflow-y-auto::-webkit-scrollbar-track {
          background: rgba(139, 92, 246, 0.1);
          border-radius: 2px;
        }
        
        .overflow-y-auto::-webkit-scrollbar-thumb {
          background: rgba(139, 92, 246, 0.5);
          border-radius: 2px;
        }
        
        .overflow-y-auto::-webkit-scrollbar-thumb:hover {
          background: rgba(139, 92, 246, 0.7);
        }
      `})]})}function EI(){return d.jsx("footer",{className:"w-full bg-[#181828] border-t border-violet-900/30 py-8 px-4 mt-auto",children:d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"",children:d.jsx("img",{src:"./src/assets/LOGO.png",alt:"Collabria Nexus Logo",className:"w-20 h-10"})}),d.jsx("span",{className:"text-2xl font-extrabold text-violet-400 tracking-tight",children:"CollabriaNexus"}),d.jsx("span",{className:"text-gray-500 text-sm hidden sm:inline",children:"Empowering Your Journey"})]}),d.jsxs("div",{className:"flex gap-6 text-violet-400 text-2xl",children:[d.jsx("a",{href:"https://twitter.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-violet-300 transition",children:d.jsx(nI,{})}),d.jsx("a",{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-violet-300 transition",children:d.jsx(eI,{})}),d.jsx("a",{href:"https://linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-violet-300 transition",children:d.jsx(tI,{})}),d.jsx("a",{href:"https://discord.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-violet-300 transition",children:d.jsx(J7,{})})]}),d.jsxs("div",{className:"text-gray-500 text-xs text-center md:text-right",children:["© ",new Date().getFullYear()," CollabriaNexus. All rights reserved."]})]})})}var xh={exports:{}},TI=xh.exports,Y_;function SI(){return Y_||(Y_=1,function(n,e){(function(t,s){n.exports=s()})(TI,function(){var t=1e3,s=6e4,a=36e5,l="millisecond",u="second",m="minute",p="hour",y="day",x="week",w="month",E="quarter",j="year",P="date",z="Invalid Date",B=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,q=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,te={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ge){var he=["th","st","nd","rd"],L=ge%100;return"["+ge+(he[(L-20)%10]||he[L]||he[0])+"]"}},ee=function(ge,he,L){var W=String(ge);return!W||W.length>=he?ge:""+Array(he+1-W.length).join(L)+ge},de={s:ee,z:function(ge){var he=-ge.utcOffset(),L=Math.abs(he),W=Math.floor(L/60),H=L%60;return(he<=0?"+":"-")+ee(W,2,"0")+":"+ee(H,2,"0")},m:function ge(he,L){if(he.date()<L.date())return-ge(L,he);var W=12*(L.year()-he.year())+(L.month()-he.month()),H=he.clone().add(W,w),se=L-H<0,R=he.clone().add(W+(se?-1:1),w);return+(-(W+(L-H)/(se?H-R:R-H))||0)},a:function(ge){return ge<0?Math.ceil(ge)||0:Math.floor(ge)},p:function(ge){return{M:w,y:j,w:x,d:y,D:P,h:p,m,s:u,ms:l,Q:E}[ge]||String(ge||"").toLowerCase().replace(/s$/,"")},u:function(ge){return ge===void 0}},J="en",ue={};ue[J]=te;var I="$isDayjsObject",T=function(ge){return ge instanceof V||!(!ge||!ge[I])},A=function ge(he,L,W){var H;if(!he)return J;if(typeof he=="string"){var se=he.toLowerCase();ue[se]&&(H=se),L&&(ue[se]=L,H=se);var R=he.split("-");if(!H&&R.length>1)return ge(R[0])}else{var X=he.name;ue[X]=he,H=X}return!W&&H&&(J=H),H||!W&&J},C=function(ge,he){if(T(ge))return ge.clone();var L=typeof he=="object"?he:{};return L.date=ge,L.args=arguments,new V(L)},k=de;k.l=A,k.i=T,k.w=function(ge,he){return C(ge,{locale:he.$L,utc:he.$u,x:he.$x,$offset:he.$offset})};var V=function(){function ge(L){this.$L=A(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[I]=!0}var he=ge.prototype;return he.parse=function(L){this.$d=function(W){var H=W.date,se=W.utc;if(H===null)return new Date(NaN);if(k.u(H))return new Date;if(H instanceof Date)return new Date(H);if(typeof H=="string"&&!/Z$/i.test(H)){var R=H.match(B);if(R){var X=R[2]-1||0,ae=(R[7]||"0").substring(0,3);return se?new Date(Date.UTC(R[1],X,R[3]||1,R[4]||0,R[5]||0,R[6]||0,ae)):new Date(R[1],X,R[3]||1,R[4]||0,R[5]||0,R[6]||0,ae)}}return new Date(H)}(L),this.init()},he.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},he.$utils=function(){return k},he.isValid=function(){return this.$d.toString()!==z},he.isSame=function(L,W){var H=C(L);return this.startOf(W)<=H&&H<=this.endOf(W)},he.isAfter=function(L,W){return C(L)<this.startOf(W)},he.isBefore=function(L,W){return this.endOf(W)<C(L)},he.$g=function(L,W,H){return k.u(L)?this[W]:this.set(H,L)},he.unix=function(){return Math.floor(this.valueOf()/1e3)},he.valueOf=function(){return this.$d.getTime()},he.startOf=function(L,W){var H=this,se=!!k.u(W)||W,R=k.p(L),X=function(lt,at){var yt=k.w(H.$u?Date.UTC(H.$y,at,lt):new Date(H.$y,at,lt),H);return se?yt:yt.endOf(y)},ae=function(lt,at){return k.w(H.toDate()[lt].apply(H.toDate("s"),(se?[0,0,0,0]:[23,59,59,999]).slice(at)),H)},le=this.$W,pe=this.$M,be=this.$D,xe="set"+(this.$u?"UTC":"");switch(R){case j:return se?X(1,0):X(31,11);case w:return se?X(1,pe):X(0,pe+1);case x:var Ke=this.$locale().weekStart||0,Oe=(le<Ke?le+7:le)-Ke;return X(se?be-Oe:be+(6-Oe),pe);case y:case P:return ae(xe+"Hours",0);case p:return ae(xe+"Minutes",1);case m:return ae(xe+"Seconds",2);case u:return ae(xe+"Milliseconds",3);default:return this.clone()}},he.endOf=function(L){return this.startOf(L,!1)},he.$set=function(L,W){var H,se=k.p(L),R="set"+(this.$u?"UTC":""),X=(H={},H[y]=R+"Date",H[P]=R+"Date",H[w]=R+"Month",H[j]=R+"FullYear",H[p]=R+"Hours",H[m]=R+"Minutes",H[u]=R+"Seconds",H[l]=R+"Milliseconds",H)[se],ae=se===y?this.$D+(W-this.$W):W;if(se===w||se===j){var le=this.clone().set(P,1);le.$d[X](ae),le.init(),this.$d=le.set(P,Math.min(this.$D,le.daysInMonth())).$d}else X&&this.$d[X](ae);return this.init(),this},he.set=function(L,W){return this.clone().$set(L,W)},he.get=function(L){return this[k.p(L)]()},he.add=function(L,W){var H,se=this;L=Number(L);var R=k.p(W),X=function(pe){var be=C(se);return k.w(be.date(be.date()+Math.round(pe*L)),se)};if(R===w)return this.set(w,this.$M+L);if(R===j)return this.set(j,this.$y+L);if(R===y)return X(1);if(R===x)return X(7);var ae=(H={},H[m]=s,H[p]=a,H[u]=t,H)[R]||1,le=this.$d.getTime()+L*ae;return k.w(le,this)},he.subtract=function(L,W){return this.add(-1*L,W)},he.format=function(L){var W=this,H=this.$locale();if(!this.isValid())return H.invalidDate||z;var se=L||"YYYY-MM-DDTHH:mm:ssZ",R=k.z(this),X=this.$H,ae=this.$m,le=this.$M,pe=H.weekdays,be=H.months,xe=H.meridiem,Ke=function(at,yt,bt,$n){return at&&(at[yt]||at(W,se))||bt[yt].slice(0,$n)},Oe=function(at){return k.s(X%12||12,at,"0")},lt=xe||function(at,yt,bt){var $n=at<12?"AM":"PM";return bt?$n.toLowerCase():$n};return se.replace(q,function(at,yt){return yt||function(bt){switch(bt){case"YY":return String(W.$y).slice(-2);case"YYYY":return k.s(W.$y,4,"0");case"M":return le+1;case"MM":return k.s(le+1,2,"0");case"MMM":return Ke(H.monthsShort,le,be,3);case"MMMM":return Ke(be,le);case"D":return W.$D;case"DD":return k.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return Ke(H.weekdaysMin,W.$W,pe,2);case"ddd":return Ke(H.weekdaysShort,W.$W,pe,3);case"dddd":return pe[W.$W];case"H":return String(X);case"HH":return k.s(X,2,"0");case"h":return Oe(1);case"hh":return Oe(2);case"a":return lt(X,ae,!0);case"A":return lt(X,ae,!1);case"m":return String(ae);case"mm":return k.s(ae,2,"0");case"s":return String(W.$s);case"ss":return k.s(W.$s,2,"0");case"SSS":return k.s(W.$ms,3,"0");case"Z":return R}return null}(at)||R.replace(":","")})},he.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},he.diff=function(L,W,H){var se,R=this,X=k.p(W),ae=C(L),le=(ae.utcOffset()-this.utcOffset())*s,pe=this-ae,be=function(){return k.m(R,ae)};switch(X){case j:se=be()/12;break;case w:se=be();break;case E:se=be()/3;break;case x:se=(pe-le)/6048e5;break;case y:se=(pe-le)/864e5;break;case p:se=pe/a;break;case m:se=pe/s;break;case u:se=pe/t;break;default:se=pe}return H?se:k.a(se)},he.daysInMonth=function(){return this.endOf(w).$D},he.$locale=function(){return ue[this.$L]},he.locale=function(L,W){if(!L)return this.$L;var H=this.clone(),se=A(L,W,!0);return se&&(H.$L=se),H},he.clone=function(){return k.w(this.$d,this)},he.toDate=function(){return new Date(this.valueOf())},he.toJSON=function(){return this.isValid()?this.toISOString():null},he.toISOString=function(){return this.$d.toISOString()},he.toString=function(){return this.$d.toUTCString()},ge}(),D=V.prototype;return C.prototype=D,[["$ms",l],["$s",u],["$m",m],["$H",p],["$W",y],["$M",w],["$y",j],["$D",P]].forEach(function(ge){D[ge[1]]=function(he){return this.$g(he,ge[0],ge[1])}}),C.extend=function(ge,he){return ge.$i||(ge(he,V,C),ge.$i=!0),C},C.locale=A,C.isDayjs=T,C.unix=function(ge){return C(1e3*ge)},C.en=ue[J],C.Ls=ue,C.p={},C})}(xh)),xh.exports}var AI=SI();const Kg=r0(AI),g6=O.createContext(),Vi=()=>{const n=O.useContext(g6);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},NI=({children:n})=>{const[e,t]=O.useState(null),[s,a]=O.useState(null),[l,u]=O.useState(!0);O.useEffect(()=>{let p=null;const y=v1(async x=>{t(x),x?(p=_l(gt(ke,"users",x.uid),w=>{w.exists()?a(w.data()):a(null)}),U7(x.uid)):a(null),u(!1)});return()=>{p&&p(),y()}},[]);const m={currentUser:e,userProfile:s,setUserProfile:a,loading:l};return d.jsx(g6.Provider,{value:m,children:!l&&n})},K_=async(n,e,t)=>{try{const s=Rn(ke,"users",n,"streakData"),a=await xl(s),l={};return a.docs.forEach(u=>{const m=u.data();if(m.date){const[p,y]=m.date.split("-");parseInt(p)===parseInt(e)&&parseInt(y)===parseInt(t)&&(l[m.date]={completed:m.completed,activities:m.activities||[]})}}),{success:!0,streakData:l}}catch(s){return console.error("Error getting streak data:",s),{success:!1,error:s.message,streakData:{}}}},y6=async n=>{try{const e=Rn(ke,"users",n,"streakData"),t=await xl(e),s=new Date,a=[];t.docs.forEach(m=>{const p=m.data();try{const y=new Date(p.date);p.completed&&y<=s&&a.push(p.date)}catch{console.error("Invalid date format:",p.date)}}),a.sort().reverse();let l=0,u=new Date(s);u.setHours(0,0,0,0);for(const m of a){const p=new Date(m);p.setHours(0,0,0,0);const y=Math.floor((u-p)/(1e3*60*60*24));if(y===0||y===1)l++,u=new Date(p),u.setDate(u.getDate()-1);else break}return l}catch(e){return console.error("Error calculating streak:",e),0}},T1=async n=>{try{const e=Rn(ke,"users",n,"streakData"),t=await xl(e),s=new Date,a=[];t.docs.forEach(m=>{const p=m.data();try{const y=new Date(p.date);p.completed&&y<=s&&a.push(y)}catch{console.error("Invalid date format:",p.date)}}),a.sort((m,p)=>m-p);let l=0,u=1;for(let m=1;m<a.length;m++)Math.floor((a[m]-a[m-1])/864e5)===1?u++:(l=Math.max(l,u),u=1);return l=Math.max(l,u),l||0}catch(e){return console.error("Error calculating longest streak:",e),0}},RI=async(n,e,t=0)=>{try{const a=[3,7,15,30,60,100,365].filter(l=>e>=l&&t<l);for(const l of a)await R7(n,l),console.log(`🔥 Streak milestone reached: ${l} days`);await Vf(n,"STREAK_MILESTONE",{streakDays:e,longestStreak:await T1(n)})}catch(s){console.error("Error checking streak milestones:",s)}},S1=async(n,e=[])=>{try{const t=new Date().toISOString().split("T")[0],s=gt(ke,"users",n,"streakData",t),a=gt(ke,"users",n),u=(await qn(a)).data()?.stats?.currentStreak||0;await p1(s,{date:t,completed:!0,activities:[...new Set(e)],timestamp:Jt(),completedAt:Jt()},{merge:!0});const m=await y6(n),p=await T1(n);return await Di(a,{"stats.currentStreak":m,"stats.longestStreak":p,"stats.totalActiveDays":Gc(1),"stats.lastStreakUpdate":Jt()}),m>u&&await RI(n,m,u),{success:!0,newStreak:m,longestStreak:p}}catch(t){return console.error("Error marking day complete:",t),{success:!1,error:t.message}}},CI=async n=>{try{const e=new Date().toISOString().split("T")[0],t=gt(ke,"users",n,"streakData",e),s=await qn(t);let a=["mining_started"];if(s.exists()){const l=s.data().activities||[];a=[...new Set([...l,"mining_started"])]}return s.exists()?await Di(t,{activities:a,lastMiningStart:Jt()}):await S1(n,a),{success:!0}}catch(e){return console.error("Error marking mining as streak activity:",e),{success:!1,error:e.message}}},II=async n=>{try{const e=new Date().toISOString().split("T")[0],t=gt(ke,"users",n,"streakData",e),s=await qn(t);let a=["mining_completed"];if(s.exists()){const l=s.data().activities||[];a=[...new Set([...l,"mining_completed"])]}return await p1(t,{date:e,completed:!0,activities:a,lastMiningCompletion:Jt(),timestamp:Jt()},{merge:!0}),!s.exists()||!s.data().completed?await S1(n,a):{success:!0}}catch(e){return console.error("Error marking mining completion as streak activity:",e),{success:!1,error:e.message}}},Q_=async n=>{try{const e=await y6(n),t=await T1(n),s=gt(ke,"users",n),l=(await qn(s)).data(),u=new Date().toISOString().split("T")[0],m=gt(ke,"users",n,"streakData",u),p=await qn(m);return{success:!0,stats:{currentStreak:e,longestStreak:t,totalActiveDays:l?.stats?.totalActiveDays||0,todayCompleted:p.exists()&&p.data().completed,todayActivities:p.exists()?p.data().activities||[]:[],lastStreakUpdate:l?.stats?.lastStreakUpdate}}}catch(e){return console.error("Error getting streak stats:",e),{success:!1,error:e.message}}},jI=n=>{const e=new Date,t=Object.keys(n).filter(l=>{try{const u=new Date(l);return n[l].completed&&u<=e}catch{return!1}}).sort().reverse();let s=0,a=new Date(e);a.setHours(0,0,0,0);for(const l of t){const u=new Date(l);u.setHours(0,0,0,0);const m=Math.floor((a-u)/(1e3*60*60*24));if(m===0||m===1)s++,a=new Date(u),a.setDate(a.getDate()-1);else break}return s},DI=["S","M","T","W","T","F","S"],kI=()=>{const{currentUser:n,userProfile:e}=Vi(),[t,s]=O.useState(Kg()),[a,l]=O.useState({}),[u,m]=O.useState(null),[p,y]=O.useState(!0),[x,w]=O.useState(null),E=Kg();O.useEffect(()=>{if(!n){y(!1);return}(async()=>{try{y(!0);const[T,A]=await Promise.all([K_(n.uid,t.year(),t.month()+1),Q_(n.uid)]);T.success&&l(T.streakData),A.success&&m(A.stats)}catch(T){console.error("Error loading streak data:",T),w("Failed to load streak data")}finally{y(!1)}})()},[n,t]);const P=u?.currentStreak!==void 0?u.currentStreak:e?.stats?.currentStreak!==void 0?e.stats.currentStreak:jI(a),z=u?.longestStreak||0,B=async()=>{if(n)try{await S1(n.uid,["manual_completion"]);const[I,T]=await Promise.all([K_(n.uid,t.year(),t.month()+1),Q_(n.uid)]);I.success&&l(I.streakData),T.success&&m(T.stats)}catch(I){console.error("Error marking day complete:",I)}},te=t.startOf("month").startOf("week"),ee=Array.from({length:42},(I,T)=>te.add(T,"day")),de=()=>s(t.subtract(1,"month")),J=()=>s(t.add(1,"month")),ue=a[E.format("YYYY-MM-DD")]?.completed||!1;return n?p?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-400 mb-3"}),d.jsx("p",{className:"text-violet-300 text-sm",children:"Loading..."})]}):d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Va,{className:"text-orange-400 text-lg"}),d.jsx("h2",{className:"text-lg font-bold text-white",children:"Streak"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"text-orange-400 font-bold",children:P}),d.jsx("div",{className:"text-violet-400",children:"/"}),d.jsx("div",{className:"text-yellow-400",children:z})]})]}),d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("button",{onClick:de,className:"p-1.5 rounded-lg bg-violet-600/30 hover:bg-violet-600/50 transition-colors",children:d.jsx(c6,{className:"text-violet-300 text-sm"})}),d.jsx("span",{className:"text-white font-medium text-sm",children:t.format("MMM YYYY")}),d.jsx("button",{onClick:J,className:"p-1.5 rounded-lg bg-violet-600/30 hover:bg-violet-600/50 transition-colors",children:d.jsx(u6,{className:"text-violet-300 text-sm"})})]}),d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"text-xs text-violet-400",children:["Today: ",ue?"Completed":"Pending"]}),d.jsx("button",{onClick:B,disabled:ue,className:`px-3 py-1 rounded-md text-xs font-medium transition-colors ${ue?"bg-green-500/20 text-green-300 cursor-not-allowed":"bg-orange-500/20 hover:bg-orange-500/40 text-orange-300"}`,children:ue?d.jsx(_1,{className:"inline"}):d.jsx(yI,{className:"inline"})})]}),d.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:DI.map((I,T)=>d.jsx("div",{className:"text-center text-xs font-medium text-violet-400 py-1",children:I},T))}),d.jsx("div",{className:"grid grid-cols-7 gap-1 flex-1",children:ee.map(I=>{const T=I.format("YYYY-MM-DD"),C=a[T]?.completed||!1,k=I.isSame(E,"day"),V=I.month()===t.month();return d.jsxs("div",{className:`
                h-8 flex items-center justify-center rounded-md text-xs font-medium
                transition-all duration-200 border
                ${V?C?"bg-orange-400/30 border-orange-500/50 text-orange-200":"bg-slate-700/50 border-slate-600/50 text-slate-300":"bg-transparent border-transparent text-slate-600"}
                ${k?"ring-2 ring-orange-400/60":""}
              `,children:[I.date(),k&&d.jsx("div",{className:"absolute w-1 h-1 bg-orange-400 rounded-full -mt-6 ml-6"})]},T)})}),d.jsx("div",{className:"mt-2 text-center",children:d.jsx("p",{className:"text-xs text-violet-500",children:"✨ Auto-tracked with mining"})})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-violet-300 text-sm",children:"Please log in to view your streak"})})};var An=function(){return An=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},An.apply(this,arguments)};function iu(n,e,t){if(t||arguments.length===2)for(var s=0,a=e.length,l;s<a;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return n.concat(l||Array.prototype.slice.call(e))}var ut="-ms-",Yc="-moz-",We="-webkit-",v6="comm",Lf="rule",A1="decl",MI="@import",x6="@keyframes",OI="@layer",_6=Math.abs,N1=String.fromCharCode,Qg=Object.assign;function PI(n,e){return Wt(n,0)^45?(((e<<2^Wt(n,0))<<2^Wt(n,1))<<2^Wt(n,2))<<2^Wt(n,3):0}function b6(n){return n.trim()}function Es(n,e){return(n=e.exec(n))?n[0]:n}function De(n,e,t){return n.replace(e,t)}function _h(n,e,t){return n.indexOf(e,t)}function Wt(n,e){return n.charCodeAt(e)|0}function el(n,e,t){return n.slice(e,t)}function Vr(n){return n.length}function w6(n){return n.length}function Lc(n,e){return e.push(n),n}function VI(n,e){return n.map(e).join("")}function X_(n,e){return n.filter(function(t){return!Es(t,e)})}var Uf=1,tl=1,E6=0,ir=0,Mt=0,bl="";function zf(n,e,t,s,a,l,u,m){return{value:n,root:e,parent:t,type:s,props:a,children:l,line:Uf,column:tl,length:u,return:"",siblings:m}}function di(n,e){return Qg(zf("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function jo(n){for(;n.root;)n=di(n.root,{children:[n]});Lc(n,n.siblings)}function LI(){return Mt}function UI(){return Mt=ir>0?Wt(bl,--ir):0,tl--,Mt===10&&(tl=1,Uf--),Mt}function mr(){return Mt=ir<E6?Wt(bl,ir++):0,tl++,Mt===10&&(tl=1,Uf++),Mt}function Ea(){return Wt(bl,ir)}function bh(){return ir}function Bf(n,e){return el(bl,n,e)}function Xg(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zI(n){return Uf=tl=1,E6=Vr(bl=n),ir=0,[]}function BI(n){return bl="",n}function ug(n){return b6(Bf(ir-1,Wg(n===91?n+2:n===40?n+1:n)))}function FI(n){for(;(Mt=Ea())&&Mt<33;)mr();return Xg(n)>2||Xg(Mt)>3?"":" "}function HI(n,e){for(;--e&&mr()&&!(Mt<48||Mt>102||Mt>57&&Mt<65||Mt>70&&Mt<97););return Bf(n,bh()+(e<6&&Ea()==32&&mr()==32))}function Wg(n){for(;mr();)switch(Mt){case n:return ir;case 34:case 39:n!==34&&n!==39&&Wg(Mt);break;case 40:n===41&&Wg(n);break;case 92:mr();break}return ir}function qI(n,e){for(;mr()&&n+Mt!==57;)if(n+Mt===84&&Ea()===47)break;return"/*"+Bf(e,ir-1)+"*"+N1(n===47?n:mr())}function $I(n){for(;!Xg(Ea());)mr();return Bf(n,ir)}function GI(n){return BI(wh("",null,null,null,[""],n=zI(n),0,[0],n))}function wh(n,e,t,s,a,l,u,m,p){for(var y=0,x=0,w=u,E=0,j=0,P=0,z=1,B=1,q=1,te=0,ee="",de=a,J=l,ue=s,I=ee;B;)switch(P=te,te=mr()){case 40:if(P!=108&&Wt(I,w-1)==58){_h(I+=De(ug(te),"&","&\f"),"&\f",_6(y?m[y-1]:0))!=-1&&(q=-1);break}case 34:case 39:case 91:I+=ug(te);break;case 9:case 10:case 13:case 32:I+=FI(P);break;case 92:I+=HI(bh()-1,7);continue;case 47:switch(Ea()){case 42:case 47:Lc(YI(qI(mr(),bh()),e,t,p),p);break;default:I+="/"}break;case 123*z:m[y++]=Vr(I)*q;case 125*z:case 59:case 0:switch(te){case 0:case 125:B=0;case 59+x:q==-1&&(I=De(I,/\f/g,"")),j>0&&Vr(I)-w&&Lc(j>32?Z_(I+";",s,t,w-1,p):Z_(De(I," ","")+";",s,t,w-2,p),p);break;case 59:I+=";";default:if(Lc(ue=W_(I,e,t,y,x,a,m,ee,de=[],J=[],w,l),l),te===123)if(x===0)wh(I,e,ue,ue,de,l,w,m,J);else switch(E===99&&Wt(I,3)===110?100:E){case 100:case 108:case 109:case 115:wh(n,ue,ue,s&&Lc(W_(n,ue,ue,0,0,a,m,ee,a,de=[],w,J),J),a,J,w,m,s?de:J);break;default:wh(I,ue,ue,ue,[""],J,0,m,J)}}y=x=j=0,z=q=1,ee=I="",w=u;break;case 58:w=1+Vr(I),j=P;default:if(z<1){if(te==123)--z;else if(te==125&&z++==0&&UI()==125)continue}switch(I+=N1(te),te*z){case 38:q=x>0?1:(I+="\f",-1);break;case 44:m[y++]=(Vr(I)-1)*q,q=1;break;case 64:Ea()===45&&(I+=ug(mr())),E=Ea(),x=w=Vr(ee=I+=$I(bh())),te++;break;case 45:P===45&&Vr(I)==2&&(z=0)}}return l}function W_(n,e,t,s,a,l,u,m,p,y,x,w){for(var E=a-1,j=a===0?l:[""],P=w6(j),z=0,B=0,q=0;z<s;++z)for(var te=0,ee=el(n,E+1,E=_6(B=u[z])),de=n;te<P;++te)(de=b6(B>0?j[te]+" "+ee:De(ee,/&\f/g,j[te])))&&(p[q++]=de);return zf(n,e,t,a===0?Lf:m,p,y,x,w)}function YI(n,e,t,s){return zf(n,e,t,v6,N1(LI()),el(n,2,-2),0,s)}function Z_(n,e,t,s,a){return zf(n,e,t,A1,el(n,0,s),el(n,s+1,-1),s,a)}function T6(n,e,t){switch(PI(n,e)){case 5103:return We+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return We+n+n;case 4789:return Yc+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return We+n+Yc+n+ut+n+n;case 5936:switch(Wt(n,e+11)){case 114:return We+n+ut+De(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return We+n+ut+De(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return We+n+ut+De(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return We+n+ut+n+n;case 6165:return We+n+ut+"flex-"+n+n;case 5187:return We+n+De(n,/(\w+).+(:[^]+)/,We+"box-$1$2"+ut+"flex-$1$2")+n;case 5443:return We+n+ut+"flex-item-"+De(n,/flex-|-self/g,"")+(Es(n,/flex-|baseline/)?"":ut+"grid-row-"+De(n,/flex-|-self/g,""))+n;case 4675:return We+n+ut+"flex-line-pack"+De(n,/align-content|flex-|-self/g,"")+n;case 5548:return We+n+ut+De(n,"shrink","negative")+n;case 5292:return We+n+ut+De(n,"basis","preferred-size")+n;case 6060:return We+"box-"+De(n,"-grow","")+We+n+ut+De(n,"grow","positive")+n;case 4554:return We+De(n,/([^-])(transform)/g,"$1"+We+"$2")+n;case 6187:return De(De(De(n,/(zoom-|grab)/,We+"$1"),/(image-set)/,We+"$1"),n,"")+n;case 5495:case 3959:return De(n,/(image-set\([^]*)/,We+"$1$`$1");case 4968:return De(De(n,/(.+:)(flex-)?(.*)/,We+"box-pack:$3"+ut+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+We+n+n;case 4200:if(!Es(n,/flex-|baseline/))return ut+"grid-column-align"+el(n,e)+n;break;case 2592:case 3360:return ut+De(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(s,a){return e=a,Es(s.props,/grid-\w+-end/)})?~_h(n+(t=t[e].value),"span",0)?n:ut+De(n,"-start","")+n+ut+"grid-row-span:"+(~_h(t,"span",0)?Es(t,/\d+/):+Es(t,/\d+/)-+Es(n,/\d+/))+";":ut+De(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(s){return Es(s.props,/grid-\w+-start/)})?n:ut+De(De(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return De(n,/(.+)-inline(.+)/,We+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vr(n)-1-e>6)switch(Wt(n,e+1)){case 109:if(Wt(n,e+4)!==45)break;case 102:return De(n,/(.+:)(.+)-([^]+)/,"$1"+We+"$2-$3$1"+Yc+(Wt(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~_h(n,"stretch",0)?T6(De(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return De(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,a,l,u,m,p,y){return ut+a+":"+l+y+(u?ut+a+"-span:"+(m?p:+p-+l)+y:"")+n});case 4949:if(Wt(n,e+6)===121)return De(n,":",":"+We)+n;break;case 6444:switch(Wt(n,Wt(n,14)===45?18:11)){case 120:return De(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+We+(Wt(n,14)===45?"inline-":"")+"box$3$1"+We+"$2$3$1"+ut+"$2box$3")+n;case 100:return De(n,":",":"+ut)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return De(n,"scroll-","scroll-snap-")+n}return n}function nf(n,e){for(var t="",s=0;s<n.length;s++)t+=e(n[s],s,n,e)||"";return t}function KI(n,e,t,s){switch(n.type){case OI:if(n.children.length)break;case MI:case A1:return n.return=n.return||n.value;case v6:return"";case x6:return n.return=n.value+"{"+nf(n.children,s)+"}";case Lf:if(!Vr(n.value=n.props.join(",")))return""}return Vr(t=nf(n.children,s))?n.return=n.value+"{"+t+"}":""}function QI(n){var e=w6(n);return function(t,s,a,l){for(var u="",m=0;m<e;m++)u+=n[m](t,s,a,l)||"";return u}}function XI(n){return function(e){e.root||(e=e.return)&&n(e)}}function WI(n,e,t,s){if(n.length>-1&&!n.return)switch(n.type){case A1:n.return=T6(n.value,n.length,t);return;case x6:return nf([di(n,{value:De(n.value,"@","@"+We)})],s);case Lf:if(n.length)return VI(t=n.props,function(a){switch(Es(a,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":jo(di(n,{props:[De(a,/:(read-\w+)/,":"+Yc+"$1")]})),jo(di(n,{props:[a]})),Qg(n,{props:X_(t,s)});break;case"::placeholder":jo(di(n,{props:[De(a,/:(plac\w+)/,":"+We+"input-$1")]})),jo(di(n,{props:[De(a,/:(plac\w+)/,":"+Yc+"$1")]})),jo(di(n,{props:[De(a,/:(plac\w+)/,ut+"input-$1")]})),jo(di(n,{props:[a]})),Qg(n,{props:X_(t,s)});break}return""})}}var ZI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Un={},nl=typeof process<"u"&&Un!==void 0&&(Un.REACT_APP_SC_ATTR||Un.SC_ATTR)||"data-styled",S6="active",A6="data-styled-version",Ff="6.1.19",R1=`/*!sc*/
`,rf=typeof window<"u"&&typeof document<"u",JI=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Un!==void 0&&Un.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Un.REACT_APP_SC_DISABLE_SPEEDY!==""?Un.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Un.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Un!==void 0&&Un.SC_DISABLE_SPEEDY!==void 0&&Un.SC_DISABLE_SPEEDY!==""&&Un.SC_DISABLE_SPEEDY!=="false"&&Un.SC_DISABLE_SPEEDY),Hf=Object.freeze([]),rl=Object.freeze({});function ej(n,e,t){return t===void 0&&(t=rl),n.theme!==t.theme&&n.theme||e||t.theme}var N6=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),tj=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,nj=/(^-|-$)/g;function J_(n){return n.replace(tj,"-").replace(nj,"")}var rj=/(a)(d)/gi,th=52,eb=function(n){return String.fromCharCode(n+(n>25?39:97))};function Zg(n){var e,t="";for(e=Math.abs(n);e>th;e=e/th|0)t=eb(e%th)+t;return(eb(e%th)+t).replace(rj,"$1-$2")}var dg,R6=5381,Uo=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},C6=function(n){return Uo(R6,n)};function I6(n){return Zg(C6(n)>>>0)}function sj(n){return n.displayName||n.name||"Component"}function hg(n){return typeof n=="string"&&!0}var j6=typeof Symbol=="function"&&Symbol.for,D6=j6?Symbol.for("react.memo"):60115,ij=j6?Symbol.for("react.forward_ref"):60112,aj={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},oj={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},k6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},lj=((dg={})[ij]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dg[D6]=k6,dg);function tb(n){return("type"in(e=n)&&e.type.$$typeof)===D6?k6:"$$typeof"in n?lj[n.$$typeof]:aj;var e}var cj=Object.defineProperty,uj=Object.getOwnPropertyNames,nb=Object.getOwnPropertySymbols,dj=Object.getOwnPropertyDescriptor,hj=Object.getPrototypeOf,rb=Object.prototype;function M6(n,e,t){if(typeof e!="string"){if(rb){var s=hj(e);s&&s!==rb&&M6(n,s,t)}var a=uj(e);nb&&(a=a.concat(nb(e)));for(var l=tb(n),u=tb(e),m=0;m<a.length;++m){var p=a[m];if(!(p in oj||t&&t[p]||u&&p in u||l&&p in l)){var y=dj(e,p);try{cj(n,p,y)}catch{}}}}return n}function sl(n){return typeof n=="function"}function C1(n){return typeof n=="object"&&"styledComponentId"in n}function ba(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function Jg(n,e){if(n.length===0)return"";for(var t=n[0],s=1;s<n.length;s++)t+=n[s];return t}function au(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function e0(n,e,t){if(t===void 0&&(t=!1),!t&&!au(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var s=0;s<e.length;s++)n[s]=e0(n[s],e[s]);else if(au(e))for(var s in e)n[s]=e0(n[s],e[s]);return n}function I1(n,e){Object.defineProperty(n,"toString",{value:e})}function wu(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var fj=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,s=0;s<e;s++)t+=this.groupSizes[s];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var s=this.groupSizes,a=s.length,l=a;e>=l;)if((l<<=1)<0)throw wu(16,"".concat(e));this.groupSizes=new Uint32Array(l),this.groupSizes.set(s),this.length=l;for(var u=a;u<l;u++)this.groupSizes[u]=0}for(var m=this.indexOfGroup(e+1),p=(u=0,t.length);u<p;u++)this.tag.insertRule(m,t[u])&&(this.groupSizes[e]++,m++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],s=this.indexOfGroup(e),a=s+t;this.groupSizes[e]=0;for(var l=s;l<a;l++)this.tag.deleteRule(s)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var s=this.groupSizes[e],a=this.indexOfGroup(e),l=a+s,u=a;u<l;u++)t+="".concat(this.tag.getRule(u)).concat(R1);return t},n}(),Eh=new Map,sf=new Map,Th=1,nh=function(n){if(Eh.has(n))return Eh.get(n);for(;sf.has(Th);)Th++;var e=Th++;return Eh.set(n,e),sf.set(e,n),e},mj=function(n,e){Th=e+1,Eh.set(n,e),sf.set(e,n)},pj="style[".concat(nl,"][").concat(A6,'="').concat(Ff,'"]'),gj=new RegExp("^".concat(nl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),yj=function(n,e,t){for(var s,a=t.split(","),l=0,u=a.length;l<u;l++)(s=a[l])&&n.registerName(e,s)},vj=function(n,e){for(var t,s=((t=e.textContent)!==null&&t!==void 0?t:"").split(R1),a=[],l=0,u=s.length;l<u;l++){var m=s[l].trim();if(m){var p=m.match(gj);if(p){var y=0|parseInt(p[1],10),x=p[2];y!==0&&(mj(x,y),yj(n,x,p[3]),n.getTag().insertRules(y,a)),a.length=0}else a.push(m)}}},sb=function(n){for(var e=document.querySelectorAll(pj),t=0,s=e.length;t<s;t++){var a=e[t];a&&a.getAttribute(nl)!==S6&&(vj(n,a),a.parentNode&&a.parentNode.removeChild(a))}};function xj(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var O6=function(n){var e=document.head,t=n||e,s=document.createElement("style"),a=function(m){var p=Array.from(m.querySelectorAll("style[".concat(nl,"]")));return p[p.length-1]}(t),l=a!==void 0?a.nextSibling:null;s.setAttribute(nl,S6),s.setAttribute(A6,Ff);var u=xj();return u&&s.setAttribute("nonce",u),t.insertBefore(s,l),s},_j=function(){function n(e){this.element=O6(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var s=document.styleSheets,a=0,l=s.length;a<l;a++){var u=s[a];if(u.ownerNode===t)return u}throw wu(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),bj=function(){function n(e){this.element=O6(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var s=document.createTextNode(t);return this.element.insertBefore(s,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),wj=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),ib=rf,Ej={isServer:!rf,useCSSOMInjection:!JI},P6=function(){function n(e,t,s){e===void 0&&(e=rl),t===void 0&&(t={});var a=this;this.options=An(An({},Ej),e),this.gs=t,this.names=new Map(s),this.server=!!e.isServer,!this.server&&rf&&ib&&(ib=!1,sb(this)),I1(this,function(){return function(l){for(var u=l.getTag(),m=u.length,p="",y=function(w){var E=function(q){return sf.get(q)}(w);if(E===void 0)return"continue";var j=l.names.get(E),P=u.getGroup(w);if(j===void 0||!j.size||P.length===0)return"continue";var z="".concat(nl,".g").concat(w,'[id="').concat(E,'"]'),B="";j!==void 0&&j.forEach(function(q){q.length>0&&(B+="".concat(q,","))}),p+="".concat(P).concat(z,'{content:"').concat(B,'"}').concat(R1)},x=0;x<m;x++)y(x);return p}(a)})}return n.registerId=function(e){return nh(e)},n.prototype.rehydrate=function(){!this.server&&rf&&sb(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(An(An({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var s=t.useCSSOMInjection,a=t.target;return t.isServer?new wj(a):s?new _j(a):new bj(a)}(this.options),new fj(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(nh(e),this.names.has(e))this.names.get(e).add(t);else{var s=new Set;s.add(t),this.names.set(e,s)}},n.prototype.insertRules=function(e,t,s){this.registerName(e,t),this.getTag().insertRules(nh(e),s)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(nh(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),Tj=/&/g,Sj=/^\s*\/\/.*$/gm;function V6(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(s){return"".concat(e," ").concat(s)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=V6(t.children,e)),t})}function Aj(n){var e,t,s,a=rl,l=a.options,u=l===void 0?rl:l,m=a.plugins,p=m===void 0?Hf:m,y=function(E,j,P){return P.startsWith(t)&&P.endsWith(t)&&P.replaceAll(t,"").length>0?".".concat(e):E},x=p.slice();x.push(function(E){E.type===Lf&&E.value.includes("&")&&(E.props[0]=E.props[0].replace(Tj,t).replace(s,y))}),u.prefix&&x.push(WI),x.push(KI);var w=function(E,j,P,z){j===void 0&&(j=""),P===void 0&&(P=""),z===void 0&&(z="&"),e=z,t=j,s=new RegExp("\\".concat(t,"\\b"),"g");var B=E.replace(Sj,""),q=GI(P||j?"".concat(P," ").concat(j," { ").concat(B," }"):B);u.namespace&&(q=V6(q,u.namespace));var te=[];return nf(q,QI(x.concat(XI(function(ee){return te.push(ee)})))),te};return w.hash=p.length?p.reduce(function(E,j){return j.name||wu(15),Uo(E,j.name)},R6).toString():"",w}var Nj=new P6,t0=Aj(),L6=Nn.createContext({shouldForwardProp:void 0,styleSheet:Nj,stylis:t0});L6.Consumer;Nn.createContext(void 0);function ab(){return O.useContext(L6)}var U6=function(){function n(e,t){var s=this;this.inject=function(a,l){l===void 0&&(l=t0);var u=s.name+l.hash;a.hasNameForId(s.id,u)||a.insertRules(s.id,u,l(s.rules,u,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,I1(this,function(){throw wu(12,String(s.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=t0),this.name+e.hash},n}(),Rj=function(n){return n>="A"&&n<="Z"};function ob(n){for(var e="",t=0;t<n.length;t++){var s=n[t];if(t===1&&s==="-"&&n[0]==="-")return n;Rj(s)?e+="-"+s.toLowerCase():e+=s}return e.startsWith("ms-")?"-"+e:e}var z6=function(n){return n==null||n===!1||n===""},B6=function(n){var e,t,s=[];for(var a in n){var l=n[a];n.hasOwnProperty(a)&&!z6(l)&&(Array.isArray(l)&&l.isCss||sl(l)?s.push("".concat(ob(a),":"),l,";"):au(l)?s.push.apply(s,iu(iu(["".concat(a," {")],B6(l),!1),["}"],!1)):s.push("".concat(ob(a),": ").concat((e=a,(t=l)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in ZI||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return s};function Ta(n,e,t,s){if(z6(n))return[];if(C1(n))return[".".concat(n.styledComponentId)];if(sl(n)){if(!sl(l=n)||l.prototype&&l.prototype.isReactComponent||!e)return[n];var a=n(e);return Ta(a,e,t,s)}var l;return n instanceof U6?t?(n.inject(t,s),[n.getName(s)]):[n]:au(n)?B6(n):Array.isArray(n)?Array.prototype.concat.apply(Hf,n.map(function(u){return Ta(u,e,t,s)})):[n.toString()]}function Cj(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(sl(t)&&!C1(t))return!1}return!0}var Ij=C6(Ff),jj=function(){function n(e,t,s){this.rules=e,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&Cj(e),this.componentId=t,this.baseHash=Uo(Ij,t),this.baseStyle=s,P6.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,s){var a=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))a=ba(a,this.staticRulesId);else{var l=Jg(Ta(this.rules,e,t,s)),u=Zg(Uo(this.baseHash,l)>>>0);if(!t.hasNameForId(this.componentId,u)){var m=s(l,".".concat(u),void 0,this.componentId);t.insertRules(this.componentId,u,m)}a=ba(a,u),this.staticRulesId=u}else{for(var p=Uo(this.baseHash,s.hash),y="",x=0;x<this.rules.length;x++){var w=this.rules[x];if(typeof w=="string")y+=w;else if(w){var E=Jg(Ta(w,e,t,s));p=Uo(p,E+x),y+=E}}if(y){var j=Zg(p>>>0);t.hasNameForId(this.componentId,j)||t.insertRules(this.componentId,j,s(y,".".concat(j),void 0,this.componentId)),a=ba(a,j)}}return a},n}(),F6=Nn.createContext(void 0);F6.Consumer;var fg={};function Dj(n,e,t){var s=C1(n),a=n,l=!hg(n),u=e.attrs,m=u===void 0?Hf:u,p=e.componentId,y=p===void 0?function(de,J){var ue=typeof de!="string"?"sc":J_(de);fg[ue]=(fg[ue]||0)+1;var I="".concat(ue,"-").concat(I6(Ff+ue+fg[ue]));return J?"".concat(J,"-").concat(I):I}(e.displayName,e.parentComponentId):p,x=e.displayName,w=x===void 0?function(de){return hg(de)?"styled.".concat(de):"Styled(".concat(sj(de),")")}(n):x,E=e.displayName&&e.componentId?"".concat(J_(e.displayName),"-").concat(e.componentId):e.componentId||y,j=s&&a.attrs?a.attrs.concat(m).filter(Boolean):m,P=e.shouldForwardProp;if(s&&a.shouldForwardProp){var z=a.shouldForwardProp;if(e.shouldForwardProp){var B=e.shouldForwardProp;P=function(de,J){return z(de,J)&&B(de,J)}}else P=z}var q=new jj(t,E,s?a.componentStyle:void 0);function te(de,J){return function(ue,I,T){var A=ue.attrs,C=ue.componentStyle,k=ue.defaultProps,V=ue.foldedComponentIds,D=ue.styledComponentId,ge=ue.target,he=Nn.useContext(F6),L=ab(),W=ue.shouldForwardProp||L.shouldForwardProp,H=ej(I,he,k)||rl,se=function(be,xe,Ke){for(var Oe,lt=An(An({},xe),{className:void 0,theme:Ke}),at=0;at<be.length;at+=1){var yt=sl(Oe=be[at])?Oe(lt):Oe;for(var bt in yt)lt[bt]=bt==="className"?ba(lt[bt],yt[bt]):bt==="style"?An(An({},lt[bt]),yt[bt]):yt[bt]}return xe.className&&(lt.className=ba(lt.className,xe.className)),lt}(A,I,H),R=se.as||ge,X={};for(var ae in se)se[ae]===void 0||ae[0]==="$"||ae==="as"||ae==="theme"&&se.theme===H||(ae==="forwardedAs"?X.as=se.forwardedAs:W&&!W(ae,R)||(X[ae]=se[ae]));var le=function(be,xe){var Ke=ab(),Oe=be.generateAndInjectStyles(xe,Ke.styleSheet,Ke.stylis);return Oe}(C,se),pe=ba(V,D);return le&&(pe+=" "+le),se.className&&(pe+=" "+se.className),X[hg(R)&&!N6.has(R)?"class":"className"]=pe,T&&(X.ref=T),O.createElement(R,X)}(ee,de,J)}te.displayName=w;var ee=Nn.forwardRef(te);return ee.attrs=j,ee.componentStyle=q,ee.displayName=w,ee.shouldForwardProp=P,ee.foldedComponentIds=s?ba(a.foldedComponentIds,a.styledComponentId):"",ee.styledComponentId=E,ee.target=s?a.target:n,Object.defineProperty(ee,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(de){this._foldedDefaultProps=s?function(J){for(var ue=[],I=1;I<arguments.length;I++)ue[I-1]=arguments[I];for(var T=0,A=ue;T<A.length;T++)e0(J,A[T],!0);return J}({},a.defaultProps,de):de}}),I1(ee,function(){return".".concat(ee.styledComponentId)}),l&&M6(ee,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),ee}function lb(n,e){for(var t=[n[0]],s=0,a=e.length;s<a;s+=1)t.push(e[s],n[s+1]);return t}var cb=function(n){return Object.assign(n,{isCss:!0})};function H6(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(sl(n)||au(n))return cb(Ta(lb(Hf,iu([n],e,!0))));var s=n;return e.length===0&&s.length===1&&typeof s[0]=="string"?Ta(s):cb(Ta(lb(s,e)))}function n0(n,e,t){if(t===void 0&&(t=rl),!e)throw wu(1,e);var s=function(a){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];return n(e,t,H6.apply(void 0,iu([a],l,!1)))};return s.attrs=function(a){return n0(n,e,An(An({},t),{attrs:Array.prototype.concat(t.attrs,a).filter(Boolean)}))},s.withConfig=function(a){return n0(n,e,An(An({},t),a))},s}var q6=function(n){return n0(Dj,n)},qt=q6;N6.forEach(function(n){qt[n]=q6(n)});function $6(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var s=Jg(H6.apply(void 0,iu([n],e,!1))),a=I6(s);return new U6(a,s)}const kj=$6`
  from {
    opacity: 0;
    transform: translateX(100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
`,Mj=$6`
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.95);
  }
`,rh=qt.div`
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
  font-family: "Inter", "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #2d1b69 0%, #4a1e72 50%, #663399 100%);
  border-radius: 16px;
  border: 1px solid rgba(147, 51, 234, 0.3);
  min-height: 400px;
  box-shadow: 0 8px 32px rgba(147, 51, 234, 0.2);

  @media (max-width: 768px) {
    padding: 16px;
    margin: 10px;
  }
`,sh=qt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 1px solid rgba(147, 51, 234, 0.3);
`,ih=qt.h1`
  font-size: clamp(1.5rem, 3vw, 2rem);
  font-weight: 700;
  color: #ffffff;
  margin: 0;
  display: flex;
  align-items: center;
  gap: 12px;
`,Oj=qt.span`
  background: linear-gradient(135deg, #9333ea, #a855f7);
  color: #ffffff;
  font-size: 0.75rem;
  font-weight: 600;
  padding: 4px 8px;
  border-radius: 12px;
  min-width: 20px;
  text-align: center;
  box-shadow: 0 2px 8px rgba(147, 51, 234, 0.3);
`,Pj=qt.div`
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 60px 20px;
  color: rgba(255, 255, 255, 0.6);
`,mg=qt.div`
  text-align: center;
  padding: 60px 20px;
  color: rgba(255, 255, 255, 0.6);
`,Vj=qt.div`
  font-size: 4rem;
  margin-bottom: 16px;
  opacity: 0.4;
`,pg=qt.h3`
  font-size: 1.2rem;
  color: rgba(255, 255, 255, 0.8);
  margin: 0;
  font-weight: 500;
`,Lj=qt.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,Uj=qt.div`
  background: linear-gradient(
    135deg,
    rgba(45, 27, 105, 0.8) 0%,
    rgba(74, 30, 114, 0.8) 100%
  );
  backdrop-filter: blur(10px);
  border-radius: 12px;
  padding: 20px;
  border: 1px solid
    ${n=>n.isRead?"rgba(147, 51, 234, 0.25)":"rgba(147, 51, 234, 0.5)"};
  position: relative;
  transition: all 0.3s ease;
  animation: ${kj} 0.3s ease-out;
  opacity: ${n=>n.isRead?.7:1};

  &.removing {
    animation: ${Mj} 0.3s ease-out forwards;
  }

  &:hover {
    transform: translateX(4px);
    border-color: rgba(147, 51, 234, 0.5);
    box-shadow: 0 4px 20px rgba(147, 51, 234, 0.2);
    background: linear-gradient(
      135deg,
      rgba(45, 27, 105, 0.9) 0%,
      rgba(74, 30, 114, 0.9) 100%
    );
    opacity: 1;
  }

  @media (max-width: 480px) {
    padding: 16px;
  }
`,zj=qt.div`
  display: flex;
  align-items: flex-start;
  gap: 16px;
`,Bj=qt.div`
  background: linear-gradient(
    135deg,
    rgba(147, 51, 234, 0.3),
    rgba(168, 85, 247, 0.3)
  );
  border-radius: 8px;
  padding: 8px;
  color: ${n=>n.color||"#a855f7"};
  font-size: 1.1rem;
  flex-shrink: 0;
  border: 1px solid rgba(147, 51, 234, 0.2);
`,Fj=qt.div`
  flex: 1;
`,Hj=qt.div`
  color: #ffffff;
  font-size: 0.95rem;
  line-height: 1.4;
  margin-bottom: 8px;
  font-weight: 500;
`,qj=qt.div`
  color: rgba(255, 255, 255, 0.6);
  font-size: 0.8rem;
  font-weight: 400;
`,$j=qt.button`
  background: none;
  border: none;
  color: rgba(255, 255, 255, 0.5);
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  transition: all 0.2s ease;
  position: absolute;
  top: 16px;
  right: 16px;

  &:hover {
    color: #a855f7;
    background: rgba(147, 51, 234, 0.2);
  }
`,Gj=qt.div`
  display: flex;
  gap: 8px;
  margin-top: 12px;
`,Yj=qt.button`
  background: ${n=>n.primary?"linear-gradient(135deg, #9333ea, #a855f7)":"rgba(147, 51, 234, 0.2)"};
  color: #ffffff;
  border: none;
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    opacity: 0.8;
    transform: translateY(-1px);
  }
`,Kj=n=>{switch(n){case"mining_completed":return d.jsx(Zh,{});case"badge_earned":return d.jsx(vr,{});case"task_completed":return d.jsx(_1,{});case"quest_progress":return d.jsx(Z7,{});case"referral_success":return d.jsx(Ia,{});case"poke_notification":return d.jsx(Ia,{});case"streak_milestone":return d.jsx(Va,{});case"welcome_bonus":return d.jsx(h6,{});case"level_up":return d.jsx(bu,{});default:return d.jsx(Lo,{})}},Qj=n=>{switch(n){case"mining_completed":return"#fbbf24";case"badge_earned":return"#8b5cf6";case"task_completed":return"#10b981";case"quest_progress":return"#06b6d4";case"referral_success":return"#10b981";case"poke_notification":return"#06b6d4";case"streak_milestone":return"#f97316";case"welcome_bonus":return"#06b6d4";case"level_up":return"#f59e0b";default:return"#a855f7"}};function Xj(){const{currentUser:n}=Vi(),[e,t]=O.useState([]),[s,a]=O.useState(!0),[l,u]=O.useState(null);O.useEffect(()=>{if(!n){a(!1);return}let x;return(async()=>{try{a(!0),x=w7(n.uid,E=>{console.log("Notifications received:",E),t(E),a(!1)}),setTimeout(()=>{a(!1)},5e3)}catch(E){console.error("Error loading notifications:",E),u("Failed to load notifications"),a(!1)}})(),()=>{x&&x()}},[n]);const m=async x=>{const w=document.querySelector(`[data-id="${x}"]`);if(w){w.classList.add("removing");try{await T7(n.uid,x),setTimeout(()=>{t(E=>E.filter(j=>j.id!==x))},300)}catch(E){console.error("Error dismissing notification:",E),w.classList.remove("removing")}}},p=async x=>{try{await E7(n.uid,x),t(w=>w.map(E=>E.id===x?{...E,isRead:!0}:E))}catch(w){console.error("Error marking notification as read:",w)}},y=e.filter(x=>!x.isRead&&!x.isDismissed).length;return n?s?d.jsxs(rh,{children:[d.jsx(sh,{children:d.jsxs(ih,{children:[d.jsx(Lo,{}),"Notifications"]})}),d.jsx(Pj,{children:d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto mb-4"}),d.jsx("p",{children:"Loading notifications..."})]})})]}):l?d.jsxs(rh,{children:[d.jsx(sh,{children:d.jsxs(ih,{children:[d.jsx(Lo,{}),"Notifications"]})}),d.jsxs(mg,{children:[d.jsx(pg,{children:"Error loading notifications"}),d.jsx("p",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.9rem",marginTop:"8px"},children:l})]})]}):d.jsxs(rh,{children:[d.jsx(sh,{children:d.jsxs(ih,{children:[d.jsx(Lo,{}),"Notifications",y>0&&d.jsx(Oj,{children:y})]})}),e.length===0?d.jsxs(mg,{children:[d.jsx(Vj,{children:"🎉"}),d.jsx(pg,{children:"All caught up!"}),d.jsx("p",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.9rem",marginTop:"8px"},children:"No new notifications right now"})]}):d.jsx(Lj,{children:e.map(x=>d.jsxs(Uj,{"data-id":x.id,isRead:x.isRead,children:[d.jsxs(zj,{children:[d.jsx(Bj,{color:Qj(x.type),children:Kj(x.type)}),d.jsxs(Fj,{children:[d.jsx(Hj,{children:x.message}),d.jsx(qj,{children:Kg(x.timestamp?.toDate?x.timestamp.toDate():x.timestamp).format("MMM D, hh:mm A")}),!x.isRead&&d.jsx(Gj,{children:d.jsx(Yj,{primary:!0,onClick:()=>p(x.id),children:"Mark as Read"})})]})]}),d.jsx($j,{onClick:()=>m(x.id),children:d.jsx(ef,{})})]},x.id))})]}):d.jsxs(rh,{children:[d.jsx(sh,{children:d.jsxs(ih,{children:[d.jsx(Lo,{}),"Notifications"]})}),d.jsx(mg,{children:d.jsx(pg,{children:"Please log in to view notifications"})})]})}const Wj=(n,e)=>{const t={className:`text-3xl ${e?"text-yellow-400":"text-gray-500"}`,size:32};switch(n){case"FaRocket":return d.jsx(Ei,{...t});case"FaFire":return d.jsx(Va,{...t});case"FaHeart":return d.jsx(w1,{...t});case"FaGem":return d.jsx(d6,{...t});case"FaCog":return d.jsx(b1,{...t});case"FaCrown":return d.jsx(Jo,{...t});case"FaTrophy":return d.jsx(vr,{...t});case"FaStar":return d.jsx(bu,{...t});default:return d.jsx(vr,{...t})}},Zj=()=>d.jsx("div",{className:"flex flex-1 items-center justify-center min-h-[300px]",children:d.jsxs("div",{className:"text-center px-6 py-2 max-w-md mx-auto",children:[d.jsxs("div",{className:"relative mb-8",children:[d.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[d.jsx("div",{className:"animate-bounce delay-0",children:d.jsx(vr,{className:"text-5xl text-gray-600"})}),d.jsx("div",{className:"animate-bounce delay-100",children:d.jsx(qo,{className:"text-4xl text-gray-500"})}),d.jsx("div",{className:"animate-bounce delay-200",children:d.jsx(sI,{className:"text-5xl text-gray-600"})})]}),d.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[d.jsx("div",{className:"absolute top-0 left-4 animate-float delay-0",children:d.jsx("span",{className:"text-2xl opacity-60",children:"🏆"})}),d.jsx("div",{className:"absolute top-2 right-4 animate-float delay-300",children:d.jsx("span",{className:"text-xl opacity-50",children:"⭐"})}),d.jsx("div",{className:"absolute bottom-0 left-8 animate-float delay-500",children:d.jsx("span",{className:"text-lg opacity-40",children:"🎯"})}),d.jsx("div",{className:"absolute bottom-2 right-8 animate-float delay-700",children:d.jsx("span",{className:"text-xl opacity-45",children:"💎"})})]})]}),d.jsxs("div",{className:"space-y-0",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-300 mb-3",children:"No Achievements Yet"}),d.jsx("p",{className:"text-gray-400 text-base leading-relaxed mb-6 pb-2 ",children:"Start your journey to earn amazing badges and achievements!"}),d.jsx("div",{className:"mt-2 pb-5",children:d.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-600/20 to-blue-600/20 text-purple-300 px-4 py-2 rounded-lg border border-purple-500/30",children:[d.jsx(bu,{className:"text-sm animate-pulse"}),d.jsx("span",{className:"text-sm font-medium",children:"Complete challenges to unlock badges!"})]})})]})]})});function Jj(){const{currentUser:n}=Vi(),[e,t]=O.useState([]),[s,a]=O.useState(!0),[l,u]=O.useState(null);return O.useEffect(()=>{if(!n){a(!1);return}(async()=>{try{a(!0);const p=await r6(n.uid);p.success?t(p.badges):u(p.error)}catch(p){console.error("Error loading badges:",p),u("Failed to load achievements")}finally{a(!1)}})()},[n]),s?d.jsx("div",{className:"w-full flex flex-col",children:d.jsx("div",{className:"flex items-center justify-center py-16 min-h-[300px]",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-500/30 border-t-purple-400 mx-auto"}),d.jsx("div",{className:"absolute inset-0 animate-ping rounded-full h-12 w-12 border-2 border-purple-400/20"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-gray-300 font-medium",children:"Loading achievements..."}),d.jsx("p",{className:"text-gray-500 text-sm animate-pulse",children:"Fetching your progress"})]})]})})}):l?d.jsx("div",{className:"w-full flex flex-col",children:d.jsx("div",{className:"flex items-center justify-center py-16 min-h-[300px]",children:d.jsxs("div",{className:"text-center max-w-md mx-auto px-6",children:[d.jsx("div",{className:"mb-6",children:d.jsx("div",{className:"w-16 h-16 mx-auto bg-red-500/20 rounded-full flex items-center justify-center border border-red-500/30",children:d.jsx("span",{className:"text-2xl",children:"❌"})})}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("h3",{className:"text-lg font-semibold text-red-400",children:"Unable to Load Achievements"}),d.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:l}),d.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-500/20 hover:bg-red-500/30 text-red-300 px-4 py-2 rounded-lg text-sm font-medium transition-colors border border-red-500/30",children:"Try Again"})]})]})})}):d.jsxs("div",{className:"w-full flex flex-col",children:[d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg flex items-center justify-center",children:d.jsx(vr,{className:"text-white text-sm"})}),d.jsx("h2",{className:"text-xl font-bold text-white",children:"Achievements"})]}),e.length>0&&d.jsxs("div",{className:"bg-gradient-to-r from-purple-600/20 to-blue-600/20 border border-purple-500/30 rounded-lg px-4 py-2",children:[d.jsx("span",{className:"text-gray-400 text-sm",children:"Progress: "}),d.jsxs("span",{className:"text-purple-400 font-semibold",children:[e.filter(m=>m.isEarned).length,"/",e.length]})]})]})}),d.jsx("div",{className:"flex-1",children:e.length===0?d.jsx(Zj,{}):d.jsx("div",{className:"flex overflow-x-auto space-x-6 px-2 pb-4 scrollbar-hide",children:e.map(m=>d.jsxs("div",{className:`min-w-[240px] max-w-[260px] border rounded-xl p-5 flex flex-col justify-between shadow-lg flex-shrink-0 transition-all duration-300 hover:scale-105 hover:shadow-xl ${m.isEarned?"bg-gradient-to-br from-[#2a2a3c] via-[#2d2d40] to-[#3a3a4c] border-yellow-500/40 hover:shadow-yellow-500/25":"bg-gradient-to-br from-[#1a1a2c] to-[#1d1d30] border-gray-600/50 opacity-75 hover:opacity-90"}`,style:{minHeight:"220px"},children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsx("div",{className:`flex items-center justify-center w-14 h-14 rounded-xl transition-all duration-300 ${m.isEarned?"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 border border-yellow-500/30":"bg-gradient-to-br from-purple-600/10 to-blue-600/10 border border-gray-600/30"}`,children:Wj(m.icon,m.isEarned)}),m.isEarned&&d.jsxs("div",{className:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-400 text-xs px-3 py-1.5 rounded-full border border-green-500/40 font-medium",children:[d.jsx("span",{className:"mr-1",children:"✓"}),"Earned"]})]}),d.jsxs("div",{className:"flex-1 space-y-3",children:[d.jsxs("div",{children:[d.jsx("h3",{className:`text-lg font-bold mb-2 line-clamp-2 ${m.isEarned?"text-white":"text-gray-400"}`,children:m.name}),d.jsx("p",{className:`text-sm leading-relaxed line-clamp-3 ${m.isEarned?"text-gray-300":"text-gray-500"}`,children:m.description})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-xs font-medium text-gray-400",children:"Progress"}),d.jsxs("span",{className:`text-xs font-semibold ${m.isEarned?"text-green-400":"text-gray-400"}`,children:[m.tasks?m.tasks.filter(p=>p.completed).length:0,"/",m.tasks?m.tasks.length:0]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-full bg-gray-700/50 rounded-full h-2.5 overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full transition-all duration-700 ease-out ${m.isEarned?"bg-gradient-to-r from-green-400 via-emerald-500 to-green-600":"bg-gradient-to-r from-purple-500 via-blue-500 to-purple-600"}`,style:{width:`${m.progress||0}%`}})}),m.isEarned&&d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400/20 to-emerald-500/20 rounded-full animate-pulse"})]})]})]}),m.isEarned&&m.earnedAt&&d.jsx("div",{className:"mt-4 pt-3 border-t border-gray-600/30",children:d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[d.jsx("span",{className:"text-yellow-400",children:"🗓️"}),d.jsxs("span",{children:["Earned: ",new Date(m.earnedAt.seconds*1e3).toLocaleDateString()]})]})})]},m.id||m.badgeId))})}),d.jsx("style",{jsx:!0,children:`
        @keyframes float {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          33% { transform: translateY(-10px) rotate(1deg); }
          66% { transform: translateY(5px) rotate(-1deg); }
        }
        
        .animate-float {
          animation: float 3s ease-in-out infinite;
        }
        
        .line-clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
        
        .line-clamp-3 {
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
        
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
        
        .delay-0 { animation-delay: 0ms; }
        .delay-100 { animation-delay: 100ms; }
        .delay-200 { animation-delay: 200ms; }
        .delay-300 { animation-delay: 300ms; }
        .delay-500 { animation-delay: 500ms; }
        .delay-700 { animation-delay: 700ms; }
      `})]})}const eD=({isMining:n})=>d.jsx("div",{className:"cube-container",children:d.jsxs("div",{className:`cube ${n?"rotate":""}`,children:[d.jsx("div",{className:"s1"}),d.jsx("div",{className:"s2"}),d.jsx("div",{className:"s3"}),d.jsx("div",{className:"s4"}),d.jsx("div",{className:"s5"}),d.jsx("div",{className:"s6"})]})}),ub=24*60*60*1e3,tD=async n=>{try{const e=gt(ke,"users",n);return await Zw(ke,async t=>{const s=await t.get(e);if(!s.exists())throw new Error("User not found");if(s.data().mining?.isMining)throw new Error("Mining already in progress");t.update(e,{"mining.isMining":!0,"mining.lastMiningStart":Jt(),"mining.coinsMined":0,"mining.nextAvailable":null,"profile.lastActive":Jt()})}),await CI(n),await Vf(n,"MINING_STARTED"),{success:!0}}catch(e){return console.error("Error starting mining session:",e),{success:!1,error:e.message}}},nD=async n=>{try{const e=await Mf(Rn(ke,"serverTime"),{ts:Jt()}),s=(await qn(e)).data().ts.toDate(),a=gt(ke,"users",n);let l=0;return await Zw(ke,async u=>{const m=await u.get(a);if(!m.exists())throw new Error("User not found");const p=m.data();if(!p.mining?.isMining||!p.mining?.lastMiningStart){l=0;return}const y=p.mining.lastMiningStart.toDate(),x=s-y,w=p.mining.miningRate||3,E=Math.min(Math.max(x,0),ub);l=parseFloat((E/ub*w).toFixed(1)),u.update(a,{"stats.coinsEarned":Gc(l),"stats.totalCoinsEarned":Gc(l),"mining.coinsMined":0,"mining.totalMiningSessions":Gc(1),"mining.isMining":!1,"mining.lastMiningStart":null,"mining.nextAvailable":null})}),l>0&&(await S7(n,l),await II(n),await Vf(n,"MINING_COMPLETED")),{success:!0,coinsEarned:l}}catch(e){return console.error("Error completing mining session:",e),{success:!1,error:e.message}}},rD=(n,e)=>{const t=gt(ke,"users",n);return _l(t,s=>{s.exists()&&e(s.data().mining)})},gg=24*60*60*1e3,sD=3,iD=sD/24,aD=()=>{const{currentUser:n,userProfile:e,setUserProfile:t}=Vi(),[s,a]=O.useState(0),[l,u]=O.useState(0),[m,p]=O.useState(!1),[y,x]=O.useState(null),[w,E]=O.useState(!1),[j,P]=O.useState(null),[z,B]=O.useState(0),q=O.useRef(null),te=O.useRef(null),ee=H=>{const se=new Date(H.seconds?H.seconds*1e3:H),R=Date.now();return Math.floor((R-se.getTime())/6e4)},de=(H,se)=>H/1440*se,J=(H,se)=>{q.current&&clearInterval(q.current);let R=H;q.current=setInterval(()=>{R+=se/86400,a(R),u(R*.12)},1e3)},ue=async H=>{const se=ee(H),R=T.miningRate||3;if(console.log("Resuming mining session. Elapsed minutes:",se),se>=1440){await D();return}const X=de(se,R);a(X),u(X*.12),J(X,R)},I=e&&e.stats?{coinsEarned:e.stats.coinsEarned??0,totalCoinsEarned:e.stats.totalCoinsEarned??0,level:e.stats.level??1,currentTier:e.stats.currentTier??"Bronze Miner",nextTier:e.stats.nextTier??"Silver Miner",tierProgress:e.stats.tierProgress??0,currentStreak:e.stats.currentStreak??0,totalMined:e.stats.totalMined??0,rank:e.stats.rank??"#0",isVip:e.stats.isVip??!1}:{coinsEarned:0,totalCoinsEarned:0,level:1,currentTier:"Bronze Miner",nextTier:"Silver Miner",tierProgress:0,currentStreak:0,totalMined:0,rank:"#0",isVip:!1},T=e&&e.mining?{isMining:e.mining.isMining??!1,lastMiningStart:e.mining.lastMiningStart??null,coinsMined:e.mining.coinsMined??0,nextAvailable:e.mining.nextAvailable??null,totalMiningSessions:e.mining.totalMiningSessions??0,miningRate:e.mining.miningRate??3}:{isMining:!1,lastMiningStart:null,coinsMined:0,nextAvailable:null,totalMiningSessions:0,miningRate:3},A=e&&e.profile?{referralCode:e.profile.referralCode??"",username:e.profile.username??"",email:e.profile.email??""}:{referralCode:""};O.useEffect(()=>{if(n&&e){const H=T;if(p(H.isMining||!1),a(H.coinsMined||0),u((H.coinsMined||0)*.12),x(H.nextAvailable?new Date(H.nextAvailable).getTime():null),te.current=rD(n.uid,se=>{p(se.isMining||!1),a(se.coinsMined||0),u((se.coinsMined||0)*.12),x(se.nextAvailable?new Date(se.nextAvailable).getTime():null)}),H.isMining&&H.lastMiningStart){const se=new Date(H.lastMiningStart.seconds?H.lastMiningStart.seconds*1e3:H.lastMiningStart);console.log("Last mining start time:",se);const R=Date.now()-se.getTime();console.log("Elapsed time since mining start (ms):",R),R<gg?ue(H.lastMiningStart):D()}}return()=>{q.current&&clearInterval(q.current),te.current&&te.current()}},[n,e]);const C=async()=>{const H=await Mf(Rn(ke,"serverTime"),{ts:Jt()});return(await qn(H)).data().ts.toDate()},k=async H=>{const R=await C()-H.getTime(),X=T.miningRate||3,ae=Math.max(0,Math.min(R/gg*X,X));a(parseFloat(ae.toFixed(4))),u(parseFloat((ae*.12).toFixed(4)))},V=async()=>{if(!n){P("Please log in to start mining");return}if(!(y&&Date.now()<y)){E(!0),P(null);try{const H=await tD(n.uid);if(H.success){a(0),u(0);const se=new Date;k(se),t(R=>({...R,mining:{...T,isMining:!0,lastMiningStart:se,coinsMined:0,nextAvailable:new Date(se.getTime()+gg)}}))}else P(H.error)}catch(H){P("Failed to start mining session"),console.error("Mining start error:",H)}E(!1)}},D=async()=>{if(n)try{const H=await nD(n.uid);H.success?(p(!1),x(null),a(H.coinsEarned),t(se=>({...se,mining:{...T,isMining:!1,nextAvailable:null,totalMiningSessions:(T.totalMiningSessions||0)+1},stats:{...I,coinsEarned:(I.coinsEarned||0)+H.coinsEarned,totalCoinsEarned:(I.totalCoinsEarned||0)+H.coinsEarned}}))):P(H.error)}catch{P("Failed to complete mining session")}},ge=()=>{if(!y)return"";const H=y-Date.now();if(H<=0)return"You can mine now!";const se=Math.floor(H/(1e3*60*60)),R=Math.floor(H%(1e3*60*60)/(1e3*60));return`${se}h ${R}m remaining`},he=()=>T.miningRate||iD,L=()=>{if(A.referralCode){const H=`${window.location.origin}/signup?ref=${A.referralCode}`;navigator.clipboard.writeText(H),alert("Referral link copied to clipboard! ðŸš€")}else alert("Referral code not available yet. Please try again in a moment.")};O.useEffect(()=>{let H=null;if(m&&T.lastMiningStart){const se=T.lastMiningStart.seconds?T.lastMiningStart.seconds*1e3:new Date(T.lastMiningStart).getTime();H=setInterval(()=>{B(Date.now()-se)},1e3)}else B(0);return()=>{H&&clearInterval(H)}},[m,T.lastMiningStart]);const W=H=>{const se=Math.floor(H/1e3),R=Math.floor(se/3600),X=Math.floor(se%3600/60),ae=se%60;return`${R.toString().padStart(2,"0")}:${X.toString().padStart(2,"0")}:${ae.toString().padStart(2,"0")}`};return!n||!e?d.jsx("div",{className:"w-full h-full flex items-center justify-center p-6 bg-gradient-to-br from-[#251354] via-[#261547] to-[#321c64] rounded-2xl",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-400 mx-auto mb-4"}),d.jsx("p",{className:"text-purple-300",children:"Loading mining dashboard..."})]})}):d.jsxs("div",{className:"w-full h-full flex flex-col gap-6 p-4 sm:p-6 bg-gradient-to-br from-[#251354] via-[#261547] to-[#321c64] rounded-2xl shadow-lg border border-purple-900/20 transition-all duration-300",children:[j&&d.jsxs("div",{className:"fixed top-4 right-4 left-4 sm:left-auto z-50 bg-red-500/20 border border-red-500 text-red-300 px-4 py-2 rounded-lg flex justify-between items-center max-w-xs mx-auto sm:max-w-full",children:[d.jsx("span",{children:j}),d.jsx("button",{onClick:()=>P(null),className:"ml-2 text-red-400 hover:text-red-200",children:"X"})]}),d.jsxs("h2",{className:"text-2xl font-bold text-purple-300 mb-4 flex items-center gap-3",children:["Mining Dashboard",d.jsx("span",{className:"text-sm bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full",children:m?"ACTIVE":"INACTIVE"})]}),d.jsx("div",{className:"w-full flex items-center justify-center py-8 sm:py-12",children:d.jsx(eD,{isMining:m})}),d.jsxs("div",{className:"w-full flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("div",{className:"flex-1 bg-gradient-to-t from-[#221c34] to-[#35246b] px-5 py-4 rounded-lg shadow border border-purple-600/30 text-center transition-all duration-200 hover:scale-[1.03]",children:[d.jsx("p",{className:"text-xs text-purple-300 uppercase tracking-wider font-semibold",children:"Coins Mined"}),d.jsx("p",{className:"text-2xl text-yellow-400 font-extrabold drop-shadow",children:s.toFixed(4)})]}),d.jsxs("div",{className:"flex-1 bg-gradient-to-t from-[#221c34] to-[#35246b] px-5 py-4 rounded-lg shadow border border-purple-600/30 text-center transition-all duration-200 hover:scale-[1.03] mt-3 sm:mt-0",children:[d.jsx("p",{className:"text-xs text-purple-300 uppercase tracking-wider font-semibold",children:"USD Equivalent"}),d.jsxs("p",{className:"text-2xl text-green-400 font-extrabold drop-shadow",children:["$",l.toFixed(4)]})]})]}),d.jsxs("div",{className:"bg-gradient-to-t from-[#221c34] to-[#312567] px-5 py-4 rounded-lg shadow border border-purple-600/30 text-center",children:[d.jsx("p",{className:"text-xs text-purple-300 uppercase tracking-wider font-semibold",children:"Mining Rate"}),d.jsxs("p",{className:"text-lg text-purple-400 font-bold drop-shadow",children:[he().toFixed(6)," coins/day"]})]}),d.jsxs("div",{className:"bg-gradient-to-t from-[#221c34] to-[#312567] px-5 py-4 rounded-lg shadow border border-purple-600/30 text-center",children:[d.jsx("p",{className:"text-xs text-purple-300 uppercase tracking-wider font-semibold",children:"Total Earned"}),d.jsxs("p",{className:"text-lg text-blue-400 font-bold drop-shadow",children:[(I.totalCoinsEarned||0).toFixed(2)," coins"]})]}),d.jsx("div",{className:"flex flex-col items-center mt-2 w-full",children:m?d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-sm text-green-400 font-semibold flex items-center mb-2 transition-all duration-300",children:["Mining in progress... ",d.jsx("span",{className:"text-purple-300",children:ge()})]}),d.jsxs("p",{className:"text-xs text-purple-400 font-mono mb-2",children:["Elapsed: ",W(z)]})]}):d.jsxs("button",{onClick:V,disabled:w||y&&Date.now()<y,className:`mt-1 px-5 py-3 rounded-md font-semibold text-sm shadow-lg w-full transition-all duration-200 flex items-center gap-2 ${w||y&&Date.now()<y?"bg-gray-500 cursor-not-allowed text-white":"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-purple-400 hover:to-pink-400 text-white"}`,children:[w&&d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),y&&Date.now()<y?`Come back in ${ge()}`:w?"Starting...":"Start Mining"]})}),d.jsx("div",{className:"text-center mt-4 w-full",children:d.jsxs("button",{onClick:L,className:"w-full sm:w-auto bg-gradient-to-r from-purple-600 to-indigo-500 hover:from-indigo-500 hover:to-purple-600 text-white px-4 py-3 rounded-md shadow-md transition-all duration-200 flex items-center justify-center gap-2",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Share Referral Link"]})})]})]})},oD="/CollabriaNexus/assets/LOGO-BUWBIFdy.png",lD=n=>({FaRocket:Ei,FaFire:Va,FaHeart:w1,FaGem:d6,FaCog:b1,FaCrown:Jo,FaTrophy:vr,FaMedal:qo})[n]||vr,cD=()=>{const{currentUser:n}=Vi(),[e,t]=O.useState(0),[s,a]=O.useState([]),[l,u]=O.useState(!0);O.useEffect(()=>{if(!n){u(!1);return}return O7(n.uid,E=>{a(E),u(!1)})},[n]),O.useEffect(()=>{n&&y1(n.uid)},[n]);const m=()=>{t(w=>w===0?s.length-1:w-1)},p=()=>{t(w=>w===s.length-1?0:w+1)};if(!n)return d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-violet-400 text-sm",children:"Please log in to view quests"})});if(l)return d.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mb-3"}),d.jsx("p",{className:"text-violet-400 text-sm",children:"Loading quests..."})]});if(s.length===0)return d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("p",{className:"text-violet-400 text-sm",children:"No quests available"})});const y=s[e],x=lD(y.icon);return d.jsxs("div",{className:"h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 bg-violet-500/10 rounded-xl p-3 border border-violet-500/20",children:[d.jsx("button",{onClick:m,disabled:s.length<=1,"aria-label":"Previous Badge",className:"p-2 rounded-full bg-violet-600 hover:bg-violet-500 disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-violet-500/25",children:d.jsx(c6,{className:"text-white text-sm"})}),d.jsxs("div",{className:"flex-1 text-center px-4",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1",children:[d.jsx("div",{className:`text-xl ${y.color}`,children:d.jsx(x,{})}),d.jsx("h3",{className:"text-white font-bold text-lg truncate",children:s.length>0?s[e].name:"No Badges"}),y.isEarned&&d.jsx(vr,{className:"text-lg text-yellow-400 flex-shrink-0"})]}),d.jsxs("p",{className:"text-violet-400 text-xs",children:[e+1," of ",s.length]})]}),d.jsx("button",{onClick:p,disabled:s.length<=1,"aria-label":"Next Badge",className:"p-2 rounded-full bg-violet-600 hover:bg-violet-500 disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-violet-500/25",children:d.jsx(u6,{className:"text-white text-sm"})})]}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{children:[Math.round(y.progress),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1.5",children:d.jsx("div",{className:"bg-gradient-to-r from-violet-500 to-purple-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${y.progress}%`}})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:y.tasks.map(w=>d.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg transition-all duration-200 ${w.completed?"bg-green-500/10 border border-green-500/20":"bg-gray-700/30 border border-gray-600/30"}`,children:[d.jsx("div",{className:`text-sm flex-shrink-0 ${w.completed?"text-green-400":"text-gray-500"}`,children:w.completed?d.jsx(_1,{}):d.jsx(vh,{})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:`text-xs font-medium truncate ${w.completed?"text-green-300":"text-gray-300"}`,children:w.text}),w.completed&&w.completedAt&&d.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["✅"," ",new Date(w.completedAt.seconds?w.completedAt.seconds*1e3:w.completedAt).toLocaleDateString()]})]})]},w.id))}),d.jsx("div",{className:"mt-3 text-center",children:y.isEarned?d.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-400",children:[d.jsx(vr,{className:"text-sm"}),d.jsx("span",{className:"text-xs font-semibold",children:"Badge Earned! 🎉"})]}):d.jsx("p",{className:"text-gray-500 text-xs",children:"Complete all tasks to earn this badge"})}),d.jsx("div",{className:"mt-2 text-center",children:d.jsx("p",{className:"text-xs text-violet-500",children:"✨ Updates automatically"})})]})]})};function uD(){const{currentUser:n,userProfile:e}=Vi(),[t,s]=O.useState(!1),[a,l]=O.useState("");O.useEffect(()=>{const E=new Date().getHours();E<12?l("Good Morning"):E<18?l("Good Afternoon"):l("Good Evening")},[]);const u=e&&e.stats?{totalCoinsEarned:e.stats.totalCoinsEarned??0,level:e.stats.level??1,isVip:e.stats.isVip??!1}:{totalCoinsEarned:0,level:1,isVip:!1},m=e&&e.profile?{username:e.profile.username??"User",avatar:e.profile.avatar??"",email:e.profile.email??""}:{username:"User",avatar:""},p=[{icon:E1,path:"/dashboard",label:"Home"},{icon:tf,path:"/friends",label:"Friends"},{icon:m6,path:"/work-in-progress",label:"News"}],y=()=>m.avatar?m.avatar:`https://api.dicebear.com/7.x/initials/svg?seed=${m.username}&backgroundColor=6366f1&fontSize=40`,[x,w]=Nn.useState(null);return d.jsx("div",{className:"min-h-screen pt-20 bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white relative overflow-hidden",children:!n||!e?d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-400 mx-auto mb-4"}),d.jsx("p",{className:"text-slate-300 text-lg",children:"Loading your dashboard..."}),d.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Setting up your personalized experience"})]})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[d.jsx("div",{className:"absolute top-0 left-10 w-72 h-72 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-violet-500/5 rounded-full blur-3xl animate-pulse delay-1000"}),d.jsx("div",{className:"absolute top-1/2 left-1/2 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse delay-500"})]}),t&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-30 md:hidden",onClick:()=>s(!1)}),d.jsxs("aside",{className:`
    fixed 
    top-1/2 left-4 transform -translate-y-1/2
    md:top-1/2 md:left-4 md:transform md:-translate-y-1/2
    w-80 md:w-20 
    bg-gradient-to-b from-slate-900/95 to-slate-800/95 
    backdrop-blur-2xl border border-violet-400/20 rounded-3xl
    flex flex-col justify-between py-8 
    shadow-2xl shadow-violet-500/20 hover:shadow-violet-500/30
    transition-all duration-700 ease-out z-40
    ${t?"translate-x-0 opacity-100":"-translate-x-full md:translate-x-0 opacity-0 md:opacity-100"}
    max-h-[80vh] overflow-hidden
    before:absolute before:inset-0 before:rounded-3xl before:p-[1px]
    before:bg-gradient-to-b before:from-violet-400/30 before:via-purple-500/20 before:to-transparent
    before:mask-gradient before:pointer-events-none before:-z-10
  `,children:[d.jsx("div",{className:"absolute top-8 right-6 w-16 h-16 bg-violet-500/10 rounded-full blur-xl animate-pulse"}),d.jsx("div",{className:"absolute bottom-20 left-4 w-12 h-12 bg-purple-500/10 rounded-full blur-lg animate-pulse delay-1000"}),d.jsx("button",{onClick:()=>s(!1),className:`absolute top-6 right-6 text-violet-300 hover:text-white md:hidden \r
               p-3 bg-violet-600/20 rounded-xl hover:bg-violet-600/40 \r
               transition-all duration-300 hover:scale-110 hover:rotate-90\r
               border border-violet-500/30 hover:border-violet-400/50\r
               backdrop-blur-sm shadow-lg`,children:d.jsx(ef,{className:"text-lg"})}),d.jsx("div",{className:"w-full px-6 md:px-3 mb-4 pr-16",children:d.jsxs("div",{className:"flex items-center justify-center md:justify-center",children:[d.jsx("div",{className:"w-10 h-10rounded-xl flex items-center justify-center shadow-lg",children:d.jsx("span",{className:"text-white font-bold text-lg",children:d.jsx("img",{src:oD,alt:"Logo",className:"w-10 h-6"})})}),d.jsx("span",{className:"ml-3 md:hidden text-white font-bold text-xl bg-gradient-to-r from-violet-200 to-purple-200 bg-clip-text text-transparent",children:"CollabriaNexus"})]})}),d.jsx("div",{className:"flex flex-col gap-3 w-full px-6 md:px-3 flex-1",children:p.map((E,j)=>d.jsx(Lr,{to:E.path,className:"w-full",children:d.jsxs("button",{className:`
            group relative w-full md:w-14 h-14 flex items-center justify-start md:justify-center
            text-violet-300 hover:text-white transition-all duration-500
            rounded-2xl transform hover:scale-105 active:scale-95
            border border-transparent overflow-hidden
            ${j===0?"bg-gradient-to-r from-violet-600/40 to-purple-600/40 text-violet-100 border-violet-400/50 shadow-lg shadow-violet-500/20":"hover:bg-gradient-to-r hover:from-violet-600/30 hover:to-purple-600/30 hover:border-violet-400/40 hover:shadow-lg hover:shadow-violet-500/25"}
          `,style:{animationDelay:`${j*150}ms`,animation:"slideInLeft 0.8s ease-out forwards"},onMouseEnter:()=>w(j),onMouseLeave:()=>w(null),children:[d.jsx("div",{className:`
            absolute inset-0 bg-gradient-to-r from-violet-600/20 to-purple-600/20 
            transform transition-transform duration-500 ease-out
            ${x===j?"scale-100 opacity-100":"scale-0 opacity-0"}
          `}),d.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-2xl",children:d.jsx("div",{className:`
              absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent
              transform -skew-x-12 transition-transform duration-700
              ${x===j?"translate-x-full":"-translate-x-full"}
            `})}),d.jsx(E.icon,{className:`text-xl md:text-lg ml-4 md:ml-0 text-current flex-shrink-0 relative z-10 \r
                               transition-transform duration-300 group-hover:scale-110`}),d.jsx("span",{className:`ml-4 md:hidden font-semibold text-current relative z-10 \r
                          transition-all duration-300 group-hover:translate-x-1`,children:E.label}),j===0&&d.jsx("div",{className:"absolute right-2 md:right-1 w-2 h-2 bg-violet-400 rounded-full animate-pulse shadow-lg shadow-violet-400/50"}),d.jsxs("div",{className:`
            absolute left-20 bg-slate-900/95 backdrop-blur-md text-white 
            px-4 py-3 rounded-xl text-sm font-medium
            transition-all duration-300 pointer-events-none hidden md:block 
            border border-violet-500/30 shadow-xl shadow-violet-500/10 z-50
            ${x===j?"opacity-100 translate-x-2":"opacity-0 translate-x-0"}
          `,children:[E.label,d.jsx("div",{className:`absolute left-0 top-1/2 transform -translate-x-1 -translate-y-1/2 \r
                           w-2 h-2 bg-slate-900 rotate-45 border-l border-b border-violet-500/30`})]})]})},E.path))}),d.jsx("div",{className:"w-full px-6 md:px-3 my-6",children:d.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-violet-500/30 to-transparent"})}),d.jsx("div",{className:"w-full px-6 md:px-3",children:d.jsx(Lr,{to:"/profile",children:d.jsxs("div",{className:`group flex md:justify-center items-center p-2 rounded-lg \r
                   hover:bg-slate-800/40 transition-all duration-200 cursor-pointer`,children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:y(),alt:m.username,className:`w-10 h-10 rounded-full border border-slate-600 \r
                     group-hover:border-violet-400 transition-colors object-cover`}),d.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 rounded-full \r
                       border border-slate-800`})]}),d.jsxs("div",{className:"ml-3 md:hidden",children:[d.jsx("p",{className:"text-white font-medium text-sm",children:m.username}),u.isVip&&d.jsxs("p",{className:"text-yellow-400 text-xs flex items-center",children:[d.jsx(Jo,{className:"w-3 h-3 mr-1"}),"VIP"]})]})]})})})]}),d.jsx("style",{jsx:!0,children:`
  @keyframes slideInLeft {
    from {
      opacity: 0;
      transform: translateX(-30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  .mask-gradient {
    mask: linear-gradient(180deg, transparent, black 10px, black calc(100% - 10px), transparent);
  }
`}),d.jsx("button",{className:`
          fixed bottom-6 left-6 z-50 w-14 h-14 
          bg-gradient-to-r from-violet-600 to-purple-600 rounded-full 
          shadow-lg shadow-violet-500/40 flex items-center justify-center 
          hover:shadow-xl hover:shadow-violet-500/60 transition-all duration-300 
          transform hover:scale-110 active:scale-95 md:hidden
          border border-violet-400/30 hover:border-violet-300
          ${t?"rotate-180":"rotate-0"}
        `,onClick:()=>s(!t),children:t?d.jsx(ef,{className:"text-white text-xl"}):d.jsx(o6,{className:"text-white text-xl"})}),d.jsxs("div",{className:"min-h-screen overflow-y-auto",children:[d.jsxs("div",{className:"px-6 py-8 md:ml-32",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-violet-400 to-purple-400 bg-clip-text text-transparent",children:[a,", ",m.username,"! 👋"]}),d.jsxs("p",{className:"text-slate-300 mt-2 flex items-center gap-2",children:[d.jsx(x1,{className:"text-violet-400"}),"Ready to boost your productivity today?"]})]}),d.jsx("div",{className:"hidden md:block",children:d.jsxs("div",{className:"flex items-center gap-4 bg-slate-800/60 backdrop-blur-sm rounded-xl px-4 py-2 border border-violet-500/30 shadow-lg",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm text-violet-300",children:"Total Coins"}),d.jsx("p",{className:"text-xl font-bold text-yellow-400",children:(u.totalCoinsEarned||0).toLocaleString()})]}),d.jsx("div",{className:"w-12 h-12 text-4xl bg-gradient-to-r from-yellow-300 to-orange-300 rounded-full flex items-center justify-center shadow-md",children:"💰"})]})})]}),d.jsxs("div",{className:"md:hidden mt-4 grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-xl px-4 py-3 border border-violet-500/30",children:[d.jsx("p",{className:"text-xs text-violet-300",children:"Total Coins"}),d.jsx("p",{className:"text-lg font-bold text-yellow-400",children:(u.totalCoinsEarned||0).toLocaleString()})]}),d.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-xl px-4 py-3 border border-violet-500/30",children:[d.jsx("p",{className:"text-xs text-violet-300",children:"Level"}),d.jsx("p",{className:"text-lg font-bold text-blue-400",children:u.level||1})]})]})]}),d.jsxs("main",{className:"px-6 pb-8 md:ml-32 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[d.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 relative overflow-hidden min-h-[350px]",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),d.jsx("div",{className:"relative z-10",children:d.jsx(aD,{})})]}),d.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 min-h-[350px] relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-cyan-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),d.jsx("div",{className:"relative z-10 h-full",children:d.jsx(Xj,{})})]})]}),d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 h-[380px] relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-600/5 to-orange-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),d.jsx("div",{className:"relative z-10 h-full",children:d.jsx(Jj,{})})]}),d.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 h-[365px] relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600/5 to-red-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),d.jsx("div",{className:"relative z-10 h-full",children:d.jsx(kI,{})})]}),d.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 h-[480px] relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),d.jsxs("div",{className:"relative z-10 h-full",children:[d.jsxs("h2",{className:"text-xl font-bold text-violet-300 mb-4 flex items-center gap-3",children:[d.jsx(qo,{className:"text-purple-400"}),"Badge Quests",d.jsx("div",{className:"px-2 py-1 bg-purple-500/20 border border-purple-500/30 rounded-full text-xs text-purple-400 font-semibold",children:"EARN"})]}),d.jsx(cD,{})]})]})]})]})]})]})})}const dD=async()=>{try{const n=Rn(ke,"Blogs");return(await xl(n)).docs.map(t=>{const s=t.data();return{id:t.id,title:s.title||"Untitled",slug:s.slug||t.id,author:s.author||"Editorial Team",category:s.category||"General",imageUrl:s.imageUrl||s.image||"",excerpt:s.excerpt||"",content:s.content||"",status:s.status||"published",publishedAt:s.publishedAt||s.createdAt||null,updatedAt:s.updatedAt||null,tags:Array.isArray(s.tags)?s.tags:[],featured:!!s.featured,readingTime:s.readingTime||""}})}catch(n){throw console.error("Error fetching blogs:",n),n}},hD=()=>{const[n,e]=O.useState([]),[t,s]=O.useState(!0),[a,l]=O.useState(null),[u,m]=O.useState(null),[p,y]=O.useState("All"),[x,w]=O.useState(""),[E,j]=O.useState(1),[P,z]=O.useState("newest"),B=6;O.useEffect(()=>{(async()=>{try{s(!0);const C=(await dD()).filter(k=>k.status==="published");e(C)}catch(A){l("Failed to load blogs. Please try again later."),console.error("Error loading blogs:",A)}finally{s(!1)}})()},[]);const q=["All",...new Set(n.map(T=>T.category).filter(Boolean))],ee=[...n.filter(T=>{const A=p==="All"||T.category===p,C=T.title.toLowerCase().includes(x.toLowerCase())||T.excerpt.toLowerCase().includes(x.toLowerCase())||T.tags&&T.tags.some(k=>k.toLowerCase().includes(x.toLowerCase()));return A&&C})].sort((T,A)=>{switch(P){case"newest":return new Date(A.publishedAt||A.updatedAt||0)-new Date(T.publishedAt||T.updatedAt||0);case"oldest":return new Date(T.publishedAt||T.updatedAt||0)-new Date(A.publishedAt||A.updatedAt||0);case"title":return T.title.localeCompare(A.title);case"featured":return(A.featured?1:0)-(T.featured?1:0);default:return 0}}),de=Math.ceil(ee.length/B),J=(E-1)*B,ue=ee.slice(J,J+B),I=T=>T?(T.toDate?T.toDate():new Date(T)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"No date";return O.useEffect(()=>{j(1)},[p,x,P]),t?d.jsx("div",{className:"bg-[#0f0f1a] min-h-screen text-white px-6 py-10 pt-20",children:d.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:d.jsxs("div",{className:"text-center",children:[d.jsx(WE,{className:"animate-spin h-12 w-12 text-purple-500 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-300 text-lg",children:"Loading blogs..."})]})})}):a?d.jsx("div",{className:"bg-[#0f0f1a] min-h-screen text-white px-6 py-10 pt-20",children:d.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-red-400 text-lg mb-4",children:a}),d.jsx("button",{onClick:()=>window.location.reload(),className:"bg-purple-600 hover:bg-purple-700 px-6 py-2 rounded-md transition",children:"Retry"})]})})}):d.jsxs("div",{className:"bg-[#0f0f1a] min-h-screen text-white px-6 py-10 pt-20",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"📰 MineVerse Blog"}),d.jsx("p",{className:"text-gray-300 text-lg max-w-2xl mx-auto",children:"Stay updated with the latest insights, strategies, and trends in digital mining and cryptocurrency"}),d.jsxs("div",{className:"mt-6 text-sm text-gray-400",children:[n.length," ",n.length===1?"article":"articles"," available"]})]}),d.jsxs("div",{className:"max-w-6xl mx-auto mb-8",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between mb-6",children:[d.jsxs("div",{className:"relative flex-1 max-w-md",children:[d.jsx(rT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),d.jsx("input",{type:"text",placeholder:"Search articles...",className:"w-full bg-[#1d1d2e] border border-gray-600 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-400 focus:border-purple-500 focus:outline-none",value:x,onChange:T=>w(T.target.value)})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(YE,{className:"text-gray-400 h-4 w-4"}),d.jsxs("select",{value:P,onChange:T=>z(T.target.value),className:"bg-[#1d1d2e] border border-gray-600 rounded-lg px-3 py-2 text-white focus:border-purple-500 focus:outline-none",children:[d.jsx("option",{value:"newest",children:"Newest First"}),d.jsx("option",{value:"oldest",children:"Oldest First"}),d.jsx("option",{value:"title",children:"Title A-Z"}),d.jsx("option",{value:"featured",children:"Featured First"})]})]})]}),d.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:q.map(T=>d.jsx("button",{onClick:()=>y(T),className:`px-4 py-2 rounded-full transition text-sm ${p===T?"bg-purple-600 text-white":"bg-[#1d1d2e] hover:bg-purple-600 text-gray-300"}`,children:T},T))})]}),d.jsx("div",{className:"max-w-6xl mx-auto mb-6",children:d.jsxs("p",{className:"text-gray-400 text-sm",children:["Showing ",ue.length," of ",ee.length," articles",x&&` for "${x}"`,p!=="All"&&` in ${p}`]})}),ee.length===0&&!t&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("p",{className:"text-gray-400 text-lg mb-4",children:"No articles found matching your criteria."}),d.jsx("button",{onClick:()=>{w(""),y("All")},className:"bg-purple-600 hover:bg-purple-700 px-6 py-2 rounded-md transition",children:"Clear Filters"})]}),d.jsx("div",{className:"max-w-6xl mx-auto grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:ue.map(T=>d.jsxs("article",{className:"bg-[#1d1d2e] rounded-lg overflow-hidden shadow-lg hover:shadow-purple-500/20 transition-all duration-300 hover:scale-105 group",children:[T.imageUrl&&d.jsxs("div",{className:"relative overflow-hidden",children:[d.jsx("img",{src:T.imageUrl,alt:T.title,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-300"}),T.featured&&d.jsx("div",{className:"absolute top-3 left-3",children:d.jsx("span",{className:"bg-purple-600 text-white text-xs px-2 py-1 rounded-full",children:"Featured"})})]}),d.jsxs("div",{className:"p-5",children:[T.category&&d.jsx("span",{className:"inline-block bg-purple-600 text-xs px-2 py-1 rounded-full mb-3",children:T.category}),d.jsx("h2",{className:"text-lg font-bold mb-3 line-clamp-2 group-hover:text-purple-400 transition-colors",children:T.title}),d.jsxs("div",{className:"flex items-center text-xs text-gray-400 mb-3 gap-4",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Z2,{className:"h-3 w-3"}),d.jsx("span",{children:I(T.publishedAt||T.updatedAt)})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(tx,{className:"h-3 w-3"}),d.jsx("span",{children:T.author})]}),T.readingTime&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(J2,{className:"h-3 w-3"}),d.jsx("span",{children:T.readingTime})]})]}),T.excerpt&&d.jsx("p",{className:"text-gray-300 text-sm mb-4 line-clamp-3",children:T.excerpt}),T.tags&&T.tags.length>0&&d.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[T.tags.slice(0,3).map((A,C)=>d.jsxs("span",{className:"inline-flex items-center gap-1 bg-[#2d2d3e] text-xs px-2 py-1 rounded text-gray-300",children:[d.jsx(ex,{className:"h-2 w-2"}),A]},C)),T.tags.length>3&&d.jsxs("span",{className:"text-xs text-gray-400",children:["+",T.tags.length-3," more"]})]}),d.jsx("button",{className:"w-full bg-purple-600 hover:bg-purple-700 transition px-4 py-2 rounded-md text-sm font-medium",onClick:()=>m(T),children:"Read Full Article"})]})]},T.id))}),de>1&&d.jsxs("div",{className:"flex justify-center items-center gap-2 mb-8",children:[d.jsxs("button",{onClick:()=>j(T=>Math.max(T-1,1)),disabled:E===1,className:"flex items-center gap-1 px-3 py-2 bg-[#1d1d2e] rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-purple-600 transition",children:[d.jsx(zE,{className:"h-4 w-4"}),"Previous"]}),d.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,de)},(T,A)=>{let C;return de<=5||E<=3?C=A+1:E>=de-2?C=de-4+A:C=E-2+A,d.jsx("button",{onClick:()=>j(C),className:`px-3 py-2 rounded-md transition ${E===C?"bg-purple-600 text-white":"bg-[#1d1d2e] text-gray-300 hover:bg-purple-600"}`,children:C},C)})}),d.jsxs("button",{onClick:()=>j(T=>Math.min(T+1,de)),disabled:E===de,className:"flex items-center gap-1 px-3 py-2 bg-[#1d1d2e] rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-purple-600 transition",children:["Next",d.jsx(FE,{className:"h-4 w-4"})]})]}),u&&d.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-50 animate-fadeIn p-4",children:d.jsxs("div",{className:"bg-[#1d1d2e] max-w-4xl w-full rounded-lg shadow-lg overflow-y-auto max-h-[90vh]",children:[u.imageUrl&&d.jsx("img",{src:u.imageUrl,alt:u.title,className:"w-full h-64 object-cover"}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.featured&&d.jsx("span",{className:"bg-purple-600 text-white text-xs px-3 py-1 rounded-full",children:"Featured"}),u.category&&d.jsx("span",{className:"bg-blue-600 text-white text-xs px-3 py-1 rounded-full",children:u.category})]}),d.jsx("h1",{className:"text-3xl font-bold mb-4",children:u.title}),d.jsxs("div",{className:"flex items-center text-sm text-gray-400 mb-6 gap-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(tx,{className:"h-4 w-4"}),d.jsxs("span",{children:["by ",u.author]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Z2,{className:"h-4 w-4"}),d.jsx("span",{children:I(u.publishedAt||u.updatedAt)})]}),u.readingTime&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(J2,{className:"h-4 w-4"}),d.jsx("span",{children:u.readingTime})]})]}),u.tags&&u.tags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:u.tags.map((T,A)=>d.jsxs("span",{className:"inline-flex items-center gap-1 bg-[#2d2d3e] text-sm px-3 py-1 rounded-full text-gray-300",children:[d.jsx(ex,{className:"h-3 w-3"}),T]},A))}),d.jsx("div",{className:"prose prose-invert max-w-none",children:d.jsx("div",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",children:u.content||u.excerpt||"No content available."})}),d.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[d.jsx("button",{onClick:()=>m(null),className:"bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded-md text-white transition",children:"Close"}),d.jsx("button",{onClick:()=>{navigator.share?navigator.share({title:u.title,text:u.excerpt,url:window.location.href}):navigator.clipboard.writeText(window.location.href)},className:"bg-purple-600 hover:bg-purple-700 px-6 py-2 rounded-md text-white transition",children:"Share Article"})]})]})]})}),d.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
        .line-clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
        .line-clamp-3 {
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
        .prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
          color: #fff;
          margin-top: 1.5em;
          margin-bottom: 0.5em;
        }
        .prose strong {
          color: #a855f7;
        }
        .prose ul, .prose ol {
          margin: 1em 0;
        }
        .prose li {
          margin: 0.5em 0;
        }
        .prose a {
          color: #a855f7;
          text-decoration: underline;
        }
        .prose p {
          margin: 1em 0;
          line-height: 1.7;
        }
      `})]})},fD=()=>{const n=[{number:"∞",label:"Potential Connections",icon:Ia},{number:"0",label:"Day One - We Start Here",icon:Ei},{number:"24/7",label:"Knowledge Never Sleeps",icon:Wh},{number:"100%",label:"Authenticity Guaranteed",icon:bu}],e=[{icon:Wh,title:"Expert Mentorship",description:"Connect with industry leaders who guide your journey from beginner to expert",color:"bg-blue-500"},{icon:fI,title:"Mystery Solving",description:"Tackle real-world case studies and unsolved challenges with brilliant minds",color:"bg-yellow-500"},{icon:Jh,title:"Global Network",description:"Access a worldwide community of passionate professionals and innovators",color:"bg-green-500"},{icon:lI,title:"Project Collaboration",description:"Join ambitious projects, earn fees or ESOPs, and build your professional network",color:"bg-purple-500"},{icon:x1,title:"Company Insights",description:"Discover how successful companies operate with verified, authentic information",color:"bg-red-500"},{icon:f6,title:"Niche Communities",description:"Find your tribe in focused chat rooms designed around specific interests and skills",color:"bg-indigo-500"}],t=[{icon:dI,text:"To become the world's most-used platform outside social media and entertainment"},{icon:w1,text:"Where passion meets purpose and knowledge transforms lives"},{icon:Jh,text:"Connecting minds across borders, cultures, and disciplines"},{icon:l6,text:"Accelerating human potential through authentic collaboration"}];return d.jsxs("div",{className:"bg-gray-900 text-white min-h-screen",children:[d.jsx("section",{className:"min-h-screen pt-24 flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:d.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:d.jsxs("div",{className:"text-center max-w-5xl mx-auto",children:[d.jsx("div",{className:"mb-6",children:d.jsx("span",{className:"bg-purple-600 text-white px-4 py-2 rounded-full text-sm font-semibold tracking-wide",children:"🚀 LAUNCHING SOON"})}),d.jsxs("h1",{className:"text-4xl sm:text-6xl lg:text-7xl xl:text-8xl font-bold mb-6 leading-tight",children:["Welcome to",d.jsx("br",{}),d.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Collabria ~ Nexus"})]}),d.jsxs("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-300 mb-12 leading-relaxed max-w-4xl mx-auto",children:["The revolutionary platform where ",d.jsx("span",{className:"text-purple-400 font-semibold",children:"knowledge meets passion"}),",",d.jsx("span",{className:"text-pink-400 font-semibold",children:" experts guide beginners"}),", and",d.jsx("span",{className:"text-cyan-400 font-semibold",children:" global minds collaborate"})," to solve tomorrow's challenges"]}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 sm:gap-6 mb-16",children:[d.jsx("button",{className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg font-bold text-lg hover:from-purple-700 hover:to-pink-700 transform hover:scale-105 transition-all duration-300 shadow-lg",children:d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx(Ei,{}),"Join the Revolution"]})}),d.jsx("button",{className:"px-8 py-4 border-2 border-gray-600 rounded-lg font-bold text-lg hover:bg-gray-800 transition-all duration-300",children:"Learn More"})]}),d.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((s,a)=>d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-6 hover:bg-gray-750 transition-all duration-300",children:[d.jsx(s.icon,{className:"text-3xl text-purple-400 mx-auto mb-3"}),d.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-white",children:s.number}),d.jsx("div",{className:"text-sm text-gray-400 mt-2",children:s.label})]})},a))})]})})}),d.jsx("section",{className:"py-16 lg:py-24 bg-gray-800",children:d.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 text-white",children:"Our Vision"}),d.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto",children:"We're not just building an app — we're crafting the future of human connection and knowledge sharing"})]}),d.jsx("div",{className:"grid sm:grid-cols-2 gap-6 lg:gap-8 mb-16",children:t.map((s,a)=>d.jsxs("div",{className:"flex items-start gap-4 p-6 bg-gray-900 border border-gray-700 rounded-xl hover:bg-gray-850 transition-all duration-300",children:[d.jsx(s.icon,{className:"text-2xl text-purple-400 flex-shrink-0 mt-1"}),d.jsx("p",{className:"text-gray-300 leading-relaxed",children:s.text})]},a))}),d.jsxs("div",{className:"text-center bg-gradient-to-r from-purple-900/50 to-pink-900/50 border border-purple-500/30 rounded-2xl p-8 lg:p-12",children:[d.jsx("h3",{className:"text-2xl lg:text-3xl font-bold mb-4 text-purple-200",children:"The World's Next Essential Platform"}),d.jsxs("p",{className:"text-lg lg:text-xl text-gray-300 leading-relaxed",children:["Beyond social media, beyond entertainment — we're creating the definitive space where",d.jsx("span",{className:"text-purple-400 font-semibold",children:" knowledge, passion, and authentic human connection "}),"converge to accelerate human potential and solve the world's most pressing challenges."]})]})]})})}),d.jsx("section",{className:"py-16 lg:py-24 bg-gray-900",children:d.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 text-white",children:"What Makes Us Different"}),d.jsx("p",{className:"text-lg sm:text-xl text-gray-300",children:"Six pillars that will transform how the world collaborates"})]}),d.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:e.map((s,a)=>d.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl p-8 hover:bg-gray-750 hover:border-gray-600 transition-all duration-300 hover:scale-105",children:[d.jsx("div",{className:`inline-flex p-4 rounded-xl ${s.color} mb-6`,children:d.jsx(s.icon,{className:"text-2xl text-white"})}),d.jsx("h3",{className:"text-xl lg:text-2xl font-bold mb-4 text-white",children:s.title}),d.jsx("p",{className:"text-gray-300 leading-relaxed",children:s.description})]},a))})]})})}),d.jsx("section",{className:"py-16 lg:py-24 bg-gray-800",children:d.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:d.jsx("div",{className:"max-w-6xl mx-auto",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12",children:[d.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl p-8 lg:p-10",children:[d.jsx("h2",{className:"text-2xl lg:text-3xl font-bold mb-6 text-purple-400",children:"Our Mission"}),d.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"To democratize knowledge sharing and create authentic connections between experts and learners worldwide. We believe that everyone has something valuable to teach and something meaningful to learn."}),d.jsxs("ul",{className:"space-y-3 text-gray-400",children:[d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),"Connect passionate minds across the globe"]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),"Verify and authenticate all knowledge shared"]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),"Create opportunities for meaningful collaboration"]})]})]}),d.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl p-8 lg:p-10",children:[d.jsx("h2",{className:"text-2xl lg:text-3xl font-bold mb-6 text-pink-400",children:"Our Values"}),d.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"Built on the foundation of authenticity, accessibility, and human potential. We're creating a platform where knowledge flows freely and connections form naturally."}),d.jsxs("ul",{className:"space-y-3 text-gray-400",children:[d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full"}),"Authenticity in every interaction"]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full"}),"Inclusive and accessible to everyone"]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full"}),"Focused on genuine human connection"]})]})]})]})})})}),d.jsx("section",{className:"py-16 lg:py-24 bg-gray-900",children:d.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:d.jsx("div",{className:"max-w-4xl mx-auto text-center",children:d.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-pink-900/30 border border-purple-500/30 rounded-2xl p-8 lg:p-12",children:[d.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-8 text-white",children:"This Is Just The Beginning"}),d.jsx("p",{className:"text-lg sm:text-xl text-gray-300 mb-8 leading-relaxed",children:"We're starting from zero, but we're thinking infinite. Every great platform began with a vision, a first user, and the courage to reimagine what's possible."}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6 mb-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-5xl lg:text-6xl font-bold text-purple-400 mb-2",children:"Day 0"}),d.jsx("div",{className:"text-gray-400",children:"Where we are"})]}),d.jsx("div",{className:"text-2xl text-gray-500 rotate-90 sm:rotate-0",children:"→"}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-pink-400 mb-2",children:"The Future"}),d.jsx("div",{className:"text-gray-400",children:"Starts now"})]})]}),d.jsx("blockquote",{className:"text-lg lg:text-xl text-gray-400 italic border-l-4 border-purple-500 pl-6",children:'"Every expert was once a beginner. Every pro was once an amateur. Every icon was once an unknown."'})]})})})}),d.jsx("section",{className:"py-16 lg:py-24 bg-gradient-to-r from-purple-900 to-pink-900",children:d.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 text-white",children:"Ready to Shape the Future?"}),d.jsx("p",{className:"text-lg sm:text-xl text-gray-200 mb-12 leading-relaxed",children:"Be among the first to experience the platform that will connect minds, accelerate learning, and transform how the world collaborates"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center mb-8",children:[d.jsx("button",{className:"px-12 py-4 bg-white text-purple-900 rounded-lg font-bold text-lg hover:bg-gray-100 transform hover:scale-105 transition-all duration-300 shadow-lg",children:d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx(Ei,{}),"Get Early Access"]})}),d.jsx("button",{className:"px-12 py-4 border-2 border-white/30 text-white rounded-lg font-bold text-lg hover:bg-white/10 transition-all duration-300",children:"Subscribe for Updates"})]}),d.jsx("div",{className:"text-sm text-gray-300",children:d.jsx("p",{children:"🌟 Join our waitlist and be part of something revolutionary"})})]})})})]})},mD=()=>d.jsxs("div",{className:"bg-[#0f0f1a] text-white min-h-screen py-20 px-6",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-purple-400",children:"Contact Us"}),d.jsx("p",{className:"mt-4 text-gray-300 max-w-2xl mx-auto text-base md:text-lg",children:"Got questions, feedback, or ideas? We’d love to hear from you. Drop us a message and we’ll get back to you as soon as possible."})]}),d.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-2 gap-12 items-start",children:[d.jsxs("form",{className:"bg-[#1d1d2e] p-8 rounded-lg shadow-lg border border-purple-600/30 space-y-6",children:[[{label:"Name",type:"text",placeholder:"Your name"},{label:"Email",type:"email",placeholder:"you@example.com"},{label:"Subject",type:"text",placeholder:"Subject"}].map(({label:n,type:e,placeholder:t},s)=>d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-left text-gray-300 mb-1",children:n}),d.jsx("input",{type:e,placeholder:t,className:"w-full px-4 py-2 rounded-md bg-[#0f0f1a] border border-gray-700 focus:border-purple-500 focus:outline-none text-white text-sm",required:!0})]},s)),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-left text-gray-300 mb-1",children:"Message"}),d.jsx("textarea",{placeholder:"Write your message...",rows:"5",className:"w-full px-4 py-2 rounded-md bg-[#0f0f1a] border border-gray-700 focus:border-purple-500 focus:outline-none text-white text-sm resize-none",required:!0})]}),d.jsx("button",{type:"submit",className:"w-full py-2 bg-gradient-to-r from-pink-500 to-purple-600 rounded-md font-semibold hover:opacity-90 transition",children:"Send Message"})]}),d.jsxs("div",{className:"bg-[#1d1d2e] p-8 rounded-lg shadow-lg border border-purple-600/30 flex flex-col justify-between space-y-6",children:[[{icon:d.jsx(uI,{className:"text-purple-400 text-xl"}),title:"Email",value:"support@mineverse.com"},{icon:d.jsx(pI,{className:"text-purple-400 text-xl"}),title:"Phone",value:"+1 (555) 123-4567"},{icon:d.jsx(mI,{className:"text-purple-400 text-xl"}),title:"Address",value:"123 Crypto Street, Blockchain City, 00000"}].map(({icon:n,title:e,value:t},s)=>d.jsxs("div",{className:"flex items-start space-x-4",children:[n,d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:e}),d.jsx("p",{className:"text-gray-300 text-sm",children:t})]})]},s)),d.jsx("div",{className:"pt-2 border-t border-gray-700 mt-4",children:d.jsx("p",{className:"text-sm text-gray-400",children:"Our support team is available 24/7 to assist you with your mining journey."})})]})]})]}),pD=async n=>{try{const e=gt(ke,"users",n),t=await qn(e);if(!t.exists())return{success:!0,friends:[]};const a=t.data().social?.referredUsers||[];if(a.length===0)return{success:!0,friends:[]};const l=[];for(const u of a){const m=await qn(gt(ke,"users",u));if(m.exists()){const p=m.data();l.push({id:u,name:p.profile?.username||"Unknown",avatar:p.profile?.avatar||`https://api.dicebear.com/7.x/initials/svg?seed=${p.profile?.username}`,mining:p.mining?.isMining||!1,lastActive:p.profile?.lastActive?vD(p.profile.lastActive.toDate()):"Unknown",joined:p.profile?.joined?p.profile.joined.toDate().toLocaleDateString():"Unknown",coinsEarned:p.stats?.totalCoinsEarned||0,level:p.stats?.level||1,streak:p.stats?.currentStreak||0,isVip:p.stats?.isVip||!1})}}return{success:!0,friends:l}}catch(e){return console.error("Error getting referred friends:",e),{success:!1,error:e.message,friends:[]}}},gD=async n=>{try{const e=gt(ke,"users",n),t=await qn(e);if(!t.exists())return{success:!1,error:"User not found"};const s=t.data(),a=s.social?.referredUsers||[];let l=0,u=0,m=0;for(const p of a){const y=await qn(gt(ke,"users",p));if(y.exists()){const x=y.data();l+=x.stats?.totalCoinsEarned||0,x.mining?.isMining&&u++,x.stats?.isVip&&m++}}return{success:!0,stats:{totalFriends:a.length,activeNow:u,networkCoins:l,vipMembers:m,referralCode:s.profile?.referralCode||""}}}catch(e){return console.error("Error getting network stats:",e),{success:!1,error:e.message}}},yD=async(n,e,t)=>{try{return await Pi(e,{message:"👋 You got a poke from a friend! Time to start mining! ⛏️",type:"poke_notification",metadata:{fromUid:n,friendName:t}}),{success:!0,message:`Poked ${t}! They'll get a notification.`}}catch(s){return console.error("Error poking friend:",s),{success:!1,error:s.message}}},vD=n=>{const t=new Date-n,s=Math.floor(t/6e4),a=Math.floor(t/36e5),l=Math.floor(t/864e5);return s<1?"Just now":s<60?`${s} mins ago`:a<24?`${a} hours ago`:l===1?"1 day ago":`${l} days ago`};function xD(){ja();const{currentUser:n,userProfile:e}=Vi(),[t,s]=O.useState(""),[a,l]=O.useState("all"),[u,m]=O.useState(!1),[p,y]=O.useState(!1),[x,w]=O.useState([]),[E,j]=O.useState({totalFriends:0,activeNow:0,networkCoins:0,vipMembers:0,referralCode:""}),[P,z]=O.useState(!0),[B,q]=O.useState(null);O.useEffect(()=>{if(!n){z(!1);return}(async()=>{try{z(!0);const ue=await pD(n.uid);ue.success?w(ue.friends):q(ue.error);const I=await gD(n.uid);I.success&&j(I.stats)}catch(ue){console.error("Error loading friends data:",ue),q("Failed to load friends data")}finally{z(!1)}})()},[n]);const te=async J=>{if(!n)return;const ue=document.getElementById(`friend-${J.id}`);ue&&(ue.classList.add("animate-pulse"),setTimeout(()=>{ue.classList.remove("animate-pulse")},1e3));try{(await yD(n.uid,J.id,J.name)).success?alert(`You poked ${J.name}! 🚀 They'll get a notification to start mining!`):alert("Failed to poke friend. Please try again.")}catch(I){console.error("Error poking friend:",I),alert("Failed to poke friend. Please try again.")}},ee=()=>{const J=e?.profile?.referralCode||E.referralCode;J?(navigator.clipboard.writeText(J),y(!0),setTimeout(()=>y(!1),2e3)):alert("Referral code not available")},de=x.filter(J=>{const ue=J.name.toLowerCase().includes(t.toLowerCase()),I=a==="all"||a==="active"&&J.mining||a==="inactive"&&!J.mining||a==="vip"&&J.isVip;return ue&&I});return n?P?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white pt-20 px-4 sm:px-6 lg:px-12 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-400 mx-auto mb-4"}),d.jsx("p",{className:"text-slate-400",children:"Loading your referral network..."})]})}):d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white pt-20 px-4 sm:px-6 lg:px-12 relative overflow-hidden",children:[d.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[d.jsx("div",{className:"absolute top-32 left-20 w-64 h-64 bg-violet-500/10 rounded-full blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute bottom-32 right-20 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),B&&d.jsx("div",{className:"relative z-10 mb-4 bg-red-500/20 border border-red-500 text-red-300 px-4 py-3 rounded-lg",children:B}),d.jsxs("div",{className:"relative z-10 mb-8",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-violet-400 to-purple-400 bg-clip-text text-transparent mb-2",children:"Your Referral Network 🌐"}),d.jsxs("p",{className:"text-slate-400 flex items-center gap-2",children:[d.jsx(Ia,{className:"text-violet-400"}),"Build your team and earn together"]})]}),d.jsxs("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 rounded-xl font-semibold shadow-lg hover:shadow-violet-500/30 transition-all duration-300 transform hover:scale-105 flex items-center gap-2",children:[d.jsx(xI,{}),"Invite Friends"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[d.jsx("div",{className:"bg-slate-800/60 backdrop-blur-xl border border-violet-500/20 rounded-xl p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-400 text-sm",children:"Total Friends"}),d.jsx("p",{className:"text-2xl font-bold text-violet-400",children:E.totalFriends})]}),d.jsx(Ia,{className:"text-violet-400 text-2xl"})]})}),d.jsx("div",{className:"bg-slate-800/60 backdrop-blur-xl border border-green-500/20 rounded-xl p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-400 text-sm",children:"Active Now"}),d.jsx("p",{className:"text-2xl font-bold text-green-400",children:E.activeNow})]}),d.jsx(vh,{className:"text-green-400 text-2xl"})]})}),d.jsx("div",{className:"bg-slate-800/60 backdrop-blur-xl border border-yellow-500/20 rounded-xl p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-400 text-sm",children:"Network Coins"}),d.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:E.networkCoins.toLocaleString()})]}),d.jsx(x1,{className:"text-yellow-400 text-2xl"})]})}),d.jsx("div",{className:"bg-slate-800/60 backdrop-blur-xl border border-purple-500/20 rounded-xl p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-400 text-sm",children:"VIP Members"}),d.jsx("p",{className:"text-2xl font-bold text-purple-400",children:E.vipMembers})]}),d.jsx(Jo,{className:"text-purple-400 text-2xl"})]})})]})]}),d.jsxs("div",{className:"relative z-10 mb-6 flex flex-col sm:flex-row gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(p6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Search friends...",value:t,onChange:J=>s(J.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-800/60 backdrop-blur-xl border border-violet-500/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 transition-all duration-300"})]}),d.jsxs("select",{value:a,onChange:J=>l(J.target.value),className:"px-4 py-3 bg-slate-800/60 backdrop-blur-xl border border-violet-500/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-violet-500/50 transition-all duration-300",children:[d.jsx("option",{value:"all",children:"All Friends"}),d.jsx("option",{value:"active",children:"Active"}),d.jsx("option",{value:"inactive",children:"Inactive"}),d.jsx("option",{value:"vip",children:"VIP Members"})]})]}),d.jsx("div",{className:"relative z-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-4",children:de.map((J,ue)=>d.jsxs("div",{id:`friend-${J.id}`,className:"group bg-slate-800/60 backdrop-blur-xl border border-violet-500/20 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 transform hover:scale-105 hover:bg-slate-800/80 relative overflow-hidden",style:{animationDelay:`${ue*100}ms`},children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),J.isVip&&d.jsx("div",{className:"absolute top-3 right-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full p-1",children:d.jsx(Jo,{className:"text-white text-xs"})}),d.jsxs("div",{className:"relative z-10 text-center",children:[d.jsxs("div",{className:"relative inline-block mb-4",children:[d.jsx("img",{src:J.avatar,alt:J.name,className:"w-20 h-20 rounded-full border-3 border-violet-400 shadow-lg group-hover:shadow-violet-400/50 transition-all duration-300"}),d.jsx("div",{className:`
                  absolute -bottom-1 -right-1 w-6 h-6 rounded-full border-3 border-slate-800 flex items-center justify-center text-xs
                  ${J.mining?"bg-green-500 animate-pulse":"bg-gray-500"}
                `,children:J.mining?"⚡":"💤"})]}),d.jsx("h2",{className:"text-lg font-bold text-white mb-1 group-hover:text-violet-300 transition-colors",children:J.name}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[d.jsxs("span",{className:"px-2 py-1 bg-violet-600/20 border border-violet-500/30 rounded-full text-xs text-violet-300",children:["Level ",J.level]}),J.streak>0&&d.jsxs("span",{className:"px-2 py-1 bg-orange-600/20 border border-orange-500/30 rounded-full text-xs text-orange-300 flex items-center gap-1",children:[d.jsx(Va,{})," ",J.streak]})]}),J.mining?d.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-400 font-medium mb-3",children:[d.jsx(vh,{className:"text-xs animate-pulse"}),d.jsx("span",{children:"Mining Active"})]}):d.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400 font-medium mb-3",children:[d.jsx(vh,{className:"text-xs"}),d.jsxs("span",{className:"text-xs",children:["Last seen: ",J.lastActive]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-2 mb-4",children:d.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-2",children:[d.jsxs("div",{className:"text-yellow-400 font-bold text-sm",children:["💰 ",J.coinsEarned.toLocaleString()]}),d.jsx("div",{className:"text-xs text-slate-400",children:"Coins Earned"})]})}),d.jsxs("p",{className:"text-xs text-slate-500 mb-4",children:["Joined: ",J.joined]}),d.jsxs("div",{className:"space-y-2",children:[!J.mining&&d.jsxs("button",{onClick:()=>te(J),className:"w-full px-4 py-2 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white rounded-lg flex items-center justify-center gap-2 shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:[d.jsx(Lo,{className:"animate-bounce"}),"Poke to Mine"]}),d.jsxs("button",{disabled:!0,className:"w-full px-4 py-2 bg-slate-700/50 text-white rounded-lg flex items-center justify-center gap-2 cursor-not-allowed border border-slate-600/50",children:[d.jsx(h6,{}),"Send Gift (Coming Soon)"]})]})]})]},J.id))}),de.length===0&&!P&&d.jsxs("div",{className:"relative z-10 text-center py-12",children:[d.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),d.jsx("h3",{className:"text-xl font-semibold text-slate-300 mb-2",children:x.length===0?"No referrals yet":"No friends found"}),d.jsx("p",{className:"text-slate-400 mb-6",children:x.length===0?"Invite friends using your referral code to build your network":"Try adjusting your search or filter criteria"}),x.length===0?d.jsx("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-violet-600 hover:bg-violet-500 rounded-lg text-white transition-all duration-300",children:"Invite Friends"}):d.jsx("button",{onClick:()=>{s(""),l("all")},className:"px-6 py-3 bg-violet-600 hover:bg-violet-500 rounded-lg text-white transition-all duration-300",children:"Clear Filters"})]}),u&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-slate-800 border border-violet-500/30 rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"text-4xl mb-2",children:"🚀"}),d.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Invite Friends"}),d.jsx("p",{className:"text-slate-400",children:"Share your referral code and earn together!"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-violet-500/20",children:[d.jsx("p",{className:"text-sm text-slate-400 mb-2",children:"Your Referral Code"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("code",{className:"text-lg font-bold text-violet-400 bg-slate-800 px-3 py-1 rounded",children:e?.profile?.referralCode||E.referralCode||"Loading..."}),d.jsx("button",{onClick:ee,className:`p-2 rounded-lg transition-all duration-300 ${p?"bg-green-600 text-white":"bg-violet-600 hover:bg-violet-500 text-white"}`,children:p?"✓":d.jsx(cI,{})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:()=>{const ue=`Join me on MineVerse and start earning! Use my referral code: ${e?.profile?.referralCode||E.referralCode}`;navigator.share?navigator.share({text:ue}):(navigator.clipboard.writeText(ue),alert("Referral message copied to clipboard!"))},className:"px-4 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg text-white font-medium transition-all duration-300 flex items-center justify-center gap-2",children:[d.jsx(vI,{}),"Share"]}),d.jsx("button",{onClick:()=>m(!1),className:"px-4 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg text-white font-medium transition-all duration-300",children:"Close"})]})]})]})})]}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white pt-20 px-4 sm:px-6 lg:px-12 flex items-center justify-center",children:d.jsx("div",{className:"text-center",children:d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Please log in to view your referral network"})})})}const _D=(n,e)=>{const t=Rn(ke,"users",n,"activities"),s=Kw(t,PC("timestamp","desc"),VC(10));return _l(s,a=>{const l=a.docs.map(u=>({id:u.id,...u.data()}));e(l)})},bD=n=>({FaCoins:Zh,FaUserFriends:tf,FaTrophy:vr,FaRocket:Ei,FaFire:Va})[n]||Yg;function wD(){const n=ja(),{currentUser:e,userProfile:t,logout:s}=Vi(),[a,l]=O.useState("overview"),[u,m]=O.useState(!1),[p,y]=O.useState([]),[x,w]=O.useState([]),[E,j]=O.useState(!0);O.useEffect(()=>{if(!e){j(!1);return}let A,C;return(async()=>{try{A=_D(e.uid,V=>{y(V)}),C=M7(e.uid,V=>{w(V)}),j(!1)}catch(V){console.error("Error loading profile data:",V),j(!1)}})(),()=>{A&&A(),C&&C()}},[e]),O.useEffect(()=>{t&&j(!1)},[t]);const P=O.useMemo(()=>{const A=t?.stats||{};return{totalCoinsEarned:A.totalCoinsEarned??0,level:A.level??1,currentTier:A.currentTier??"Bronze Miner",nextTier:A.nextTier??"Silver Miner",tierProgress:Math.min(Math.max(A.tierProgress??0,0),100),currentStreak:A.currentStreak??0,totalMined:A.totalMined??0,rank:A.rank??"#0",isVip:A.isVip??!1}},[t]),z=O.useMemo(()=>{const A=t?.profile||{};return{username:A.username??"User",name:A.name??A.username??"User",email:A.email??"",avatar:A.avatar??"",referralCode:A.referralCode??"",joined:A.joined??new Date,lastActive:A.lastActive??new Date}},[t]),B=O.useMemo(()=>({totalReferrals:t?.social?.totalReferrals??0}),[t]),q=O.useMemo(()=>({isMining:t?.mining?.isMining??!1,totalMiningSessions:t?.mining?.totalMiningSessions??0}),[t]);if(!e)return d.jsx("div",{className:"min-h-screen pt-24 flex items-center justify-center bg-gradient-to-br from-slate-900 via-violet-900/40 to-slate-900 text-white",children:d.jsxs("div",{className:"text-center bg-slate-800/40 border border-violet-500/30 rounded-2xl p-10 max-w-md w-full",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-violet-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(tf,{className:"text-2xl text-white"})}),d.jsx("p",{className:"text-violet-300 mb-6 text-lg font-semibold",children:"Please log in to view profile"}),d.jsx("button",{onClick:()=>n("/login"),className:"px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 rounded-xl font-bold text-white shadow-lg transition-all",children:"Go to Login"})]})});if(E||!t)return d.jsx("div",{className:"min-h-screen pt-24 flex items-center justify-center bg-gradient-to-br from-slate-900 via-violet-900/40 to-slate-900 text-white",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-transparent border-t-violet-400 border-r-purple-400 mx-auto mb-6"}),d.jsx("p",{className:"text-slate-300 text-lg font-semibold mb-1",children:"Loading profile..."}),d.jsx("p",{className:"text-slate-500 text-sm",children:"Fetching user data"})]})});const te=()=>{if(!z.referralCode){alert("Referral code not available yet. Please try again in a moment.");return}const A=`${window.location.origin}/signup?ref=${z.referralCode}`;navigator.clipboard.writeText(A),alert("Referral link copied!")},ee=async()=>{try{typeof s=="function"?await s():await F7(),n("/login")}catch(A){console.error("Error logging out:",A),alert("Failed to logout. Please try again.")}},de=()=>z.avatar?z.avatar:`https://api.dicebear.com/7.x/initials/svg?seed=${z.username}&backgroundColor=6366f1&fontSize=40`,J=A=>(A?.seconds?new Date(A.seconds*1e3):new Date(A)).toLocaleDateString("en-US",{month:"long",year:"numeric"}),ue=A=>{const C=A?.seconds?new Date(A.seconds*1e3):new Date(A),V=new Date().getTime()-C.getTime(),D=Math.floor(V/6e4),ge=Math.floor(V/36e5),he=Math.floor(V/864e5);return D<1?"Just now":D<60?`${D} mins ago`:ge<24?`${ge} hours ago`:`${he} days ago`},I=({id:A,label:C,isActive:k,onClick:V,Icon:D})=>d.jsxs("button",{onClick:()=>V(A),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${k?"bg-violet-600 text-white":"text-violet-300 hover:bg-violet-500/20"} flex items-center gap-2`,children:[D&&d.jsx(D,{}),C]}),T=({Icon:A,value:C,label:k,accent:V="from-violet-500/20 to-purple-500/20"})=>d.jsxs("div",{className:"bg-slate-800/60 border border-violet-500/20 rounded-2xl p-6 hover:bg-slate-800/70 transition-all",children:[d.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${V} flex items-center justify-center mb-4`,children:d.jsx(A,{className:"text-white"})}),d.jsx("div",{className:"text-2xl font-bold text-white",children:typeof C=="number"?C.toLocaleString():C}),d.jsx("div",{className:"text-slate-400 text-xs mt-1",children:k})]});return d.jsx("div",{className:"min-h-screen pt-24 bg-gradient-to-br from-slate-900 via-violet-900/40 to-slate-900 text-white",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("button",{onClick:()=>n(-1),className:"flex items-center gap-2 px-4 py-2 rounded-xl border border-violet-500/20 bg-slate-800/60 text-violet-300 hover:text-white hover:bg-slate-800/80 transition",children:[d.jsx(a6,{className:"text-sm"})," Back"]}),d.jsxs("div",{className:"relative",children:[d.jsx("button",{onClick:()=>m(!u),className:"p-3 rounded-xl border border-violet-500/20 bg-slate-800/60 text-violet-300 hover:text-white hover:bg-slate-800/80 transition",children:d.jsx(b1,{})}),u&&d.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-slate-900 border border-violet-500/20 rounded-xl shadow-xl z-10",children:[d.jsx("button",{onClick:ee,className:"w-full text-left px-4 py-3 rounded-t-xl hover:bg-red-500/20 text-white",children:"Logout"}),d.jsx("button",{onClick:()=>m(!1),className:"w-full text-left px-4 py-3 rounded-b-xl hover:bg-slate-800 text-violet-300",children:"Close"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8 items-start",children:[d.jsxs("div",{className:"lg:col-span-1 bg-slate-800/60 border border-violet-500/20 rounded-2xl p-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("img",{src:de(),alt:z.name,className:"w-20 h-20 rounded-full border-2 border-violet-500/40 object-cover"}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h1",{className:"text-2xl font-bold",children:z.name}),P.isVip&&d.jsx(Jo,{className:"text-yellow-400"})]}),d.jsxs("div",{className:"text-violet-300 text-sm",children:["@",z.username]}),d.jsx("div",{className:"text-slate-400 text-xs mt-1",children:z.email})]})]}),d.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[d.jsxs("span",{className:"text-xs px-2 py-1 rounded-lg bg-violet-500/20 text-violet-300 border border-violet-500/30",children:["Level ",P.level]}),d.jsx("span",{className:"text-xs px-2 py-1 rounded-lg bg-slate-700/50 text-slate-300 border border-slate-600/50",children:P.currentTier})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("div",{className:"w-full bg-slate-700/50 rounded-full h-2",children:d.jsx("div",{className:"bg-gradient-to-r from-violet-500 to-pink-500 h-2 rounded-full",style:{width:`${P.tierProgress}%`}})}),d.jsxs("div",{className:"text-right text-xs text-slate-400 mt-1",children:[P.tierProgress,"% to ",P.nextTier]})]}),d.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400",children:[d.jsx(aI,{className:"text-violet-400"}),"Member since ",J(z.joined)]}),d.jsx("div",{className:"mt-4",children:d.jsxs("button",{onClick:te,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-xl bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 border border-white/10",children:[d.jsx($_,{})," Share Referral Link"]})})]}),d.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 sm:grid-cols-3 gap-6",children:[d.jsx(T,{Icon:Va,value:P.currentStreak,label:"Day Streak",accent:"from-orange-400/30 to-amber-400/30"}),d.jsx(T,{Icon:vr,value:P.rank,label:"Global Rank",accent:"from-yellow-400/30 to-orange-400/30"}),d.jsx(T,{Icon:Ei,value:q.totalMiningSessions,label:"Sessions",accent:"from-blue-400/30 to-cyan-400/30"})]})]}),d.jsx("div",{className:"flex items-center justify-center mb-6",children:d.jsxs("div",{className:"bg-slate-800/60 border border-violet-500/20 rounded-xl p-1 flex gap-1",children:[d.jsx(I,{id:"overview",label:"Overview",Icon:Zh,isActive:a==="overview",onClick:l}),d.jsx(I,{id:"activity",label:"Activity",Icon:Yg,isActive:a==="activity",onClick:l}),d.jsx(I,{id:"badges",label:"Badges",Icon:qo,isActive:a==="badges",onClick:l})]})}),a==="overview"&&d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[d.jsx(T,{Icon:Zh,value:P.totalCoinsEarned,label:"Total Coins Earned",accent:"from-yellow-500/20 to-orange-500/20"}),d.jsx(T,{Icon:tf,value:B.totalReferrals,label:"Friends Referred",accent:"from-blue-500/20 to-cyan-500/20"}),d.jsx(T,{Icon:$_,value:z.referralCode||"—",label:"Referral Code",accent:"from-pink-500/20 to-rose-500/20"})]}),a==="activity"&&d.jsx("div",{className:"space-y-4",children:p.length>0?p.map((A,C)=>{const k=bD(A.icon);return d.jsx("div",{className:"bg-slate-800/60 border border-violet-500/20 rounded-2xl p-4",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-violet-500/20 flex items-center justify-center",children:d.jsx(k,{className:"text-violet-400"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-white truncate",children:A.title}),d.jsx("div",{className:"text-slate-400 text-xs truncate",children:A.description})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-violet-300 font-semibold",children:["+",A.coinsEarned," coins"]}),d.jsx("div",{className:"text-slate-500 text-xs",children:ue(A.timestamp)})]})]})},A.id||C)}):d.jsxs("div",{className:"text-center py-12 bg-slate-800/40 border border-violet-500/20 rounded-2xl",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-700/50 flex items-center justify-center mx-auto mb-4",children:d.jsx(Yg,{className:"text-slate-400 text-2xl"})}),d.jsx("div",{className:"text-slate-300 font-semibold",children:"No Recent Activity"}),d.jsx("div",{className:"text-slate-500 text-sm",children:"Start mining, referring friends, or completing tasks to see your activity here!"})]})}),a==="badges"&&d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:x.length>0?x.map((A,C)=>d.jsxs("div",{className:"bg-slate-800/60 border border-violet-500/20 rounded-2xl p-6 text-center",children:[d.jsx("div",{className:"w-14 h-14 rounded-full bg-yellow-500/20 border border-yellow-500/30 flex items-center justify-center mx-auto mb-3",children:d.jsx(qo,{className:"text-yellow-400 text-2xl"})}),d.jsx("div",{className:"font-bold text-white",children:A.name}),d.jsx("div",{className:"text-slate-400 text-sm mb-2",children:A.description}),d.jsx("div",{className:"text-xs text-violet-400 bg-violet-500/10 px-2 py-1 rounded-full inline-block",children:A.isEarned?`Earned ${ue(A.earnedAt)}`:`${Math.round(A.progress||0)}%`})]},A.id||C)):d.jsxs("div",{className:"text-center py-12 bg-slate-800/40 border border-violet-500/20 rounded-2xl col-span-full",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-700/50 flex items-center justify-center mx-auto mb-4",children:d.jsx(qo,{className:"text-slate-400 text-2xl"})}),d.jsx("div",{className:"text-slate-300 font-semibold",children:"No Badges Yet"}),d.jsx("div",{className:"text-slate-500 text-sm",children:"Complete achievements and milestones to earn your first badge!"})]})})]})})}function ED(){const n=ja();return d.jsxs("div",{className:"min-h-screen bg-[#0f0f1a] text-white flex items-center justify-center px-4 py-20",children:[d.jsxs("div",{className:"max-w-3xl w-full bg-gradient-to-b from-[#0f1016]/60 via-[#12121b]/60 to-[#0f0f14]/60 border border-violet-400/10 rounded-2xl shadow-2xl p-8 relative overflow-hidden",children:[d.jsx("div",{className:"absolute -left-20 -top-20 w-72 h-72 rounded-full bg-violet-600/10 blur-3xl animate-blob"}),d.jsx("div",{className:"absolute -right-28 -bottom-24 w-96 h-96 rounded-full bg-pink-500/6 blur-3xl animate-blob animation-delay-2000"}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center gap-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"rounded-full bg-gradient-to-tr from-pink-500 to-violet-600 p-4 shadow-xl",children:d.jsx(l6,{className:"text-white text-2xl"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight text-white",children:"Work in Progress"})]}),d.jsx("p",{className:"max-w-2xl text-gray-300 text-sm md:text-base leading-relaxed",children:"We’re forging something shiny behind the scenes — features that make mining smoother, smarter, and more fun. Hang tight, miner. Good things take time... and a little bit of ⚡ magic."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-2",children:[d.jsxs("button",{onClick:()=>n(-1),className:"flex items-center gap-2 justify-center px-5 py-2 rounded-lg bg-violet-600 hover:bg-violet-500 transition shadow",children:[d.jsx(a6,{})," Back"]}),d.jsxs(Lr,{to:"/dashboard",className:"flex items-center gap-2 justify-center px-5 py-2 rounded-lg bg-transparent border border-violet-600 text-violet-300 hover:bg-violet-600/10 transition shadow",children:[d.jsx(E1,{})," Go to Dashboard"]})]}),d.jsx("div",{className:"mt-4 text-xs text-gray-500",children:"Want updates? We can add an email subscribe soon — tell me if you want that."})]})]}),d.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px,0px) scale(1); }
          33% { transform: translate(30px,-20px) scale(1.05); }
          66% { transform: translate(-20px,20px) scale(0.95); }
          100% { transform: translate(0px,0px) scale(1); }
        }
        .animate-blob { animation: blob 6s infinite ease-in-out; }
        .animation-delay-2000 { animation-delay: 2s; }
      `})]})}const db=n=>String(n||"").toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-");function TD(){const[n,e]=O.useState(""),[t,s]=O.useState(""),[a,l]=O.useState("Editorial Team"),[u,m]=O.useState("General"),[p,y]=O.useState(""),[x,w]=O.useState(""),[E,j]=O.useState(""),[P,z]=O.useState(""),[B,q]=O.useState("published"),[te,ee]=O.useState(!1),[de,J]=O.useState(!1),[ue,I]=O.useState(null),T=O.useMemo(()=>db(n),[n]),A=async C=>{C.preventDefault(),I(null);const k=n.trim(),V=E.trim();if(!k||!V){I({type:"error",message:"Title and Content are required."});return}const D=t.trim()||T,ge=db(D)||void 0,he=P.split(",").map(W=>W.trim()).filter(W=>W.length>0),L={title:k,slug:ge,author:a.trim()||"Editorial Team",category:u.trim()||"General",imageUrl:p.trim()||"",excerpt:x.trim(),content:V,status:B==="draft"?"draft":"published",featured:!!te,tags:he,createdAt:Jt(),updatedAt:Jt(),publishedAt:B==="published"?Jt():null};try{J(!0),await Mf(Rn(ke,"Blogs"),L),I({type:"success",message:"Blog post created successfully."}),e(""),s(""),y(""),w(""),j(""),z(""),ee(!1),q("published")}catch(W){console.error("Error creating blog:",W),I({type:"error",message:W?.message||"Failed to create blog."})}finally{J(!1)}};return d.jsx("div",{className:"min-h-screen pt-24 px-4 md:px-6 lg:px-8 bg-[#0f0f1a] text-white",children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create Blog Post"}),d.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Basic admin form to publish or save draft blog posts into Firestore (collection: ",d.jsx("code",{children:"Blogs"}),")."]}),ue&&d.jsx("div",{className:`mb-4 px-3 py-2 rounded ${ue.type==="success"?"bg-green-600/20 text-green-300":"bg-red-600/20 text-red-300"}`,children:ue.message}),d.jsxs("form",{onSubmit:A,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1",children:"Title *"}),d.jsx("input",{type:"text",value:n,onChange:C=>e(C.target.value),className:"w-full bg-[#1d1d2e] border border-[#2b2b46] rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-600",placeholder:"Enter title",required:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1",children:"Slug"}),d.jsx("input",{type:"text",value:t,onChange:C=>s(C.target.value),className:"w-full bg-[#1d1d2e] border border-[#2b2b46] rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-600",placeholder:T||"auto-generated from title"}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Auto: ",T||""]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1",children:"Author"}),d.jsx("input",{type:"text",value:a,onChange:C=>l(C.target.value),className:"w-full bg-[#1d1d2e] border border-[#2b2b46] rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-600",placeholder:"Editorial Team"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1",children:"Category"}),d.jsx("input",{type:"text",value:u,onChange:C=>m(C.target.value),className:"w-full bg-[#1d1d2e] border border-[#2b2b46] rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-600",placeholder:"e.g., Education, Market Insights, Security"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1",children:"Image URL"}),d.jsx("input",{type:"url",value:p,onChange:C=>y(C.target.value),className:"w-full bg-[#1d1d2e] border border-[#2b2b46] rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-600",placeholder:"https://..."})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1",children:"Excerpt"}),d.jsx("textarea",{value:x,onChange:C=>w(C.target.value),className:"w-full bg-[#1d1d2e] border border-[#2b2b46] rounded px-3 py-2 text-sm h-24 focus:outline-none focus:ring-2 focus:ring-purple-600",placeholder:"Short summary for the card"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1",children:"Content *"}),d.jsx("textarea",{value:E,onChange:C=>j(C.target.value),className:"w-full bg-[#1d1d2e] border border-[#2b2b46] rounded px-3 py-2 text-sm h-64 focus:outline-none focus:ring-2 focus:ring-purple-600",placeholder:"Full article content",required:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1",children:"Tags (comma separated)"}),d.jsx("input",{type:"text",value:P,onChange:C=>z(C.target.value),className:"w-full bg-[#1d1d2e] border border-[#2b2b46] rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-600",placeholder:"e.g., crypto, mining, guide"})]}),d.jsxs("div",{className:"flex items-end gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm mb-1",children:"Status"}),d.jsxs("select",{value:B,onChange:C=>q(C.target.value),className:"w-full bg-[#1d1d2e] border border-[#2b2b46] rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-600",children:[d.jsx("option",{value:"published",children:"Published"}),d.jsx("option",{value:"draft",children:"Draft"})]})]}),d.jsxs("label",{className:"inline-flex items-center gap-2 mb-2",children:[d.jsx("input",{type:"checkbox",checked:te,onChange:C=>ee(C.target.checked)}),d.jsx("span",{className:"text-sm",children:"Featured"})]})]})]}),d.jsx("div",{className:"pt-2",children:d.jsx("button",{type:"submit",disabled:de,className:`px-5 py-2 rounded-md text-sm font-medium ${de?"bg-gray-600 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"}`,children:de?"Submitting...":"Submit"})})]}),d.jsx("div",{className:"mt-8 text-xs text-gray-500",children:d.jsx("p",{children:"Fields stored to Firestore (collection: Blogs): title, slug, author, category, imageUrl, excerpt, content, status, featured, tags, createdAt, updatedAt, publishedAt."})})]})})}const yg=({children:n})=>{const[e,t]=O.useState(null),[s,a]=O.useState(!0);return O.useEffect(()=>v1(async u=>{t(!!u),a(!1)}),[]),s?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),d.jsx("p",{className:"text-textMuted",children:"Loading..."})]})}):e?n:d.jsx(u0,{to:"/login",replace:!0})},hb=({children:n})=>{const[e,t]=O.useState(null),[s,a]=O.useState(!0);return O.useEffect(()=>v1(u=>{t(!!u),a(!1)}),[]),s?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),d.jsx("p",{className:"text-textMuted",children:"Loading..."})]})}):e?d.jsx(u0,{to:"/dashboard",replace:!0}):n};function SD(){return d.jsx(NI,{children:d.jsxs(_5,{basename:"/CollabriaNexus",children:[d.jsx(wI,{}),d.jsxs(WT,{children:[d.jsx(Ln,{path:"/",element:d.jsx(_I,{})}),d.jsx(Ln,{path:"/blog",element:d.jsx(hD,{})}),d.jsx(Ln,{path:"/about",element:d.jsx(fD,{})}),d.jsx(Ln,{path:"/contact",element:d.jsx(mD,{})}),d.jsx(Ln,{path:"/work-in-progress",element:d.jsx(ED,{})}),d.jsx(Ln,{path:"/admin/blog",element:d.jsx(TD,{})}),d.jsx(Ln,{path:"/login",element:d.jsx(hb,{children:d.jsx(H7,{onLogin:()=>{}})})}),d.jsx(Ln,{path:"/signup",element:d.jsx(hb,{children:d.jsx(q7,{onSignUp:()=>{}})})}),d.jsx(Ln,{path:"/dashboard",element:d.jsx(yg,{children:d.jsx(uD,{})})}),d.jsx(Ln,{path:"/friends",element:d.jsx(yg,{children:d.jsx(xD,{})})}),d.jsx(Ln,{path:"/profile",element:d.jsx(yg,{children:d.jsx(wD,{})})}),d.jsx(Ln,{path:"*",element:d.jsx(u0,{to:"/",replace:!0})})]}),d.jsx(EI,{})]})})}AE.createRoot(document.getElementById("root")).render(d.jsx(Nn.StrictMode,{children:d.jsx(SD,{})}));
