(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function s0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Fp={exports:{}},Ac={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2;function hE(){if(F2)return Ac;F2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:n,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Ac.Fragment=e,Ac.jsx=t,Ac.jsxs=t,Ac}var q2;function fE(){return q2||(q2=1,Fp.exports=hE()),Fp.exports}var h=fE(),qp={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2;function mE(){if(H2)return De;H2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.iterator;function E(C){return C===null||typeof C!="object"?null:(C=_&&C[_]||C["@@iterator"],typeof C=="function"?C:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,F={};function z(C,J,de){this.props=C,this.context=J,this.refs=F,this.updater=de||D}z.prototype.isReactComponent={},z.prototype.setState=function(C,J){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,J,"setState")},z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function $(){}$.prototype=z.prototype;function re(C,J,de){this.props=C,this.context=J,this.refs=F,this.updater=de||D}var ne=re.prototype=new $;ne.constructor=re,P(ne,z.prototype),ne.isPureReactComponent=!0;var he=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function R(C,J,de,le,ye,Ee){return de=Ee.ref,{$$typeof:n,type:C,key:J,ref:de!==void 0?de:null,props:Ee}}function A(C,J){return R(C.type,J,void 0,void 0,void 0,C.props)}function k(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function O(C){var J={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(de){return J[de]})}var M=/\/+/g;function U(C,J){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):J.toString(36)}function N(){}function me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(N,N):(C.status="pending",C.then(function(J){C.status==="pending"&&(C.status="fulfilled",C.value=J)},function(J){C.status==="pending"&&(C.status="rejected",C.reason=J)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function W(C,J,de,le,ye){var Ee=typeof C;(Ee==="undefined"||Ee==="boolean")&&(C=null);var xe=!1;if(C===null)xe=!0;else switch(Ee){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(C.$$typeof){case n:case e:xe=!0;break;case b:return xe=C._init,W(xe(C._payload),J,de,le,ye)}}if(xe)return ye=ye(C),xe=le===""?"."+U(C,0):le,he(ye)?(de="",xe!=null&&(de=xe.replace(M,"$&/")+"/"),W(ye,J,de,"",function(lt){return lt})):ye!=null&&(k(ye)&&(ye=A(ye,de+(ye.key==null||C&&C.key===ye.key?"":(""+ye.key).replace(M,"$&/")+"/")+xe)),J.push(ye)),1;xe=0;var Ke=le===""?".":le+":";if(he(C))for(var Oe=0;Oe<C.length;Oe++)le=C[Oe],Ee=Ke+U(le,Oe),xe+=W(le,J,de,Ee,ye);else if(Oe=E(C),typeof Oe=="function")for(C=Oe.call(C),Oe=0;!(le=C.next()).done;)le=le.value,Ee=Ke+U(le,Oe++),xe+=W(le,J,de,Ee,ye);else if(Ee==="object"){if(typeof C.then=="function")return W(me(C),J,de,le,ye);throw J=String(C),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return xe}function I(C,J,de){if(C==null)return C;var le=[],ye=0;return W(C,le,"","",function(Ee){return J.call(de,Ee,ye++)}),le}function Y(C){if(C._status===-1){var J=C._result;J=J(),J.then(function(de){(C._status===0||C._status===-1)&&(C._status=1,C._result=de)},function(de){(C._status===0||C._status===-1)&&(C._status=2,C._result=de)}),C._status===-1&&(C._status=0,C._result=J)}if(C._status===1)return C._result.default;throw C._result}var ee=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function fe(){}return De.Children={map:I,forEach:function(C,J,de){I(C,function(){J.apply(this,arguments)},de)},count:function(C){var J=0;return I(C,function(){J++}),J},toArray:function(C){return I(C,function(J){return J})||[]},only:function(C){if(!k(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},De.Component=z,De.Fragment=t,De.Profiler=o,De.PureComponent=re,De.StrictMode=s,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,De.__COMPILER_RUNTIME={__proto__:null,c:function(C){return te.H.useMemoCache(C)}},De.cache=function(C){return function(){return C.apply(null,arguments)}},De.cloneElement=function(C,J,de){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var le=P({},C.props),ye=C.key,Ee=void 0;if(J!=null)for(xe in J.ref!==void 0&&(Ee=void 0),J.key!==void 0&&(ye=""+J.key),J)!ue.call(J,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&J.ref===void 0||(le[xe]=J[xe]);var xe=arguments.length-2;if(xe===1)le.children=de;else if(1<xe){for(var Ke=Array(xe),Oe=0;Oe<xe;Oe++)Ke[Oe]=arguments[Oe+2];le.children=Ke}return R(C.type,ye,void 0,void 0,Ee,le)},De.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},De.createElement=function(C,J,de){var le,ye={},Ee=null;if(J!=null)for(le in J.key!==void 0&&(Ee=""+J.key),J)ue.call(J,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=J[le]);var xe=arguments.length-2;if(xe===1)ye.children=de;else if(1<xe){for(var Ke=Array(xe),Oe=0;Oe<xe;Oe++)Ke[Oe]=arguments[Oe+2];ye.children=Ke}if(C&&C.defaultProps)for(le in xe=C.defaultProps,xe)ye[le]===void 0&&(ye[le]=xe[le]);return R(C,Ee,void 0,void 0,null,ye)},De.createRef=function(){return{current:null}},De.forwardRef=function(C){return{$$typeof:m,render:C}},De.isValidElement=k,De.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:Y}},De.memo=function(C,J){return{$$typeof:y,type:C,compare:J===void 0?null:J}},De.startTransition=function(C){var J=te.T,de={};te.T=de;try{var le=C(),ye=te.S;ye!==null&&ye(de,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(fe,ee)}catch(Ee){ee(Ee)}finally{te.T=J}},De.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},De.use=function(C){return te.H.use(C)},De.useActionState=function(C,J,de){return te.H.useActionState(C,J,de)},De.useCallback=function(C,J){return te.H.useCallback(C,J)},De.useContext=function(C){return te.H.useContext(C)},De.useDebugValue=function(){},De.useDeferredValue=function(C,J){return te.H.useDeferredValue(C,J)},De.useEffect=function(C,J,de){var le=te.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(C,J)},De.useId=function(){return te.H.useId()},De.useImperativeHandle=function(C,J,de){return te.H.useImperativeHandle(C,J,de)},De.useInsertionEffect=function(C,J){return te.H.useInsertionEffect(C,J)},De.useLayoutEffect=function(C,J){return te.H.useLayoutEffect(C,J)},De.useMemo=function(C,J){return te.H.useMemo(C,J)},De.useOptimistic=function(C,J){return te.H.useOptimistic(C,J)},De.useReducer=function(C,J,de){return te.H.useReducer(C,J,de)},De.useRef=function(C){return te.H.useRef(C)},De.useState=function(C){return te.H.useState(C)},De.useSyncExternalStore=function(C,J,de){return te.H.useSyncExternalStore(C,J,de)},De.useTransition=function(){return te.H.useTransition()},De.version="19.1.0",De}var $2;function a0(){return $2||($2=1,qp.exports=mE()),qp.exports}var L=a0();const Zt=s0(L);var Hp={exports:{}},Nc={},$p={exports:{}},Gp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G2;function pE(){return G2||(G2=1,function(n){function e(I,Y){var ee=I.length;I.push(Y);e:for(;0<ee;){var fe=ee-1>>>1,C=I[fe];if(0<o(C,Y))I[fe]=Y,I[ee]=C,ee=fe;else break e}}function t(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var Y=I[0],ee=I.pop();if(ee!==Y){I[0]=ee;e:for(var fe=0,C=I.length,J=C>>>1;fe<J;){var de=2*(fe+1)-1,le=I[de],ye=de+1,Ee=I[ye];if(0>o(le,ee))ye<C&&0>o(Ee,le)?(I[fe]=Ee,I[ye]=ee,fe=ye):(I[fe]=le,I[de]=ee,fe=de);else if(ye<C&&0>o(Ee,ee))I[fe]=Ee,I[ye]=ee,fe=ye;else break e}}return Y}function o(I,Y){var ee=I.sortIndex-Y.sortIndex;return ee!==0?ee:I.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();n.unstable_now=function(){return d.now()-m}}var g=[],y=[],b=1,_=null,E=3,D=!1,P=!1,F=!1,z=!1,$=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function he(I){for(var Y=t(y);Y!==null;){if(Y.callback===null)s(y);else if(Y.startTime<=I)s(y),Y.sortIndex=Y.expirationTime,e(g,Y);else break;Y=t(y)}}function te(I){if(F=!1,he(I),!P)if(t(g)!==null)P=!0,ue||(ue=!0,U());else{var Y=t(y);Y!==null&&W(te,Y.startTime-I)}}var ue=!1,R=-1,A=5,k=-1;function O(){return z?!0:!(n.unstable_now()-k<A)}function M(){if(z=!1,ue){var I=n.unstable_now();k=I;var Y=!0;try{e:{P=!1,F&&(F=!1,re(R),R=-1),D=!0;var ee=E;try{t:{for(he(I),_=t(g);_!==null&&!(_.expirationTime>I&&O());){var fe=_.callback;if(typeof fe=="function"){_.callback=null,E=_.priorityLevel;var C=fe(_.expirationTime<=I);if(I=n.unstable_now(),typeof C=="function"){_.callback=C,he(I),Y=!0;break t}_===t(g)&&s(g),he(I)}else s(g);_=t(g)}if(_!==null)Y=!0;else{var J=t(y);J!==null&&W(te,J.startTime-I),Y=!1}}break e}finally{_=null,E=ee,D=!1}Y=void 0}}finally{Y?U():ue=!1}}}var U;if(typeof ne=="function")U=function(){ne(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,me=N.port2;N.port1.onmessage=M,U=function(){me.postMessage(null)}}else U=function(){$(M,0)};function W(I,Y){R=$(function(){I(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(I){switch(E){case 1:case 2:case 3:var Y=3;break;default:Y=E}var ee=E;E=Y;try{return I()}finally{E=ee}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(I,Y){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ee=E;E=I;try{return Y()}finally{E=ee}},n.unstable_scheduleCallback=function(I,Y,ee){var fe=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?fe+ee:fe):ee=fe,I){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ee+C,I={id:b++,callback:Y,priorityLevel:I,startTime:ee,expirationTime:C,sortIndex:-1},ee>fe?(I.sortIndex=ee,e(y,I),t(g)===null&&I===t(y)&&(F?(re(R),R=-1):F=!0,W(te,ee-fe))):(I.sortIndex=C,e(g,I),P||D||(P=!0,ue||(ue=!0,U()))),I},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(I){var Y=E;return function(){var ee=E;E=Y;try{return I.apply(this,arguments)}finally{E=ee}}}}(Gp)),Gp}var Y2;function gE(){return Y2||(Y2=1,$p.exports=pE()),$p.exports}var Yp={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2;function yE(){if(K2)return un;K2=1;var n=a0();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:g,containerInfo:y,implementation:b}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,b)},un.flushSync=function(g){var y=d.T,b=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=y,s.p=b,s.d.f()}},un.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},un.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},un.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,_=m(b,y.crossOrigin),E=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:D}):b==="script"&&s.d.X(g,{crossOrigin:_,integrity:E,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},un.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},un.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,_=m(b,y.crossOrigin);s.d.L(g,b,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},un.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},un.requestFormReset=function(g){s.d.r(g)},un.unstable_batchedUpdates=function(g,y){return g(y)},un.useFormState=function(g,y,b){return d.H.useFormState(g,y,b)},un.useFormStatus=function(){return d.H.useHostTransitionStatus()},un.version="19.1.0",un}var Q2;function vE(){if(Q2)return Yp.exports;Q2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yp.exports=yE(),Yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2;function bE(){if(X2)return Nc;X2=1;var n=gE(),e=a0(),t=vE();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function d(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function m(r){if(c(r)!==r)throw Error(s(188))}function g(r){var i=r.alternate;if(!i){if(i=c(r),i===null)throw Error(s(188));return i!==r?null:r}for(var a=r,l=i;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return m(f),r;if(p===l)return m(f),i;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=p;else{for(var w=!1,T=f.child;T;){if(T===a){w=!0,a=f,l=p;break}if(T===l){w=!0,l=f,a=p;break}T=T.sibling}if(!w){for(T=p.child;T;){if(T===a){w=!0,a=p,l=f;break}if(T===l){w=!0,l=p,a=f;break}T=T.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function me(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case z:return"Profiler";case F:return"StrictMode";case te:return"Suspense";case ue:return"SuspenseList";case k:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case ne:return(r.displayName||"Context")+".Provider";case re:return(r._context.displayName||"Context")+".Consumer";case he:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return i=r.displayName||null,i!==null?i:me(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return me(r(i))}catch{}}return null}var W=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},fe=[],C=-1;function J(r){return{current:r}}function de(r){0>C||(r.current=fe[C],fe[C]=null,C--)}function le(r,i){C++,fe[C]=r.current,r.current=i}var ye=J(null),Ee=J(null),xe=J(null),Ke=J(null);function Oe(r,i){switch(le(xe,i),le(Ee,r),le(ye,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?g2(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=g2(i),r=y2(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}de(ye),le(ye,r)}function lt(){de(ye),de(Ee),de(xe)}function at(r){r.memoizedState!==null&&le(Ke,r);var i=ye.current,a=y2(i,r.type);i!==a&&(le(Ee,r),le(ye,a))}function yt(r){Ee.current===r&&(de(ye),de(Ee)),Ke.current===r&&(de(Ke),wc._currentValue=ee)}var wt=Object.prototype.hasOwnProperty,Bn=n.unstable_scheduleCallback,Ls=n.unstable_cancelCallback,vl=n.unstable_shouldYield,Tu=n.unstable_requestPaint,Fn=n.unstable_now,Ff=n.unstable_getCurrentPriorityLevel,bl=n.unstable_ImmediatePriority,za=n.unstable_UserBlockingPriority,Us=n.unstable_NormalPriority,qf=n.unstable_LowPriority,Ba=n.unstable_IdlePriority,xl=n.log,Su=n.unstable_setDisableYieldValue,_t=null,Je=null;function Cn(r){if(typeof xl=="function"&&Su(r),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(_t,r)}catch{}}var ln=Math.clz32?Math.clz32:zs,Au=Math.log,Hf=Math.LN2;function zs(r){return r>>>=0,r===0?32:31-(Au(r)/Hf|0)|0}var Bs=256,Fs=4194304;function ir(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Fa(r,i,a){var l=r.pendingLanes;if(l===0)return 0;var f=0,p=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var T=l&134217727;return T!==0?(l=T&~p,l!==0?f=ir(l):(w&=T,w!==0?f=ir(w):a||(a=T&~r,a!==0&&(f=ir(a))))):(T=l&~p,T!==0?f=ir(T):w!==0?f=ir(w):a||(a=l&~r,a!==0&&(f=ir(a)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,a=i&-i,p>=a||p===32&&(a&4194048)!==0)?i:f}function qs(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function wl(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _l(){var r=Bs;return Bs<<=1,(Bs&4194048)===0&&(Bs=256),r}function El(){var r=Fs;return Fs<<=1,(Fs&62914560)===0&&(Fs=4194304),r}function Wr(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Zr(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Tl(r,i,a,l,f,p){var w=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var T=r.entanglements,j=r.expirationTimes,K=r.hiddenUpdates;for(a=w&~a;0<a;){var ie=31-ln(a),oe=1<<ie;T[ie]=0,j[ie]=-1;var Q=K[ie];if(Q!==null)for(K[ie]=null,ie=0;ie<Q.length;ie++){var X=Q[ie];X!==null&&(X.lane&=-536870913)}a&=~oe}l!==0&&xr(r,l,0),p!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=p&~(w&~i))}function xr(r,i,a){r.pendingLanes|=i,r.suspendedLanes&=~i;var l=31-ln(i);r.entangledLanes|=i,r.entanglements[l]=r.entanglements[l]|1073741824|a&4194090}function Sl(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var l=31-ln(a),f=1<<l;f&i|r[l]&i&&(r[l]|=i),a&=~f}}function Li(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function qa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ui(){var r=Y.p;return r!==0?r:(r=window.event,r===void 0?32:P2(r.type))}function Nu(r,i){var a=Y.p;try{return Y.p=r,i()}finally{Y.p=a}}var mt=Math.random().toString(36).slice(2),Lt="__reactFiber$"+mt,kt="__reactProps$"+mt,qn="__reactContainer$"+mt,Al="__reactEvents$"+mt,$f="__reactListeners$"+mt,zi="__reactHandles$"+mt,Ru="__reactResources$"+mt,Hs="__reactMarker$"+mt;function Bi(r){delete r[Lt],delete r[kt],delete r[Al],delete r[$f],delete r[zi]}function Jr(r){var i=r[Lt];if(i)return i;for(var a=r.parentNode;a;){if(i=a[qn]||a[Lt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=w2(r);r!==null;){if(a=r[Lt])return a;r=w2(r)}return i}r=a,a=r.parentNode}return null}function wr(r){if(r=r[Lt]||r[qn]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function _r(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function gn(r){var i=r[Ru];return i||(i=r[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(r){r[Hs]=!0}var Nl=new Set,Ha={};function sr(r,i){ei(r,i),ei(r+"Capture",i)}function ei(r,i){for(Ha[r]=i,r=0;r<i.length;r++)Nl.add(i[r])}var Cu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ku={},$s={};function Iu(r){return wt.call($s,r)?!0:wt.call(ku,r)?!1:Cu.test(r)?$s[r]=!0:(ku[r]=!0,!1)}function Fi(r,i,a){if(Iu(i))if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+a)}}function Er(r,i,a){if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+a)}}function Jt(r,i,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(i,a,""+l)}}var Gs,Du;function ti(r){if(Gs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Gs=i&&i[1]||"",Du=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gs+r+Du}var $a=!1;function Ga(r,i){if(!r||$a)return"";$a=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(X){var Q=X}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(X){Q=X}r.call(oe.prototype)}}else{try{throw Error()}catch(X){Q=X}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),w=p[0],T=p[1];if(w&&T){var j=w.split(`
`),K=T.split(`
`);for(f=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(l===j.length||f===K.length)for(l=j.length-1,f=K.length-1;1<=l&&0<=f&&j[l]!==K[f];)f--;for(;1<=l&&0<=f;l--,f--)if(j[l]!==K[f]){if(l!==1||f!==1)do if(l--,f--,0>f||j[l]!==K[f]){var ie=`
`+j[l].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=l&&0<=f);break}}}finally{$a=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?ti(a):""}function Rl(r){switch(r.tag){case 26:case 27:case 5:return ti(r.type);case 16:return ti("Lazy");case 13:return ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return Ga(r.type,!1);case 11:return Ga(r.type.render,!1);case 1:return Ga(r.type,!0);case 31:return ti("Activity");default:return""}}function Ya(r){try{var i="";do i+=Rl(r),r=r.return;while(r);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Cl(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gf(r){var i=Cl(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),l=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(w){l=""+w,p.call(this,w)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ka(r){r._valueTracker||(r._valueTracker=Gf(r))}function kl(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return r&&(l=Cl(r)?r.checked?"true":"false":r.value),r=l,r!==a?(i.setValue(r),!0):!1}function Ys(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Yf=/[\n"\\]/g;function It(r){return r.replace(Yf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function kn(r,i,a,l,f,p,w,T){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),i!=null?w==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+yn(i)):r.value!==""+yn(i)&&(r.value=""+yn(i)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),i!=null?qi(r,w,yn(i)):a!=null?qi(r,w,yn(a)):l!=null&&r.removeAttribute("value"),f==null&&p!=null&&(r.defaultChecked=!!p),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.name=""+yn(T):r.removeAttribute("name")}function Ks(r,i,a,l,f,p,w,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),i!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;a=a!=null?""+yn(a):"",i=i!=null?""+yn(i):a,T||i===r.value||(r.value=i),r.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=T?r.checked:!!l,r.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function qi(r,i,a){i==="number"&&Ys(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function ni(r,i,a,l){if(r=r.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=i.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&l&&(r[a].defaultSelected=!0)}else{for(a=""+yn(a),i=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,l&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function nt(r,i,a){if(i!=null&&(i=""+yn(i),i!==r.value&&(r.value=i),a==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=a!=null?""+yn(a):""}function Qs(r,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(W(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=yn(i),r.defaultValue=a,l=r.textContent,l===a&&l!==""&&l!==null&&(r.value=l)}function Hn(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ju(r,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":l?r.setProperty(i,a):typeof a!="number"||a===0||Xs.has(i)?i==="float"?r.cssFloat=a:r[i]=(""+a).trim():r[i]=a+"px"}function Il(r,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&ju(r,f,l)}else for(var p in i)i.hasOwnProperty(p)&&ju(r,p,i[p])}function Dl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(r){return Qf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ri=null;function $n(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ii=null,si=null;function jl(r){var i=wr(r);if(i&&(r=i.stateNode)){var a=r[kt]||null;e:switch(r=i.stateNode,i.type){case"input":if(kn(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+It(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==r&&l.form===r.form){var f=l[kt]||null;if(!f)throw Error(s(90));kn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===r.form&&kl(l)}break e;case"textarea":nt(r,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ni(r,!!a.multiple,i,!1)}}}var Tr=!1;function Mu(r,i,a){if(Tr)return r(i,a);Tr=!0;try{var l=r(i);return l}finally{if(Tr=!1,(ii!==null||si!==null)&&(Nd(),ii&&(i=ii,r=si,si=ii=null,jl(i),r)))for(i=0;i<r.length;i++)jl(r[i])}}function Ws(r,i){var a=r.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(ar)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{Gn=!1}var Sr=null,Hi=null,ai=null;function Ml(){if(ai)return ai;var r,i=Hi,a=i.length,l,f="value"in Sr?Sr.value:Sr.textContent,p=f.length;for(r=0;r<a&&i[r]===f[r];r++);var w=a-r;for(l=1;l<=w&&i[a-l]===f[p-l];l++);return ai=f.slice(r,1<l?1-l:void 0)}function Ar(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Nr(){return!0}function Ol(){return!1}function $t(r){function i(a,l,f,p,w){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(a=r[T],this[T]=a?a(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Nr:Ol,this.isPropagationStopped=Ol,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),i}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=$t(Xe),Js=b({},Xe,{view:0,detail:0}),Ou=$t(Js),Wa,Za,Rr,ea=b({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Rr&&(Rr&&r.type==="mousemove"?(Wa=r.screenX-Rr.screenX,Za=r.screenY-Rr.screenY):Za=Wa=0,Rr=r),Wa)},movementY:function(r){return"movementY"in r?r.movementY:Za}}),Yn=$t(ea),Pu=b({},ea,{dataTransfer:0}),Xf=$t(Pu),ta=b({},Js,{relatedTarget:0}),Ja=$t(ta),Pl=b({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),eo=$t(Pl),Vu=b({},Xe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),to=$t(Vu),Wf=b({},Xe,{data:0}),Vl=$t(Wf),na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ll(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Uu[r])?!!i[r]:!1}function ra(){return Ll}var zu=b({},Js,{key:function(r){if(r.key){var i=na[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ar(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Lu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(r){return r.type==="keypress"?Ar(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ar(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),no=$t(zu),Bu=b({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ul=$t(Bu),oi=b({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),Fu=$t(oi),qu=b({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hu=$t(qu),$u=b({},ea,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ro=$t($u),vn=b({},Xe,{newState:0,oldState:0}),Gu=$t(vn),Yu=[9,13,27,32],Cr=ar&&"CompositionEvent"in window,u=null;ar&&"documentMode"in document&&(u=document.documentMode);var v=ar&&"TextEvent"in window&&!u,x=ar&&(!Cr||u&&8<u&&11>=u),S=" ",H=!1;function Z(r,i){switch(r){case"keyup":return Yu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var qe=!1;function Ut(r,i){switch(r){case"compositionend":return pe(i);case"keypress":return i.which!==32?null:(H=!0,S);case"textInput":return r=i.data,r===S&&H?null:r;default:return null}}function He(r,i){if(qe)return r==="compositionend"||!Cr&&Z(r,i)?(r=Ml(),ai=Hi=Sr=null,qe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return x&&i.locale!=="ko"?null:i.data;default:return null}}var Gt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zt(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Gt[r.type]:i==="textarea"}function li(r,i,a,l){ii?si?si.push(l):si=[l]:ii=l,i=jd(i,"onChange"),0<i.length&&(a=new Xa("onChange","change",null,a,l),r.push({event:a,listeners:i}))}var en=null,kr=null;function zl(r){d2(r,0)}function Ku(r){var i=_r(r);if(kl(i))return r}function Dy(r,i){if(r==="change")return i}var jy=!1;if(ar){var Zf;if(ar){var Jf="oninput"in document;if(!Jf){var My=document.createElement("div");My.setAttribute("oninput","return;"),Jf=typeof My.oninput=="function"}Zf=Jf}else Zf=!1;jy=Zf&&(!document.documentMode||9<document.documentMode)}function Oy(){en&&(en.detachEvent("onpropertychange",Py),kr=en=null)}function Py(r){if(r.propertyName==="value"&&Ku(kr)){var i=[];li(i,kr,r,$n(r)),Mu(zl,i)}}function F3(r,i,a){r==="focusin"?(Oy(),en=i,kr=a,en.attachEvent("onpropertychange",Py)):r==="focusout"&&Oy()}function q3(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ku(kr)}function H3(r,i){if(r==="click")return Ku(i)}function $3(r,i){if(r==="input"||r==="change")return Ku(i)}function G3(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var In=typeof Object.is=="function"?Object.is:G3;function Bl(r,i){if(In(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!wt.call(i,f)||!In(r[f],i[f]))return!1}return!0}function Vy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ly(r,i){var a=Vy(r);r=0;for(var l;a;){if(a.nodeType===3){if(l=r+a.textContent.length,r<=i&&l>=i)return{node:a,offset:i-r};r=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vy(a)}}function Uy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Uy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function zy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Ys(r.document);i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Ys(r.document)}return i}function em(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var Y3=ar&&"documentMode"in document&&11>=document.documentMode,io=null,tm=null,Fl=null,nm=!1;function By(r,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nm||io==null||io!==Ys(l)||(l=io,"selectionStart"in l&&em(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fl&&Bl(Fl,l)||(Fl=l,l=jd(tm,"onSelect"),0<l.length&&(i=new Xa("onSelect","select",null,i,a),r.push({event:i,listeners:l}),i.target=io)))}function ia(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var so={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},rm={},Fy={};ar&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function sa(r){if(rm[r])return rm[r];if(!so[r])return r;var i=so[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Fy)return rm[r]=i[a];return r}var qy=sa("animationend"),Hy=sa("animationiteration"),$y=sa("animationstart"),K3=sa("transitionrun"),Q3=sa("transitionstart"),X3=sa("transitioncancel"),Gy=sa("transitionend"),Yy=new Map,im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");im.push("scrollEnd");function or(r,i){Yy.set(r,i),sr(i,[r])}var Ky=new WeakMap;function Kn(r,i){if(typeof r=="object"&&r!==null){var a=Ky.get(r);return a!==void 0?a:(i={value:r,source:i,stack:Ya(i)},Ky.set(r,i),i)}return{value:r,source:i,stack:Ya(i)}}var Qn=[],ao=0,sm=0;function Qu(){for(var r=ao,i=sm=ao=0;i<r;){var a=Qn[i];Qn[i++]=null;var l=Qn[i];Qn[i++]=null;var f=Qn[i];Qn[i++]=null;var p=Qn[i];if(Qn[i++]=null,l!==null&&f!==null){var w=l.pending;w===null?f.next=f:(f.next=w.next,w.next=f),l.pending=f}p!==0&&Qy(a,f,p)}}function Xu(r,i,a,l){Qn[ao++]=r,Qn[ao++]=i,Qn[ao++]=a,Qn[ao++]=l,sm|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function am(r,i,a,l){return Xu(r,i,a,l),Wu(r)}function oo(r,i){return Xu(r,null,null,i),Wu(r)}function Qy(r,i,a){r.lanes|=a;var l=r.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=r.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(f=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,f&&i!==null&&(f=31-ln(a),r=p.hiddenUpdates,l=r[f],l===null?r[f]=[i]:l.push(i),i.lane=a|536870912),p):null}function Wu(r){if(50<fc)throw fc=0,hp=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var lo={};function W3(r,i,a,l){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(r,i,a,l){return new W3(r,i,a,l)}function om(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ci(r,i){var a=r.alternate;return a===null?(a=Dn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Xy(r,i){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,i=a.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Zu(r,i,a,l,f,p){var w=0;if(l=r,typeof r=="function")om(r)&&(w=1);else if(typeof r=="string")w=J6(r,a,ye.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case k:return r=Dn(31,a,i,f),r.elementType=k,r.lanes=p,r;case P:return aa(a.children,f,p,i);case F:w=8,f|=24;break;case z:return r=Dn(12,a,i,f|2),r.elementType=z,r.lanes=p,r;case te:return r=Dn(13,a,i,f),r.elementType=te,r.lanes=p,r;case ue:return r=Dn(19,a,i,f),r.elementType=ue,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case $:case ne:w=10;break e;case re:w=9;break e;case he:w=11;break e;case R:w=14;break e;case A:w=16,l=null;break e}w=29,a=Error(s(130,r===null?"null":typeof r,"")),l=null}return i=Dn(w,a,i,f),i.elementType=r,i.type=l,i.lanes=p,i}function aa(r,i,a,l){return r=Dn(7,r,l,i),r.lanes=a,r}function lm(r,i,a){return r=Dn(6,r,null,i),r.lanes=a,r}function cm(r,i,a){return i=Dn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var co=[],uo=0,Ju=null,ed=0,Xn=[],Wn=0,oa=null,ui=1,di="";function la(r,i){co[uo++]=ed,co[uo++]=Ju,Ju=r,ed=i}function Wy(r,i,a){Xn[Wn++]=ui,Xn[Wn++]=di,Xn[Wn++]=oa,oa=r;var l=ui;r=di;var f=32-ln(l)-1;l&=~(1<<f),a+=1;var p=32-ln(i)+f;if(30<p){var w=f-f%5;p=(l&(1<<w)-1).toString(32),l>>=w,f-=w,ui=1<<32-ln(i)+f|a<<f|l,di=p+r}else ui=1<<p|a<<f|l,di=r}function um(r){r.return!==null&&(la(r,1),Wy(r,1,0))}function dm(r){for(;r===Ju;)Ju=co[--uo],co[uo]=null,ed=co[--uo],co[uo]=null;for(;r===oa;)oa=Xn[--Wn],Xn[Wn]=null,di=Xn[--Wn],Xn[Wn]=null,ui=Xn[--Wn],Xn[Wn]=null}var bn=null,Et=null,Qe=!1,ca=null,Ir=!1,hm=Error(s(519));function ua(r){var i=Error(s(418,""));throw $l(Kn(i,r)),hm}function Zy(r){var i=r.stateNode,a=r.type,l=r.memoizedProps;switch(i[Lt]=r,i[kt]=l,a){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(a=0;a<pc.length;a++)Le(pc[a],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),Ks(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ka(i);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),Qs(i,l.value,l.defaultValue,l.children),Ka(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||p2(i.textContent,a)?(l.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),l.onScroll!=null&&Le("scroll",i),l.onScrollEnd!=null&&Le("scrollend",i),l.onClick!=null&&(i.onclick=Md),i=!0):i=!1,i||ua(r)}function Jy(r){for(bn=r.return;bn;)switch(bn.tag){case 5:case 13:Ir=!1;return;case 27:case 3:Ir=!0;return;default:bn=bn.return}}function ql(r){if(r!==bn)return!1;if(!Qe)return Jy(r),Qe=!0,!1;var i=r.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||Rp(r.type,r.memoizedProps)),a=!a),a&&Et&&ua(r),Jy(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(i===0){Et=cr(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;r=r.nextSibling}Et=null}}else i===27?(i=Et,as(r.type)?(r=Dp,Dp=null,Et=r):Et=i):Et=bn?cr(r.stateNode.nextSibling):null;return!0}function Hl(){Et=bn=null,Qe=!1}function e1(){var r=ca;return r!==null&&(_n===null?_n=r:_n.push.apply(_n,r),ca=null),r}function $l(r){ca===null?ca=[r]:ca.push(r)}var fm=J(null),da=null,hi=null;function $i(r,i,a){le(fm,i._currentValue),i._currentValue=a}function fi(r){r._currentValue=fm.current,de(fm)}function mm(r,i,a){for(;r!==null;){var l=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),r===a)break;r=r.return}}function pm(r,i,a,l){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var p=f.dependencies;if(p!==null){var w=f.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=f;for(var j=0;j<i.length;j++)if(T.context===i[j]){p.lanes|=a,T=p.alternate,T!==null&&(T.lanes|=a),mm(p.return,a,r),l||(w=null);break e}p=T.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(s(341));w.lanes|=a,p=w.alternate,p!==null&&(p.lanes|=a),mm(w,a,r),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===r){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function Gl(r,i,a,l){r=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var T=f.type;In(f.pendingProps.value,w.value)||(r!==null?r.push(T):r=[T])}}else if(f===Ke.current){if(w=f.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(wc):r=[wc])}f=f.return}r!==null&&pm(i,r,a,l),i.flags|=262144}function td(r){for(r=r.firstContext;r!==null;){if(!In(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ha(r){da=r,hi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function cn(r){return t1(da,r)}function nd(r,i){return da===null&&ha(r),t1(r,i)}function t1(r,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},hi===null){if(r===null)throw Error(s(308));hi=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else hi=hi.next=i;return a}var Z3=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(a,l){r.push(l)}};this.abort=function(){i.aborted=!0,r.forEach(function(a){return a()})}},J3=n.unstable_scheduleCallback,e6=n.unstable_NormalPriority,Bt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gm(){return{controller:new Z3,data:new Map,refCount:0}}function Yl(r){r.refCount--,r.refCount===0&&J3(e6,function(){r.controller.abort()})}var Kl=null,ym=0,ho=0,fo=null;function t6(r,i){if(Kl===null){var a=Kl=[];ym=0,ho=bp(),fo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ym++,i.then(n1,n1),i}function n1(){if(--ym===0&&Kl!==null){fo!==null&&(fo.status="fulfilled");var r=Kl;Kl=null,ho=0,fo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function n6(r,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return r.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var r1=I.S;I.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&t6(r,i),r1!==null&&r1(r,i)};var fa=J(null);function vm(){var r=fa.current;return r!==null?r:ct.pooledCache}function rd(r,i){i===null?le(fa,fa.current):le(fa,i.pool)}function i1(){var r=vm();return r===null?null:{parent:Bt._currentValue,pool:r}}var Ql=Error(s(460)),s1=Error(s(474)),id=Error(s(542)),bm={then:function(){}};function a1(r){return r=r.status,r==="fulfilled"||r==="rejected"}function sd(){}function o1(r,i,a){switch(a=r[a],a===void 0?r.push(i):a!==i&&(i.then(sd,sd),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,c1(r),r;default:if(typeof i.status=="string")i.then(sd,sd);else{if(r=ct,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,c1(r),r}throw Xl=i,Ql}}var Xl=null;function l1(){if(Xl===null)throw Error(s(459));var r=Xl;return Xl=null,r}function c1(r){if(r===Ql||r===id)throw Error(s(483))}var Gi=!1;function xm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Yi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ki(r,i,a){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Wu(r),Qy(r,null,a),i}return Xu(r,l,i,a),Wu(r)}function Wl(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=r.pendingLanes,a|=l,i.lanes=a,Sl(r,a)}}function _m(r,i){var a=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=w:p=p.next=w,a=a.next}while(a!==null);p===null?f=p=i:p=p.next=i}else f=p=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}var Em=!1;function Zl(){if(Em){var r=fo;if(r!==null)throw r}}function Jl(r,i,a,l){Em=!1;var f=r.updateQueue;Gi=!1;var p=f.firstBaseUpdate,w=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var j=T,K=j.next;j.next=null,w===null?p=K:w.next=K,w=j;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==w&&(T===null?ie.firstBaseUpdate=K:T.next=K,ie.lastBaseUpdate=j))}if(p!==null){var oe=f.baseState;w=0,ie=K=j=null,T=p;do{var Q=T.lane&-536870913,X=Q!==T.lane;if(X?($e&Q)===Q:(l&Q)===Q){Q!==0&&Q===ho&&(Em=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ce=r,Se=T;Q=i;var st=a;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){oe=Ce.call(st,oe,Q);break e}oe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,Q=typeof Ce=="function"?Ce.call(st,oe,Q):Ce,Q==null)break e;oe=b({},oe,Q);break e;case 2:Gi=!0}}Q=T.callback,Q!==null&&(r.flags|=64,X&&(r.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(K=ie=X,j=oe):ie=ie.next=X,w|=Q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;X=T,T=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);ie===null&&(j=oe),f.baseState=j,f.firstBaseUpdate=K,f.lastBaseUpdate=ie,p===null&&(f.shared.lanes=0),ns|=w,r.lanes=w,r.memoizedState=oe}}function u1(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function d1(r,i){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)u1(a[r],i)}var mo=J(null),ad=J(0);function h1(r,i){r=xi,le(ad,r),le(mo,i),xi=r|i.baseLanes}function Tm(){le(ad,xi),le(mo,mo.current)}function Sm(){xi=ad.current,de(mo),de(ad)}var Qi=0,Me=null,rt=null,Dt=null,od=!1,po=!1,ma=!1,ld=0,ec=0,go=null,r6=0;function Nt(){throw Error(s(321))}function Am(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!In(r[a],i[a]))return!1;return!0}function Nm(r,i,a,l,f,p){return Qi=p,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,I.H=r===null||r.memoizedState===null?Q1:X1,ma=!1,p=a(l,f),ma=!1,po&&(p=m1(i,a,l,f)),f1(r),p}function f1(r){I.H=md;var i=rt!==null&&rt.next!==null;if(Qi=0,Dt=rt=Me=null,od=!1,ec=0,go=null,i)throw Error(s(300));r===null||Yt||(r=r.dependencies,r!==null&&td(r)&&(Yt=!0))}function m1(r,i,a,l){Me=r;var f=0;do{if(po&&(go=null),ec=0,po=!1,25<=f)throw Error(s(301));if(f+=1,Dt=rt=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}I.H=u6,p=i(a,l)}while(po);return p}function i6(){var r=I.H,i=r.useState()[0];return i=typeof i.then=="function"?tc(i):i,r=r.useState()[0],(rt!==null?rt.memoizedState:null)!==r&&(Me.flags|=1024),i}function Rm(){var r=ld!==0;return ld=0,r}function Cm(r,i,a){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~a}function km(r){if(od){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}od=!1}Qi=0,Dt=rt=Me=null,po=!1,ec=ld=0,go=null}function xn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Me.memoizedState=Dt=r:Dt=Dt.next=r,Dt}function jt(){if(rt===null){var r=Me.alternate;r=r!==null?r.memoizedState:null}else r=rt.next;var i=Dt===null?Me.memoizedState:Dt.next;if(i!==null)Dt=i,rt=r;else{if(r===null)throw Me.alternate===null?Error(s(467)):Error(s(310));rt=r,r={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Dt===null?Me.memoizedState=Dt=r:Dt=Dt.next=r}return Dt}function Im(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(r){var i=ec;return ec+=1,go===null&&(go=[]),r=o1(go,r,i),i=Me,(Dt===null?i.memoizedState:Dt.next)===null&&(i=i.alternate,I.H=i===null||i.memoizedState===null?Q1:X1),r}function cd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return tc(r);if(r.$$typeof===ne)return cn(r)}throw Error(s(438,String(r)))}function Dm(r){var i=null,a=Me.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Im(),Me.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(r),l=0;l<r;l++)a[l]=O;return i.index++,a}function mi(r,i){return typeof i=="function"?i(r):i}function ud(r){var i=jt();return jm(i,rt,r)}function jm(r,i,a){var l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=r.baseQueue,p=l.pending;if(p!==null){if(f!==null){var w=f.next;f.next=p.next,p.next=w}i.baseQueue=f=p,l.pending=null}if(p=r.baseState,f===null)r.memoizedState=p;else{i=f.next;var T=w=null,j=null,K=i,ie=!1;do{var oe=K.lane&-536870913;if(oe!==K.lane?($e&oe)===oe:(Qi&oe)===oe){var Q=K.revertLane;if(Q===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),oe===ho&&(ie=!0);else if((Qi&Q)===Q){K=K.next,Q===ho&&(ie=!0);continue}else oe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(T=j=oe,w=p):j=j.next=oe,Me.lanes|=Q,ns|=Q;oe=K.action,ma&&a(p,oe),p=K.hasEagerState?K.eagerState:a(p,oe)}else Q={lane:oe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(T=j=Q,w=p):j=j.next=Q,Me.lanes|=oe,ns|=oe;K=K.next}while(K!==null&&K!==i);if(j===null?w=p:j.next=T,!In(p,r.memoizedState)&&(Yt=!0,ie&&(a=fo,a!==null)))throw a;r.memoizedState=p,r.baseState=w,r.baseQueue=j,l.lastRenderedState=p}return f===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function Mm(r){var i=jt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var l=a.dispatch,f=a.pending,p=i.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do p=r(p,w.action),w=w.next;while(w!==f);In(p,i.memoizedState)||(Yt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,l]}function p1(r,i,a){var l=Me,f=jt(),p=Qe;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=i();var w=!In((rt||f).memoizedState,a);w&&(f.memoizedState=a,Yt=!0),f=f.queue;var T=v1.bind(null,l,f,r);if(nc(2048,8,T,[r]),f.getSnapshot!==i||w||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,yo(9,dd(),y1.bind(null,l,f,a,i),null),ct===null)throw Error(s(349));p||(Qi&124)!==0||g1(l,i,a)}return a}function g1(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=Me.updateQueue,i===null?(i=Im(),Me.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function y1(r,i,a,l){i.value=a,i.getSnapshot=l,b1(i)&&x1(r)}function v1(r,i,a){return a(function(){b1(i)&&x1(r)})}function b1(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!In(r,a)}catch{return!0}}function x1(r){var i=oo(r,2);i!==null&&Vn(i,r,2)}function Om(r){var i=xn();if(typeof r=="function"){var a=r;if(r=a(),ma){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:r},i}function w1(r,i,a,l){return r.baseState=a,jm(r,rt,typeof l=="function"?l:mi)}function s6(r,i,a,l,f){if(fd(r))throw Error(s(485));if(r=i.action,r!==null){var p={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};I.T!==null?a(!0):p.isTransition=!1,l(p),a=i.pending,a===null?(p.next=i.pending=p,_1(i,p)):(p.next=a.next,i.pending=a.next=p)}}function _1(r,i){var a=i.action,l=i.payload,f=r.state;if(i.isTransition){var p=I.T,w={};I.T=w;try{var T=a(f,l),j=I.S;j!==null&&j(w,T),E1(r,i,T)}catch(K){Pm(r,i,K)}finally{I.T=p}}else try{p=a(f,l),E1(r,i,p)}catch(K){Pm(r,i,K)}}function E1(r,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){T1(r,i,l)},function(l){return Pm(r,i,l)}):T1(r,i,a)}function T1(r,i,a){i.status="fulfilled",i.value=a,S1(i),r.state=a,i=r.pending,i!==null&&(a=i.next,a===i?r.pending=null:(a=a.next,i.next=a,_1(r,a)))}function Pm(r,i,a){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,S1(i),i=i.next;while(i!==l)}r.action=null}function S1(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function A1(r,i){return i}function N1(r,i){if(Qe){var a=ct.formState;if(a!==null){e:{var l=Me;if(Qe){if(Et){t:{for(var f=Et,p=Ir;f.nodeType!==8;){if(!p){f=null;break t}if(f=cr(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Et=cr(f.nextSibling),l=f.data==="F!";break e}}ua(l)}l=!1}l&&(i=a[0])}}return a=xn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A1,lastRenderedState:i},a.queue=l,a=G1.bind(null,Me,l),l.dispatch=a,l=Om(!1),p=Bm.bind(null,Me,!1,l.queue),l=xn(),f={state:i,dispatch:null,action:r,pending:null},l.queue=f,a=s6.bind(null,Me,f,p,a),f.dispatch=a,l.memoizedState=r,[i,a,!1]}function R1(r){var i=jt();return C1(i,rt,r)}function C1(r,i,a){if(i=jm(r,i,A1)[0],r=ud(mi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=tc(i)}catch(w){throw w===Ql?id:w}else l=i;i=jt();var f=i.queue,p=f.dispatch;return a!==i.memoizedState&&(Me.flags|=2048,yo(9,dd(),a6.bind(null,f,a),null)),[l,p,r]}function a6(r,i){r.action=i}function k1(r){var i=jt(),a=rt;if(a!==null)return C1(i,a,r);jt(),i=i.memoizedState,a=jt();var l=a.queue.dispatch;return a.memoizedState=r,[i,l,!1]}function yo(r,i,a,l){return r={tag:r,create:a,deps:l,inst:i,next:null},i=Me.updateQueue,i===null&&(i=Im(),Me.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=r.next=r:(l=a.next,a.next=r,r.next=l,i.lastEffect=r),r}function dd(){return{destroy:void 0,resource:void 0}}function I1(){return jt().memoizedState}function hd(r,i,a,l){var f=xn();l=l===void 0?null:l,Me.flags|=r,f.memoizedState=yo(1|i,dd(),a,l)}function nc(r,i,a,l){var f=jt();l=l===void 0?null:l;var p=f.memoizedState.inst;rt!==null&&l!==null&&Am(l,rt.memoizedState.deps)?f.memoizedState=yo(i,p,a,l):(Me.flags|=r,f.memoizedState=yo(1|i,p,a,l))}function D1(r,i){hd(8390656,8,r,i)}function j1(r,i){nc(2048,8,r,i)}function M1(r,i){return nc(4,2,r,i)}function O1(r,i){return nc(4,4,r,i)}function P1(r,i){if(typeof i=="function"){r=r();var a=i(r);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function V1(r,i,a){a=a!=null?a.concat([r]):null,nc(4,4,P1.bind(null,i,r),a)}function Vm(){}function L1(r,i){var a=jt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Am(i,l[1])?l[0]:(a.memoizedState=[r,i],r)}function U1(r,i){var a=jt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Am(i,l[1]))return l[0];if(l=r(),ma){Cn(!0);try{r()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function Lm(r,i,a){return a===void 0||(Qi&1073741824)!==0?r.memoizedState=i:(r.memoizedState=a,r=Fv(),Me.lanes|=r,ns|=r,a)}function z1(r,i,a,l){return In(a,i)?a:mo.current!==null?(r=Lm(r,a,l),In(r,i)||(Yt=!0),r):(Qi&42)===0?(Yt=!0,r.memoizedState=a):(r=Fv(),Me.lanes|=r,ns|=r,i)}function B1(r,i,a,l,f){var p=Y.p;Y.p=p!==0&&8>p?p:8;var w=I.T,T={};I.T=T,Bm(r,!1,i,a);try{var j=f(),K=I.S;if(K!==null&&K(T,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ie=n6(j,l);rc(r,i,ie,Pn(r))}else rc(r,i,l,Pn(r))}catch(oe){rc(r,i,{then:function(){},status:"rejected",reason:oe},Pn())}finally{Y.p=p,I.T=w}}function o6(){}function Um(r,i,a,l){if(r.tag!==5)throw Error(s(476));var f=F1(r).queue;B1(r,f,i,ee,a===null?o6:function(){return q1(r),a(l)})}function F1(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:ee},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:a},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function q1(r){var i=F1(r).next.queue;rc(r,i,{},Pn())}function zm(){return cn(wc)}function H1(){return jt().memoizedState}function $1(){return jt().memoizedState}function l6(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var a=Pn();r=Yi(a);var l=Ki(i,r,a);l!==null&&(Vn(l,i,a),Wl(l,i,a)),i={cache:gm()},r.payload=i;return}i=i.return}}function c6(r,i,a){var l=Pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},fd(r)?Y1(i,a):(a=am(r,i,a,l),a!==null&&(Vn(a,r,l),K1(a,i,l)))}function G1(r,i,a){var l=Pn();rc(r,i,a,l)}function rc(r,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(fd(r))Y1(i,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var w=i.lastRenderedState,T=p(w,a);if(f.hasEagerState=!0,f.eagerState=T,In(T,w))return Xu(r,i,f,0),ct===null&&Qu(),!1}catch{}finally{}if(a=am(r,i,f,l),a!==null)return Vn(a,r,l),K1(a,i,l),!0}return!1}function Bm(r,i,a,l){if(l={lane:2,revertLane:bp(),action:l,hasEagerState:!1,eagerState:null,next:null},fd(r)){if(i)throw Error(s(479))}else i=am(r,a,l,2),i!==null&&Vn(i,r,2)}function fd(r){var i=r.alternate;return r===Me||i!==null&&i===Me}function Y1(r,i){po=od=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function K1(r,i,a){if((a&4194048)!==0){var l=i.lanes;l&=r.pendingLanes,a|=l,i.lanes=a,Sl(r,a)}}var md={readContext:cn,use:cd,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},Q1={readContext:cn,use:cd,useCallback:function(r,i){return xn().memoizedState=[r,i===void 0?null:i],r},useContext:cn,useEffect:D1,useImperativeHandle:function(r,i,a){a=a!=null?a.concat([r]):null,hd(4194308,4,P1.bind(null,i,r),a)},useLayoutEffect:function(r,i){return hd(4194308,4,r,i)},useInsertionEffect:function(r,i){hd(4,2,r,i)},useMemo:function(r,i){var a=xn();i=i===void 0?null:i;var l=r();if(ma){Cn(!0);try{r()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(r,i,a){var l=xn();if(a!==void 0){var f=a(i);if(ma){Cn(!0);try{a(i)}finally{Cn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},l.queue=r,r=r.dispatch=c6.bind(null,Me,r),[l.memoizedState,r]},useRef:function(r){var i=xn();return r={current:r},i.memoizedState=r},useState:function(r){r=Om(r);var i=r.queue,a=G1.bind(null,Me,i);return i.dispatch=a,[r.memoizedState,a]},useDebugValue:Vm,useDeferredValue:function(r,i){var a=xn();return Lm(a,r,i)},useTransition:function(){var r=Om(!1);return r=B1.bind(null,Me,r.queue,!0,!1),xn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,a){var l=Me,f=xn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ct===null)throw Error(s(349));($e&124)!==0||g1(l,i,a)}f.memoizedState=a;var p={value:a,getSnapshot:i};return f.queue=p,D1(v1.bind(null,l,p,r),[r]),l.flags|=2048,yo(9,dd(),y1.bind(null,l,p,a,i),null),a},useId:function(){var r=xn(),i=ct.identifierPrefix;if(Qe){var a=di,l=ui;a=(l&~(1<<32-ln(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=ld++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=r6++,i="«"+i+"r"+a.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:zm,useFormState:N1,useActionState:N1,useOptimistic:function(r){var i=xn();i.memoizedState=i.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Bm.bind(null,Me,!0,a),a.dispatch=i,[r,i]},useMemoCache:Dm,useCacheRefresh:function(){return xn().memoizedState=l6.bind(null,Me)}},X1={readContext:cn,use:cd,useCallback:L1,useContext:cn,useEffect:j1,useImperativeHandle:V1,useInsertionEffect:M1,useLayoutEffect:O1,useMemo:U1,useReducer:ud,useRef:I1,useState:function(){return ud(mi)},useDebugValue:Vm,useDeferredValue:function(r,i){var a=jt();return z1(a,rt.memoizedState,r,i)},useTransition:function(){var r=ud(mi)[0],i=jt().memoizedState;return[typeof r=="boolean"?r:tc(r),i]},useSyncExternalStore:p1,useId:H1,useHostTransitionStatus:zm,useFormState:R1,useActionState:R1,useOptimistic:function(r,i){var a=jt();return w1(a,rt,r,i)},useMemoCache:Dm,useCacheRefresh:$1},u6={readContext:cn,use:cd,useCallback:L1,useContext:cn,useEffect:j1,useImperativeHandle:V1,useInsertionEffect:M1,useLayoutEffect:O1,useMemo:U1,useReducer:Mm,useRef:I1,useState:function(){return Mm(mi)},useDebugValue:Vm,useDeferredValue:function(r,i){var a=jt();return rt===null?Lm(a,r,i):z1(a,rt.memoizedState,r,i)},useTransition:function(){var r=Mm(mi)[0],i=jt().memoizedState;return[typeof r=="boolean"?r:tc(r),i]},useSyncExternalStore:p1,useId:H1,useHostTransitionStatus:zm,useFormState:k1,useActionState:k1,useOptimistic:function(r,i){var a=jt();return rt!==null?w1(a,rt,r,i):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Dm,useCacheRefresh:$1},vo=null,ic=0;function pd(r){var i=ic;return ic+=1,vo===null&&(vo=[]),o1(vo,r,i)}function sc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function gd(r,i){throw i.$$typeof===_?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function W1(r){var i=r._init;return i(r._payload)}function Z1(r){function i(B,V){if(r){var G=B.deletions;G===null?(B.deletions=[V],B.flags|=16):G.push(V)}}function a(B,V){if(!r)return null;for(;V!==null;)i(B,V),V=V.sibling;return null}function l(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function f(B,V){return B=ci(B,V),B.index=0,B.sibling=null,B}function p(B,V,G){return B.index=G,r?(G=B.alternate,G!==null?(G=G.index,G<V?(B.flags|=67108866,V):G):(B.flags|=67108866,V)):(B.flags|=1048576,V)}function w(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function T(B,V,G,ae){return V===null||V.tag!==6?(V=lm(G,B.mode,ae),V.return=B,V):(V=f(V,G),V.return=B,V)}function j(B,V,G,ae){var be=G.type;return be===P?ie(B,V,G.props.children,ae,G.key):V!==null&&(V.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===A&&W1(be)===V.type)?(V=f(V,G.props),sc(V,G),V.return=B,V):(V=Zu(G.type,G.key,G.props,null,B.mode,ae),sc(V,G),V.return=B,V)}function K(B,V,G,ae){return V===null||V.tag!==4||V.stateNode.containerInfo!==G.containerInfo||V.stateNode.implementation!==G.implementation?(V=cm(G,B.mode,ae),V.return=B,V):(V=f(V,G.children||[]),V.return=B,V)}function ie(B,V,G,ae,be){return V===null||V.tag!==7?(V=aa(G,B.mode,ae,be),V.return=B,V):(V=f(V,G),V.return=B,V)}function oe(B,V,G){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=lm(""+V,B.mode,G),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return G=Zu(V.type,V.key,V.props,null,B.mode,G),sc(G,V),G.return=B,G;case D:return V=cm(V,B.mode,G),V.return=B,V;case A:var ae=V._init;return V=ae(V._payload),oe(B,V,G)}if(W(V)||U(V))return V=aa(V,B.mode,G,null),V.return=B,V;if(typeof V.then=="function")return oe(B,pd(V),G);if(V.$$typeof===ne)return oe(B,nd(B,V),G);gd(B,V)}return null}function Q(B,V,G,ae){var be=V!==null?V.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return be!==null?null:T(B,V,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return G.key===be?j(B,V,G,ae):null;case D:return G.key===be?K(B,V,G,ae):null;case A:return be=G._init,G=be(G._payload),Q(B,V,G,ae)}if(W(G)||U(G))return be!==null?null:ie(B,V,G,ae,null);if(typeof G.then=="function")return Q(B,V,pd(G),ae);if(G.$$typeof===ne)return Q(B,V,nd(B,G),ae);gd(B,G)}return null}function X(B,V,G,ae,be){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return B=B.get(G)||null,T(V,B,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return B=B.get(ae.key===null?G:ae.key)||null,j(V,B,ae,be);case D:return B=B.get(ae.key===null?G:ae.key)||null,K(V,B,ae,be);case A:var Pe=ae._init;return ae=Pe(ae._payload),X(B,V,G,ae,be)}if(W(ae)||U(ae))return B=B.get(G)||null,ie(V,B,ae,be,null);if(typeof ae.then=="function")return X(B,V,G,pd(ae),be);if(ae.$$typeof===ne)return X(B,V,G,nd(V,ae),be);gd(V,ae)}return null}function Ce(B,V,G,ae){for(var be=null,Pe=null,we=V,Ae=V=0,Qt=null;we!==null&&Ae<G.length;Ae++){we.index>Ae?(Qt=we,we=null):Qt=we.sibling;var Ye=Q(B,we,G[Ae],ae);if(Ye===null){we===null&&(we=Qt);break}r&&we&&Ye.alternate===null&&i(B,we),V=p(Ye,V,Ae),Pe===null?be=Ye:Pe.sibling=Ye,Pe=Ye,we=Qt}if(Ae===G.length)return a(B,we),Qe&&la(B,Ae),be;if(we===null){for(;Ae<G.length;Ae++)we=oe(B,G[Ae],ae),we!==null&&(V=p(we,V,Ae),Pe===null?be=we:Pe.sibling=we,Pe=we);return Qe&&la(B,Ae),be}for(we=l(we);Ae<G.length;Ae++)Qt=X(we,B,Ae,G[Ae],ae),Qt!==null&&(r&&Qt.alternate!==null&&we.delete(Qt.key===null?Ae:Qt.key),V=p(Qt,V,Ae),Pe===null?be=Qt:Pe.sibling=Qt,Pe=Qt);return r&&we.forEach(function(ds){return i(B,ds)}),Qe&&la(B,Ae),be}function Se(B,V,G,ae){if(G==null)throw Error(s(151));for(var be=null,Pe=null,we=V,Ae=V=0,Qt=null,Ye=G.next();we!==null&&!Ye.done;Ae++,Ye=G.next()){we.index>Ae?(Qt=we,we=null):Qt=we.sibling;var ds=Q(B,we,Ye.value,ae);if(ds===null){we===null&&(we=Qt);break}r&&we&&ds.alternate===null&&i(B,we),V=p(ds,V,Ae),Pe===null?be=ds:Pe.sibling=ds,Pe=ds,we=Qt}if(Ye.done)return a(B,we),Qe&&la(B,Ae),be;if(we===null){for(;!Ye.done;Ae++,Ye=G.next())Ye=oe(B,Ye.value,ae),Ye!==null&&(V=p(Ye,V,Ae),Pe===null?be=Ye:Pe.sibling=Ye,Pe=Ye);return Qe&&la(B,Ae),be}for(we=l(we);!Ye.done;Ae++,Ye=G.next())Ye=X(we,B,Ae,Ye.value,ae),Ye!==null&&(r&&Ye.alternate!==null&&we.delete(Ye.key===null?Ae:Ye.key),V=p(Ye,V,Ae),Pe===null?be=Ye:Pe.sibling=Ye,Pe=Ye);return r&&we.forEach(function(dE){return i(B,dE)}),Qe&&la(B,Ae),be}function st(B,V,G,ae){if(typeof G=="object"&&G!==null&&G.type===P&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case E:e:{for(var be=G.key;V!==null;){if(V.key===be){if(be=G.type,be===P){if(V.tag===7){a(B,V.sibling),ae=f(V,G.props.children),ae.return=B,B=ae;break e}}else if(V.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===A&&W1(be)===V.type){a(B,V.sibling),ae=f(V,G.props),sc(ae,G),ae.return=B,B=ae;break e}a(B,V);break}else i(B,V);V=V.sibling}G.type===P?(ae=aa(G.props.children,B.mode,ae,G.key),ae.return=B,B=ae):(ae=Zu(G.type,G.key,G.props,null,B.mode,ae),sc(ae,G),ae.return=B,B=ae)}return w(B);case D:e:{for(be=G.key;V!==null;){if(V.key===be)if(V.tag===4&&V.stateNode.containerInfo===G.containerInfo&&V.stateNode.implementation===G.implementation){a(B,V.sibling),ae=f(V,G.children||[]),ae.return=B,B=ae;break e}else{a(B,V);break}else i(B,V);V=V.sibling}ae=cm(G,B.mode,ae),ae.return=B,B=ae}return w(B);case A:return be=G._init,G=be(G._payload),st(B,V,G,ae)}if(W(G))return Ce(B,V,G,ae);if(U(G)){if(be=U(G),typeof be!="function")throw Error(s(150));return G=be.call(G),Se(B,V,G,ae)}if(typeof G.then=="function")return st(B,V,pd(G),ae);if(G.$$typeof===ne)return st(B,V,nd(B,G),ae);gd(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,V!==null&&V.tag===6?(a(B,V.sibling),ae=f(V,G),ae.return=B,B=ae):(a(B,V),ae=lm(G,B.mode,ae),ae.return=B,B=ae),w(B)):a(B,V)}return function(B,V,G,ae){try{ic=0;var be=st(B,V,G,ae);return vo=null,be}catch(we){if(we===Ql||we===id)throw we;var Pe=Dn(29,we,null,B.mode);return Pe.lanes=ae,Pe.return=B,Pe}finally{}}}var bo=Z1(!0),J1=Z1(!1),Zn=J(null),Dr=null;function Xi(r){var i=r.alternate;le(Ft,Ft.current&1),le(Zn,r),Dr===null&&(i===null||mo.current!==null||i.memoizedState!==null)&&(Dr=r)}function ev(r){if(r.tag===22){if(le(Ft,Ft.current),le(Zn,r),Dr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Dr=r)}}else Wi()}function Wi(){le(Ft,Ft.current),le(Zn,Zn.current)}function pi(r){de(Zn),Dr===r&&(Dr=null),de(Ft)}var Ft=J(0);function yd(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ip(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Fm(r,i,a,l){i=r.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var qm={enqueueSetState:function(r,i,a){r=r._reactInternals;var l=Pn(),f=Yi(l);f.payload=i,a!=null&&(f.callback=a),i=Ki(r,f,l),i!==null&&(Vn(i,r,l),Wl(i,r,l))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var l=Pn(),f=Yi(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Ki(r,f,l),i!==null&&(Vn(i,r,l),Wl(i,r,l))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Pn(),l=Yi(a);l.tag=2,i!=null&&(l.callback=i),i=Ki(r,l,a),i!==null&&(Vn(i,r,a),Wl(i,r,a))}};function tv(r,i,a,l,f,p,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,p,w):i.prototype&&i.prototype.isPureReactComponent?!Bl(a,l)||!Bl(f,p):!0}function nv(r,i,a,l){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==r&&qm.enqueueReplaceState(i,i.state,null)}function pa(r,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(r=r.defaultProps){a===i&&(a=b({},a));for(var f in r)a[f]===void 0&&(a[f]=r[f])}return a}var vd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function rv(r){vd(r)}function iv(r){console.error(r)}function sv(r){vd(r)}function bd(r,i){try{var a=r.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function av(r,i,a){try{var l=r.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Hm(r,i,a){return a=Yi(a),a.tag=3,a.payload={element:null},a.callback=function(){bd(r,i)},a}function ov(r){return r=Yi(r),r.tag=3,r}function lv(r,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;r.payload=function(){return f(p)},r.callback=function(){av(i,a,l)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){av(i,a,l),typeof f!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function d6(r,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Gl(i,a,f,!0),a=Zn.current,a!==null){switch(a.tag){case 13:return Dr===null?mp():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===bm?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),gp(r,l,f)),!1;case 22:return a.flags|=65536,l===bm?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),gp(r,l,f)),!1}throw Error(s(435,a.tag))}return gp(r,l,f),mp(),!1}if(Qe)return i=Zn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==hm&&(r=Error(s(422),{cause:l}),$l(Kn(r,a)))):(l!==hm&&(i=Error(s(423),{cause:l}),$l(Kn(i,a))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,l=Kn(l,a),f=Hm(r.stateNode,l,f),_m(r,f),Tt!==4&&(Tt=2)),!1;var p=Error(s(520),{cause:l});if(p=Kn(p,a),hc===null?hc=[p]:hc.push(p),Tt!==4&&(Tt=2),i===null)return!0;l=Kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,r=f&-f,a.lanes|=r,r=Hm(a.stateNode,l,r),_m(a,r),!1;case 1:if(i=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(rs===null||!rs.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=ov(f),lv(f,r,a,l),_m(a,f),!1}a=a.return}while(a!==null);return!1}var cv=Error(s(461)),Yt=!1;function tn(r,i,a,l){i.child=r===null?J1(i,null,a,l):bo(i,r.child,a,l)}function uv(r,i,a,l,f){a=a.render;var p=i.ref;if("ref"in l){var w={};for(var T in l)T!=="ref"&&(w[T]=l[T])}else w=l;return ha(i),l=Nm(r,i,a,w,p,f),T=Rm(),r!==null&&!Yt?(Cm(r,i,f),gi(r,i,f)):(Qe&&T&&um(i),i.flags|=1,tn(r,i,l,f),i.child)}function dv(r,i,a,l,f){if(r===null){var p=a.type;return typeof p=="function"&&!om(p)&&p.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=p,hv(r,i,p,l,f)):(r=Zu(a.type,null,l,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(p=r.child,!Zm(r,f)){var w=p.memoizedProps;if(a=a.compare,a=a!==null?a:Bl,a(w,l)&&r.ref===i.ref)return gi(r,i,f)}return i.flags|=1,r=ci(p,l),r.ref=i.ref,r.return=i,i.child=r}function hv(r,i,a,l,f){if(r!==null){var p=r.memoizedProps;if(Bl(p,l)&&r.ref===i.ref)if(Yt=!1,i.pendingProps=l=p,Zm(r,f))(r.flags&131072)!==0&&(Yt=!0);else return i.lanes=r.lanes,gi(r,i,f)}return $m(r,i,a,l,f)}function fv(r,i,a){var l=i.pendingProps,f=l.children,p=r!==null?r.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=p!==null?p.baseLanes|a:a,r!==null){for(f=i.child=r.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~l}else i.childLanes=0,i.child=null;return mv(r,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&rd(i,p!==null?p.cachePool:null),p!==null?h1(i,p):Tm(),ev(i);else return i.lanes=i.childLanes=536870912,mv(r,i,p!==null?p.baseLanes|a:a,a)}else p!==null?(rd(i,p.cachePool),h1(i,p),Wi(),i.memoizedState=null):(r!==null&&rd(i,null),Tm(),Wi());return tn(r,i,f,a),i.child}function mv(r,i,a,l){var f=vm();return f=f===null?null:{parent:Bt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},r!==null&&rd(i,null),Tm(),ev(i),r!==null&&Gl(r,i,l,!0),null}function xd(r,i){var a=i.ref;if(a===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(r===null||r.ref!==a)&&(i.flags|=4194816)}}function $m(r,i,a,l,f){return ha(i),a=Nm(r,i,a,l,void 0,f),l=Rm(),r!==null&&!Yt?(Cm(r,i,f),gi(r,i,f)):(Qe&&l&&um(i),i.flags|=1,tn(r,i,a,f),i.child)}function pv(r,i,a,l,f,p){return ha(i),i.updateQueue=null,a=m1(i,l,a,f),f1(r),l=Rm(),r!==null&&!Yt?(Cm(r,i,p),gi(r,i,p)):(Qe&&l&&um(i),i.flags|=1,tn(r,i,a,p),i.child)}function gv(r,i,a,l,f){if(ha(i),i.stateNode===null){var p=lo,w=a.contextType;typeof w=="object"&&w!==null&&(p=cn(w)),p=new a(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=qm,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},xm(i),w=a.contextType,p.context=typeof w=="object"&&w!==null?cn(w):lo,p.state=i.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Fm(i,a,w,l),p.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&qm.enqueueReplaceState(p,p.state,null),Jl(i,l,p,f),Zl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(r===null){p=i.stateNode;var T=i.memoizedProps,j=pa(a,T);p.props=j;var K=p.context,ie=a.contextType;w=lo,typeof ie=="object"&&ie!==null&&(w=cn(ie));var oe=a.getDerivedStateFromProps;ie=typeof oe=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,ie||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||K!==w)&&nv(i,p,l,w),Gi=!1;var Q=i.memoizedState;p.state=Q,Jl(i,l,p,f),Zl(),K=i.memoizedState,T||Q!==K||Gi?(typeof oe=="function"&&(Fm(i,a,oe,l),K=i.memoizedState),(j=Gi||tv(i,a,j,l,Q,K,w))?(ie||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=K),p.props=l,p.state=K,p.context=w,l=j):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,wm(r,i),w=i.memoizedProps,ie=pa(a,w),p.props=ie,oe=i.pendingProps,Q=p.context,K=a.contextType,j=lo,typeof K=="object"&&K!==null&&(j=cn(K)),T=a.getDerivedStateFromProps,(K=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==oe||Q!==j)&&nv(i,p,l,j),Gi=!1,Q=i.memoizedState,p.state=Q,Jl(i,l,p,f),Zl();var X=i.memoizedState;w!==oe||Q!==X||Gi||r!==null&&r.dependencies!==null&&td(r.dependencies)?(typeof T=="function"&&(Fm(i,a,T,l),X=i.memoizedState),(ie=Gi||tv(i,a,ie,l,Q,X,j)||r!==null&&r.dependencies!==null&&td(r.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,X,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,X,j)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===r.memoizedProps&&Q===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&Q===r.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),p.props=l,p.state=X,p.context=j,l=ie):(typeof p.componentDidUpdate!="function"||w===r.memoizedProps&&Q===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&Q===r.memoizedState||(i.flags|=1024),l=!1)}return p=l,xd(r,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,r!==null&&l?(i.child=bo(i,r.child,null,f),i.child=bo(i,null,a,f)):tn(r,i,a,f),i.memoizedState=p.state,r=i.child):r=gi(r,i,f),r}function yv(r,i,a,l){return Hl(),i.flags|=256,tn(r,i,a,l),i.child}var Gm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ym(r){return{baseLanes:r,cachePool:i1()}}function Km(r,i,a){return r=r!==null?r.childLanes&~a:0,i&&(r|=Jn),r}function vv(r,i,a){var l=i.pendingProps,f=!1,p=(i.flags&128)!==0,w;if((w=p)||(w=r!==null&&r.memoizedState===null?!1:(Ft.current&2)!==0),w&&(f=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,r===null){if(Qe){if(f?Xi(i):Wi(),Qe){var T=Et,j;if(j=T){e:{for(j=T,T=Ir;j.nodeType!==8;){if(!T){T=null;break e}if(j=cr(j.nextSibling),j===null){T=null;break e}}T=j}T!==null?(i.memoizedState={dehydrated:T,treeContext:oa!==null?{id:ui,overflow:di}:null,retryLane:536870912,hydrationErrors:null},j=Dn(18,null,null,0),j.stateNode=T,j.return=i,i.child=j,bn=i,Et=null,j=!0):j=!1}j||ua(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Ip(T)?i.lanes=32:i.lanes=536870912,null;pi(i)}return T=l.children,l=l.fallback,f?(Wi(),f=i.mode,T=wd({mode:"hidden",children:T},f),l=aa(l,f,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,f=i.child,f.memoizedState=Ym(a),f.childLanes=Km(r,w,a),i.memoizedState=Gm,l):(Xi(i),Qm(i,T))}if(j=r.memoizedState,j!==null&&(T=j.dehydrated,T!==null)){if(p)i.flags&256?(Xi(i),i.flags&=-257,i=Xm(r,i,a)):i.memoizedState!==null?(Wi(),i.child=r.child,i.flags|=128,i=null):(Wi(),f=l.fallback,T=i.mode,l=wd({mode:"visible",children:l.children},T),f=aa(f,T,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,bo(i,r.child,null,a),l=i.child,l.memoizedState=Ym(a),l.childLanes=Km(r,w,a),i.memoizedState=Gm,i=f);else if(Xi(i),Ip(T)){if(w=T.nextSibling&&T.nextSibling.dataset,w)var K=w.dgst;w=K,l=Error(s(419)),l.stack="",l.digest=w,$l({value:l,source:null,stack:null}),i=Xm(r,i,a)}else if(Yt||Gl(r,i,a,!1),w=(a&r.childLanes)!==0,Yt||w){if(w=ct,w!==null&&(l=a&-a,l=(l&42)!==0?1:Li(l),l=(l&(w.suspendedLanes|a))!==0?0:l,l!==0&&l!==j.retryLane))throw j.retryLane=l,oo(r,l),Vn(w,r,l),cv;T.data==="$?"||mp(),i=Xm(r,i,a)}else T.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=j.treeContext,Et=cr(T.nextSibling),bn=i,Qe=!0,ca=null,Ir=!1,r!==null&&(Xn[Wn++]=ui,Xn[Wn++]=di,Xn[Wn++]=oa,ui=r.id,di=r.overflow,oa=i),i=Qm(i,l.children),i.flags|=4096);return i}return f?(Wi(),f=l.fallback,T=i.mode,j=r.child,K=j.sibling,l=ci(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,K!==null?f=ci(K,f):(f=aa(f,T,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,T=r.child.memoizedState,T===null?T=Ym(a):(j=T.cachePool,j!==null?(K=Bt._currentValue,j=j.parent!==K?{parent:K,pool:K}:j):j=i1(),T={baseLanes:T.baseLanes|a,cachePool:j}),f.memoizedState=T,f.childLanes=Km(r,w,a),i.memoizedState=Gm,l):(Xi(i),a=r.child,r=a.sibling,a=ci(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,r!==null&&(w=i.deletions,w===null?(i.deletions=[r],i.flags|=16):w.push(r)),i.child=a,i.memoizedState=null,a)}function Qm(r,i){return i=wd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function wd(r,i){return r=Dn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Xm(r,i,a){return bo(i,r.child,null,a),r=Qm(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function bv(r,i,a){r.lanes|=i;var l=r.alternate;l!==null&&(l.lanes|=i),mm(r.return,i,a)}function Wm(r,i,a,l,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=f)}function xv(r,i,a){var l=i.pendingProps,f=l.revealOrder,p=l.tail;if(tn(r,i,l.children,a),l=Ft.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&bv(r,a,i);else if(r.tag===19)bv(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}switch(le(Ft,l),f){case"forwards":for(a=i.child,f=null;a!==null;)r=a.alternate,r!==null&&yd(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Wm(i,!1,f,a,p);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&yd(r)===null){i.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Wm(i,!0,a,null,p);break;case"together":Wm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function gi(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),ns|=i.lanes,(a&i.childLanes)===0)if(r!==null){if(Gl(r,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,a=ci(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=ci(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function Zm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&td(r)))}function h6(r,i,a){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),$i(i,Bt,r.memoizedState.cache),Hl();break;case 27:case 5:at(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:$i(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Xi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?vv(r,i,a):(Xi(i),r=gi(r,i,a),r!==null?r.sibling:null);Xi(i);break;case 19:var f=(r.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Gl(r,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return xv(r,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Ft,Ft.current),l)break;return null;case 22:case 23:return i.lanes=0,fv(r,i,a);case 24:$i(i,Bt,r.memoizedState.cache)}return gi(r,i,a)}function wv(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps)Yt=!0;else{if(!Zm(r,a)&&(i.flags&128)===0)return Yt=!1,h6(r,i,a);Yt=(r.flags&131072)!==0}else Yt=!1,Qe&&(i.flags&1048576)!==0&&Wy(i,ed,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")om(l)?(r=pa(l,r),i.tag=1,i=gv(null,i,l,r,a)):(i.tag=0,i=$m(null,i,l,r,a));else{if(l!=null){if(f=l.$$typeof,f===he){i.tag=11,i=uv(null,i,l,r,a);break e}else if(f===R){i.tag=14,i=dv(null,i,l,r,a);break e}}throw i=me(l)||l,Error(s(306,i,""))}}return i;case 0:return $m(r,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=pa(l,i.pendingProps),gv(r,i,l,f,a);case 3:e:{if(Oe(i,i.stateNode.containerInfo),r===null)throw Error(s(387));l=i.pendingProps;var p=i.memoizedState;f=p.element,wm(r,i),Jl(i,l,null,a);var w=i.memoizedState;if(l=w.cache,$i(i,Bt,l),l!==p.cache&&pm(i,[Bt],a,!0),Zl(),l=w.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=yv(r,i,l,a);break e}else if(l!==f){f=Kn(Error(s(424)),i),$l(f),i=yv(r,i,l,a);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Et=cr(r.firstChild),bn=i,Qe=!0,ca=null,Ir=!0,a=J1(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hl(),l===f){i=gi(r,i,a);break e}tn(r,i,l,a)}i=i.child}return i;case 26:return xd(r,i),r===null?(a=S2(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qe||(a=i.type,r=i.pendingProps,l=Od(xe.current).createElement(a),l[Lt]=i,l[kt]=r,rn(l,a,r),At(l),i.stateNode=l):i.memoizedState=S2(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return at(i),r===null&&Qe&&(l=i.stateNode=_2(i.type,i.pendingProps,xe.current),bn=i,Ir=!0,f=Et,as(i.type)?(Dp=f,Et=cr(l.firstChild)):Et=f),tn(r,i,i.pendingProps.children,a),xd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Qe&&((f=l=Et)&&(l=z6(l,i.type,i.pendingProps,Ir),l!==null?(i.stateNode=l,bn=i,Et=cr(l.firstChild),Ir=!1,f=!0):f=!1),f||ua(i)),at(i),f=i.type,p=i.pendingProps,w=r!==null?r.memoizedProps:null,l=p.children,Rp(f,p)?l=null:w!==null&&Rp(f,w)&&(i.flags|=32),i.memoizedState!==null&&(f=Nm(r,i,i6,null,null,a),wc._currentValue=f),xd(r,i),tn(r,i,l,a),i.child;case 6:return r===null&&Qe&&((r=a=Et)&&(a=B6(a,i.pendingProps,Ir),a!==null?(i.stateNode=a,bn=i,Et=null,r=!0):r=!1),r||ua(i)),null;case 13:return vv(r,i,a);case 4:return Oe(i,i.stateNode.containerInfo),l=i.pendingProps,r===null?i.child=bo(i,null,l,a):tn(r,i,l,a),i.child;case 11:return uv(r,i,i.type,i.pendingProps,a);case 7:return tn(r,i,i.pendingProps,a),i.child;case 8:return tn(r,i,i.pendingProps.children,a),i.child;case 12:return tn(r,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,$i(i,i.type,l.value),tn(r,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ha(i),f=cn(f),l=l(f),i.flags|=1,tn(r,i,l,a),i.child;case 14:return dv(r,i,i.type,i.pendingProps,a);case 15:return hv(r,i,i.type,i.pendingProps,a);case 19:return xv(r,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},r===null?(a=wd(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ci(r.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return fv(r,i,a);case 24:return ha(i),l=cn(Bt),r===null?(f=vm(),f===null&&(f=ct,p=gm(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),i.memoizedState={parent:l,cache:f},xm(i),$i(i,Bt,f)):((r.lanes&a)!==0&&(wm(r,i),Jl(i,null,null,a),Zl()),f=r.memoizedState,p=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),$i(i,Bt,l)):(l=p.cache,$i(i,Bt,l),l!==f.cache&&pm(i,[Bt],a,!0))),tn(r,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function yi(r){r.flags|=4}function _v(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!k2(i)){if(i=Zn.current,i!==null&&(($e&4194048)===$e?Dr!==null:($e&62914560)!==$e&&($e&536870912)===0||i!==Dr))throw Xl=bm,s1;r.flags|=8192}}function _d(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?El():536870912,r.lanes|=i,Eo|=i)}function ac(r,i){if(!Qe)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function vt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,l=0;if(i)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=l,r.childLanes=a,i}function f6(r,i,a){var l=i.pendingProps;switch(dm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(i),null;case 1:return vt(i),null;case 3:return a=i.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),fi(Bt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(ql(i)?yi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,e1())),vt(i),null;case 26:return a=i.memoizedState,r===null?(yi(i),a!==null?(vt(i),_v(i,a)):(vt(i),i.flags&=-16777217)):a?a!==r.memoizedState?(yi(i),vt(i),_v(i,a)):(vt(i),i.flags&=-16777217):(r.memoizedProps!==l&&yi(i),vt(i),i.flags&=-16777217),null;case 27:yt(i),a=xe.current;var f=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==l&&yi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return vt(i),null}r=ye.current,ql(i)?Zy(i):(r=_2(f,l,a),i.stateNode=r,yi(i))}return vt(i),null;case 5:if(yt(i),a=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&yi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return vt(i),null}if(r=ye.current,ql(i))Zy(i);else{switch(f=Od(xe.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}r[Lt]=i,r[kt]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=r;e:switch(rn(r,a,l),a){case"button":case"input":case"select":case"textarea":r=!!l.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&yi(i)}}return vt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==l&&yi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(r=xe.current,ql(i)){if(r=i.stateNode,a=i.memoizedProps,l=null,f=bn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}r[Lt]=i,r=!!(r.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||p2(r.nodeValue,a)),r||ua(i)}else r=Od(r).createTextNode(l),r[Lt]=i,i.stateNode=r}return vt(i),null;case 13:if(l=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=ql(i),l!==null&&l.dehydrated!==null){if(r===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Lt]=i}else Hl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),f=!1}else f=e1(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(pi(i),i):(pi(i),null)}if(pi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,r=r!==null&&r.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return a!==r&&a&&(i.child.flags|=8192),_d(i,i.updateQueue),vt(i),null;case 4:return lt(),r===null&&Ep(i.stateNode.containerInfo),vt(i),null;case 10:return fi(i.type),vt(i),null;case 19:if(de(Ft),f=i.memoizedState,f===null)return vt(i),null;if(l=(i.flags&128)!==0,p=f.rendering,p===null)if(l)ac(f,!1);else{if(Tt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(p=yd(r),p!==null){for(i.flags|=128,ac(f,!1),r=p.updateQueue,i.updateQueue=r,_d(i,r),i.subtreeFlags=0,r=a,a=i.child;a!==null;)Xy(a,r),a=a.sibling;return le(Ft,Ft.current&1|2),i.child}r=r.sibling}f.tail!==null&&Fn()>Sd&&(i.flags|=128,l=!0,ac(f,!1),i.lanes=4194304)}else{if(!l)if(r=yd(p),r!==null){if(i.flags|=128,l=!0,r=r.updateQueue,i.updateQueue=r,_d(i,r),ac(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Qe)return vt(i),null}else 2*Fn()-f.renderingStartTime>Sd&&a!==536870912&&(i.flags|=128,l=!0,ac(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(r=f.last,r!==null?r.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Fn(),i.sibling=null,r=Ft.current,le(Ft,l?r&1|2:r&1),i):(vt(i),null);case 22:case 23:return pi(i),Sm(),l=i.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(vt(i),i.subtreeFlags&6&&(i.flags|=8192)):vt(i),a=i.updateQueue,a!==null&&_d(i,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),r!==null&&de(fa),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),fi(Bt),vt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function m6(r,i){switch(dm(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return fi(Bt),lt(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return yt(i),null;case 13:if(pi(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Hl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return de(Ft),null;case 4:return lt(),null;case 10:return fi(i.type),null;case 22:case 23:return pi(i),Sm(),r!==null&&de(fa),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return fi(Bt),null;case 25:return null;default:return null}}function Ev(r,i){switch(dm(i),i.tag){case 3:fi(Bt),lt();break;case 26:case 27:case 5:yt(i);break;case 4:lt();break;case 13:pi(i);break;case 19:de(Ft);break;case 10:fi(i.type);break;case 22:case 23:pi(i),Sm(),r!==null&&de(fa);break;case 24:fi(Bt)}}function oc(r,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&r)===r){l=void 0;var p=a.create,w=a.inst;l=p(),w.destroy=l}a=a.next}while(a!==f)}}catch(T){ot(i,i.return,T)}}function Zi(r,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&r)===r){var w=l.inst,T=w.destroy;if(T!==void 0){w.destroy=void 0,f=i;var j=a,K=T;try{K()}catch(ie){ot(f,j,ie)}}}l=l.next}while(l!==p)}}catch(ie){ot(i,i.return,ie)}}function Tv(r){var i=r.updateQueue;if(i!==null){var a=r.stateNode;try{d1(i,a)}catch(l){ot(r,r.return,l)}}}function Sv(r,i,a){a.props=pa(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(l){ot(r,i,l)}}function lc(r,i){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof a=="function"?r.refCleanup=a(l):a.current=l}}catch(f){ot(r,i,f)}}function jr(r,i){var a=r.ref,l=r.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ot(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ot(r,i,f)}else a.current=null}function Av(r){var i=r.type,a=r.memoizedProps,l=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ot(r,r.return,f)}}function Jm(r,i,a){try{var l=r.stateNode;O6(l,r.type,a,i),l[kt]=i}catch(f){ot(r,r.return,f)}}function Nv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&as(r.type)||r.tag===4}function ep(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Nv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&as(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tp(r,i,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(r),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Md));else if(l!==4&&(l===27&&as(r.type)&&(a=r.stateNode,i=null),r=r.child,r!==null))for(tp(r,i,a),r=r.sibling;r!==null;)tp(r,i,a),r=r.sibling}function Ed(r,i,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(l!==4&&(l===27&&as(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(Ed(r,i,a),r=r.sibling;r!==null;)Ed(r,i,a),r=r.sibling}function Rv(r){var i=r.stateNode,a=r.memoizedProps;try{for(var l=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);rn(i,l,a),i[Lt]=r,i[kt]=a}catch(p){ot(r,r.return,p)}}var vi=!1,Rt=!1,np=!1,Cv=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function p6(r,i){if(r=r.containerInfo,Ap=Bd,r=zy(r),em(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var w=0,T=-1,j=-1,K=0,ie=0,oe=r,Q=null;t:for(;;){for(var X;oe!==a||f!==0&&oe.nodeType!==3||(T=w+f),oe!==p||l!==0&&oe.nodeType!==3||(j=w+l),oe.nodeType===3&&(w+=oe.nodeValue.length),(X=oe.firstChild)!==null;)Q=oe,oe=X;for(;;){if(oe===r)break t;if(Q===a&&++K===f&&(T=w),Q===p&&++ie===l&&(j=w),(X=oe.nextSibling)!==null)break;oe=Q,Q=oe.parentNode}oe=X}a=T===-1||j===-1?null:{start:T,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(Np={focusedElem:r,selectionRange:a},Bd=!1,Kt=i;Kt!==null;)if(i=Kt,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Kt=r;else for(;Kt!==null;){switch(i=Kt,p=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,a=i,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var Ce=pa(a.type,f,a.elementType===a.type);r=l.getSnapshotBeforeUpdate(Ce,p),l.__reactInternalSnapshotBeforeUpdate=r}catch(Se){ot(a,a.return,Se)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,a=r.nodeType,a===9)kp(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":kp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Kt=r;break}Kt=i.return}}function kv(r,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(r,a),l&4&&oc(5,a);break;case 1:if(Ji(r,a),l&4)if(r=a.stateNode,i===null)try{r.componentDidMount()}catch(w){ot(a,a.return,w)}else{var f=pa(a.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(w){ot(a,a.return,w)}}l&64&&Tv(a),l&512&&lc(a,a.return);break;case 3:if(Ji(r,a),l&64&&(r=a.updateQueue,r!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{d1(r,i)}catch(w){ot(a,a.return,w)}}break;case 27:i===null&&l&4&&Rv(a);case 26:case 5:Ji(r,a),i===null&&l&4&&Av(a),l&512&&lc(a,a.return);break;case 12:Ji(r,a);break;case 13:Ji(r,a),l&4&&jv(r,a),l&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=T6.bind(null,a),F6(r,a))));break;case 22:if(l=a.memoizedState!==null||vi,!l){i=i!==null&&i.memoizedState!==null||Rt,f=vi;var p=Rt;vi=l,(Rt=i)&&!p?es(r,a,(a.subtreeFlags&8772)!==0):Ji(r,a),vi=f,Rt=p}break;case 30:break;default:Ji(r,a)}}function Iv(r){var i=r.alternate;i!==null&&(r.alternate=null,Iv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Bi(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var pt=null,wn=!1;function bi(r,i,a){for(a=a.child;a!==null;)Dv(r,i,a),a=a.sibling}function Dv(r,i,a){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(_t,a)}catch{}switch(a.tag){case 26:Rt||jr(a,i),bi(r,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||jr(a,i);var l=pt,f=wn;as(a.type)&&(pt=a.stateNode,wn=!1),bi(r,i,a),yc(a.stateNode),pt=l,wn=f;break;case 5:Rt||jr(a,i);case 6:if(l=pt,f=wn,pt=null,bi(r,i,a),pt=l,wn=f,pt!==null)if(wn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(p){ot(a,i,p)}else try{pt.removeChild(a.stateNode)}catch(p){ot(a,i,p)}break;case 18:pt!==null&&(wn?(r=pt,x2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),Sc(r)):x2(pt,a.stateNode));break;case 4:l=pt,f=wn,pt=a.stateNode.containerInfo,wn=!0,bi(r,i,a),pt=l,wn=f;break;case 0:case 11:case 14:case 15:Rt||Zi(2,a,i),Rt||Zi(4,a,i),bi(r,i,a);break;case 1:Rt||(jr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Sv(a,i,l)),bi(r,i,a);break;case 21:bi(r,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,bi(r,i,a),Rt=l;break;default:bi(r,i,a)}}function jv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Sc(r)}catch(a){ot(i,i.return,a)}}function g6(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Cv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Cv),i;default:throw Error(s(435,r.tag))}}function rp(r,i){var a=g6(r);i.forEach(function(l){var f=S6.bind(null,r,l);a.has(l)||(a.add(l),l.then(f,f))})}function jn(r,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=r,w=i,T=w;e:for(;T!==null;){switch(T.tag){case 27:if(as(T.type)){pt=T.stateNode,wn=!1;break e}break;case 5:pt=T.stateNode,wn=!1;break e;case 3:case 4:pt=T.stateNode.containerInfo,wn=!0;break e}T=T.return}if(pt===null)throw Error(s(160));Dv(p,w,f),pt=null,wn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Mv(i,r),i=i.sibling}var lr=null;function Mv(r,i){var a=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:jn(i,r),Mn(r),l&4&&(Zi(3,r,r.return),oc(3,r),Zi(5,r,r.return));break;case 1:jn(i,r),Mn(r),l&512&&(Rt||a===null||jr(a,a.return)),l&64&&vi&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=lr;if(jn(i,r),Mn(r),l&512&&(Rt||a===null||jr(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=r.memoizedState,a===null)if(l===null)if(r.stateNode===null){e:{l=r.type,a=r.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Hs]||p[Lt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),rn(p,l,a),p[Lt]=r,At(p),l=p;break e;case"link":var w=R2("link","href",f).get(l+(a.href||""));if(w){for(var T=0;T<w.length;T++)if(p=w[T],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(T,1);break t}}p=f.createElement(l),rn(p,l,a),f.head.appendChild(p);break;case"meta":if(w=R2("meta","content",f).get(l+(a.content||""))){for(T=0;T<w.length;T++)if(p=w[T],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(T,1);break t}}p=f.createElement(l),rn(p,l,a),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[Lt]=r,At(p),l=p}r.stateNode=l}else C2(f,r.type,r.stateNode);else r.stateNode=N2(f,l,r.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?C2(f,r.type,r.stateNode):N2(f,l,r.memoizedProps)):l===null&&r.stateNode!==null&&Jm(r,r.memoizedProps,a.memoizedProps)}break;case 27:jn(i,r),Mn(r),l&512&&(Rt||a===null||jr(a,a.return)),a!==null&&l&4&&Jm(r,r.memoizedProps,a.memoizedProps);break;case 5:if(jn(i,r),Mn(r),l&512&&(Rt||a===null||jr(a,a.return)),r.flags&32){f=r.stateNode;try{Hn(f,"")}catch(X){ot(r,r.return,X)}}l&4&&r.stateNode!=null&&(f=r.memoizedProps,Jm(r,f,a!==null?a.memoizedProps:f)),l&1024&&(np=!0);break;case 6:if(jn(i,r),Mn(r),l&4){if(r.stateNode===null)throw Error(s(162));l=r.memoizedProps,a=r.stateNode;try{a.nodeValue=l}catch(X){ot(r,r.return,X)}}break;case 3:if(Ld=null,f=lr,lr=Pd(i.containerInfo),jn(i,r),lr=f,Mn(r),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Sc(i.containerInfo)}catch(X){ot(r,r.return,X)}np&&(np=!1,Ov(r));break;case 4:l=lr,lr=Pd(r.stateNode.containerInfo),jn(i,r),Mn(r),lr=l;break;case 12:jn(i,r),Mn(r);break;case 13:jn(i,r),Mn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cp=Fn()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,rp(r,l)));break;case 22:f=r.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,K=vi,ie=Rt;if(vi=K||f,Rt=ie||j,jn(i,r),Rt=ie,vi=K,Mn(r),l&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||j||vi||Rt||ga(r)),a=null,i=r;;){if(i.tag===5||i.tag===26){if(a===null){j=a=i;try{if(p=j.stateNode,f)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{T=j.stateNode;var oe=j.memoizedProps.style,Q=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;T.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(X){ot(j,j.return,X)}}}else if(i.tag===6){if(a===null){j=i;try{j.stateNode.nodeValue=f?"":j.memoizedProps}catch(X){ot(j,j.return,X)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=r.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rp(r,a))));break;case 19:jn(i,r),Mn(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,rp(r,l)));break;case 30:break;case 21:break;default:jn(i,r),Mn(r)}}function Mn(r){var i=r.flags;if(i&2){try{for(var a,l=r.return;l!==null;){if(Nv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,p=ep(r);Ed(r,p,f);break;case 5:var w=a.stateNode;a.flags&32&&(Hn(w,""),a.flags&=-33);var T=ep(r);Ed(r,T,w);break;case 3:case 4:var j=a.stateNode.containerInfo,K=ep(r);tp(r,K,j);break;default:throw Error(s(161))}}catch(ie){ot(r,r.return,ie)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Ov(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Ov(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Ji(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)kv(r,i.alternate,i),i=i.sibling}function ga(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Zi(4,i,i.return),ga(i);break;case 1:jr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Sv(i,i.return,a),ga(i);break;case 27:yc(i.stateNode);case 26:case 5:jr(i,i.return),ga(i);break;case 22:i.memoizedState===null&&ga(i);break;case 30:ga(i);break;default:ga(i)}r=r.sibling}}function es(r,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=r,p=i,w=p.flags;switch(p.tag){case 0:case 11:case 15:es(f,p,a),oc(4,p);break;case 1:if(es(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){ot(l,l.return,K)}if(l=p,f=l.updateQueue,f!==null){var T=l.stateNode;try{var j=f.shared.hiddenCallbacks;if(j!==null)for(f.shared.hiddenCallbacks=null,f=0;f<j.length;f++)u1(j[f],T)}catch(K){ot(l,l.return,K)}}a&&w&64&&Tv(p),lc(p,p.return);break;case 27:Rv(p);case 26:case 5:es(f,p,a),a&&l===null&&w&4&&Av(p),lc(p,p.return);break;case 12:es(f,p,a);break;case 13:es(f,p,a),a&&w&4&&jv(f,p);break;case 22:p.memoizedState===null&&es(f,p,a),lc(p,p.return);break;case 30:break;default:es(f,p,a)}i=i.sibling}}function ip(r,i){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&Yl(a))}function sp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Yl(r))}function Mr(r,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Pv(r,i,a,l),i=i.sibling}function Pv(r,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Mr(r,i,a,l),f&2048&&oc(9,i);break;case 1:Mr(r,i,a,l);break;case 3:Mr(r,i,a,l),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Yl(r)));break;case 12:if(f&2048){Mr(r,i,a,l),r=i.stateNode;try{var p=i.memoizedProps,w=p.id,T=p.onPostCommit;typeof T=="function"&&T(w,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){ot(i,i.return,j)}}else Mr(r,i,a,l);break;case 13:Mr(r,i,a,l);break;case 23:break;case 22:p=i.stateNode,w=i.alternate,i.memoizedState!==null?p._visibility&2?Mr(r,i,a,l):cc(r,i):p._visibility&2?Mr(r,i,a,l):(p._visibility|=2,xo(r,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&ip(w,i);break;case 24:Mr(r,i,a,l),f&2048&&sp(i.alternate,i);break;default:Mr(r,i,a,l)}}function xo(r,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=r,w=i,T=a,j=l,K=w.flags;switch(w.tag){case 0:case 11:case 15:xo(p,w,T,j,f),oc(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?xo(p,w,T,j,f):cc(p,w):(ie._visibility|=2,xo(p,w,T,j,f)),f&&K&2048&&ip(w.alternate,w);break;case 24:xo(p,w,T,j,f),f&&K&2048&&sp(w.alternate,w);break;default:xo(p,w,T,j,f)}i=i.sibling}}function cc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=r,l=i,f=l.flags;switch(l.tag){case 22:cc(a,l),f&2048&&ip(l.alternate,l);break;case 24:cc(a,l),f&2048&&sp(l.alternate,l);break;default:cc(a,l)}i=i.sibling}}var uc=8192;function wo(r){if(r.subtreeFlags&uc)for(r=r.child;r!==null;)Vv(r),r=r.sibling}function Vv(r){switch(r.tag){case 26:wo(r),r.flags&uc&&r.memoizedState!==null&&tE(lr,r.memoizedState,r.memoizedProps);break;case 5:wo(r);break;case 3:case 4:var i=lr;lr=Pd(r.stateNode.containerInfo),wo(r),lr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=uc,uc=16777216,wo(r),uc=i):wo(r));break;default:wo(r)}}function Lv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function dc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,zv(l,r)}Lv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Uv(r),r=r.sibling}function Uv(r){switch(r.tag){case 0:case 11:case 15:dc(r),r.flags&2048&&Zi(9,r,r.return);break;case 3:dc(r);break;case 12:dc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Td(r)):dc(r);break;default:dc(r)}}function Td(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,zv(l,r)}Lv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Zi(8,i,i.return),Td(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Td(i));break;default:Td(i)}r=r.sibling}}function zv(r,i){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:Zi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Kt=l;else e:for(a=r;Kt!==null;){l=Kt;var f=l.sibling,p=l.return;if(Iv(l),l===a){Kt=null;break e}if(f!==null){f.return=p,Kt=f;break e}Kt=p}}}var y6={getCacheForType:function(r){var i=cn(Bt),a=i.data.get(r);return a===void 0&&(a=r(),i.data.set(r,a)),a}},v6=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,Ve=null,$e=0,tt=0,On=null,ts=!1,_o=!1,ap=!1,xi=0,Tt=0,ns=0,ya=0,op=0,Jn=0,Eo=0,hc=null,_n=null,lp=!1,cp=0,Sd=1/0,Ad=null,rs=null,nn=0,is=null,To=null,So=0,up=0,dp=null,Bv=null,fc=0,hp=null;function Pn(){if((et&2)!==0&&$e!==0)return $e&-$e;if(I.T!==null){var r=ho;return r!==0?r:bp()}return Ui()}function Fv(){Jn===0&&(Jn=($e&536870912)===0||Qe?_l():536870912);var r=Zn.current;return r!==null&&(r.flags|=32),Jn}function Vn(r,i,a){(r===ct&&(tt===2||tt===9)||r.cancelPendingCommit!==null)&&(Ao(r,0),ss(r,$e,Jn,!1)),Zr(r,a),((et&2)===0||r!==ct)&&(r===ct&&((et&2)===0&&(ya|=a),Tt===4&&ss(r,$e,Jn,!1)),Or(r))}function qv(r,i,a){if((et&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&r.expiredLanes)===0||qs(r,i),f=l?w6(r,i):pp(r,i,!0),p=l;do{if(f===0){_o&&!l&&ss(r,i,0,!1);break}else{if(a=r.current.alternate,p&&!b6(a)){f=pp(r,i,!1),p=!1;continue}if(f===2){if(p=i,r.errorRecoveryDisabledLanes&p)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var T=r;f=hc;var j=T.current.memoizedState.isDehydrated;if(j&&(Ao(T,w).flags|=256),w=pp(T,w,!1),w!==2){if(ap&&!j){T.errorRecoveryDisabledLanes|=p,ya|=p,f=4;break e}p=_n,_n=f,p!==null&&(_n===null?_n=p:_n.push.apply(_n,p))}f=w}if(p=!1,f!==2)continue}}if(f===1){Ao(r,0),ss(r,i,0,!0);break}e:{switch(l=r,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ss(l,i,Jn,!ts);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=cp+300-Fn(),10<f)){if(ss(l,i,Jn,!ts),Fa(l,0,!0)!==0)break e;l.timeoutHandle=v2(Hv.bind(null,l,a,_n,Ad,lp,i,Jn,ya,Eo,ts,p,2,-0,0),f);break e}Hv(l,a,_n,Ad,lp,i,Jn,ya,Eo,ts,p,0,-0,0)}}break}while(!0);Or(r)}function Hv(r,i,a,l,f,p,w,T,j,K,ie,oe,Q,X){if(r.timeoutHandle=-1,oe=i.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(xc={stylesheets:null,count:0,unsuspend:eE},Vv(i),oe=nE(),oe!==null)){r.cancelPendingCommit=oe(Wv.bind(null,r,i,p,a,l,f,w,T,j,ie,1,Q,X)),ss(r,p,w,!K);return}Wv(r,i,p,a,l,f,w,T,j)}function b6(r){for(var i=r;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!In(p(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ss(r,i,a,l){i&=~op,i&=~ya,r.suspendedLanes|=i,r.pingedLanes&=~i,l&&(r.warmLanes|=i),l=r.expirationTimes;for(var f=i;0<f;){var p=31-ln(f),w=1<<p;l[p]=-1,f&=~w}a!==0&&xr(r,a,i)}function Nd(){return(et&6)===0?(mc(0),!1):!0}function fp(){if(Ve!==null){if(tt===0)var r=Ve.return;else r=Ve,hi=da=null,km(r),vo=null,ic=0,r=Ve;for(;r!==null;)Ev(r.alternate,r),r=r.return;Ve=null}}function Ao(r,i){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,V6(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),fp(),ct=r,Ve=a=ci(r.current,null),$e=i,tt=0,On=null,ts=!1,_o=qs(r,i),ap=!1,Eo=Jn=op=ya=ns=Tt=0,_n=hc=null,lp=!1,(i&8)!==0&&(i|=i&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=i;0<l;){var f=31-ln(l),p=1<<f;i|=r[f],l&=~p}return xi=i,Qu(),a}function $v(r,i){Me=null,I.H=md,i===Ql||i===id?(i=l1(),tt=3):i===s1?(i=l1(),tt=4):tt=i===cv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,On=i,Ve===null&&(Tt=1,bd(r,Kn(i,r.current)))}function Gv(){var r=I.H;return I.H=md,r===null?md:r}function Yv(){var r=I.A;return I.A=y6,r}function mp(){Tt=4,ts||($e&4194048)!==$e&&Zn.current!==null||(_o=!0),(ns&134217727)===0&&(ya&134217727)===0||ct===null||ss(ct,$e,Jn,!1)}function pp(r,i,a){var l=et;et|=2;var f=Gv(),p=Yv();(ct!==r||$e!==i)&&(Ad=null,Ao(r,i)),i=!1;var w=Tt;e:do try{if(tt!==0&&Ve!==null){var T=Ve,j=On;switch(tt){case 8:fp(),w=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(i=!0);var K=tt;if(tt=0,On=null,No(r,T,j,K),a&&_o){w=0;break e}break;default:K=tt,tt=0,On=null,No(r,T,j,K)}}x6(),w=Tt;break}catch(ie){$v(r,ie)}while(!0);return i&&r.shellSuspendCounter++,hi=da=null,et=l,I.H=f,I.A=p,Ve===null&&(ct=null,$e=0,Qu()),w}function x6(){for(;Ve!==null;)Kv(Ve)}function w6(r,i){var a=et;et|=2;var l=Gv(),f=Yv();ct!==r||$e!==i?(Ad=null,Sd=Fn()+500,Ao(r,i)):_o=qs(r,i);e:do try{if(tt!==0&&Ve!==null){i=Ve;var p=On;t:switch(tt){case 1:tt=0,On=null,No(r,i,p,1);break;case 2:case 9:if(a1(p)){tt=0,On=null,Qv(i);break}i=function(){tt!==2&&tt!==9||ct!==r||(tt=7),Or(r)},p.then(i,i);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:a1(p)?(tt=0,On=null,Qv(i)):(tt=0,On=null,No(r,i,p,7));break;case 5:var w=null;switch(Ve.tag){case 26:w=Ve.memoizedState;case 5:case 27:var T=Ve;if(!w||k2(w)){tt=0,On=null;var j=T.sibling;if(j!==null)Ve=j;else{var K=T.return;K!==null?(Ve=K,Rd(K)):Ve=null}break t}}tt=0,On=null,No(r,i,p,5);break;case 6:tt=0,On=null,No(r,i,p,6);break;case 8:fp(),Tt=6;break e;default:throw Error(s(462))}}_6();break}catch(ie){$v(r,ie)}while(!0);return hi=da=null,I.H=l,I.A=f,et=a,Ve!==null?0:(ct=null,$e=0,Qu(),Tt)}function _6(){for(;Ve!==null&&!vl();)Kv(Ve)}function Kv(r){var i=wv(r.alternate,r,xi);r.memoizedProps=r.pendingProps,i===null?Rd(r):Ve=i}function Qv(r){var i=r,a=i.alternate;switch(i.tag){case 15:case 0:i=pv(a,i,i.pendingProps,i.type,void 0,$e);break;case 11:i=pv(a,i,i.pendingProps,i.type.render,i.ref,$e);break;case 5:km(i);default:Ev(a,i),i=Ve=Xy(i,xi),i=wv(a,i,xi)}r.memoizedProps=r.pendingProps,i===null?Rd(r):Ve=i}function No(r,i,a,l){hi=da=null,km(i),vo=null,ic=0;var f=i.return;try{if(d6(r,f,i,a,$e)){Tt=1,bd(r,Kn(a,r.current)),Ve=null;return}}catch(p){if(f!==null)throw Ve=f,p;Tt=1,bd(r,Kn(a,r.current)),Ve=null;return}i.flags&32768?(Qe||l===1?r=!0:_o||($e&536870912)!==0?r=!1:(ts=r=!0,(l===2||l===9||l===3||l===6)&&(l=Zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xv(i,r)):Rd(i)}function Rd(r){var i=r;do{if((i.flags&32768)!==0){Xv(i,ts);return}r=i.return;var a=f6(i.alternate,i,xi);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=r}while(i!==null);Tt===0&&(Tt=5)}function Xv(r,i){do{var a=m6(r.alternate,r);if(a!==null){a.flags&=32767,Ve=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(r=r.sibling,r!==null)){Ve=r;return}Ve=r=a}while(r!==null);Tt=6,Ve=null}function Wv(r,i,a,l,f,p,w,T,j){r.cancelPendingCommit=null;do Cd();while(nn!==0);if((et&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=sm,Tl(r,a,p,w,T,j),r===ct&&(Ve=ct=null,$e=0),To=i,is=r,So=a,up=p,dp=f,Bv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,A6(Us,function(){return n2(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=I.T,I.T=null,f=Y.p,Y.p=2,w=et,et|=4;try{p6(r,i,a)}finally{et=w,Y.p=f,I.T=l}}nn=1,Zv(),Jv(),e2()}}function Zv(){if(nn===1){nn=0;var r=is,i=To,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=I.T,I.T=null;var l=Y.p;Y.p=2;var f=et;et|=4;try{Mv(i,r);var p=Np,w=zy(r.containerInfo),T=p.focusedElem,j=p.selectionRange;if(w!==T&&T&&T.ownerDocument&&Uy(T.ownerDocument.documentElement,T)){if(j!==null&&em(T)){var K=j.start,ie=j.end;if(ie===void 0&&(ie=K),"selectionStart"in T)T.selectionStart=K,T.selectionEnd=Math.min(ie,T.value.length);else{var oe=T.ownerDocument||document,Q=oe&&oe.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),Ce=T.textContent.length,Se=Math.min(j.start,Ce),st=j.end===void 0?Se:Math.min(j.end,Ce);!X.extend&&Se>st&&(w=st,st=Se,Se=w);var B=Ly(T,Se),V=Ly(T,st);if(B&&V&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==V.node||X.focusOffset!==V.offset)){var G=oe.createRange();G.setStart(B.node,B.offset),X.removeAllRanges(),Se>st?(X.addRange(G),X.extend(V.node,V.offset)):(G.setEnd(V.node,V.offset),X.addRange(G))}}}}for(oe=[],X=T;X=X.parentNode;)X.nodeType===1&&oe.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<oe.length;T++){var ae=oe[T];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Bd=!!Ap,Np=Ap=null}finally{et=f,Y.p=l,I.T=a}}r.current=i,nn=2}}function Jv(){if(nn===2){nn=0;var r=is,i=To,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=I.T,I.T=null;var l=Y.p;Y.p=2;var f=et;et|=4;try{kv(r,i.alternate,i)}finally{et=f,Y.p=l,I.T=a}}nn=3}}function e2(){if(nn===4||nn===3){nn=0,Tu();var r=is,i=To,a=So,l=Bv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?nn=5:(nn=0,To=is=null,t2(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(rs=null),qa(a),i=i.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(_t,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=I.T,f=Y.p,Y.p=2,I.T=null;try{for(var p=r.onRecoverableError,w=0;w<l.length;w++){var T=l[w];p(T.value,{componentStack:T.stack})}}finally{I.T=i,Y.p=f}}(So&3)!==0&&Cd(),Or(r),f=r.pendingLanes,(a&4194090)!==0&&(f&42)!==0?r===hp?fc++:(fc=0,hp=r):fc=0,mc(0)}}function t2(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Yl(i)))}function Cd(r){return Zv(),Jv(),e2(),n2()}function n2(){if(nn!==5)return!1;var r=is,i=up;up=0;var a=qa(So),l=I.T,f=Y.p;try{Y.p=32>a?32:a,I.T=null,a=dp,dp=null;var p=is,w=So;if(nn=0,To=is=null,So=0,(et&6)!==0)throw Error(s(331));var T=et;if(et|=4,Uv(p.current),Pv(p,p.current,w,a),et=T,mc(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(_t,p)}catch{}return!0}finally{Y.p=f,I.T=l,t2(r,i)}}function r2(r,i,a){i=Kn(a,i),i=Hm(r.stateNode,i,2),r=Ki(r,i,2),r!==null&&(Zr(r,2),Or(r))}function ot(r,i,a){if(r.tag===3)r2(r,r,a);else for(;i!==null;){if(i.tag===3){r2(i,r,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rs===null||!rs.has(l))){r=Kn(a,r),a=ov(2),l=Ki(i,a,2),l!==null&&(lv(a,l,i,r),Zr(l,2),Or(l));break}}i=i.return}}function gp(r,i,a){var l=r.pingCache;if(l===null){l=r.pingCache=new v6;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(ap=!0,f.add(a),r=E6.bind(null,r,i,a),i.then(r,r))}function E6(r,i,a){var l=r.pingCache;l!==null&&l.delete(i),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,ct===r&&($e&a)===a&&(Tt===4||Tt===3&&($e&62914560)===$e&&300>Fn()-cp?(et&2)===0&&Ao(r,0):op|=a,Eo===$e&&(Eo=0)),Or(r)}function i2(r,i){i===0&&(i=El()),r=oo(r,i),r!==null&&(Zr(r,i),Or(r))}function T6(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),i2(r,a)}function S6(r,i){var a=0;switch(r.tag){case 13:var l=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),i2(r,a)}function A6(r,i){return Bn(r,i)}var kd=null,Ro=null,yp=!1,Id=!1,vp=!1,va=0;function Or(r){r!==Ro&&r.next===null&&(Ro===null?kd=Ro=r:Ro=Ro.next=r),Id=!0,yp||(yp=!0,R6())}function mc(r,i){if(!vp&&Id){vp=!0;do for(var a=!1,l=kd;l!==null;){if(r!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var w=l.suspendedLanes,T=l.pingedLanes;p=(1<<31-ln(42|r)+1)-1,p&=f&~(w&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,l2(l,p))}else p=$e,p=Fa(l,l===ct?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||qs(l,p)||(a=!0,l2(l,p));l=l.next}while(a);vp=!1}}function N6(){s2()}function s2(){Id=yp=!1;var r=0;va!==0&&(P6()&&(r=va),va=0);for(var i=Fn(),a=null,l=kd;l!==null;){var f=l.next,p=a2(l,i);p===0?(l.next=null,a===null?kd=f:a.next=f,f===null&&(Ro=a)):(a=l,(r!==0||(p&3)!==0)&&(Id=!0)),l=f}mc(r)}function a2(r,i){for(var a=r.suspendedLanes,l=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var w=31-ln(p),T=1<<w,j=f[w];j===-1?((T&a)===0||(T&l)!==0)&&(f[w]=wl(T,i)):j<=i&&(r.expiredLanes|=T),p&=~T}if(i=ct,a=$e,a=Fa(r,r===i?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,a===0||r===i&&(tt===2||tt===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&Ls(l),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||qs(r,a)){if(i=a&-a,i===r.callbackPriority)return i;switch(l!==null&&Ls(l),qa(a)){case 2:case 8:a=za;break;case 32:a=Us;break;case 268435456:a=Ba;break;default:a=Us}return l=o2.bind(null,r),a=Bn(a,l),r.callbackPriority=i,r.callbackNode=a,i}return l!==null&&l!==null&&Ls(l),r.callbackPriority=2,r.callbackNode=null,2}function o2(r,i){if(nn!==0&&nn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(Cd()&&r.callbackNode!==a)return null;var l=$e;return l=Fa(r,r===ct?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(qv(r,l,i),a2(r,Fn()),r.callbackNode!=null&&r.callbackNode===a?o2.bind(null,r):null)}function l2(r,i){if(Cd())return null;qv(r,i,!0)}function R6(){L6(function(){(et&6)!==0?Bn(bl,N6):s2()})}function bp(){return va===0&&(va=_l()),va}function c2(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Qa(""+r)}function u2(r,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,r.id&&a.setAttribute("form",r.id),i.parentNode.insertBefore(a,i),r=new FormData(r),a.parentNode.removeChild(a),r}function C6(r,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var p=c2((f[kt]||null).action),w=l.submitter;w&&(i=(i=w[kt]||null)?c2(i.formAction):w.getAttribute("formAction"),i!==null&&(p=i,w=null));var T=new Xa("action","action",null,l,f);r.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var j=w?u2(f,w):new FormData(f);Um(a,{pending:!0,data:j,method:f.method,action:p},null,j)}}else typeof p=="function"&&(T.preventDefault(),j=w?u2(f,w):new FormData(f),Um(a,{pending:!0,data:j,method:f.method,action:p},p,j))},currentTarget:f}]})}}for(var xp=0;xp<im.length;xp++){var wp=im[xp],k6=wp.toLowerCase(),I6=wp[0].toUpperCase()+wp.slice(1);or(k6,"on"+I6)}or(qy,"onAnimationEnd"),or(Hy,"onAnimationIteration"),or($y,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(K3,"onTransitionRun"),or(Q3,"onTransitionStart"),or(X3,"onTransitionCancel"),or(Gy,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function d2(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var l=r[a],f=l.event;l=l.listeners;e:{var p=void 0;if(i)for(var w=l.length-1;0<=w;w--){var T=l[w],j=T.instance,K=T.currentTarget;if(T=T.listener,j!==p&&f.isPropagationStopped())break e;p=T,f.currentTarget=K;try{p(f)}catch(ie){vd(ie)}f.currentTarget=null,p=j}else for(w=0;w<l.length;w++){if(T=l[w],j=T.instance,K=T.currentTarget,T=T.listener,j!==p&&f.isPropagationStopped())break e;p=T,f.currentTarget=K;try{p(f)}catch(ie){vd(ie)}f.currentTarget=null,p=j}}}}function Le(r,i){var a=i[Al];a===void 0&&(a=i[Al]=new Set);var l=r+"__bubble";a.has(l)||(h2(i,r,2,!1),a.add(l))}function _p(r,i,a){var l=0;i&&(l|=4),h2(a,r,l,i)}var Dd="_reactListening"+Math.random().toString(36).slice(2);function Ep(r){if(!r[Dd]){r[Dd]=!0,Nl.forEach(function(a){a!=="selectionchange"&&(D6.has(a)||_p(a,!1,r),_p(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Dd]||(i[Dd]=!0,_p("selectionchange",!1,i))}}function h2(r,i,a,l){switch(P2(i)){case 2:var f=sE;break;case 8:f=aE;break;default:f=Vp}a=f.bind(null,i,a,r),f=void 0,!Gn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?r.addEventListener(i,a,{capture:!0,passive:f}):r.addEventListener(i,a,!0):f!==void 0?r.addEventListener(i,a,{passive:f}):r.addEventListener(i,a,!1)}function Tp(r,i,a,l,f){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var T=l.stateNode.containerInfo;if(T===f)break;if(w===4)for(w=l.return;w!==null;){var j=w.tag;if((j===3||j===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;T!==null;){if(w=Jr(T),w===null)return;if(j=w.tag,j===5||j===6||j===26||j===27){l=p=w;continue e}T=T.parentNode}}l=l.return}Mu(function(){var K=p,ie=$n(a),oe=[];e:{var Q=Yy.get(r);if(Q!==void 0){var X=Xa,Ce=r;switch(r){case"keypress":if(Ar(a)===0)break e;case"keydown":case"keyup":X=no;break;case"focusin":Ce="focus",X=Ja;break;case"focusout":Ce="blur",X=Ja;break;case"beforeblur":case"afterblur":X=Ja;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Fu;break;case qy:case Hy:case $y:X=eo;break;case Gy:X=Hu;break;case"scroll":case"scrollend":X=Ou;break;case"wheel":X=ro;break;case"copy":case"cut":case"paste":X=to;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ul;break;case"toggle":case"beforetoggle":X=Gu}var Se=(i&4)!==0,st=!Se&&(r==="scroll"||r==="scrollend"),B=Se?Q!==null?Q+"Capture":null:Q;Se=[];for(var V=K,G;V!==null;){var ae=V;if(G=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||G===null||B===null||(ae=Ws(V,B),ae!=null&&Se.push(gc(V,ae,G))),st)break;V=V.return}0<Se.length&&(Q=new X(Q,Ce,null,a,ie),oe.push({event:Q,listeners:Se}))}}if((i&7)===0){e:{if(Q=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",Q&&a!==ri&&(Ce=a.relatedTarget||a.fromElement)&&(Jr(Ce)||Ce[qn]))break e;if((X||Q)&&(Q=ie.window===ie?ie:(Q=ie.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(Ce=a.relatedTarget||a.toElement,X=K,Ce=Ce?Jr(Ce):null,Ce!==null&&(st=c(Ce),Se=Ce.tag,Ce!==st||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(X=null,Ce=K),X!==Ce)){if(Se=Yn,ae="onMouseLeave",B="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(Se=Ul,ae="onPointerLeave",B="onPointerEnter",V="pointer"),st=X==null?Q:_r(X),G=Ce==null?Q:_r(Ce),Q=new Se(ae,V+"leave",X,a,ie),Q.target=st,Q.relatedTarget=G,ae=null,Jr(ie)===K&&(Se=new Se(B,V+"enter",Ce,a,ie),Se.target=G,Se.relatedTarget=st,ae=Se),st=ae,X&&Ce)t:{for(Se=X,B=Ce,V=0,G=Se;G;G=Co(G))V++;for(G=0,ae=B;ae;ae=Co(ae))G++;for(;0<V-G;)Se=Co(Se),V--;for(;0<G-V;)B=Co(B),G--;for(;V--;){if(Se===B||B!==null&&Se===B.alternate)break t;Se=Co(Se),B=Co(B)}Se=null}else Se=null;X!==null&&f2(oe,Q,X,Se,!1),Ce!==null&&st!==null&&f2(oe,st,Ce,Se,!0)}}e:{if(Q=K?_r(K):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var be=Dy;else if(zt(Q))if(jy)be=$3;else{be=q3;var Pe=F3}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&Dl(K.elementType)&&(be=Dy):be=H3;if(be&&(be=be(r,K))){li(oe,be,a,ie);break e}Pe&&Pe(r,Q,K),r==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&qi(Q,"number",Q.value)}switch(Pe=K?_r(K):window,r){case"focusin":(zt(Pe)||Pe.contentEditable==="true")&&(io=Pe,tm=K,Fl=null);break;case"focusout":Fl=tm=io=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,By(oe,a,ie);break;case"selectionchange":if(Y3)break;case"keydown":case"keyup":By(oe,a,ie)}var we;if(Cr)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else qe?Z(r,a)&&(Ae="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(x&&a.locale!=="ko"&&(qe||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&qe&&(we=Ml()):(Sr=ie,Hi="value"in Sr?Sr.value:Sr.textContent,qe=!0)),Pe=jd(K,Ae),0<Pe.length&&(Ae=new Vl(Ae,r,null,a,ie),oe.push({event:Ae,listeners:Pe}),we?Ae.data=we:(we=pe(a),we!==null&&(Ae.data=we)))),(we=v?Ut(r,a):He(r,a))&&(Ae=jd(K,"onBeforeInput"),0<Ae.length&&(Pe=new Vl("onBeforeInput","beforeinput",null,a,ie),oe.push({event:Pe,listeners:Ae}),Pe.data=we)),C6(oe,r,K,a,ie)}d2(oe,i)})}function gc(r,i,a){return{instance:r,listener:i,currentTarget:a}}function jd(r,i){for(var a=i+"Capture",l=[];r!==null;){var f=r,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ws(r,a),f!=null&&l.unshift(gc(r,f,p)),f=Ws(r,i),f!=null&&l.push(gc(r,f,p))),r.tag===3)return l;r=r.return}return[]}function Co(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function f2(r,i,a,l,f){for(var p=i._reactName,w=[];a!==null&&a!==l;){var T=a,j=T.alternate,K=T.stateNode;if(T=T.tag,j!==null&&j===l)break;T!==5&&T!==26&&T!==27||K===null||(j=K,f?(K=Ws(a,p),K!=null&&w.unshift(gc(a,K,j))):f||(K=Ws(a,p),K!=null&&w.push(gc(a,K,j)))),a=a.return}w.length!==0&&r.push({event:i,listeners:w})}var j6=/\r\n?/g,M6=/\u0000|\uFFFD/g;function m2(r){return(typeof r=="string"?r:""+r).replace(j6,`
`).replace(M6,"")}function p2(r,i){return i=m2(i),m2(r)===i}function Md(){}function it(r,i,a,l,f,p){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Hn(r,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Hn(r,""+l);break;case"className":Er(r,"class",l);break;case"tabIndex":Er(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(r,a,l);break;case"style":Il(r,l,p);break;case"data":if(i!=="object"){Er(r,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){r.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=Qa(""+l),r.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(i!=="input"&&it(r,i,"name",f.name,f,null),it(r,i,"formEncType",f.formEncType,f,null),it(r,i,"formMethod",f.formMethod,f,null),it(r,i,"formTarget",f.formTarget,f,null)):(it(r,i,"encType",f.encType,f,null),it(r,i,"method",f.method,f,null),it(r,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=Qa(""+l),r.setAttribute(a,l);break;case"onClick":l!=null&&(r.onclick=Md);break;case"onScroll":l!=null&&Le("scroll",r);break;case"onScrollEnd":l!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}a=Qa(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""+l):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":l===!0?r.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,l):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(a,l):r.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(a):r.setAttribute(a,l);break;case"popover":Le("beforetoggle",r),Le("toggle",r),Fi(r,"popover",l);break;case"xlinkActuate":Jt(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Jt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Jt(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Jt(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Jt(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Jt(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Jt(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Jt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Jt(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fi(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Kf.get(a)||a,Fi(r,a,l))}}function Sp(r,i,a,l,f,p){switch(a){case"style":Il(r,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"children":typeof l=="string"?Hn(r,l):(typeof l=="number"||typeof l=="bigint")&&Hn(r,""+l);break;case"onScroll":l!=null&&Le("scroll",r);break;case"onScrollEnd":l!=null&&Le("scrollend",r);break;case"onClick":l!=null&&(r.onclick=Md);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ha.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),p=r[kt]||null,p=p!=null?p[a]:null,typeof p=="function"&&r.removeEventListener(i,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(i,l,f);break e}a in r?r[a]=l:l===!0?r.setAttribute(a,""):Fi(r,a,l)}}}function rn(r,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var w=a[p];if(w!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(r,i,p,w,a,null)}}f&&it(r,i,"srcSet",a.srcSet,a,null),l&&it(r,i,"src",a.src,a,null);return;case"input":Le("invalid",r);var T=p=w=f=null,j=null,K=null;for(l in a)if(a.hasOwnProperty(l)){var ie=a[l];if(ie!=null)switch(l){case"name":f=ie;break;case"type":w=ie;break;case"checked":j=ie;break;case"defaultChecked":K=ie;break;case"value":p=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,i));break;default:it(r,i,l,ie,a,null)}}Ks(r,p,T,j,K,w,f,!1),Ka(r);return;case"select":Le("invalid",r),l=w=p=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":p=T;break;case"defaultValue":w=T;break;case"multiple":l=T;default:it(r,i,f,T,a,null)}i=p,a=w,r.multiple=!!l,i!=null?ni(r,!!l,i,!1):a!=null&&ni(r,!!l,a,!0);return;case"textarea":Le("invalid",r),p=f=l=null;for(w in a)if(a.hasOwnProperty(w)&&(T=a[w],T!=null))switch(w){case"value":l=T;break;case"defaultValue":f=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:it(r,i,w,T,a,null)}Qs(r,l,f,p),Ka(r);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(r,i,j,l,a,null)}return;case"dialog":Le("beforetoggle",r),Le("toggle",r),Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(l=0;l<pc.length;l++)Le(pc[l],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(l=a[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(r,i,K,l,a,null)}return;default:if(Dl(i)){for(ie in a)a.hasOwnProperty(ie)&&(l=a[ie],l!==void 0&&Sp(r,i,ie,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&it(r,i,T,l,a,null))}function O6(r,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,w=null,T=null,j=null,K=null,ie=null;for(X in a){var oe=a[X];if(a.hasOwnProperty(X)&&oe!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":j=oe;default:l.hasOwnProperty(X)||it(r,i,X,null,l,oe)}}for(var Q in l){var X=l[Q];if(oe=a[Q],l.hasOwnProperty(Q)&&(X!=null||oe!=null))switch(Q){case"type":p=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":ie=X;break;case"value":w=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==oe&&it(r,i,Q,X,l,oe)}}kn(r,w,T,j,K,ie,p,f);return;case"select":X=w=T=Q=null;for(p in a)if(j=a[p],a.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":X=j;default:l.hasOwnProperty(p)||it(r,i,p,null,l,j)}for(f in l)if(p=l[f],j=a[f],l.hasOwnProperty(f)&&(p!=null||j!=null))switch(f){case"value":Q=p;break;case"defaultValue":T=p;break;case"multiple":w=p;default:p!==j&&it(r,i,f,p,l,j)}i=T,a=w,l=X,Q!=null?ni(r,!!a,Q,!1):!!l!=!!a&&(i!=null?ni(r,!!a,i,!0):ni(r,!!a,a?[]:"",!1));return;case"textarea":X=Q=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:it(r,i,T,null,l,f)}for(w in l)if(f=l[w],p=a[w],l.hasOwnProperty(w)&&(f!=null||p!=null))switch(w){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&it(r,i,w,f,l,p)}nt(r,Q,X);return;case"option":for(var Ce in a)if(Q=a[Ce],a.hasOwnProperty(Ce)&&Q!=null&&!l.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:it(r,i,Ce,null,l,Q)}for(j in l)if(Q=l[j],X=a[j],l.hasOwnProperty(j)&&Q!==X&&(Q!=null||X!=null))switch(j){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:it(r,i,j,Q,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)Q=a[Se],a.hasOwnProperty(Se)&&Q!=null&&!l.hasOwnProperty(Se)&&it(r,i,Se,null,l,Q);for(K in l)if(Q=l[K],X=a[K],l.hasOwnProperty(K)&&Q!==X&&(Q!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:it(r,i,K,Q,l,X)}return;default:if(Dl(i)){for(var st in a)Q=a[st],a.hasOwnProperty(st)&&Q!==void 0&&!l.hasOwnProperty(st)&&Sp(r,i,st,void 0,l,Q);for(ie in l)Q=l[ie],X=a[ie],!l.hasOwnProperty(ie)||Q===X||Q===void 0&&X===void 0||Sp(r,i,ie,Q,l,X);return}}for(var B in a)Q=a[B],a.hasOwnProperty(B)&&Q!=null&&!l.hasOwnProperty(B)&&it(r,i,B,null,l,Q);for(oe in l)Q=l[oe],X=a[oe],!l.hasOwnProperty(oe)||Q===X||Q==null&&X==null||it(r,i,oe,Q,l,X)}var Ap=null,Np=null;function Od(r){return r.nodeType===9?r:r.ownerDocument}function g2(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y2(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Rp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cp=null;function P6(){var r=window.event;return r&&r.type==="popstate"?r===Cp?!1:(Cp=r,!0):(Cp=null,!1)}var v2=typeof setTimeout=="function"?setTimeout:void 0,V6=typeof clearTimeout=="function"?clearTimeout:void 0,b2=typeof Promise=="function"?Promise:void 0,L6=typeof queueMicrotask=="function"?queueMicrotask:typeof b2<"u"?function(r){return b2.resolve(null).then(r).catch(U6)}:v2;function U6(r){setTimeout(function(){throw r})}function as(r){return r==="head"}function x2(r,i){var a=i,l=0,f=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<l&&8>l){a=l;var w=r.ownerDocument;if(a&1&&yc(w.documentElement),a&2&&yc(w.body),a&4)for(a=w.head,yc(a),w=a.firstChild;w;){var T=w.nextSibling,j=w.nodeName;w[Hs]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=T}}if(f===0){r.removeChild(p),Sc(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=p}while(a);Sc(i)}function kp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kp(a),Bi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function z6(r,i,a,l){for(;r.nodeType===1;){var f=a;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Hs])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=cr(r.nextSibling),r===null)break}return null}function B6(r,i,a){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=cr(r.nextSibling),r===null))return null;return r}function Ip(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function F6(r,i){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function cr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Dp=null;function w2(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}function _2(r,i,a){switch(i=Od(a),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function yc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Bi(r)}var er=new Map,E2=new Set;function Pd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var wi=Y.d;Y.d={f:q6,r:H6,D:$6,C:G6,L:Y6,m:K6,X:X6,S:Q6,M:W6};function q6(){var r=wi.f(),i=Nd();return r||i}function H6(r){var i=wr(r);i!==null&&i.tag===5&&i.type==="form"?q1(i):wi.r(r)}var ko=typeof document>"u"?null:document;function T2(r,i,a){var l=ko;if(l&&typeof i=="string"&&i){var f=It(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),E2.has(f)||(E2.add(f),r={rel:r,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),rn(i,"link",r),At(i),l.head.appendChild(i)))}}function $6(r){wi.D(r),T2("dns-prefetch",r,null)}function G6(r,i){wi.C(r,i),T2("preconnect",r,i)}function Y6(r,i,a){wi.L(r,i,a);var l=ko;if(l&&r&&i){var f='link[rel="preload"][as="'+It(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+It(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+It(a.imageSizes)+'"]')):f+='[href="'+It(r)+'"]';var p=f;switch(i){case"style":p=Io(r);break;case"script":p=Do(r)}er.has(p)||(r=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:r,as:i},a),er.set(p,r),l.querySelector(f)!==null||i==="style"&&l.querySelector(vc(p))||i==="script"&&l.querySelector(bc(p))||(i=l.createElement("link"),rn(i,"link",r),At(i),l.head.appendChild(i)))}}function K6(r,i){wi.m(r,i);var a=ko;if(a&&r){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+It(l)+'"][href="'+It(r)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Do(r)}if(!er.has(p)&&(r=b({rel:"modulepreload",href:r},i),er.set(p,r),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bc(p)))return}l=a.createElement("link"),rn(l,"link",r),At(l),a.head.appendChild(l)}}}function Q6(r,i,a){wi.S(r,i,a);var l=ko;if(l&&r){var f=gn(l).hoistableStyles,p=Io(r);i=i||"default";var w=f.get(p);if(!w){var T={loading:0,preload:null};if(w=l.querySelector(vc(p)))T.loading=5;else{r=b({rel:"stylesheet",href:r,"data-precedence":i},a),(a=er.get(p))&&jp(r,a);var j=w=l.createElement("link");At(j),rn(j,"link",r),j._p=new Promise(function(K,ie){j.onload=K,j.onerror=ie}),j.addEventListener("load",function(){T.loading|=1}),j.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Vd(w,i,l)}w={type:"stylesheet",instance:w,count:1,state:T},f.set(p,w)}}}function X6(r,i){wi.X(r,i);var a=ko;if(a&&r){var l=gn(a).hoistableScripts,f=Do(r),p=l.get(f);p||(p=a.querySelector(bc(f)),p||(r=b({src:r,async:!0},i),(i=er.get(f))&&Mp(r,i),p=a.createElement("script"),At(p),rn(p,"link",r),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function W6(r,i){wi.M(r,i);var a=ko;if(a&&r){var l=gn(a).hoistableScripts,f=Do(r),p=l.get(f);p||(p=a.querySelector(bc(f)),p||(r=b({src:r,async:!0,type:"module"},i),(i=er.get(f))&&Mp(r,i),p=a.createElement("script"),At(p),rn(p,"link",r),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function S2(r,i,a,l){var f=(f=xe.current)?Pd(f):null;if(!f)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Io(a.href),a=gn(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=Io(a.href);var p=gn(f).hoistableStyles,w=p.get(r);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,w),(p=f.querySelector(vc(r)))&&!p._p&&(w.instance=p,w.state.loading=5),er.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},er.set(r,a),p||Z6(f,r,a,w.state))),i&&l===null)throw Error(s(528,""));return w}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Do(a),a=gn(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Io(r){return'href="'+It(r)+'"'}function vc(r){return'link[rel="stylesheet"]['+r+"]"}function A2(r){return b({},r,{"data-precedence":r.precedence,precedence:null})}function Z6(r,i,a,l){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),rn(i,"link",a),At(i),r.head.appendChild(i))}function Do(r){return'[src="'+It(r)+'"]'}function bc(r){return"script[async]"+r}function N2(r,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=r.querySelector('style[data-href~="'+It(a.href)+'"]');if(l)return i.instance=l,At(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),At(l),rn(l,"style",f),Vd(l,a.precedence,r),i.instance=l;case"stylesheet":f=Io(a.href);var p=r.querySelector(vc(f));if(p)return i.state.loading|=4,i.instance=p,At(p),p;l=A2(a),(f=er.get(f))&&jp(l,f),p=(r.ownerDocument||r).createElement("link"),At(p);var w=p;return w._p=new Promise(function(T,j){w.onload=T,w.onerror=j}),rn(p,"link",l),i.state.loading|=4,Vd(p,a.precedence,r),i.instance=p;case"script":return p=Do(a.src),(f=r.querySelector(bc(p)))?(i.instance=f,At(f),f):(l=a,(f=er.get(p))&&(l=b({},a),Mp(l,f)),r=r.ownerDocument||r,f=r.createElement("script"),At(f),rn(f,"link",l),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Vd(l,a.precedence,r));return i.instance}function Vd(r,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,w=0;w<l.length;w++){var T=l[w];if(T.dataset.precedence===i)p=T;else if(p!==f)break}p?p.parentNode.insertBefore(r,p.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(r,i.firstChild))}function jp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Mp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Ld=null;function R2(r,i,a){if(Ld===null){var l=new Map,f=Ld=new Map;f.set(a,l)}else f=Ld,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(r))return l;for(l.set(r,null),a=a.getElementsByTagName(r),f=0;f<a.length;f++){var p=a[f];if(!(p[Hs]||p[Lt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(i)||"";w=r+w;var T=l.get(w);T?T.push(p):l.set(w,[p])}}return l}function C2(r,i,a){r=r.ownerDocument||r,r.head.insertBefore(a,i==="title"?r.querySelector("head > title"):null)}function J6(r,i,a){if(a===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function k2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var xc=null;function eE(){}function tE(r,i,a){if(xc===null)throw Error(s(475));var l=xc;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Io(a.href),p=r.querySelector(vc(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=Ud.bind(l),r.then(l,l)),i.state.loading|=4,i.instance=p,At(p);return}p=r.ownerDocument||r,a=A2(a),(f=er.get(f))&&jp(a,f),p=p.createElement("link"),At(p);var w=p;w._p=new Promise(function(T,j){w.onload=T,w.onerror=j}),rn(p,"link",a),i.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Ud.bind(l),r.addEventListener("load",i),r.addEventListener("error",i))}}function nE(){if(xc===null)throw Error(s(475));var r=xc;return r.stylesheets&&r.count===0&&Op(r,r.stylesheets),0<r.count?function(i){var a=setTimeout(function(){if(r.stylesheets&&Op(r,r.stylesheets),r.unsuspend){var l=r.unsuspend;r.unsuspend=null,l()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(a)}}:null}function Ud(){if(this.count--,this.count===0){if(this.stylesheets)Op(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var zd=null;function Op(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,zd=new Map,i.forEach(rE,r),zd=null,Ud.call(r))}function rE(r,i){if(!(i.state.loading&4)){var a=zd.get(r);if(a)var l=a.get(null);else{a=new Map,zd.set(r,a);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var w=f[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),l=w)}l&&a.set(null,l)}f=i.instance,w=f.getAttribute("data-precedence"),p=a.get(w)||l,p===l&&a.set(null,f),a.set(w,f),this.count++,l=Ud.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var wc={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function iE(r,i,a,l,f,p,w,T){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function I2(r,i,a,l,f,p,w,T,j,K,ie,oe){return r=new iE(r,i,a,w,T,j,K,oe),i=1,p===!0&&(i|=24),p=Dn(3,null,null,i),r.current=p,p.stateNode=r,i=gm(),i.refCount++,r.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:i},xm(p),r}function D2(r){return r?(r=lo,r):lo}function j2(r,i,a,l,f,p){f=D2(f),l.context===null?l.context=f:l.pendingContext=f,l=Yi(i),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=Ki(r,l,i),a!==null&&(Vn(a,r,i),Wl(a,r,i))}function M2(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Pp(r,i){M2(r,i),(r=r.alternate)&&M2(r,i)}function O2(r){if(r.tag===13){var i=oo(r,67108864);i!==null&&Vn(i,r,67108864),Pp(r,67108864)}}var Bd=!0;function sE(r,i,a,l){var f=I.T;I.T=null;var p=Y.p;try{Y.p=2,Vp(r,i,a,l)}finally{Y.p=p,I.T=f}}function aE(r,i,a,l){var f=I.T;I.T=null;var p=Y.p;try{Y.p=8,Vp(r,i,a,l)}finally{Y.p=p,I.T=f}}function Vp(r,i,a,l){if(Bd){var f=Lp(l);if(f===null)Tp(r,i,l,Fd,a),V2(r,l);else if(lE(f,r,i,a,l))l.stopPropagation();else if(V2(r,l),i&4&&-1<oE.indexOf(r)){for(;f!==null;){var p=wr(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=ir(p.pendingLanes);if(w!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;w;){var j=1<<31-ln(w);T.entanglements[1]|=j,w&=~j}Or(p),(et&6)===0&&(Sd=Fn()+500,mc(0))}}break;case 13:T=oo(p,2),T!==null&&Vn(T,p,2),Nd(),Pp(p,2)}if(p=Lp(l),p===null&&Tp(r,i,l,Fd,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else Tp(r,i,l,null,a)}}function Lp(r){return r=$n(r),Up(r)}var Fd=null;function Up(r){if(Fd=null,r=Jr(r),r!==null){var i=c(r);if(i===null)r=null;else{var a=i.tag;if(a===13){if(r=d(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Fd=r,null}function P2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ff()){case bl:return 2;case za:return 8;case Us:case qf:return 32;case Ba:return 268435456;default:return 32}default:return 32}}var zp=!1,os=null,ls=null,cs=null,_c=new Map,Ec=new Map,us=[],oE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V2(r,i){switch(r){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":_c.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(i.pointerId)}}function Tc(r,i,a,l,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},i!==null&&(i=wr(i),i!==null&&O2(i)),r):(r.eventSystemFlags|=l,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function lE(r,i,a,l,f){switch(i){case"focusin":return os=Tc(os,r,i,a,l,f),!0;case"dragenter":return ls=Tc(ls,r,i,a,l,f),!0;case"mouseover":return cs=Tc(cs,r,i,a,l,f),!0;case"pointerover":var p=f.pointerId;return _c.set(p,Tc(_c.get(p)||null,r,i,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Ec.set(p,Tc(Ec.get(p)||null,r,i,a,l,f)),!0}return!1}function L2(r){var i=Jr(r.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){r.blockedOn=i,Nu(r.priority,function(){if(a.tag===13){var l=Pn();l=Li(l);var f=oo(a,l);f!==null&&Vn(f,a,l),Pp(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qd(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Lp(r.nativeEvent);if(a===null){a=r.nativeEvent;var l=new a.constructor(a.type,a);ri=l,a.target.dispatchEvent(l),ri=null}else return i=wr(a),i!==null&&O2(i),r.blockedOn=a,!1;i.shift()}return!0}function U2(r,i,a){qd(r)&&a.delete(i)}function cE(){zp=!1,os!==null&&qd(os)&&(os=null),ls!==null&&qd(ls)&&(ls=null),cs!==null&&qd(cs)&&(cs=null),_c.forEach(U2),Ec.forEach(U2)}function Hd(r,i){r.blockedOn===i&&(r.blockedOn=null,zp||(zp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,cE)))}var $d=null;function z2(r){$d!==r&&($d=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$d===r&&($d=null);for(var i=0;i<r.length;i+=3){var a=r[i],l=r[i+1],f=r[i+2];if(typeof l!="function"){if(Up(l||a)===null)continue;break}var p=wr(a);p!==null&&(r.splice(i,3),i-=3,Um(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Sc(r){function i(j){return Hd(j,r)}os!==null&&Hd(os,r),ls!==null&&Hd(ls,r),cs!==null&&Hd(cs,r),_c.forEach(i),Ec.forEach(i);for(var a=0;a<us.length;a++){var l=us[a];l.blockedOn===r&&(l.blockedOn=null)}for(;0<us.length&&(a=us[0],a.blockedOn===null);)L2(a),a.blockedOn===null&&us.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],w=f[kt]||null;if(typeof p=="function")w||z2(a);else if(w){var T=null;if(p&&p.hasAttribute("formAction")){if(f=p,w=p[kt]||null)T=w.formAction;else if(Up(f)!==null)continue}else T=w.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),z2(a)}}}function Bp(r){this._internalRoot=r}Gd.prototype.render=Bp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Pn();j2(a,l,r,i,null,null)},Gd.prototype.unmount=Bp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;j2(r.current,2,null,r,null,null),Nd(),i[qn]=null}};function Gd(r){this._internalRoot=r}Gd.prototype.unstable_scheduleHydration=function(r){if(r){var i=Ui();r={blockedOn:null,target:r,priority:i};for(var a=0;a<us.length&&i!==0&&i<us[a].priority;a++);us.splice(a,0,r),a===0&&L2(r)}};var B2=e.version;if(B2!=="19.1.0")throw Error(s(527,B2,"19.1.0"));Y.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=g(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var uE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{_t=Yd.inject(uE),Je=Yd}catch{}}return Nc.createRoot=function(r,i){if(!o(r))throw Error(s(299));var a=!1,l="",f=rv,p=iv,w=sv,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=I2(r,1,!1,null,null,a,l,f,p,w,T,null),r[qn]=i.current,Ep(r),new Bp(i)},Nc.hydrateRoot=function(r,i,a){if(!o(r))throw Error(s(299));var l=!1,f="",p=rv,w=iv,T=sv,j=null,K=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks),a.formState!==void 0&&(K=a.formState)),i=I2(r,1,!0,i,a??null,l,f,p,w,T,j,K),i.context=D2(null),a=i.current,l=Pn(),l=Li(l),f=Yi(l),f.callback=null,Ki(a,f,l),a=l,i.current.lanes=a,Zr(i,a),Or(i),r[qn]=i.current,Ep(r),new Gd(i)},Nc.version="19.1.0",Nc}var W2;function xE(){if(W2)return Hp.exports;W2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hp.exports=bE(),Hp.exports}var wE=xE();const _E=s0(wE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TE=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Z2=n=>{const e=TE(n);return e.charAt(0).toUpperCase()+e.slice(1)},uw=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),SE=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=L.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,...m},g)=>L.createElement("svg",{ref:g,...AE,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:uw("lucide",o),...!c&&!SE(m)&&{"aria-hidden":"true"},...m},[...d.map(([y,b])=>L.createElement(y,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=(n,e)=>{const t=L.forwardRef(({className:s,...o},c)=>L.createElement(NE,{ref:c,iconNode:e,className:uw(`lucide-${EE(Z2(n))}`,`lucide-${n}`,s),...o}));return t.displayName=Z2(n),t};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],CE=Mi("arrow-right",RE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],IE=Mi("award",kE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],jE=Mi("book-open",DE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vg=Mi("eye-off",ME);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bg=Mi("eye",OE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],VE=Mi("globe",PE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],UE=Mi("lock",LE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],BE=Mi("mail",zE);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qE=Mi("users",FE),dw="/CollabriaNexus/assets/LoginImg-CE3dO27n.png";/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var J2="popstate";function HE(n={}){function e(s,o){let{pathname:c,search:d,hash:m}=s.location;return xg("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:qc(o)}return GE(e,t,null,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $E(){return Math.random().toString(36).substring(2,10)}function eb(n,e){return{usr:n.state,key:n.key,idx:e}}function xg(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?sl(e):e,state:t,key:e&&e.key||s||$E()}}function qc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function sl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function GE(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,m="POP",g=null,y=b();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function b(){return(d.state||{idx:null}).idx}function _(){m="POP";let z=b(),$=z==null?null:z-y;y=z,g&&g({action:m,location:F.location,delta:$})}function E(z,$){m="PUSH";let re=xg(F.location,z,$);y=b()+1;let ne=eb(re,y),he=F.createHref(re);try{d.pushState(ne,"",he)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(he)}c&&g&&g({action:m,location:F.location,delta:1})}function D(z,$){m="REPLACE";let re=xg(F.location,z,$);y=b();let ne=eb(re,y),he=F.createHref(re);d.replaceState(ne,"",he),c&&g&&g({action:m,location:F.location,delta:0})}function P(z){return YE(z)}let F={get action(){return m},get location(){return n(o,d)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(J2,_),g=z,()=>{o.removeEventListener(J2,_),g=null}},createHref(z){return e(o,z)},createURL:P,encodeLocation(z){let $=P(z);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:E,replace:D,go(z){return d.go(z)}};return F}function YE(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),gt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:qc(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function hw(n,e,t="/"){return KE(n,e,t,!1)}function KE(n,e,t,s){let o=typeof e=="string"?sl(e):e,c=Ri(o.pathname||"/",t);if(c==null)return null;let d=fw(n);QE(d);let m=null;for(let g=0;m==null&&g<d.length;++g){let y=aT(c);m=iT(d[g],y,s)}return m}function fw(n,e=[],t=[],s=""){let o=(c,d,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};g.relativePath.startsWith("/")&&(gt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Si([s,g.relativePath]),b=t.concat(g);c.children&&c.children.length>0&&(gt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),fw(c.children,e,b,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:nT(y,c.index),routesMeta:b})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let m of mw(c.path))o(c,d,m)}),e}function mw(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=mw(s.join("/")),m=[];return m.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...d),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function QE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:rT(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var XE=/^:[\w-]+$/,WE=3,ZE=2,JE=1,eT=10,tT=-2,tb=n=>n==="*";function nT(n,e){let t=n.split("/"),s=t.length;return t.some(tb)&&(s+=tT),e&&(s+=ZE),t.filter(o=>!tb(o)).reduce((o,c)=>o+(XE.test(c)?WE:c===""?JE:eT),s)}function rT(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function iT(n,e,t=!1){let{routesMeta:s}=n,o={},c="/",d=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,b=c==="/"?e:e.slice(c.length)||"/",_=Ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),E=g.route;if(!_&&y&&t&&!s[s.length-1].route.index&&(_=Ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!_)return null;Object.assign(o,_.params),d.push({params:o,pathname:Si([c,_.pathname]),pathnameBase:uT(Si([c,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(c=Si([c,_.pathnameBase]))}return d}function Ah(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=sT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:b,isOptional:_},E)=>{if(b==="*"){let P=m[E]||"";d=c.slice(0,c.length-P.length).replace(/(.)\/+$/,"$1")}const D=m[E];return _&&!D?y[b]=void 0:y[b]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:n}}function sT(n,e=!1,t=!0){fr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function aT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ri(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function oT(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?sl(n):n;return{pathname:t?t.startsWith("/")?t:lT(t,e):e,search:dT(s),hash:hT(o)}}function lT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Kp(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function o0(n){let e=cT(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function l0(n,e,t,s=!1){let o;typeof n=="string"?o=sl(n):(o={...n},gt(!o.pathname||!o.pathname.includes("?"),Kp("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),Kp("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),Kp("#","search","hash",o)));let c=n===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=t;else{let _=e.length-1;if(!s&&d.startsWith("..")){let E=d.split("/");for(;E[0]==="..";)E.shift(),_-=1;o.pathname=E.join("/")}m=_>=0?e[_]:"/"}let g=oT(o,m),y=d&&d!=="/"&&d.endsWith("/"),b=(c||d===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var Si=n=>n.join("/").replace(/\/\/+/g,"/"),uT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,hT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function fT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var pw=["POST","PUT","PATCH","DELETE"];new Set(pw);var mT=["GET",...pw];new Set(mT);var al=L.createContext(null);al.displayName="DataRouter";var af=L.createContext(null);af.displayName="DataRouterState";L.createContext(!1);var gw=L.createContext({isTransitioning:!1});gw.displayName="ViewTransition";var pT=L.createContext(new Map);pT.displayName="Fetchers";var gT=L.createContext(null);gT.displayName="Await";var vr=L.createContext(null);vr.displayName="Navigation";var ru=L.createContext(null);ru.displayName="Location";var Kr=L.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var c0=L.createContext(null);c0.displayName="RouteError";function yT(n,{relative:e}={}){gt(ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=L.useContext(vr),{hash:o,pathname:c,search:d}=iu(n,{relative:e}),m=c;return t!=="/"&&(m=c==="/"?t:Si([t,c])),s.createHref({pathname:m,search:d,hash:o})}function ol(){return L.useContext(ru)!=null}function Oi(){return gt(ol(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(ru).location}var yw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vw(n){L.useContext(vr).static||L.useLayoutEffect(n)}function Da(){let{isDataRoute:n}=L.useContext(Kr);return n?kT():vT()}function vT(){gt(ol(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(al),{basename:e,navigator:t}=L.useContext(vr),{matches:s}=L.useContext(Kr),{pathname:o}=Oi(),c=JSON.stringify(o0(s)),d=L.useRef(!1);return vw(()=>{d.current=!0}),L.useCallback((g,y={})=>{if(fr(d.current,yw),!d.current)return;if(typeof g=="number"){t.go(g);return}let b=l0(g,JSON.parse(c),o,y.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Si([e,b.pathname])),(y.replace?t.replace:t.push)(b,y.state,y)},[e,t,c,o,n])}L.createContext(null);function iu(n,{relative:e}={}){let{matches:t}=L.useContext(Kr),{pathname:s}=Oi(),o=JSON.stringify(o0(t));return L.useMemo(()=>l0(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function bT(n,e){return bw(n,e)}function bw(n,e,t,s){gt(ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(vr),{matches:c}=L.useContext(Kr),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",b=d&&d.route;{let $=b&&b.path||"";xw(g,!b||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let _=Oi(),E;if(e){let $=typeof e=="string"?sl(e):e;gt(y==="/"||$.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${$.pathname}" was given in the \`location\` prop.`),E=$}else E=_;let D=E.pathname||"/",P=D;if(y!=="/"){let $=y.replace(/^\//,"").split("/");P="/"+D.replace(/^\//,"").split("/").slice($.length).join("/")}let F=hw(n,{pathname:P});fr(b||F!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),fr(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=TT(F&&F.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:Si([y,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:Si([y,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),c,t,s);return e&&z?L.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},z):z}function xT(){let n=CT(),e=fT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:o},t):null,d)}var wT=L.createElement(xT,null),_T=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?L.createElement(Kr.Provider,{value:this.props.routeContext},L.createElement(c0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ET({routeContext:n,match:e,children:t}){let s=L.useContext(al);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Kr.Provider,{value:n},t)}function TT(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t?.errors;if(c!=null){let g=o.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);gt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,m=-1;if(t)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:b,errors:_}=t,E=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!_||_[y.route.id]===void 0);if(y.route.lazy||E){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,b)=>{let _,E=!1,D=null,P=null;t&&(_=c&&y.route.id?c[y.route.id]:void 0,D=y.route.errorElement||wT,d&&(m<0&&b===0?(xw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,P=null):m===b&&(E=!0,P=y.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,b+1)),z=()=>{let $;return _?$=D:E?$=P:y.route.Component?$=L.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=g,L.createElement(ET,{match:y,routeContext:{outlet:g,matches:F,isDataRoute:t!=null},children:$})};return t&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?L.createElement(_T,{location:t.location,revalidation:t.revalidation,component:D,error:_,children:z(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):z()},null)}function u0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ST(n){let e=L.useContext(al);return gt(e,u0(n)),e}function AT(n){let e=L.useContext(af);return gt(e,u0(n)),e}function NT(n){let e=L.useContext(Kr);return gt(e,u0(n)),e}function d0(n){let e=NT(n),t=e.matches[e.matches.length-1];return gt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function RT(){return d0("useRouteId")}function CT(){let n=L.useContext(c0),e=AT("useRouteError"),t=d0("useRouteError");return n!==void 0?n:e.errors?.[t]}function kT(){let{router:n}=ST("useNavigate"),e=d0("useNavigate"),t=L.useRef(!1);return vw(()=>{t.current=!0}),L.useCallback(async(o,c={})=>{fr(t.current,yw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var nb={};function xw(n,e,t){!e&&!nb[n]&&(nb[n]=!0,fr(!1,t))}L.memo(IT);function IT({routes:n,future:e,state:t}){return bw(n,void 0,t,e)}function h0({to:n,replace:e,state:t,relative:s}){gt(ol(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(vr);fr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=L.useContext(Kr),{pathname:d}=Oi(),m=Da(),g=l0(n,o0(c),d,s==="path"),y=JSON.stringify(g);return L.useEffect(()=>{m(JSON.parse(y),{replace:e,state:t,relative:s})},[m,y,s,e,t]),null}function tr(n){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DT({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1}){gt(!ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof t=="string"&&(t=sl(t));let{pathname:g="/",search:y="",hash:b="",state:_=null,key:E="default"}=t,D=L.useMemo(()=>{let P=Ri(g,d);return P==null?null:{location:{pathname:P,search:y,hash:b,state:_,key:E},navigationType:s}},[d,g,y,b,_,E,s]);return fr(D!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:L.createElement(vr.Provider,{value:m},L.createElement(ru.Provider,{children:e,value:D}))}function jT({children:n,location:e}){return bT(wg(n),e)}function wg(n,e=[]){let t=[];return L.Children.forEach(n,(s,o)=>{if(!L.isValidElement(s))return;let c=[...e,o];if(s.type===L.Fragment){t.push.apply(t,wg(s.props.children,c));return}gt(s.type===tr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=wg(s.props.children,c)),t.push(d)}),t}var oh="get",lh="application/x-www-form-urlencoded";function of(n){return n!=null&&typeof n.tagName=="string"}function MT(n){return of(n)&&n.tagName.toLowerCase()==="button"}function OT(n){return of(n)&&n.tagName.toLowerCase()==="form"}function PT(n){return of(n)&&n.tagName.toLowerCase()==="input"}function VT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function LT(n,e){return n.button===0&&(!e||e==="_self")&&!VT(n)}var Kd=null;function UT(){if(Kd===null)try{new FormData(document.createElement("form"),0),Kd=!1}catch{Kd=!0}return Kd}var zT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qp(n){return n!=null&&!zT.has(n)?(fr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):n}function BT(n,e){let t,s,o,c,d;if(OT(n)){let m=n.getAttribute("action");s=m?Ri(m,e):null,t=n.getAttribute("method")||oh,o=Qp(n.getAttribute("enctype"))||lh,c=new FormData(n)}else if(MT(n)||PT(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(s=g?Ri(g,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||oh,o=Qp(n.getAttribute("formenctype"))||Qp(m.getAttribute("enctype"))||lh,c=new FormData(m,n),!UT()){let{name:y,type:b,value:_}=n;if(b==="image"){let E=y?`${y}.`:"";c.append(`${E}x`,"0"),c.append(`${E}y`,"0")}else y&&c.append(y,_)}}else{if(of(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=oh,s=null,o=lh,d=n}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function f0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function FT(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Ri(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function qT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $T(n,e,t){let s=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await qT(c,t);return d.links?d.links():[]}return[]}));return QT(s.flat(1).filter(HT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function rb(n,e,t,s,o,c){let d=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,m=(g,y)=>t[y].pathname!==g.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||m(g,y)):c==="data"?e.filter((g,y)=>{let b=s.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(d(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let _=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function GT(n,e,{includeHydrateFallback:t}={}){return YT(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function YT(n){return[...new Set(n)]}function KT(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function QT(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let c=JSON.stringify(KT(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function ww(){let n=L.useContext(al);return f0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function XT(){let n=L.useContext(af);return f0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var m0=L.createContext(void 0);m0.displayName="FrameworkContext";function _w(){let n=L.useContext(m0);return f0(n,"You must render this element inside a <HydratedRouter> element"),n}function WT(n,e){let t=L.useContext(m0),[s,o]=L.useState(!1),[c,d]=L.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:_}=e,E=L.useRef(null);L.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let F=$=>{$.forEach(re=>{d(re.isIntersecting)})},z=new IntersectionObserver(F,{threshold:.5});return E.current&&z.observe(E.current),()=>{z.disconnect()}}},[n]),L.useEffect(()=>{if(s){let F=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(F)}}},[s]);let D=()=>{o(!0)},P=()=>{o(!1),d(!1)};return t?n!=="intent"?[c,E,{}]:[c,E,{onFocus:Rc(m,D),onBlur:Rc(g,P),onMouseEnter:Rc(y,D),onMouseLeave:Rc(b,P),onTouchStart:Rc(_,D)}]:[!1,E,{}]}function Rc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function ZT({page:n,...e}){let{router:t}=ww(),s=L.useMemo(()=>hw(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?L.createElement(e5,{page:n,matches:s,...e}):null}function JT(n){let{manifest:e,routeModules:t}=_w(),[s,o]=L.useState([]);return L.useEffect(()=>{let c=!1;return $T(n,e,t).then(d=>{c||o(d)}),()=>{c=!0}},[n,e,t]),s}function e5({page:n,matches:e,...t}){let s=Oi(),{manifest:o,routeModules:c}=_w(),{basename:d}=ww(),{loaderData:m,matches:g}=XT(),y=L.useMemo(()=>rb(n,e,g,o,s,"data"),[n,e,g,o,s]),b=L.useMemo(()=>rb(n,e,g,o,s,"assets"),[n,e,g,o,s]),_=L.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let P=new Set,F=!1;if(e.forEach($=>{let re=o.routes[$.route.id];!re||!re.hasLoader||(!y.some(ne=>ne.route.id===$.route.id)&&$.route.id in m&&c[$.route.id]?.shouldRevalidate||re.hasClientLoader?F=!0:P.add($.route.id))}),P.size===0)return[];let z=FT(n,d,"data");return F&&P.size>0&&z.searchParams.set("_routes",e.filter($=>P.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[d,m,s,o,y,e,n,c]),E=L.useMemo(()=>GT(b,o),[b,o]),D=JT(b);return L.createElement(L.Fragment,null,_.map(P=>L.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),E.map(P=>L.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),D.map(({key:P,link:F})=>L.createElement("link",{key:P,...F})))}function t5(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ew=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ew&&(window.__reactRouterVersion="7.7.1")}catch{}function n5({basename:n,children:e,window:t}){let s=L.useRef();s.current==null&&(s.current=HE({window:t,v5Compat:!0}));let o=s.current,[c,d]=L.useState({action:o.action,location:o.location}),m=L.useCallback(g=>{L.startTransition(()=>d(g))},[d]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(DT,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o})}var Tw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lr=L.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:m,target:g,to:y,preventScrollReset:b,viewTransition:_,...E},D){let{basename:P}=L.useContext(vr),F=typeof y=="string"&&Tw.test(y),z,$=!1;if(typeof y=="string"&&F&&(z=y,Ew))try{let k=new URL(window.location.href),O=y.startsWith("//")?new URL(k.protocol+y):new URL(y),M=Ri(O.pathname,P);O.origin===k.origin&&M!=null?y=M+O.search+O.hash:$=!0}catch{fr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=yT(y,{relative:o}),[ne,he,te]=WT(s,E),ue=a5(y,{replace:d,state:m,target:g,preventScrollReset:b,relative:o,viewTransition:_});function R(k){e&&e(k),k.defaultPrevented||ue(k)}let A=L.createElement("a",{...E,...te,href:z||re,onClick:$||c?e:R,ref:t5(D,he),target:g,"data-discover":!F&&t==="render"?"true":void 0});return ne&&!F?L.createElement(L.Fragment,null,A,L.createElement(ZT,{page:re})):A});Lr.displayName="Link";var r5=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:m,children:g,...y},b){let _=iu(d,{relative:y.relative}),E=Oi(),D=L.useContext(af),{navigator:P,basename:F}=L.useContext(vr),z=D!=null&&d5(_)&&m===!0,$=P.encodeLocation?P.encodeLocation(_).pathname:_.pathname,re=E.pathname,ne=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(re=re.toLowerCase(),ne=ne?ne.toLowerCase():null,$=$.toLowerCase()),ne&&F&&(ne=Ri(ne,F)||ne);const he=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let te=re===$||!o&&re.startsWith($)&&re.charAt(he)==="/",ue=ne!=null&&(ne===$||!o&&ne.startsWith($)&&ne.charAt($.length)==="/"),R={isActive:te,isPending:ue,isTransitioning:z},A=te?e:void 0,k;typeof s=="function"?k=s(R):k=[s,te?"active":null,ue?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(R):c;return L.createElement(Lr,{...y,"aria-current":A,className:k,ref:b,style:O,to:d,viewTransition:m},typeof g=="function"?g(R):g)});r5.displayName="NavLink";var i5=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:d=oh,action:m,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:_,...E},D)=>{let P=c5(),F=u5(m,{relative:y}),z=d.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&Tw.test(m),re=ne=>{if(g&&g(ne),ne.defaultPrevented)return;ne.preventDefault();let he=ne.nativeEvent.submitter,te=he?.getAttribute("formmethod")||d;P(he||ne.currentTarget,{fetcherKey:e,method:te,navigate:t,replace:o,state:c,relative:y,preventScrollReset:b,viewTransition:_})};return L.createElement("form",{ref:D,method:z,action:F,onSubmit:s?g:re,...E,"data-discover":!$&&n==="render"?"true":void 0})});i5.displayName="Form";function s5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sw(n){let e=L.useContext(al);return gt(e,s5(n)),e}function a5(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let m=Da(),g=Oi(),y=iu(n,{relative:c});return L.useCallback(b=>{if(LT(b,e)){b.preventDefault();let _=t!==void 0?t:qc(g)===qc(y);m(n,{replace:_,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[g,m,y,t,s,e,n,o,c,d])}var o5=0,l5=()=>`__${String(++o5)}__`;function c5(){let{router:n}=Sw("useSubmit"),{basename:e}=L.useContext(vr),t=RT();return L.useCallback(async(s,o={})=>{let{action:c,method:d,encType:m,formData:g,body:y}=BT(s,e);if(o.navigate===!1){let b=o.fetcherKey||l5();await n.fetch(b,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await n.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function u5(n,{relative:e}={}){let{basename:t}=L.useContext(vr),s=L.useContext(Kr);gt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...iu(n||".",{relative:e})},d=Oi();if(n==null){c.search=d.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(_=>_).forEach(_=>m.append("index",_));let b=m.toString();c.search=b?`?${b}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:Si([t,c.pathname])),qc(c)}function d5(n,{relative:e}={}){let t=L.useContext(gw);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Sw("useViewTransitionState"),o=iu(n,{relative:e});if(!t.isTransitioning)return!1;let c=Ri(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=Ri(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ah(o.pathname,d)!=null||Ah(o.pathname,c)!=null}const h5=()=>{};var ib={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},f5=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],d=n[t++],m=n[t++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=n[t++],d=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Nw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const c=n[o],d=o+1<n.length,m=d?n[o+1]:0,g=o+2<n.length,y=g?n[o+2]:0,b=c>>2,_=(c&3)<<4|m>>4;let E=(m&15)<<2|y>>6,D=y&63;g||(D=64,d||(E=64)),s.push(t[b],t[_],t[E],t[D])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Aw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):f5(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],m=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const _=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||m==null||y==null||_==null)throw new m5;const E=c<<2|m>>4;if(s.push(E),y!==64){const D=m<<4&240|y>>2;if(s.push(D),_!==64){const P=y<<6&192|_;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class m5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p5=function(n){const e=Aw(n);return Nw.encodeByteArray(e,!0)},Nh=function(n){return p5(n).replace(/\./g,"")},Rw=function(n){try{return Nw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=()=>g5().__FIREBASE_DEFAULTS__,v5=()=>{if(typeof process>"u"||typeof ib>"u")return;const n=ib.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},b5=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Rw(n[1]);return e&&JSON.parse(e)},lf=()=>{try{return h5()||y5()||v5()||b5()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Cw=n=>lf()?.emulatorHosts?.[n],kw=n=>{const e=Cw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Iw=()=>lf()?.config,Dw=n=>lf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function p0(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Nh(JSON.stringify(t)),Nh(JSON.stringify(d)),""].join(".")}const Pc={};function w5(){const n={prod:[],emulator:[]};for(const e of Object.keys(Pc))Pc[e]?n.emulator.push(e):n.prod.push(e);return n}function _5(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let sb=!1;function g0(n,e){if(typeof window>"u"||typeof document>"u"||!ja(window.location.host)||Pc[n]===e||Pc[n]||sb)return;Pc[n]=e;function t(E){return`__firebase__banner__${E}`}const s="__firebase__banner",c=w5().prod.length>0;function d(){const E=document.getElementById(s);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function g(E,D){E.setAttribute("width","24"),E.setAttribute("id",D),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function y(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{sb=!0,d()},E}function b(E,D){E.setAttribute("id",D),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=_5(s),D=t("text"),P=document.getElementById(D)||document.createElement("span"),F=t("learnmore"),z=document.getElementById(F)||document.createElement("a"),$=t("preprendIcon"),re=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const ne=E.element;m(ne),b(z,F);const he=y();g(re,$),ne.append(re,P,z,he),document.body.appendChild(ne)}c?(P.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function T5(){const n=lf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A5(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function N5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R5(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function C5(){return!T5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k5(){try{return typeof indexedDB=="object"}catch{return!1}}function I5(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="FirebaseError";class Qr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=D5,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?j5(c,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Qr(o,m,s)}}function j5(n,e){return n.replace(M5,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const M5=/\{\$([^}]+)}/g;function O5(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ss(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=n[o],d=e[o];if(ab(c)&&ab(d)){if(!Ss(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function ab(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Cc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function kc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function P5(n,e){const t=new V5(n,e);return t.subscribe.bind(t)}class V5{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");L5(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Xp),o.error===void 0&&(o.error=Xp),o.complete===void 0&&(o.complete=Xp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L5(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(n){return n&&n._delegate?n._delegate:n}class As{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new x5;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B5(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:z5(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z5(n){return n===ba?void 0:n}function B5(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new U5(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const q5={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},H5=Ue.INFO,$5={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},G5=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=$5[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class y0{constructor(e){this.name=e,this._logLevel=H5,this._logHandler=G5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const Y5=(n,e)=>e.some(t=>n instanceof t);let ob,lb;function K5(){return ob||(ob=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q5(){return lb||(lb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mw=new WeakMap,_g=new WeakMap,Ow=new WeakMap,Wp=new WeakMap,v0=new WeakMap;function X5(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{t(bs(n.result)),o()},d=()=>{s(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&Mw.set(t,n)}).catch(()=>{}),v0.set(e,n),e}function W5(n){if(_g.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{t(),o()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});_g.set(n,e)}let Eg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _g.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ow.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Z5(n){Eg=n(Eg)}function J5(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Zp(this),e,...t);return Ow.set(s,e.sort?e.sort():[e]),bs(s)}:Q5().includes(n)?function(...e){return n.apply(Zp(this),e),bs(Mw.get(this))}:function(...e){return bs(n.apply(Zp(this),e))}}function eS(n){return typeof n=="function"?J5(n):(n instanceof IDBTransaction&&W5(n),Y5(n,K5())?new Proxy(n,Eg):n)}function bs(n){if(n instanceof IDBRequest)return X5(n);if(Wp.has(n))return Wp.get(n);const e=eS(n);return e!==n&&(Wp.set(n,e),v0.set(e,n)),e}const Zp=n=>v0.get(n);function tS(n,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(n,e),m=bs(d);return s&&d.addEventListener("upgradeneeded",g=>{s(bs(d.result),g.oldVersion,g.newVersion,bs(d.transaction),g)}),t&&d.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const nS=["get","getKey","getAll","getAllKeys","count"],rS=["put","add","delete","clear"],Jp=new Map;function cb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jp.get(e))return Jp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=rS.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||nS.includes(t)))return;const c=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&g.done]))[0]};return Jp.set(e,c),c}Z5(n=>({...n,get:(e,t,s)=>cb(e,t)||n.get(e,t,s),has:(e,t)=>!!cb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sS(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function sS(n){return n.getComponent()?.type==="VERSION"}const Tg="@firebase/app",ub="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new y0("@firebase/app"),aS="@firebase/app-compat",oS="@firebase/analytics-compat",lS="@firebase/analytics",cS="@firebase/app-check-compat",uS="@firebase/app-check",dS="@firebase/auth",hS="@firebase/auth-compat",fS="@firebase/database",mS="@firebase/data-connect",pS="@firebase/database-compat",gS="@firebase/functions",yS="@firebase/functions-compat",vS="@firebase/installations",bS="@firebase/installations-compat",xS="@firebase/messaging",wS="@firebase/messaging-compat",_S="@firebase/performance",ES="@firebase/performance-compat",TS="@firebase/remote-config",SS="@firebase/remote-config-compat",AS="@firebase/storage",NS="@firebase/storage-compat",RS="@firebase/firestore",CS="@firebase/ai",kS="@firebase/firestore-compat",IS="firebase",DS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="[DEFAULT]",jS={[Tg]:"fire-core",[aS]:"fire-core-compat",[lS]:"fire-analytics",[oS]:"fire-analytics-compat",[uS]:"fire-app-check",[cS]:"fire-app-check-compat",[dS]:"fire-auth",[hS]:"fire-auth-compat",[fS]:"fire-rtdb",[mS]:"fire-data-connect",[pS]:"fire-rtdb-compat",[gS]:"fire-fn",[yS]:"fire-fn-compat",[vS]:"fire-iid",[bS]:"fire-iid-compat",[xS]:"fire-fcm",[wS]:"fire-fcm-compat",[_S]:"fire-perf",[ES]:"fire-perf-compat",[TS]:"fire-rc",[SS]:"fire-rc-compat",[AS]:"fire-gcs",[NS]:"fire-gcs-compat",[RS]:"fire-fst",[kS]:"fire-fst-compat",[CS]:"fire-vertex","fire-js":"fire-js",[IS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,MS=new Map,Ag=new Map;function hb(n,e){try{n.container.addComponent(e)}catch(t){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Na(n){const e=n.name;if(Ag.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Ag.set(e,n);for(const t of Rh.values())hb(t,n);for(const t of MS.values())hb(t,n);return!0}function cf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Un(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new su("app","Firebase",OS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=DS;function Pw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Sg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw xs.create("bad-app-name",{appName:String(o)});if(t||(t=Iw()),!t)throw xs.create("no-options");const c=Rh.get(o);if(c){if(Ss(t,c.options)&&Ss(s,c.config))return c;throw xs.create("duplicate-app",{appName:o})}const d=new F5(o);for(const g of Ag.values())d.addComponent(g);const m=new PS(t,s,d);return Rh.set(o,m),m}function b0(n=Sg){const e=Rh.get(n);if(!e&&n===Sg&&Iw())return Pw();if(!e)throw xs.create("no-app",{appName:n});return e}function Ur(n,e,t){let s=jS[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(d.join(" "));return}Na(new As(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="firebase-heartbeat-database",LS=1,Hc="firebase-heartbeat-store";let eg=null;function Vw(){return eg||(eg=tS(VS,LS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hc)}catch(t){console.warn(t)}}}}).catch(n=>{throw xs.create("idb-open",{originalErrorMessage:n.message})})),eg}async function US(n){try{const t=(await Vw()).transaction(Hc),s=await t.objectStore(Hc).get(Lw(n));return await t.done,s}catch(e){if(e instanceof Qr)Ci.warn(e.message);else{const t=xs.create("idb-get",{originalErrorMessage:e?.message});Ci.warn(t.message)}}}async function fb(n,e){try{const s=(await Vw()).transaction(Hc,"readwrite");await s.objectStore(Hc).put(e,Lw(n)),await s.done}catch(t){if(t instanceof Qr)Ci.warn(t.message);else{const s=xs.create("idb-set",{originalErrorMessage:t?.message});Ci.warn(s.message)}}}function Lw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=1024,BS=30;class FS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HS(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>BS){const o=$S(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ci.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mb(),{heartbeatsToSend:t,unsentEntries:s}=qS(this._heartbeatsCache.heartbeats),o=Nh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ci.warn(e),""}}}function mb(){return new Date().toISOString().substring(0,10)}function qS(n,e=zS){const t=[];let s=n.slice();for(const o of n){const c=t.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),pb(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),pb(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class HS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k5()?I5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await US(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return fb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return fb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function pb(n){return Nh(JSON.stringify({version:2,heartbeats:n})).length}function $S(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(n){Na(new As("platform-logger",e=>new iS(e),"PRIVATE")),Na(new As("heartbeat",e=>new FS(e),"PRIVATE")),Ur(Tg,ub,n),Ur(Tg,ub,"esm2020"),Ur("fire-js","")}GS("");function Uw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YS=Uw,zw=new su("auth","Firebase",Uw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new y0("@firebase/auth");function KS(n,...e){Ch.logLevel<=Ue.WARN&&Ch.warn(`Auth (${Ma}): ${n}`,...e)}function ch(n,...e){Ch.logLevel<=Ue.ERROR&&Ch.error(`Auth (${Ma}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(n,...e){throw x0(n,...e)}function zr(n,...e){return x0(n,...e)}function Bw(n,e,t){const s={...YS(),[e]:t};return new su("auth","Firebase",s).create(e,{appName:n.name})}function Ai(n){return Bw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x0(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return zw.create(n,...e)}function Ne(n,e,...t){if(!n)throw x0(e,...t)}function Ei(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ch(e),new Error(e)}function ki(n,e){n||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){return typeof self<"u"&&self.location?.href||""}function QS(){return gb()==="http:"||gb()==="https:"}function gb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QS()||A5()||"connection"in navigator)?navigator.onLine:!0}function WS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,t){this.shortDelay=e,this.longDelay=t,ki(t>e,"Short delay should be less than long delay!"),this.isMobile=E5()||N5()}get(){return XS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(n,e){ki(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eA=new ou(3e4,6e4);function js(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Pi(n,e,t,s,o={}){return qw(n,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const m=au({key:n.config.apiKey,...d}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:g,...c};return S5()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&ja(n.emulatorConfig.host)&&(y.credentials="include"),Fw.fetch()(await Hw(n,n.config.apiHost,t,m),y)})}async function qw(n,e,t){n._canInitEmulator=!1;const s={...ZS,...e};try{const o=new nA(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Qd(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qd(n,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Qd(n,"email-already-in-use",d);if(g==="USER_DISABLED")throw Qd(n,"user-disabled",d);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Bw(n,b,y);mr(n,b)}}catch(o){if(o instanceof Qr)throw o;mr(n,"network-request-failed",{message:String(o)})}}async function lu(n,e,t,s,o={}){const c=await Pi(n,e,t,s,o);return"mfaPendingCredential"in c&&mr(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function Hw(n,e,t,s){const o=`${e}${t}?${s}`,c=n,d=c.config.emulator?w0(n.config,o):`${n.config.apiScheme}://${o}`;return JS.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function tA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(zr(this.auth,"network-request-failed")),eA.get())})}}function Qd(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=zr(n,e,s);return o.customData._tokenResponse=t,o}function yb(n){return n!==void 0&&n.enterprise!==void 0}class rA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iA(n,e){return Pi(n,"GET","/v2/recaptchaConfig",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sA(n,e){return Pi(n,"POST","/v1/accounts:delete",e)}async function kh(n,e){return Pi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aA(n,e=!1){const t=bt(n),s=await t.getIdToken(e),o=_0(s);Ne(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:Vc(tg(o.auth_time)),issuedAtTime:Vc(tg(o.iat)),expirationTime:Vc(tg(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function tg(n){return Number(n)*1e3}function _0(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=Rw(t);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function vb(n){const e=_0(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Qr&&oA(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function oA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(n){const e=n.auth,t=await n.getIdToken(),s=await $o(n,kh(e,{idToken:t}));Ne(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=o.providerUserInfo?.length?$w(o.providerUserInfo):[],d=uA(n.providerData,c),m=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!d?.length,y=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Rg(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,b)}async function cA(n){const e=bt(n);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uA(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function $w(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(n,e){const t=await qw(n,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,d=await Hw(n,o,"/v1/token",`key=${c}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return n.emulatorConfig&&ja(n.emulatorConfig.host)&&(g.credentials="include"),Fw.fetch()(d,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function hA(n,e){return Pi(n,"POST","/v2/accounts:revokeToken",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=vb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await dA(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,d=new Bo;return s&&(Ne(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Ne(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ne(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ur{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new lA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Rg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await $o(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return aA(this,e)}reload(){return cA(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await $o(this,sA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,d=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,b=t.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:D,providerData:P,stsTokenManager:F}=t;Ne(_&&F,e,"internal-error");const z=Bo.fromJSON(this.name,F);Ne(typeof _=="string",e,"internal-error"),hs(s,e.name),hs(o,e.name),Ne(typeof E=="boolean",e,"internal-error"),Ne(typeof D=="boolean",e,"internal-error"),hs(c,e.name),hs(d,e.name),hs(m,e.name),hs(g,e.name),hs(y,e.name),hs(b,e.name);const $=new ur({uid:_,auth:e,email:o,emailVerified:E,displayName:s,isAnonymous:D,photoURL:d,phoneNumber:c,tenantId:m,stsTokenManager:z,createdAt:y,lastLoginAt:b});return P&&Array.isArray(P)&&($.providerData=P.map(re=>({...re}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,t,s=!1){const o=new Bo;o.updateFromServerResponse(t);const c=new ur({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ih(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ne(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?$w(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,m=new Bo;m.updateFromIdToken(s);const g=new ur({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Rg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Map;function Ti(n){ki(n instanceof Function,"Expected a class definition");let e=bb.get(n);return e?(ki(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Gw.type="NONE";const xb=Gw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(n,e,t){return`firebase:${n}:${e}:${t}`}class Fo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=uh(this.userKey,o.apiKey,c),this.fullPersistenceKey=uh("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await kh(this.auth,{idToken:e}).catch(()=>{});return t?ur._fromGetAccountInfoResponse(this.auth,t,e):null}return ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Fo(Ti(xb),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Ti(xb);const d=uh(s,e.config.apiKey,e.name);let m=null;for(const y of t)try{const b=await y._get(d);if(b){let _;if(typeof b=="string"){const E=await kh(e,{idToken:b}).catch(()=>{});if(!E)break;_=await ur._fromGetAccountInfoResponse(e,E,b)}else _=ur._fromJSON(e,b);y!==c&&(m=_),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Fo(c,e,s):(c=g[0],m&&await c._set(d,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Fo(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zw(e))return"Blackberry";if(Jw(e))return"Webos";if(Kw(e))return"Safari";if((e.includes("chrome/")||Qw(e))&&!e.includes("edge/"))return"Chrome";if(Ww(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function Yw(n=mn()){return/firefox\//i.test(n)}function Kw(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qw(n=mn()){return/crios\//i.test(n)}function Xw(n=mn()){return/iemobile/i.test(n)}function Ww(n=mn()){return/android/i.test(n)}function Zw(n=mn()){return/blackberry/i.test(n)}function Jw(n=mn()){return/webos/i.test(n)}function E0(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function fA(n=mn()){return E0(n)&&!!window.navigator?.standalone}function mA(){return R5()&&document.documentMode===10}function e_(n=mn()){return E0(n)||Ww(n)||Jw(n)||Zw(n)||/windows phone/i.test(n)||Xw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(n,e=[]){let t;switch(n){case"Browser":t=wb(mn());break;case"Worker":t=`${wb(mn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ma}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((d,m)=>{try{const g=e(c);d(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(n,e={}){return Pi(n,"GET","/v2/passwordPolicy",js(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=6;class vA{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??yA,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _b(this),this.idTokenSubscription=new _b(this),this.beforeStateQueue=new pA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ti(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await kh(this,{idToken:e}),s=await ur._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Ai(this));const t=e?bt(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gA(this),t=new vA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await hA(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ti(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{d=!0,g()}}else{const g=e.addObserver(t);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&KS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oa(n){return bt(n)}class _b{constructor(e){this.auth=e,this.observer=null,this.addObserver=P5(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xA(n){uf=n}function n_(n){return uf.loadJS(n)}function wA(){return uf.recaptchaEnterpriseScript}function _A(){return uf.gapiScript}function EA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class TA{constructor(){this.enterprise=new SA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class SA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AA="recaptcha-enterprise",r_="NO_RECAPTCHA";class NA{constructor(e){this.type=AA,this.auth=Oa(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{iA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new rA(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{m(g)})})}function o(c,d,m){const g=window.grecaptcha;yb(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(r_)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TA().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(m=>{if(!t&&yb(window.grecaptcha))o(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=wA();g.length!==0&&(g+=m),n_(g).then(()=>{o(m,c,d)}).catch(y=>{d(y)})}}).catch(m=>{d(m)})})}}async function Eb(n,e,t,s=!1,o=!1){const c=new NA(n);let d;if(o)d=r_;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Cg(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Eb(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Eb(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(n,e){const t=cf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Ss(c,e??{}))return o;mr(o,"already-initialized")}return t.initialize({options:e})}function CA(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ti);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function kA(n,e,t){const s=Oa(n);Ne(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=i_(e),{host:d,port:m}=IA(e),g=m===null?"":`:${m}`,y={url:`${c}//${d}${g}/`},b=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ne(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ne(Ss(y,s.config.emulator)&&Ss(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,ja(d)?(p0(`${c}//${d}${g}`),g0("Auth",!0)):DA()}function i_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function IA(n){const e=i_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:Tb(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Tb(d)}}}function Tb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,t){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function jA(n,e){return Pi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(n,e){return lu(n,"POST","/v1/accounts:signInWithPassword",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(n,e){return lu(n,"POST","/v1/accounts:signInWithEmailLink",js(n,e))}async function PA(n,e){return lu(n,"POST","/v1/accounts:signInWithEmailLink",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends T0{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new $c(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new $c(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,t,"signInWithPassword",MA);case"emailLink":return OA(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,s,"signUpPassword",jA);case"emailLink":return PA(e,{idToken:t,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(n,e){return lu(n,"POST","/v1/accounts:signInWithIdp",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="http://localhost";class Ra extends T0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const d=new Ra(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return qo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,qo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qo(e,t)}buildRequest(){const e={requestUri:VA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=au(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UA(n){const e=Cc(kc(n)).link,t=e?Cc(kc(e)).deep_link_id:null,s=Cc(kc(n)).deep_link_id;return(s?Cc(kc(s)).link:null)||s||t||e||n}class S0{constructor(e){const t=Cc(kc(e)),s=t.apiKey??null,o=t.oobCode??null,c=LA(t.mode??null);Ne(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=UA(e);try{return new S0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.providerId=ll.PROVIDER_ID}static credential(e,t){return $c._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=S0.parseLink(t);return Ne(s,"argument-error"),$c._fromEmailAndCode(e,s.code,s.tenantId)}}ll.PROVIDER_ID="password";ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends s_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends cu{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ra._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ps.credential(t,s)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends cu{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends cu{constructor(){super("twitter.com")}static credential(e,t){return Ra._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ys.credential(t,s)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(n,e){return lu(n,"POST","/v1/accounts:signUp",js(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await ur._fromIdTokenResponse(e,s,o),d=Sb(s);return new Ca({user:c,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Sb(s);return new Ca({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Sb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends Qr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Dh(e,t,s,o)}}function a_(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(n,c,e,s):c})}async function BA(n,e,t=!1){const s=await $o(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ca._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(n,e,t=!1){const{auth:s}=n;if(Un(s.app))return Promise.reject(Ai(s));const o="reauthenticate";try{const c=await $o(n,a_(s,o,e,n),t);Ne(c.idToken,s,"internal-error");const d=_0(c.idToken);Ne(d,s,"internal-error");const{sub:m}=d;return Ne(n.uid===m,s,"user-mismatch"),Ca._forOperation(n,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&mr(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o_(n,e,t=!1){if(Un(n.app))return Promise.reject(Ai(n));const s="signIn",o=await a_(n,s,e),c=await Ca._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(c.user),c}async function qA(n,e){return o_(Oa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l_(n){const e=Oa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HA(n,e,t){if(Un(n.app))return Promise.reject(Ai(n));const s=Oa(n),d=await Cg(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zA).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&l_(n),g}),m=await Ca._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(m.user),m}function $A(n,e,t){return Un(n.app)?Promise.reject(Ai(n)):qA(bt(n),ll.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&l_(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(n,e){return Pi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=bt(n),c={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await $o(s,GA(s.auth,c));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const m=s.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function KA(n,e,t,s){return bt(n).onIdTokenChanged(e,t,s)}function QA(n,e,t){return bt(n).beforeAuthStateChanged(e,t)}function XA(n,e,t,s){return bt(n).onAuthStateChanged(e,t,s)}function WA(n){return bt(n).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=1e3,JA=10;class u_ extends c_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);mA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,JA):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},ZA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}u_.type="LOCAL";const eN=u_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends c_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}d_.type="SESSION";const h_=d_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new df(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,d=this.handlersMap[o];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(d).map(async y=>y(t.origin,c)),g=await tN(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((m,g)=>{const y=A0("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(_){const E=_;if(E.data.eventId===y)switch(E.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(E.data.response);break;default:clearTimeout(b),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function rN(n){Br().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function iN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sN(){return navigator?.serviceWorker?.controller||null}function aN(){return f_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="firebaseLocalStorageDb",oN=1,Mh="firebaseLocalStorage",p_="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hf(n,e){return n.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function lN(){const n=indexedDB.deleteDatabase(m_);return new uu(n).toPromise()}function kg(){const n=indexedDB.open(m_,oN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Mh,{keyPath:p_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Mh)?e(s):(s.close(),await lN(),e(await kg()))})})}async function Ab(n,e,t){const s=hf(n,!0).put({[p_]:e,value:t});return new uu(s).toPromise()}async function cN(n,e){const t=hf(n,!1).get(e),s=await new uu(t).toPromise();return s===void 0?null:s.value}function Nb(n,e){const t=hf(n,!0).delete(e);return new uu(t).toPromise()}const uN=800,dN=3;class g_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>dN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=df._getInstance(aN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iN(),!this.activeServiceWorker)return;this.sender=new nN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kg();return await Ab(e,jh,"1"),await Nb(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ab(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>cN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Nb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=hf(o,!1).getAll();return new uu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g_.type="LOCAL";const hN=g_;new ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(n,e){return e?Ti(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends T0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mN(n){return o_(n.auth,new N0(n),n.bypassAuthState)}function pN(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),FA(t,new N0(n),n.bypassAuthState)}async function gN(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),BA(t,new N0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:d,type:m}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mN;case"linkViaPopup":case"linkViaRedirect":return gN;case"reauthViaPopup":case"reauthViaRedirect":return pN;default:mr(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new ou(2e3,1e4);class Lo extends y_{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Lo.currentPopupAction&&Lo.currentPopupAction.cancel(),Lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=A0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yN.get())};e()}}Lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="pendingRedirect",dh=new Map;class bN extends y_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const s=await xN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xN(n,e){const t=EN(e),s=_N(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function wN(n,e){dh.set(n._key(),e)}function _N(n){return Ti(n._redirectPersistence)}function EN(n){return uh(vN,n.config.apiKey,n.name)}async function TN(n,e,t=!1){if(Un(n.app))return Promise.reject(Ai(n));const s=Oa(n),o=fN(s,e),d=await new bN(s,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=10*60*1e3;class AN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!v_(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(zr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rb(e))}saveEventToCache(e){this.cachedEventUids.add(Rb(e)),this.lastProcessedEventTime=Date.now()}}function Rb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function v_({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function NN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(n,e={}){return Pi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kN=/^https?/;async function IN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await RN(n);for(const t of e)try{if(DN(t))return}catch{}mr(n,"unauthorized-domain")}function DN(n){const e=Ng(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!kN.test(t))return!1;if(CN.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new ou(3e4,6e4);function Cb(){const n=Br().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function MN(n){return new Promise((e,t)=>{function s(){Cb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cb(),t(zr(n,"network-request-failed"))},timeout:jN.get()})}if(Br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Br().gapi?.load)s();else{const o=EA("iframefcb");return Br()[o]=()=>{gapi.load?s():t(zr(n,"network-request-failed"))},n_(`${_A()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw hh=null,e})}let hh=null;function ON(n){return hh=hh||MN(n),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new ou(5e3,15e3),VN="__/auth/iframe",LN="emulator/auth/iframe",UN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BN(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?w0(e,LN):`https://${n.config.authDomain}/${VN}`,s={apiKey:e.apiKey,appName:n.name,v:Ma},o=zN.get(n.config.apiHost);o&&(s.eid=o);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${au(s).slice(1)}`}async function FN(n){const e=await ON(n),t=Br().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:BN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UN,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=zr(n,"network-request-failed"),m=Br().setTimeout(()=>{c(d)},PN.get());function g(){Br().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HN=500,$N=600,GN="_blank",YN="http://localhost";class kb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KN(n,e,t,s=HN,o=$N){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...qN,width:s.toString(),height:o.toString(),top:c,left:d},y=mn().toLowerCase();t&&(m=Qw(y)?GN:t),Yw(y)&&(e=e||YN,g.scrollbars="yes");const b=Object.entries(g).reduce((E,[D,P])=>`${E}${D}=${P},`,"");if(fA(y)&&m!=="_self")return QN(e||"",m),new kb(null);const _=window.open(e||"",m,b);Ne(_,n,"popup-blocked");try{_.focus()}catch{}return new kb(_)}function QN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="__/auth/handler",WN="emulator/auth/handler",ZN=encodeURIComponent("fac");async function Ib(n,e,t,s,o,c){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Ma,eventId:o};if(e instanceof s_){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",O5(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,_]of Object.entries({}))d[b]=_}if(e instanceof cu){const b=e.getScopes().filter(_=>_!=="");b.length>0&&(d.scopes=b.join(","))}n.tenantId&&(d.tid=n.tenantId);const m=d;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await n._getAppCheckToken(),y=g?`#${ZN}=${encodeURIComponent(g)}`:"";return`${JN(n)}?${au(m).slice(1)}${y}`}function JN({config:n}){return n.emulator?w0(n,WN):`https://${n.authDomain}/${XN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="webStorageSupport";class e8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h_,this._completeRedirectFn=TN,this._overrideRedirectResult=wN}async _openPopup(e,t,s,o){ki(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Ib(e,t,s,Ng(),o);return KN(e,c,A0())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await Ib(e,t,s,Ng(),o);return rN(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(ki(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await FN(e),s=new AN(e);return t.register("authEvent",o=>(Ne(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ng,{type:ng},o=>{const c=o?.[0]?.[ng];c!==void 0&&t(!!c),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return e_()||Kw()||E0()}}const t8=e8;var Db="@firebase/auth",jb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i8(n){Na(new As("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=s.options;Ne(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:d,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t_(n)},y=new bA(s,o,c,g);return CA(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Na(new As("auth-internal",e=>{const t=Oa(e.getProvider("auth").getImmediate());return(s=>new n8(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(Db,jb,r8(n)),Ur(Db,jb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=5*60,a8=Dw("authIdTokenMaxAge")||s8;let Mb=null;const o8=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>a8)return;const o=t?.token;Mb!==o&&(Mb=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function l8(n=b0()){const e=cf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=RA(n,{popupRedirectResolver:t8,persistence:[hN,eN,h_]}),s=Dw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=o8(c.toString());QA(t,d,()=>d(t.currentUser)),KA(t,m=>d(m))}}const o=Cw("auth");return o&&kA(t,`http://${o}`),t}function c8(){return document.getElementsByTagName("head")?.[0]??document}xA({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const c=zr("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",c8().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i8("Browser");var u8="firebase",d8="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(u8,d8,"app");var Ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,b_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function k(){}k.prototype=A.prototype,R.D=A.prototype,R.prototype=new k,R.prototype.constructor=R,R.C=function(O,M,U){for(var N=Array(arguments.length-2),me=2;me<arguments.length;me++)N[me-2]=arguments[me];return A.prototype[M].apply(O,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,k){k||(k=0);var O=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)O[M]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(M=0;16>M;++M)O[M]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=R.g[0],k=R.g[1],M=R.g[2];var U=R.g[3],N=A+(U^k&(M^U))+O[0]+3614090360&4294967295;A=k+(N<<7&4294967295|N>>>25),N=U+(M^A&(k^M))+O[1]+3905402710&4294967295,U=A+(N<<12&4294967295|N>>>20),N=M+(k^U&(A^k))+O[2]+606105819&4294967295,M=U+(N<<17&4294967295|N>>>15),N=k+(A^M&(U^A))+O[3]+3250441966&4294967295,k=M+(N<<22&4294967295|N>>>10),N=A+(U^k&(M^U))+O[4]+4118548399&4294967295,A=k+(N<<7&4294967295|N>>>25),N=U+(M^A&(k^M))+O[5]+1200080426&4294967295,U=A+(N<<12&4294967295|N>>>20),N=M+(k^U&(A^k))+O[6]+2821735955&4294967295,M=U+(N<<17&4294967295|N>>>15),N=k+(A^M&(U^A))+O[7]+4249261313&4294967295,k=M+(N<<22&4294967295|N>>>10),N=A+(U^k&(M^U))+O[8]+1770035416&4294967295,A=k+(N<<7&4294967295|N>>>25),N=U+(M^A&(k^M))+O[9]+2336552879&4294967295,U=A+(N<<12&4294967295|N>>>20),N=M+(k^U&(A^k))+O[10]+4294925233&4294967295,M=U+(N<<17&4294967295|N>>>15),N=k+(A^M&(U^A))+O[11]+2304563134&4294967295,k=M+(N<<22&4294967295|N>>>10),N=A+(U^k&(M^U))+O[12]+1804603682&4294967295,A=k+(N<<7&4294967295|N>>>25),N=U+(M^A&(k^M))+O[13]+4254626195&4294967295,U=A+(N<<12&4294967295|N>>>20),N=M+(k^U&(A^k))+O[14]+2792965006&4294967295,M=U+(N<<17&4294967295|N>>>15),N=k+(A^M&(U^A))+O[15]+1236535329&4294967295,k=M+(N<<22&4294967295|N>>>10),N=A+(M^U&(k^M))+O[1]+4129170786&4294967295,A=k+(N<<5&4294967295|N>>>27),N=U+(k^M&(A^k))+O[6]+3225465664&4294967295,U=A+(N<<9&4294967295|N>>>23),N=M+(A^k&(U^A))+O[11]+643717713&4294967295,M=U+(N<<14&4294967295|N>>>18),N=k+(U^A&(M^U))+O[0]+3921069994&4294967295,k=M+(N<<20&4294967295|N>>>12),N=A+(M^U&(k^M))+O[5]+3593408605&4294967295,A=k+(N<<5&4294967295|N>>>27),N=U+(k^M&(A^k))+O[10]+38016083&4294967295,U=A+(N<<9&4294967295|N>>>23),N=M+(A^k&(U^A))+O[15]+3634488961&4294967295,M=U+(N<<14&4294967295|N>>>18),N=k+(U^A&(M^U))+O[4]+3889429448&4294967295,k=M+(N<<20&4294967295|N>>>12),N=A+(M^U&(k^M))+O[9]+568446438&4294967295,A=k+(N<<5&4294967295|N>>>27),N=U+(k^M&(A^k))+O[14]+3275163606&4294967295,U=A+(N<<9&4294967295|N>>>23),N=M+(A^k&(U^A))+O[3]+4107603335&4294967295,M=U+(N<<14&4294967295|N>>>18),N=k+(U^A&(M^U))+O[8]+1163531501&4294967295,k=M+(N<<20&4294967295|N>>>12),N=A+(M^U&(k^M))+O[13]+2850285829&4294967295,A=k+(N<<5&4294967295|N>>>27),N=U+(k^M&(A^k))+O[2]+4243563512&4294967295,U=A+(N<<9&4294967295|N>>>23),N=M+(A^k&(U^A))+O[7]+1735328473&4294967295,M=U+(N<<14&4294967295|N>>>18),N=k+(U^A&(M^U))+O[12]+2368359562&4294967295,k=M+(N<<20&4294967295|N>>>12),N=A+(k^M^U)+O[5]+4294588738&4294967295,A=k+(N<<4&4294967295|N>>>28),N=U+(A^k^M)+O[8]+2272392833&4294967295,U=A+(N<<11&4294967295|N>>>21),N=M+(U^A^k)+O[11]+1839030562&4294967295,M=U+(N<<16&4294967295|N>>>16),N=k+(M^U^A)+O[14]+4259657740&4294967295,k=M+(N<<23&4294967295|N>>>9),N=A+(k^M^U)+O[1]+2763975236&4294967295,A=k+(N<<4&4294967295|N>>>28),N=U+(A^k^M)+O[4]+1272893353&4294967295,U=A+(N<<11&4294967295|N>>>21),N=M+(U^A^k)+O[7]+4139469664&4294967295,M=U+(N<<16&4294967295|N>>>16),N=k+(M^U^A)+O[10]+3200236656&4294967295,k=M+(N<<23&4294967295|N>>>9),N=A+(k^M^U)+O[13]+681279174&4294967295,A=k+(N<<4&4294967295|N>>>28),N=U+(A^k^M)+O[0]+3936430074&4294967295,U=A+(N<<11&4294967295|N>>>21),N=M+(U^A^k)+O[3]+3572445317&4294967295,M=U+(N<<16&4294967295|N>>>16),N=k+(M^U^A)+O[6]+76029189&4294967295,k=M+(N<<23&4294967295|N>>>9),N=A+(k^M^U)+O[9]+3654602809&4294967295,A=k+(N<<4&4294967295|N>>>28),N=U+(A^k^M)+O[12]+3873151461&4294967295,U=A+(N<<11&4294967295|N>>>21),N=M+(U^A^k)+O[15]+530742520&4294967295,M=U+(N<<16&4294967295|N>>>16),N=k+(M^U^A)+O[2]+3299628645&4294967295,k=M+(N<<23&4294967295|N>>>9),N=A+(M^(k|~U))+O[0]+4096336452&4294967295,A=k+(N<<6&4294967295|N>>>26),N=U+(k^(A|~M))+O[7]+1126891415&4294967295,U=A+(N<<10&4294967295|N>>>22),N=M+(A^(U|~k))+O[14]+2878612391&4294967295,M=U+(N<<15&4294967295|N>>>17),N=k+(U^(M|~A))+O[5]+4237533241&4294967295,k=M+(N<<21&4294967295|N>>>11),N=A+(M^(k|~U))+O[12]+1700485571&4294967295,A=k+(N<<6&4294967295|N>>>26),N=U+(k^(A|~M))+O[3]+2399980690&4294967295,U=A+(N<<10&4294967295|N>>>22),N=M+(A^(U|~k))+O[10]+4293915773&4294967295,M=U+(N<<15&4294967295|N>>>17),N=k+(U^(M|~A))+O[1]+2240044497&4294967295,k=M+(N<<21&4294967295|N>>>11),N=A+(M^(k|~U))+O[8]+1873313359&4294967295,A=k+(N<<6&4294967295|N>>>26),N=U+(k^(A|~M))+O[15]+4264355552&4294967295,U=A+(N<<10&4294967295|N>>>22),N=M+(A^(U|~k))+O[6]+2734768916&4294967295,M=U+(N<<15&4294967295|N>>>17),N=k+(U^(M|~A))+O[13]+1309151649&4294967295,k=M+(N<<21&4294967295|N>>>11),N=A+(M^(k|~U))+O[4]+4149444226&4294967295,A=k+(N<<6&4294967295|N>>>26),N=U+(k^(A|~M))+O[11]+3174756917&4294967295,U=A+(N<<10&4294967295|N>>>22),N=M+(A^(U|~k))+O[2]+718787259&4294967295,M=U+(N<<15&4294967295|N>>>17),N=k+(U^(M|~A))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.u=function(R,A){A===void 0&&(A=R.length);for(var k=A-this.blockSize,O=this.B,M=this.h,U=0;U<A;){if(M==0)for(;U<=k;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<A;)if(O[M++]=R.charCodeAt(U++),M==this.blockSize){o(this,O),M=0;break}}else for(;U<A;)if(O[M++]=R[U++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=A},s.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;var k=8*this.o;for(A=R.length-8;A<R.length;++A)R[A]=k&255,k/=256;for(this.u(R),R=Array(16),A=k=0;4>A;++A)for(var O=0;32>O;O+=8)R[k++]=this.g[A]>>>O&255;return R};function c(R,A){var k=m;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=A(R)}function d(R,A){this.h=A;for(var k=[],O=!0,M=R.length-1;0<=M;M--){var U=R[M]|0;O&&U==A||(k[M]=U,O=!1)}this.g=k}var m={};function g(R){return-128<=R&&128>R?c(R,function(A){return new d([A|0],0>A?-1:0)}):new d([R|0],0>R?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return _;if(0>R)return z(y(-R));for(var A=[],k=1,O=0;R>=k;O++)A[O]=R/k|0,k*=4294967296;return new d(A,0)}function b(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return z(b(R.substring(1),A));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=y(Math.pow(A,8)),O=_,M=0;M<R.length;M+=8){var U=Math.min(8,R.length-M),N=parseInt(R.substring(M,M+U),A);8>U?(U=y(Math.pow(A,U)),O=O.j(U).add(y(N))):(O=O.j(k),O=O.add(y(N)))}return O}var _=g(0),E=g(1),D=g(16777216);n=d.prototype,n.m=function(){if(F(this))return-z(this).m();for(var R=0,A=1,k=0;k<this.g.length;k++){var O=this.i(k);R+=(0<=O?O:4294967296+O)*A,A*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(F(this))return"-"+z(this).toString(R);for(var A=y(Math.pow(R,6)),k=this,O="";;){var M=he(k,A).g;k=$(k,M.j(A));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(R);if(k=M,P(k))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(var A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function F(R){return R.h==-1}n.l=function(R){return R=$(this,R),F(R)?-1:P(R)?0:1};function z(R){for(var A=R.g.length,k=[],O=0;O<A;O++)k[O]=~R.g[O];return new d(k,~R.h).add(E)}n.abs=function(){return F(this)?z(this):this},n.add=function(R){for(var A=Math.max(this.g.length,R.g.length),k=[],O=0,M=0;M<=A;M++){var U=O+(this.i(M)&65535)+(R.i(M)&65535),N=(U>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);O=N>>>16,U&=65535,N&=65535,k[M]=N<<16|U}return new d(k,k[k.length-1]&-2147483648?-1:0)};function $(R,A){return R.add(z(A))}n.j=function(R){if(P(this)||P(R))return _;if(F(this))return F(R)?z(this).j(z(R)):z(z(this).j(R));if(F(R))return z(this.j(z(R)));if(0>this.l(D)&&0>R.l(D))return y(this.m()*R.m());for(var A=this.g.length+R.g.length,k=[],O=0;O<2*A;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<R.g.length;M++){var U=this.i(O)>>>16,N=this.i(O)&65535,me=R.i(M)>>>16,W=R.i(M)&65535;k[2*O+2*M]+=N*W,re(k,2*O+2*M),k[2*O+2*M+1]+=U*W,re(k,2*O+2*M+1),k[2*O+2*M+1]+=N*me,re(k,2*O+2*M+1),k[2*O+2*M+2]+=U*me,re(k,2*O+2*M+2)}for(O=0;O<A;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=A;O<2*A;O++)k[O]=0;return new d(k,0)};function re(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function ne(R,A){this.g=R,this.h=A}function he(R,A){if(P(A))throw Error("division by zero");if(P(R))return new ne(_,_);if(F(R))return A=he(z(R),A),new ne(z(A.g),z(A.h));if(F(A))return A=he(R,z(A)),new ne(z(A.g),A.h);if(30<R.g.length){if(F(R)||F(A))throw Error("slowDivide_ only works with positive integers.");for(var k=E,O=A;0>=O.l(R);)k=te(k),O=te(O);var M=ue(k,1),U=ue(O,1);for(O=ue(O,2),k=ue(k,2);!P(O);){var N=U.add(O);0>=N.l(R)&&(M=M.add(k),U=N),O=ue(O,1),k=ue(k,1)}return A=$(R,M.j(A)),new ne(M,A)}for(M=_;0<=R.l(A);){for(k=Math.max(1,Math.floor(R.m()/A.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=y(k),N=U.j(A);F(N)||0<N.l(R);)k-=O,U=y(k),N=U.j(A);P(U)&&(U=E),M=M.add(U),R=$(R,N)}return new ne(M,R)}n.A=function(R){return he(this,R).h},n.and=function(R){for(var A=Math.max(this.g.length,R.g.length),k=[],O=0;O<A;O++)k[O]=this.i(O)&R.i(O);return new d(k,this.h&R.h)},n.or=function(R){for(var A=Math.max(this.g.length,R.g.length),k=[],O=0;O<A;O++)k[O]=this.i(O)|R.i(O);return new d(k,this.h|R.h)},n.xor=function(R){for(var A=Math.max(this.g.length,R.g.length),k=[],O=0;O<A;O++)k[O]=this.i(O)^R.i(O);return new d(k,this.h^R.h)};function te(R){for(var A=R.g.length+1,k=[],O=0;O<A;O++)k[O]=R.i(O)<<1|R.i(O-1)>>>31;return new d(k,R.h)}function ue(R,A){var k=A>>5;A%=32;for(var O=R.g.length-k,M=[],U=0;U<O;U++)M[U]=0<A?R.i(U+k)>>>A|R.i(U+k+1)<<32-A:R.i(U+k);return new d(M,R.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,b_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,ws=d}).apply(typeof Ob<"u"?Ob:typeof self<"u"?self:typeof window<"u"?window:{});var Xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x_,Ic,w_,fh,Ig,__,E_,T_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,x){return u==Array.prototype||u==Object.prototype||(u[v]=x.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xd=="object"&&Xd];for(var v=0;v<u.length;++v){var x=u[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=t(this);function o(u,v){if(v)e:{var x=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var H=u[S];if(!(H in x))break e;x=x[H]}u=u[u.length-1],S=x[u],v=v(S),v!=S&&v!=null&&e(x,u,{configurable:!0,writable:!0,value:v})}}function c(u,v){u instanceof String&&(u+="");var x=0,S=!1,H={next:function(){if(!S&&x<u.length){var Z=x++;return{value:v(Z,u[Z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(u){return u||function(){return c(this,function(v,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function g(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function y(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function b(u,v,x){return u.call.apply(u.bind,arguments)}function _(u,v,x){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),u.apply(v,H)}}return function(){return u.apply(v,arguments)}}function E(u,v,x){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:_,E.apply(null,arguments)}function D(u,v){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function P(u,v){function x(){}x.prototype=v.prototype,u.aa=v.prototype,u.prototype=new x,u.prototype.constructor=u,u.Qb=function(S,H,Z){for(var pe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)pe[qe-2]=arguments[qe];return v.prototype[H].apply(S,pe)}}function F(u){const v=u.length;if(0<v){const x=Array(v);for(let S=0;S<v;S++)x[S]=u[S];return x}return[]}function z(u,v){for(let x=1;x<arguments.length;x++){const S=arguments[x];if(g(S)){const H=u.length||0,Z=S.length||0;u.length=H+Z;for(let pe=0;pe<Z;pe++)u[H+pe]=S[pe]}else u.push(S)}}class ${constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function re(u){return/^[\s\xa0]*$/.test(u)}function ne(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function he(u){return he[" "](u),u}he[" "]=function(){};var te=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function ue(u,v,x){for(const S in u)v.call(x,u[S],S,u)}function R(u,v){for(const x in u)v.call(void 0,u[x],x,u)}function A(u){const v={};for(const x in u)v[x]=u[x];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,v){let x,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(x in S)u[x]=S[x];for(let Z=0;Z<k.length;Z++)x=k[Z],Object.prototype.hasOwnProperty.call(S,x)&&(u[x]=S[x])}}function M(u){var v=1;u=u.split(":");const x=[];for(;0<v&&u.length;)x.push(u.shift()),v--;return u.length&&x.push(u.join(":")),x}function U(u){m.setTimeout(()=>{throw u},0)}function N(){var u=fe;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class me{constructor(){this.h=this.g=null}add(v,x){const S=W.get();S.set(v,x),this.h?this.h.next=S:this.g=S,this.h=S}}var W=new $(()=>new I,u=>u.reset());class I{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,ee=!1,fe=new me,C=()=>{const u=m.Promise.resolve(void 0);Y=()=>{u.then(J)}};var J=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(x){U(x)}var v=W;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}ee=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};m.addEventListener("test",x,v),m.removeEventListener("test",x,v)}catch{}return u}();function Ee(u,v){if(le.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var x=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(te){e:{try{he(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else x=="mouseover"?v=u.fromElement:x=="mouseout"&&(v=u.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:xe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ee.aa.h.call(this)}}P(Ee,le);var xe={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function lt(u,v,x,S,H){this.listener=u,this.proxy=null,this.src=v,this.type=x,this.capture=!!S,this.ha=H,this.key=++Oe,this.da=this.fa=!1}function at(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function yt(u){this.src=u,this.g={},this.h=0}yt.prototype.add=function(u,v,x,S,H){var Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);var pe=Bn(u,v,S,H);return-1<pe?(v=u[pe],x||(v.fa=!1)):(v=new lt(v,this.src,Z,!!S,H),v.fa=x,u.push(v)),v};function wt(u,v){var x=v.type;if(x in u.g){var S=u.g[x],H=Array.prototype.indexOf.call(S,v,void 0),Z;(Z=0<=H)&&Array.prototype.splice.call(S,H,1),Z&&(at(v),u.g[x].length==0&&(delete u.g[x],u.h--))}}function Bn(u,v,x,S){for(var H=0;H<u.length;++H){var Z=u[H];if(!Z.da&&Z.listener==v&&Z.capture==!!x&&Z.ha==S)return H}return-1}var Ls="closure_lm_"+(1e6*Math.random()|0),vl={};function Tu(u,v,x,S,H){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)Tu(u,v[Z],x,S,H);return null}return x=Su(x),u&&u[Ke]?u.K(v,x,y(S)?!!S.capture:!1,H):Fn(u,v,x,!1,S,H)}function Fn(u,v,x,S,H,Z){if(!v)throw Error("Invalid event type");var pe=y(H)?!!H.capture:!!H,qe=Ba(u);if(qe||(u[Ls]=qe=new yt(u)),x=qe.add(v,x,S,pe,Z),x.proxy)return x;if(S=Ff(),x.proxy=S,S.src=u,S.listener=x,u.addEventListener)ye||(H=pe),H===void 0&&(H=!1),u.addEventListener(v.toString(),S,H);else if(u.attachEvent)u.attachEvent(Us(v.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ff(){function u(x){return v.call(u.src,u.listener,x)}const v=qf;return u}function bl(u,v,x,S,H){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)bl(u,v[Z],x,S,H);else S=y(S)?!!S.capture:!!S,x=Su(x),u&&u[Ke]?(u=u.i,v=String(v).toString(),v in u.g&&(Z=u.g[v],x=Bn(Z,x,S,H),-1<x&&(at(Z[x]),Array.prototype.splice.call(Z,x,1),Z.length==0&&(delete u.g[v],u.h--)))):u&&(u=Ba(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Bn(v,x,S,H)),(x=-1<u?v[u]:null)&&za(x))}function za(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Ke])wt(v.i,u);else{var x=u.type,S=u.proxy;v.removeEventListener?v.removeEventListener(x,S,u.capture):v.detachEvent?v.detachEvent(Us(x),S):v.addListener&&v.removeListener&&v.removeListener(S),(x=Ba(v))?(wt(x,u),x.h==0&&(x.src=null,v[Ls]=null)):at(u)}}}function Us(u){return u in vl?vl[u]:vl[u]="on"+u}function qf(u,v){if(u.da)u=!0;else{v=new Ee(v,this);var x=u.listener,S=u.ha||u.src;u.fa&&za(u),u=x.call(S,v)}return u}function Ba(u){return u=u[Ls],u instanceof yt?u:null}var xl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Su(u){return typeof u=="function"?u:(u[xl]||(u[xl]=function(v){return u.handleEvent(v)}),u[xl])}function _t(){de.call(this),this.i=new yt(this),this.M=this,this.F=null}P(_t,de),_t.prototype[Ke]=!0,_t.prototype.removeEventListener=function(u,v,x,S){bl(this,u,v,x,S)};function Je(u,v){var x,S=u.F;if(S)for(x=[];S;S=S.F)x.push(S);if(u=u.M,S=v.type||v,typeof v=="string")v=new le(v,u);else if(v instanceof le)v.target=v.target||u;else{var H=v;v=new le(S,u),O(v,H)}if(H=!0,x)for(var Z=x.length-1;0<=Z;Z--){var pe=v.g=x[Z];H=Cn(pe,S,!0,v)&&H}if(pe=v.g=u,H=Cn(pe,S,!0,v)&&H,H=Cn(pe,S,!1,v)&&H,x)for(Z=0;Z<x.length;Z++)pe=v.g=x[Z],H=Cn(pe,S,!1,v)&&H}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var x=u.g[v],S=0;S<x.length;S++)at(x[S]);delete u.g[v],u.h--}}this.F=null},_t.prototype.K=function(u,v,x,S){return this.i.add(String(u),v,!1,x,S)},_t.prototype.L=function(u,v,x,S){return this.i.add(String(u),v,!0,x,S)};function Cn(u,v,x,S){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,Z=0;Z<v.length;++Z){var pe=v[Z];if(pe&&!pe.da&&pe.capture==x){var qe=pe.listener,Ut=pe.ha||pe.src;pe.fa&&wt(u.i,pe),H=qe.call(Ut,S)!==!1&&H}}return H&&!S.defaultPrevented}function ln(u,v,x){if(typeof u=="function")x&&(u=E(u,x));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(u,v||0)}function Au(u){u.g=ln(()=>{u.g=null,u.i&&(u.i=!1,Au(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Hf extends de{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(u){de.call(this),this.h=u,this.g={}}P(zs,de);var Bs=[];function Fs(u){ue(u.g,function(v,x){this.g.hasOwnProperty(x)&&za(v)},u),u.g={}}zs.prototype.N=function(){zs.aa.N.call(this),Fs(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=m.JSON.stringify,Fa=m.JSON.parse,qs=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function wl(){}wl.prototype.h=null;function _l(u){return u.h||(u.h=u.i())}function El(){}var Wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zr(){le.call(this,"d")}P(Zr,le);function Tl(){le.call(this,"c")}P(Tl,le);var xr={},Sl=null;function Li(){return Sl=Sl||new _t}xr.La="serverreachability";function qa(u){le.call(this,xr.La,u)}P(qa,le);function Ui(u){const v=Li();Je(v,new qa(v))}xr.STAT_EVENT="statevent";function Nu(u,v){le.call(this,xr.STAT_EVENT,u),this.stat=v}P(Nu,le);function mt(u){const v=Li();Je(v,new Nu(v,u))}xr.Ma="timingevent";function Lt(u,v){le.call(this,xr.Ma,u),this.size=v}P(Lt,le);function kt(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},v)}function qn(){this.g=!0}qn.prototype.xa=function(){this.g=!1};function Al(u,v,x,S,H,Z){u.info(function(){if(u.g)if(Z)for(var pe="",qe=Z.split("&"),Ut=0;Ut<qe.length;Ut++){var He=qe[Ut].split("=");if(1<He.length){var Gt=He[0];He=He[1];var zt=Gt.split("_");pe=2<=zt.length&&zt[1]=="type"?pe+(Gt+"="+He+"&"):pe+(Gt+"=redacted&")}}else pe=null;else pe=Z;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+v+`
`+x+`
`+pe})}function $f(u,v,x,S,H,Z,pe){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+v+`
`+x+`
`+Z+" "+pe})}function zi(u,v,x,S){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+Hs(u,x)+(S?" "+S:"")})}function Ru(u,v){u.info(function(){return"TIMEOUT: "+v})}qn.prototype.info=function(){};function Hs(u,v){if(!u.g)return v;if(!v)return null;try{var x=JSON.parse(v);if(x){for(u=0;u<x.length;u++)if(Array.isArray(x[u])){var S=x[u];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var Z=H[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var pe=1;pe<H.length;pe++)H[pe]=""}}}}return ir(x)}catch{return v}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wr;function _r(){}P(_r,wl),_r.prototype.g=function(){return new XMLHttpRequest},_r.prototype.i=function(){return{}},wr=new _r;function gn(u,v,x,S){this.j=u,this.i=v,this.l=x,this.R=S||1,this.U=new zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var Nl={},Ha={};function sr(u,v,x){u.L=1,u.v=Qs(kn(v)),u.m=x,u.P=!0,ei(u,null)}function ei(u,v){u.F=Date.now(),$s(u),u.A=kn(u.v);var x=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),jl(x.i,"t",S),u.C=0,x=u.j.J,u.h=new At,u.g=Hu(u.j,x?v:null,!u.m),0<u.O&&(u.M=new Hf(E(u.Y,u,u.g),u.O)),v=u.U,x=u.g,S=u.ca;var H="readystatechange";Array.isArray(H)||(H&&(Bs[0]=H.toString()),H=Bs);for(var Z=0;Z<H.length;Z++){var pe=Tu(x,H[Z],S||v.handleEvent,!1,v.h||v);if(!pe)break;v.g[pe.key]=pe}v=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),Ui(),Al(u.i,u.u,u.A,u.l,u.R,u.m)}gn.prototype.ca=function(u){u=u.target;const v=this.M;v&&Yn(u)==3?v.j():this.Y(u)},gn.prototype.Y=function(u){try{if(u==this.g)e:{const zt=Yn(this.g);var v=this.g.Ba();const li=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Pu(this.g)))){this.J||zt!=4||v==7||(v==8||0>=li?Ui(3):Ui(2)),Fi(this);var x=this.g.Z();this.X=x;t:if(Cu(this)){var S=Pu(this.g);u="";var H=S.length,Z=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),Er(this);var pe="";break t}this.h.i=new m.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,u+=this.h.i.decode(S[v],{stream:!(Z&&v==H-1)});S.length=0,this.h.g+=u,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=x==200,$f(this.i,this.u,this.A,this.l,this.R,zt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Ut=this.g;if((qe=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(qe)){var He=qe;break t}}He=null}if(x=He)zi(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gs(this,x);else{this.o=!1,this.s=3,mt(12),Jt(this),Er(this);break e}}if(this.P){x=!0;let en;for(;!this.J&&this.C<pe.length;)if(en=ku(this,pe),en==Ha){zt==4&&(this.s=4,mt(14),x=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(en==Nl){this.s=4,mt(15),zi(this.i,this.l,pe,"[Invalid Chunk]"),x=!1;break}else zi(this.i,this.l,en,null),Gs(this,en);if(Cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||pe.length!=0||this.h.h||(this.s=1,mt(16),x=!1),this.o=this.o&&x,!x)zi(this.i,this.l,pe,"[Invalid Chunked Response]"),Jt(this),Er(this);else if(0<pe.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),ra(Gt),Gt.M=!0,mt(11))}}else zi(this.i,this.l,pe,null),Gs(this,pe);zt==4&&Jt(this),this.o&&!this.J&&(zt==4?Bu(this.j,this):(this.o=!1,$s(this)))}else Xf(this.g),x==400&&0<pe.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Jt(this),Er(this)}}}catch{}finally{}};function Cu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ku(u,v){var x=u.C,S=v.indexOf(`
`,x);return S==-1?Ha:(x=Number(v.substring(x,S)),isNaN(x)?Nl:(S+=1,S+x>v.length?Ha:(v=v.slice(S,S+x),u.C=S+x,v)))}gn.prototype.cancel=function(){this.J=!0,Jt(this)};function $s(u){u.S=Date.now()+u.I,Iu(u,u.I)}function Iu(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=kt(E(u.ba,u),v)}function Fi(u){u.B&&(m.clearTimeout(u.B),u.B=null)}gn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ru(this.i,this.A),this.L!=2&&(Ui(),mt(17)),Jt(this),this.s=2,Er(this)):Iu(this,this.S-u)};function Er(u){u.j.G==0||u.J||Bu(u.j,u)}function Jt(u){Fi(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,Fs(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function Gs(u,v){try{var x=u.j;if(x.G!=0&&(x.g==u||Rl(x.h,u))){if(!u.K&&Rl(x.h,u)&&x.G==3){try{var S=x.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<u.F)no(x),eo(x);else break e;Ll(x),mt(18)}}else x.za=H[1],0<x.za-x.T&&37500>H[2]&&x.F&&x.v==0&&!x.C&&(x.C=kt(E(x.Za,x),6e3));if(1>=Ga(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else oi(x,11)}else if((u.K||x.g==u)&&no(x),!re(v))for(H=x.Da.g.parse(v),v=0;v<H.length;v++){let He=H[v];if(x.T=He[0],He=He[1],x.G==2)if(He[0]=="c"){x.K=He[1],x.ia=He[2];const Gt=He[3];Gt!=null&&(x.la=Gt,x.j.info("VER="+x.la));const zt=He[4];zt!=null&&(x.Aa=zt,x.j.info("SVER="+x.Aa));const li=He[5];li!=null&&typeof li=="number"&&0<li&&(S=1.5*li,x.L=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const en=u.g;if(en){const kr=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var Z=S.h;Z.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Ya(Z,Z.h),Z.h=null))}if(S.D){const zl=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(S.ya=zl,nt(S.I,S.D,zl))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-u.F,x.j.info("Handshake RTT: "+x.R+"ms")),S=x;var pe=u;if(S.qa=qu(S,S.J?S.ia:null,S.W),pe.K){yn(S.h,pe);var qe=pe,Ut=S.L;Ut&&(qe.I=Ut),qe.B&&(Fi(qe),$s(qe)),S.g=pe}else Uu(S);0<x.i.length&&to(x)}else He[0]!="stop"&&He[0]!="close"||oi(x,7);else x.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?oi(x,7):Pl(x):He[0]!="noop"&&x.l&&x.l.ta(He),x.v=0)}}Ui(4)}catch{}}var Du=class{constructor(u,v){this.g=u,this.map=v}};function ti(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $a(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ga(u){return u.h?1:u.g?u.g.size:0}function Rl(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Ya(u,v){u.g?u.g.add(v):u.h=v}function yn(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}ti.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Cl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const x of u.g.values())v=v.concat(x.D);return v}return F(u.i)}function Gf(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var v=[],x=u.length,S=0;S<x;S++)v.push(u[S]);return v}v=[],x=0;for(S in u)v[x++]=u[S];return v}function Ka(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var v=[];u=u.length;for(var x=0;x<u;x++)v.push(x);return v}v=[],x=0;for(const S in u)v[x++]=S;return v}}}function kl(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var x=Ka(u),S=Gf(u),H=S.length,Z=0;Z<H;Z++)v.call(void 0,S[Z],x&&x[Z],u)}var Ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yf(u,v){if(u){u=u.split("&");for(var x=0;x<u.length;x++){var S=u[x].indexOf("="),H=null;if(0<=S){var Z=u[x].substring(0,S);H=u[x].substring(S+1)}else Z=u[x];v(Z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function It(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof It){this.h=u.h,Ks(this,u.j),this.o=u.o,this.g=u.g,qi(this,u.s),this.l=u.l;var v=u.i,x=new ri;x.i=v.i,v.g&&(x.g=new Map(v.g),x.h=v.h),ni(this,x),this.m=u.m}else u&&(v=String(u).match(Ys))?(this.h=!1,Ks(this,v[1]||"",!0),this.o=Hn(v[2]||""),this.g=Hn(v[3]||"",!0),qi(this,v[4]),this.l=Hn(v[5]||"",!0),ni(this,v[6]||"",!0),this.m=Hn(v[7]||"")):(this.h=!1,this.i=new ri(null,this.h))}It.prototype.toString=function(){var u=[],v=this.j;v&&u.push(Xs(v,Il,!0),":");var x=this.g;return(x||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Xs(v,Il,!0),"@"),u.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&u.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Xs(x,x.charAt(0)=="/"?Kf:Dl,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Xs(x,Qa)),u.join("")};function kn(u){return new It(u)}function Ks(u,v,x){u.j=x?Hn(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function qi(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function ni(u,v,x){v instanceof ri?(u.i=v,Mu(u.i,u.h)):(x||(v=Xs(v,Qf)),u.i=new ri(v,u.h))}function nt(u,v,x){u.i.set(v,x)}function Qs(u){return nt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Hn(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xs(u,v,x){return typeof u=="string"?(u=encodeURI(u).replace(v,ju),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ju(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Il=/[#\/\?@]/g,Dl=/[#\?:]/g,Kf=/[#\?]/g,Qf=/[#\?@]/g,Qa=/#/g;function ri(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function $n(u){u.g||(u.g=new Map,u.h=0,u.i&&Yf(u.i,function(v,x){u.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}n=ri.prototype,n.add=function(u,v){$n(this),this.i=null,u=Tr(this,u);var x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(v),this.h+=1,this};function ii(u,v){$n(u),v=Tr(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function si(u,v){return $n(u),v=Tr(u,v),u.g.has(v)}n.forEach=function(u,v){$n(this),this.g.forEach(function(x,S){x.forEach(function(H){u.call(v,H,S,this)},this)},this)},n.na=function(){$n(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),x=[];for(let S=0;S<v.length;S++){const H=u[S];for(let Z=0;Z<H.length;Z++)x.push(v[S])}return x},n.V=function(u){$n(this);let v=[];if(typeof u=="string")si(this,u)&&(v=v.concat(this.g.get(Tr(this,u))));else{u=Array.from(this.g.values());for(let x=0;x<u.length;x++)v=v.concat(u[x])}return v},n.set=function(u,v){return $n(this),this.i=null,u=Tr(this,u),si(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},n.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function jl(u,v,x){ii(u,v),0<x.length&&(u.i=null,u.g.set(Tr(u,v),F(x)),u.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var x=0;x<v.length;x++){var S=v[x];const Z=encodeURIComponent(String(S)),pe=this.V(S);for(S=0;S<pe.length;S++){var H=Z;pe[S]!==""&&(H+="="+encodeURIComponent(String(pe[S]))),u.push(H)}}return this.i=u.join("&")};function Tr(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Mu(u,v){v&&!u.j&&($n(u),u.i=null,u.g.forEach(function(x,S){var H=S.toLowerCase();S!=H&&(ii(this,S),jl(this,H,x))},u)),u.j=v}function Ws(u,v){const x=new qn;if(m.Image){const S=new Image;S.onload=D(Gn,x,"TestLoadImage: loaded",!0,v,S),S.onerror=D(Gn,x,"TestLoadImage: error",!1,v,S),S.onabort=D(Gn,x,"TestLoadImage: abort",!1,v,S),S.ontimeout=D(Gn,x,"TestLoadImage: timeout",!1,v,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else v(!1)}function ar(u,v){const x=new qn,S=new AbortController,H=setTimeout(()=>{S.abort(),Gn(x,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:S.signal}).then(Z=>{clearTimeout(H),Z.ok?Gn(x,"TestPingServer: ok",!0,v):Gn(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Gn(x,"TestPingServer: error",!1,v)})}function Gn(u,v,x,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(x)}catch{}}function Zs(){this.g=new qs}function Sr(u,v,x){const S=x||"";try{kl(u,function(H,Z){let pe=H;y(H)&&(pe=ir(H)),v.push(S+Z+"="+encodeURIComponent(pe))})}catch(H){throw v.push(S+"type="+encodeURIComponent("_badmap")),H}}function Hi(u){this.l=u.Ub||null,this.j=u.eb||!1}P(Hi,wl),Hi.prototype.g=function(){return new ai(this.l,this.j)},Hi.prototype.i=function(u){return function(){return u}}({});function ai(u,v){_t.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ai,_t),n=ai.prototype,n.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,Nr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Nr(this)),this.g&&(this.readyState=3,Nr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ml(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ml(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Ar(this):Nr(this),this.readyState==3&&Ml(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Ar(this))},n.Qa=function(u){this.g&&(this.response=u,Ar(this))},n.ga=function(){this.g&&Ar(this)};function Ar(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Nr(u)}n.setRequestHeader=function(u,v){this.u.append(u,v)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=v.next();return u.join(`\r
`)};function Nr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ol(u){let v="";return ue(u,function(x,S){v+=S,v+=":",v+=x,v+=`\r
`}),v}function $t(u,v,x){e:{for(S in x){var S=!1;break e}S=!0}S||(x=Ol(x),typeof u=="string"?x!=null&&encodeURIComponent(String(x)):nt(u,v,x))}function Xe(u){_t.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Xe,_t);var Xa=/^https?$/i,Js=["POST","PUT"];n=Xe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,v,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wr.g(),this.v=this.o?_l(this.o):_l(wr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(Z){Ou(this,Z);return}if(u=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)x.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())x.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find(Z=>Z.toLowerCase()=="content-type"),H=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Js,v,void 0))||S||H||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,pe]of x)this.g.setRequestHeader(Z,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(u),this.u=!1}catch(Z){Ou(this,Z)}};function Ou(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,Wa(u),Rr(u)}function Wa(u){u.A||(u.A=!0,Je(u,"complete"),Je(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Je(this,"complete"),Je(this,"abort"),Rr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rr(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},n.bb=function(){Za(this)};function Za(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Yn(u)!=4||u.Z()!=2)){if(u.u&&Yn(u)==4)ln(u.Ea,0,u);else if(Je(u,"readystatechange"),Yn(u)==4){u.h=!1;try{const pe=u.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var S;if(S=pe===0){var H=String(u.D).match(Ys)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),S=!Xa.test(H?H.toLowerCase():"")}x=S}if(x)Je(u,"complete"),Je(u,"success");else{u.m=6;try{var Z=2<Yn(u)?u.g.statusText:""}catch{Z=""}u.l=Z+" ["+u.Z()+"]",Wa(u)}}finally{Rr(u)}}}}function Rr(u,v){if(u.g){ea(u);const x=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||Je(u,"ready");try{x.onreadystatechange=S}catch{}}}function ea(u){u.I&&(m.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Yn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),Fa(v)}};function Pu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xf(u){const v={};u=(u.g&&2<=Yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(re(u[S]))continue;var x=M(u[S]);const H=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Z=v[H]||[];v[H]=Z,Z.push(x)}R(v,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(u,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||v}function Ja(u){this.Aa=0,this.i=[],this.j=new qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,u),this.cb=ta("retryDelaySeedMs",1e4,u),this.Wa=ta("forwardChannelMaxRetries",2,u),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ti(u&&u.concurrentRequestLimit),this.Da=new Zs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ja.prototype,n.la=8,n.G=1,n.connect=function(u,v,x,S){mt(0),this.W=u,this.H=v||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.I=qu(this,null,this.W),to(this)};function Pl(u){if(Vu(u),u.G==3){var v=u.U++,x=kn(u.I);if(nt(x,"SID",u.K),nt(x,"RID",v),nt(x,"TYPE","terminate"),na(u,x),v=new gn(u,u.j,v),v.L=2,v.v=Qs(kn(x)),x=!1,m.navigator&&m.navigator.sendBeacon)try{x=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!x&&m.Image&&(new Image().src=v.v,x=!0),x||(v.g=Hu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),$s(v)}Fu(u)}function eo(u){u.g&&(ra(u),u.g.cancel(),u.g=null)}function Vu(u){eo(u),u.u&&(m.clearTimeout(u.u),u.u=null),no(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function to(u){if(!$a(u.h)&&!u.s){u.s=!0;var v=u.Ga;Y||C(),ee||(Y(),ee=!0),fe.add(v,u),u.B=0}}function Wf(u,v){return Ga(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=kt(E(u.Ga,u,v),Ul(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const H=new gn(this,this.j,u);let Z=this.o;if(this.S&&(Z?(Z=A(Z),O(Z,this.S)):Z=this.S),this.m!==null||this.O||(H.H=Z,Z=null),this.P)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=Lu(this,H,v),x=kn(this.I),nt(x,"RID",u),nt(x,"CVER",22),this.D&&nt(x,"X-HTTP-Session-Id",this.D),na(this,x),Z&&(this.O?v="headers="+encodeURIComponent(String(Ol(Z)))+"&"+v:this.m&&$t(x,this.m,Z)),Ya(this.h,H),this.Ua&&nt(x,"TYPE","init"),this.P?(nt(x,"$req",v),nt(x,"SID","null"),H.T=!0,sr(H,x,null)):sr(H,x,v),this.G=2}}else this.G==3&&(u?Vl(this,u):this.i.length==0||$a(this.h)||Vl(this))};function Vl(u,v){var x;v?x=v.l:x=u.U++;const S=kn(u.I);nt(S,"SID",u.K),nt(S,"RID",x),nt(S,"AID",u.T),na(u,S),u.m&&u.o&&$t(S,u.m,u.o),x=new gn(u,u.j,x,u.B+1),u.m===null&&(x.H=u.o),v&&(u.i=v.D.concat(u.i)),v=Lu(u,x,1e3),x.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ya(u.h,x),sr(x,S,v)}function na(u,v){u.H&&ue(u.H,function(x,S){nt(v,S,x)}),u.l&&kl({},function(x,S){nt(v,S,x)})}function Lu(u,v,x){x=Math.min(u.i.length,x);var S=u.l?E(u.l.Na,u.l,u):null;e:{var H=u.i;let Z=-1;for(;;){const pe=["count="+x];Z==-1?0<x?(Z=H[0].g,pe.push("ofs="+Z)):Z=0:pe.push("ofs="+Z);let qe=!0;for(let Ut=0;Ut<x;Ut++){let He=H[Ut].g;const Gt=H[Ut].map;if(He-=Z,0>He)Z=Math.max(0,H[Ut].g-100),qe=!1;else try{Sr(Gt,pe,"req"+He+"_")}catch{S&&S(Gt)}}if(qe){S=pe.join("&");break e}}}return u=u.i.splice(0,x),v.D=u,S}function Uu(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;Y||C(),ee||(Y(),ee=!0),fe.add(v,u),u.v=0}}function Ll(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=kt(E(u.Fa,u),Ul(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=kt(E(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),eo(this),zu(this))};function ra(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function zu(u){u.g=new gn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=kn(u.qa);nt(v,"RID","rpc"),nt(v,"SID",u.K),nt(v,"AID",u.T),nt(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&nt(v,"TO",u.ja),nt(v,"TYPE","xmlhttp"),na(u,v),u.m&&u.o&&$t(v,u.m,u.o),u.L&&(u.g.I=u.L);var x=u.g;u=u.ia,x.L=1,x.v=Qs(kn(v)),x.m=null,x.P=!0,ei(x,u)}n.Za=function(){this.C!=null&&(this.C=null,eo(this),Ll(this),mt(19))};function no(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Bu(u,v){var x=null;if(u.g==v){no(u),ra(u),u.g=null;var S=2}else if(Rl(u.h,v))x=v.D,yn(u.h,v),S=1;else return;if(u.G!=0){if(v.o)if(S==1){x=v.m?v.m.length:0,v=Date.now()-v.F;var H=u.B;S=Li(),Je(S,new Lt(S,x)),to(u)}else Uu(u);else if(H=v.s,H==3||H==0&&0<v.X||!(S==1&&Wf(u,v)||S==2&&Ll(u)))switch(x&&0<x.length&&(v=u.h,v.i=v.i.concat(x)),H){case 1:oi(u,5);break;case 4:oi(u,10);break;case 3:oi(u,6);break;default:oi(u,2)}}}function Ul(u,v){let x=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(x*=2),x*v}function oi(u,v){if(u.j.info("Error code "+v),v==2){var x=E(u.fb,u),S=u.Xa;const H=!S;S=new It(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ks(S,"https"),Qs(S),H?Ws(S.toString(),x):ar(S.toString(),x)}else mt(2);u.G=0,u.l&&u.l.sa(v),Fu(u),Vu(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Fu(u){if(u.G=0,u.ka=[],u.l){const v=Cl(u.h);(v.length!=0||u.i.length!=0)&&(z(u.ka,v),z(u.ka,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.ra()}}function qu(u,v,x){var S=x instanceof It?kn(x):new It(x);if(S.g!="")v&&(S.g=v+"."+S.g),qi(S,S.s);else{var H=m.location;S=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var Z=new It(null);S&&Ks(Z,S),v&&(Z.g=v),H&&qi(Z,H),x&&(Z.l=x),S=Z}return x=u.D,v=u.ya,x&&v&&nt(S,x,v),nt(S,"VER",u.la),na(u,S),S}function Hu(u,v,x){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new Xe(new Hi({eb:x})):new Xe(u.pa),v.Ha(u.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}n=$u.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ro(){}ro.prototype.g=function(u,v){return new vn(u,v)};function vn(u,v){_t.call(this),this.g=new Ja(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!re(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!re(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Cr(this)}P(vn,_t),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Pl(this.g)},vn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.u&&(x={},x.__data__=ir(u),u=x);v.i.push(new Du(v.Ya++,u)),v.G==3&&to(v)},vn.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,vn.aa.N.call(this)};function Gu(u){Zr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const x in v){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}P(Gu,Zr);function Yu(){Tl.call(this),this.status=1}P(Yu,Tl);function Cr(u){this.g=u}P(Cr,$u),Cr.prototype.ua=function(){Je(this.g,"a")},Cr.prototype.ta=function(u){Je(this.g,new Gu(u))},Cr.prototype.sa=function(u){Je(this.g,new Yu)},Cr.prototype.ra=function(){Je(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,T_=function(){return new ro},E_=function(){return Li()},__=xr,Ig={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,fh=Bi,Jr.COMPLETE="complete",w_=Jr,El.EventType=Wr,Wr.OPEN="a",Wr.CLOSE="b",Wr.ERROR="c",Wr.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Ic=El,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,x_=Xe}).apply(typeof Xd<"u"?Xd:typeof self<"u"?self:typeof window<"u"?window:{});const Pb="@firebase/firestore",Vb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new y0("@firebase/firestore");function Mo(){return ka.logLevel}function ve(n,...e){if(ka.logLevel<=Ue.DEBUG){const t=e.map(R0);ka.debug(`Firestore (${cl}): ${n}`,...t)}}function Ii(n,...e){if(ka.logLevel<=Ue.ERROR){const t=e.map(R0);ka.error(`Firestore (${cl}): ${n}`,...t)}}function Go(n,...e){if(ka.logLevel<=Ue.WARN){const t=e.map(R0);ka.warn(`Firestore (${cl}): ${n}`,...t)}}function R0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,S_(n,s,t)}function S_(n,e,t){let s=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ii(s),new Error(s)}function Ze(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||S_(e,o,s)}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class f8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class m8{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let c=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ni,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ni)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string",31837,{l:s}),new A_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class p8{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class g8{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new p8(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y8{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const s=c=>{c.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ve("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Lb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Lb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=v8(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function ze(n,e){return n<e?-1:n>e?1:0}function Dg(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),c=e.charAt(s);if(o!==c)return rg(o)===rg(c)?ze(o,c):rg(o)?1:-1}return ze(n.length,e.length)}const b8=55296,x8=57343;function rg(n){const e=n.charCodeAt(0);return e>=b8&&e<=x8}function Yo(n,e,t){return n.length===e.length&&n.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="__name__";class Pr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Re(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=Pr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return ze(e.length,t.length)}static compareSegments(e,t){const s=Pr.isNumericId(e),o=Pr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Pr.extractNumericId(e).compare(Pr.extractNumericId(t)):Dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ws.fromString(e.substring(4,e.length-2))}}class ut extends Pr{construct(e,t,s){return new ut(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new ut(t)}static emptyPath(){return new ut([])}}const w8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Pr{construct(e,t,s){return new an(e,t,s)}static isValidIdentifier(e){return w8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ub}static keyField(){return new an([Ub])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(c(),o++)}if(c(),d)throw new ge(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ut.fromString(e))}static fromName(e){return new Te(ut.fromString(e).popFirst(5))}static empty(){return new Te(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(n,e,t){if(!t)throw new ge(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _8(n,e,t,s){if(e===!0&&s===!0)throw new ge(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zb(n){if(!Te.isDocumentKey(n))throw new ge(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Bb(n){if(Te.isDocumentKey(n))throw new ge(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function R_(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ff(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function An(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ff(n);throw new ge(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(n,e){const t={typeString:n};return e&&(t.value=e),t}function du(n,e){if(!R_(n))throw new ge(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const d=n[s];if(o&&typeof d!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new ge(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=-62135596800,qb=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*qb);return new ht(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Fb)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qb}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Fb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Vt("string",ht._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new ht(0,0))}static max(){return new ke(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=-1;function E8(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(s===1e9?new ht(t+1,0):new ht(t,s));return new Ns(o,Te.empty(),e)}function T8(n){return new Ns(n.readTime,n.key,Gc)}class Ns{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ns(ke.min(),Te.empty(),Gc)}static max(){return new Ns(ke.max(),Te.empty(),Gc)}}function S8(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==A8)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,s)=>{t(e)})}static reject(e){return new ce((t,s)=>{s(e)})}static waitFor(e){return new ce((t,s)=>{let o=0,c=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&t()},g=>s(g))}),d=!0,c===o&&t()})}static or(e){let t=ce.resolve(!1);for(const s of e)t=t.next(o=>o?ce.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,c)=>{s.push(t.call(this,o,c))}),this.waitFor(s)}static mapArray(e,t){return new ce((s,o)=>{const c=e.length,d=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;t(e[y]).next(b=>{d[y]=b,++m,m===c&&s(d)},b=>o(b))}})}static doWhile(e,t){return new ce((s,o)=>{const c=()=>{e()===!0?t().next(()=>{c()},o):s()};c()})}}function R8(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=-1;function pf(n){return n==null}function Oh(n){return n===0&&1/n==-1/0}function C8(n){return typeof n=="number"&&Number.isInteger(n)&&!Oh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="";function k8(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hb(e)),e=I8(n.get(t),e);return Hb(e)}function I8(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const c=n.charAt(o);switch(c){case"\0":t+="";break;case C_:t+="";break;default:t+=c}}return t}function Hb(n){return n+C_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ms(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function k_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wd(this.root,e,this.comparator,!0)}}class Wd{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??sn.RED,this.left=o??sn.EMPTY,this.right=c??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new sn(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gb(this.data.getIterator())}getIteratorFrom(e){return new Gb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class Gb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new zn([])}unionWith(e){let t=new qt(an.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new I_("Invalid base64 string: "+c):c}}(e);return new on(t)}static fromUint8Array(e){const t=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new on(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const D8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=D8.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cs(n){return typeof n=="string"?on.fromBase64String(n):on.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="server_timestamp",j_="__type__",M_="__previous_value__",O_="__local_write_time__";function I0(n){return(n?.mapValue?.fields||{})[j_]?.stringValue===D_}function gf(n){const e=n.mapValue.fields[M_];return I0(e)?gf(e):e}function Yc(n){const e=Rs(n.mapValue.fields[O_].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e,t,s,o,c,d,m,g,y,b){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const Ph="(default)";class Kc{constructor(e,t){this.projectId=e,this.database=t||Ph}static empty(){return new Kc("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="__type__",M8="__max__",Zd={mapValue:{}},V_="__vector__",Vh="value";function ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?I0(n)?4:P8(n)?9007199254740991:O8(n)?10:11:Re(28295,{value:n})}function Gr(n,e){if(n===e)return!0;const t=ks(n);if(t!==ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yc(n).isEqual(Yc(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Rs(o.timestampValue),m=Rs(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,c){return Cs(o.bytesValue).isEqual(Cs(c.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,c){return Ct(o.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)}(n,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Ct(o.integerValue)===Ct(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ct(o.doubleValue),m=Ct(c.doubleValue);return d===m?Oh(d)===Oh(m):isNaN(d)&&isNaN(m)}return!1}(n,e);case 9:return Yo(n.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if($b(d)!==$b(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!Gr(d[g],m[g])))return!1;return!0}(n,e);default:return Re(52216,{left:n})}}function Qc(n,e){return(n.values||[]).find(t=>Gr(t,e))!==void 0}function Ko(n,e){if(n===e)return 0;const t=ks(n),s=ks(e);if(t!==s)return ze(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(c,d){const m=Ct(c.integerValue||c.doubleValue),g=Ct(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(n,e);case 3:return Yb(n.timestampValue,e.timestampValue);case 4:return Yb(Yc(n),Yc(e));case 5:return Dg(n.stringValue,e.stringValue);case 6:return function(c,d){const m=Cs(c),g=Cs(d);return m.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),g=d.split("/");for(let y=0;y<m.length&&y<g.length;y++){const b=ze(m[y],g[y]);if(b!==0)return b}return ze(m.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,d){const m=ze(Ct(c.latitude),Ct(d.latitude));return m!==0?m:ze(Ct(c.longitude),Ct(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Kb(n.arrayValue,e.arrayValue);case 10:return function(c,d){const m=c.fields||{},g=d.fields||{},y=m[Vh]?.arrayValue,b=g[Vh]?.arrayValue,_=ze(y?.values?.length||0,b?.values?.length||0);return _!==0?_:Kb(y,b)}(n.mapValue,e.mapValue);case 11:return function(c,d){if(c===Zd.mapValue&&d===Zd.mapValue)return 0;if(c===Zd.mapValue)return 1;if(d===Zd.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=d.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let _=0;_<g.length&&_<b.length;++_){const E=Dg(g[_],b[_]);if(E!==0)return E;const D=Ko(m[g[_]],y[b[_]]);if(D!==0)return D}return ze(g.length,b.length)}(n.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function Yb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=Rs(n),s=Rs(e),o=ze(t.seconds,s.seconds);return o!==0?o:ze(t.nanos,s.nanos)}function Kb(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=Ko(t[o],s[o]);if(c)return c}return ze(t.length,s.length)}function Qo(n){return jg(n)}function jg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Rs(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Cs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=jg(c);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${jg(t.fields[d])}`;return o+"}"}(n.mapValue):Re(61005,{value:n})}function mh(n){switch(ks(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gf(n);return e?16+mh(e):16;case 5:return 2*n.stringValue.length;case 6:return Cs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+mh(c),0)}(n.arrayValue);case 10:case 11:return function(s){let o=0;return Ms(s.fields,(c,d)=>{o+=c.length+mh(d)}),o}(n.mapValue);default:throw Re(13486,{value:n})}}function Qb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Mg(n){return!!n&&"integerValue"in n}function D0(n){return!!n&&"arrayValue"in n}function Xb(n){return!!n&&"nullValue"in n}function Wb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ph(n){return!!n&&"mapValue"in n}function O8(n){return(n?.mapValue?.fields||{})[P_]?.stringValue===V_}function Lc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ms(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Lc(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lc(n.arrayValue.values[t]);return e}return{...n}}function P8(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===M8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(t)}setAll(e){let t=an.emptyPath(),s={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}d?s[m.lastSegment()]=Lc(d):o.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ms(t,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new Tn(Lc(this.value))}}function L_(n){const e=[];return Ms(n.fields,(t,s)=>{const o=new an([t]);if(ph(s)){const c=L_(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,s,o,c,d,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,ke.min(),ke.min(),ke.min(),Tn.empty(),0)}static newFoundDocument(e,t,s,o){return new fn(e,1,t,ke.min(),s,o,0)}static newNoDocument(e,t){return new fn(e,2,t,ke.min(),ke.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,ke.min(),ke.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t){this.position=e,this.inclusive=t}}function Zb(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const c=e[o],d=n.position[o];if(c.field.isKeyField()?s=Te.comparator(Te.fromName(d.referenceValue),t.key):s=Ko(d,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Jb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t="asc"){this.field=e,this.dir=t}}function V8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{}class Pt extends U_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new U8(e,t,s):t==="array-contains"?new F8(e,s):t==="in"?new q8(e,s):t==="not-in"?new H8(e,s):t==="array-contains-any"?new $8(e,s):new Pt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new z8(e,s):new B8(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ko(t,this.value)):t!==null&&ks(this.value)===ks(t)&&this.matchesComparison(Ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends U_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new pr(e,t)}matches(e){return z_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function z_(n){return n.op==="and"}function B_(n){return L8(n)&&z_(n)}function L8(n){for(const e of n.filters)if(e instanceof pr)return!1;return!0}function Og(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+Qo(n.value);if(B_(n))return n.filters.map(e=>Og(e)).join(",");{const e=n.filters.map(t=>Og(t)).join(",");return`${n.op}(${e})`}}function F_(n,e){return n instanceof Pt?function(s,o){return o instanceof Pt&&s.op===o.op&&s.field.isEqual(o.field)&&Gr(s.value,o.value)}(n,e):n instanceof pr?function(s,o){return o instanceof pr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,m)=>c&&F_(d,o.filters[m]),!0):!1}(n,e):void Re(19439)}function q_(n){return n instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${Qo(t.value)}`}(n):n instanceof pr?function(t){return t.op.toString()+" {"+t.getFilters().map(q_).join(" ,")+"}"}(n):"Filter"}class U8 extends Pt{constructor(e,t,s){super(e,t,s),this.key=Te.fromName(s.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class z8 extends Pt{constructor(e,t){super(e,"in",t),this.keys=H_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class B8 extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=H_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function H_(n,e){return(e.arrayValue?.values||[]).map(t=>Te.fromName(t.referenceValue))}class F8 extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return D0(t)&&Qc(t.arrayValue,this.value)}}class q8 extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Qc(this.value.arrayValue,t)}}class H8 extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Qc(this.value.arrayValue,t)}}class $8 extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!D0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Qc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e,t=null,s=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.Te=null}}function ex(n,e=null,t=[],s=[],o=null,c=null,d=null){return new G8(n,e,t,s,o,c,d)}function j0(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Og(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),pf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Qo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Qo(s)).join(",")),e.Te=t}return e.Te}function M0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!V8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!F_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jb(n.startAt,e.startAt)&&Jb(n.endAt,e.endAt)}function Pg(n){return Te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,t=null,s=[],o=[],c=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Y8(n,e,t,s,o,c,d,m){return new hl(n,e,t,s,o,c,d,m)}function yf(n){return new hl(n)}function tx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $_(n){return n.collectionGroup!==null}function Uc(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new qt(an.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Xc(c,s))}),t.has(an.keyField().canonicalString())||e.Ie.push(new Xc(an.keyField(),s))}return e.Ie}function Fr(n){const e=Ie(n);return e.Ee||(e.Ee=K8(e,Uc(n))),e.Ee}function K8(n,e){if(n.limitType==="F")return ex(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Xc(o.field,c)});const t=n.endAt?new Lh(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Lh(n.startAt.position,n.startAt.inclusive):null;return ex(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Vg(n,e){const t=n.filters.concat([e]);return new hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Uh(n,e,t){return new hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vf(n,e){return M0(Fr(n),Fr(e))&&n.limitType===e.limitType}function G_(n){return`${j0(Fr(n))}|lt:${n.limitType}`}function Oo(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>q_(o)).join(", ")}]`),pf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Qo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Qo(o)).join(",")),`Target(${s})`}(Fr(n))}; limitType=${n.limitType})`}function bf(n,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Te.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(n,e)&&function(s,o){for(const c of Uc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(n,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(n,e)&&function(s,o){return!(s.startAt&&!function(d,m,g){const y=Zb(d,m,g);return d.inclusive?y<=0:y<0}(s.startAt,Uc(s),o)||s.endAt&&!function(d,m,g){const y=Zb(d,m,g);return d.inclusive?y>=0:y>0}(s.endAt,Uc(s),o))}(n,e)}function Q8(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Y_(n){return(e,t)=>{let s=!1;for(const o of Uc(n)){const c=X8(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function X8(n,e,t){const s=n.field.isKeyField()?Te.comparator(e.key,t.key):function(c,d,m){const g=d.data.field(c),y=m.data.field(c);return g!==null&&y!==null?Ko(g,y):Re(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(t,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return k_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=new xt(Te.comparator);function Di(){return W8}const K_=new xt(Te.comparator);function Dc(...n){let e=K_;for(const t of n)e=e.insert(t.key,t);return e}function Q_(n){let e=K_;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function xa(){return zc()}function X_(){return zc()}function zc(){return new Pa(n=>n.toString(),(n,e)=>n.isEqual(e))}const Z8=new xt(Te.comparator),J8=new qt(Te.comparator);function Be(...n){let e=J8;for(const t of n)e=e.add(t);return e}const eR=new qt(ze);function tR(){return eR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function W_(n){return{integerValue:""+n}}function Z_(n,e){return C8(e)?W_(e):O0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this._=void 0}}function nR(n,e,t){return n instanceof Wc?function(o,c){const d={fields:{[j_]:{stringValue:D_},[O_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&I0(c)&&(c=gf(c)),c&&(d.fields[M_]=c),{mapValue:d}}(t,e):n instanceof Xo?e4(n,e):n instanceof Zc?t4(n,e):function(o,c){const d=J_(o,c),m=nx(d)+nx(o.Ae);return Mg(d)&&Mg(o.Ae)?W_(m):O0(o.serializer,m)}(n,e)}function rR(n,e,t){return n instanceof Xo?e4(n,e):n instanceof Zc?t4(n,e):t}function J_(n,e){return n instanceof Jc?function(s){return Mg(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Wc extends xf{}class Xo extends xf{constructor(e){super(),this.elements=e}}function e4(n,e){const t=n4(e);for(const s of n.elements)t.some(o=>Gr(o,s))||t.push(s);return{arrayValue:{values:t}}}class Zc extends xf{constructor(e){super(),this.elements=e}}function t4(n,e){let t=n4(e);for(const s of n.elements)t=t.filter(o=>!Gr(o,s));return{arrayValue:{values:t}}}class Jc extends xf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function nx(n){return Ct(n.integerValue||n.doubleValue)}function n4(n){return D0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t){this.field=e,this.transform=t}}function iR(n,e){return n.field.isEqual(e.field)&&function(s,o){return s instanceof Xo&&o instanceof Xo||s instanceof Zc&&o instanceof Zc?Yo(s.elements,o.elements,Gr):s instanceof Jc&&o instanceof Jc?Gr(s.Ae,o.Ae):s instanceof Wc&&o instanceof Wc}(n.transform,e.transform)}class sR{constructor(e,t){this.version=e,this.transformResults=t}}class Nn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class wf{}function r4(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new V0(n.key,Nn.none()):new hu(n.key,n.data,Nn.none());{const t=n.data,s=Tn.empty();let o=new qt(an.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Os(n.key,s,new zn(o.toArray()),Nn.none())}}function aR(n,e,t){n instanceof hu?function(o,c,d){const m=o.value.clone(),g=ix(o.fieldTransforms,c,d.transformResults);m.setAll(g),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Os?function(o,c,d){if(!gh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=ix(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(i4(o)),g.setAll(m),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(n,e,t):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function Bc(n,e,t,s){return n instanceof hu?function(c,d,m,g){if(!gh(c.precondition,d))return m;const y=c.value.clone(),b=sx(c.fieldTransforms,g,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(n,e,t,s):n instanceof Os?function(c,d,m,g){if(!gh(c.precondition,d))return m;const y=sx(c.fieldTransforms,g,d),b=d.data;return b.setAll(i4(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(_=>_.field))}(n,e,t,s):function(c,d,m){return gh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(n,e,t)}function oR(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),c=J_(s.transform,o||null);c!=null&&(t===null&&(t=Tn.empty()),t.set(s.field,c))}return t||null}function rx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Yo(s,o,(c,d)=>iR(c,d))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hu extends wf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Os extends wf{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function i4(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function ix(n,e,t){const s=new Map;Ze(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const c=n[o],d=c.transform,m=e.data.field(c.field);s.set(c.field,rR(d,m,t[o]))}return s}function sx(n,e,t){const s=new Map;for(const o of n){const c=o.transform,d=t.data.field(o.field);s.set(o.field,nR(c,d,e))}return s}class V0 extends wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lR extends wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&aR(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Bc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Bc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=X_();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=t.has(o.key)?null:m;const g=r4(d,m);g!==null&&s.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(ke.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(t,s)=>rx(t,s))&&Yo(this.baseMutations,e.baseMutations,(t,s)=>rx(t,s))}}class L0{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ze(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return Z8}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new L0(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Ge;function hR(n){switch(n){case se.OK:return Re(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function s4(n){if(n===void 0)return Ii("GRPC error has no .code"),se.UNKNOWN;switch(n){case Mt.OK:return se.OK;case Mt.CANCELLED:return se.CANCELLED;case Mt.UNKNOWN:return se.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return se.INTERNAL;case Mt.UNAVAILABLE:return se.UNAVAILABLE;case Mt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Mt.NOT_FOUND:return se.NOT_FOUND;case Mt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Mt.ABORTED:return se.ABORTED;case Mt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Mt.DATA_LOSS:return se.DATA_LOSS;default:return Re(39323,{code:n})}}(Ge=Mt||(Mt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new ws([4294967295,4294967295],0);function ax(n){const e=fR().encode(n),t=new b_;return t.update(e),new Uint8Array(t.digest())}function ox(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ws([t,s],0),new ws([o,c],0)]}class U0{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new jc(`Invalid padding: ${t}`);if(s<0)throw new jc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new jc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ws.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ws.fromNumber(s)));return o.compare(mR)===1&&(o=new ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ax(e),[s,o]=ox(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new U0(c,o,t);return s.forEach(m=>d.insert(m)),d}insert(e){if(this.ge===0)return;const t=ax(e),[s,o]=ox(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new _f(ke.min(),o,new xt(ze),Di(),Be())}}class fu{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new fu(s,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class a4{constructor(e,t){this.targetId=e,this.Ce=t}}class o4{constructor(e,t,s=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class lx{constructor(){this.ve=0,this.Fe=cx(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),s=Be();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Re(38017,{changeType:c})}}),new fu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=cx()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Di(),this.Je=Jd(),this.He=Jd(),this.Ye=new xt(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(Pg(c))if(s===0){const d=new Te(c.path);this.et(t,d,fn.newNoDocument(d,ke.min()))}else Ze(s===1,20013,{expectedCount:s});else{const d=this._t(t);if(d!==s){const m=this.ut(e),g=m?this.ct(m,e,d):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let d,m;try{d=Cs(s).toUint8Array()}catch(g){if(g instanceof I_)return Go("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new U0(d,o,c)}catch(g){return Go(g instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(c=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(t,c,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((c,d)=>{const m=this.ot(d);if(m){if(c.current&&Pg(m.target)){const g=new Te(m.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,fn.newNoDocument(g,e))}c.Be&&(t.set(d,c.ke()),c.qe())}});let s=Be();this.He.forEach((c,d)=>{let m=!0;d.forEachWhile(g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.je.forEach((c,d)=>d.setReadTime(e));const o=new _f(e,t,this.Ye,this.je,s);return this.je=Di(),this.Je=Jd(),this.He=Jd(),this.Ye=new xt(ze),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new lx,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new qt(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new qt(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lx),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Jd(){return new xt(Te.comparator)}function cx(){return new xt(Te.comparator)}const gR={asc:"ASCENDING",desc:"DESCENDING"},yR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vR={and:"AND",or:"OR"};class bR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lg(n,e){return n.useProto3Json||pf(e)?e:{value:e}}function zh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function xR(n,e){return zh(n,e.toTimestamp())}function qr(n){return Ze(!!n,49232),ke.fromTimestamp(function(t){const s=Rs(t);return new ht(s.seconds,s.nanos)}(n))}function z0(n,e){return Ug(n,e).canonicalString()}function Ug(n,e){const t=function(o){return new ut(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function c4(n){const e=ut.fromString(n);return Ze(m4(e),10190,{key:e.toString()}),e}function zg(n,e){return z0(n.databaseId,e.path)}function ig(n,e){const t=c4(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Te(d4(t))}function u4(n,e){return z0(n.databaseId,e)}function wR(n){const e=c4(n);return e.length===4?ut.emptyPath():d4(e)}function Bg(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function d4(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ux(n,e,t){return{name:zg(n,e),fields:t.value.mapValue.fields}}function _R(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Re(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,b){return y.useProto3Json?(Ze(b===void 0||typeof b=="string",58123),on.fromBase64String(b||"")):(Ze(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),on.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const b=y.code===void 0?se.UNKNOWN:s4(y.code);return new ge(b,y.message||"")}(d);t=new o4(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ig(n,s.document.name),c=qr(s.document.updateTime),d=s.document.createTime?qr(s.document.createTime):ke.min(),m=new Tn({mapValue:{fields:s.document.fields}}),g=fn.newFoundDocument(o,c,d,m),y=s.targetIds||[],b=s.removedTargetIds||[];t=new yh(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ig(n,s.document),c=s.readTime?qr(s.readTime):ke.min(),d=fn.newNoDocument(o,c),m=s.removedTargetIds||[];t=new yh([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ig(n,s.document),c=s.removedTargetIds||[];t=new yh([],c,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new dR(o,c),m=s.targetId;t=new a4(m,d)}}return t}function ER(n,e){let t;if(e instanceof hu)t={update:ux(n,e.key,e.value)};else if(e instanceof V0)t={delete:zg(n,e.key)};else if(e instanceof Os)t={update:ux(n,e.key,e.data),updateMask:DR(e.fieldMask)};else{if(!(e instanceof lR))return Re(16599,{Vt:e.type});t={verify:zg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const m=d.transform;if(m instanceof Wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Xo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Zc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Jc)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw Re(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:xR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Re(27497)}(n,e.precondition)),t}function TR(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map(t=>function(o,c){let d=o.updateTime?qr(o.updateTime):qr(c);return d.isEqual(ke.min())&&(d=qr(c)),new sR(d,o.transformResults||[])}(t,e))):[]}function SR(n,e){return{documents:[u4(n,e.path)]}}function AR(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=u4(n,o);const c=function(y){if(y.length!==0)return f4(pr.create(y,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(b=>function(E){return{field:Po(E.field),direction:CR(E.dir)}}(b))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=Lg(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:t,parent:o}}function NR(n){let e=wR(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ze(s===1,65062);const b=t.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];t.where&&(c=function(_){const E=h4(_);return E instanceof pr&&B_(E)?E.getFilters():[E]}(t.where));let d=[];t.orderBy&&(d=function(_){return _.map(E=>function(P){return new Xc(Vo(P.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(E))}(t.orderBy));let m=null;t.limit&&(m=function(_){let E;return E=typeof _=="object"?_.value:_,pf(E)?null:E}(t.limit));let g=null;t.startAt&&(g=function(_){const E=!!_.before,D=_.values||[];return new Lh(D,E)}(t.startAt));let y=null;return t.endAt&&(y=function(_){const E=!_.before,D=_.values||[];return new Lh(D,E)}(t.endAt)),Y8(e,o,d,c,m,"F",g,y)}function RR(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function h4(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Vo(t.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Vo(t.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Vo(t.unaryFilter.field);return Pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Vo(t.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(n):n.fieldFilter!==void 0?function(t){return Pt.create(Vo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return pr.create(t.compositeFilter.filters.map(s=>h4(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(t.compositeFilter.op))}(n):Re(30097,{filter:n})}function CR(n){return gR[n]}function kR(n){return yR[n]}function IR(n){return vR[n]}function Po(n){return{fieldPath:n.canonicalString()}}function Vo(n){return an.fromServerFormat(n.fieldPath)}function f4(n){return n instanceof Pt?function(t){if(t.op==="=="){if(Wb(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NAN"}};if(Xb(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Wb(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NAN"}};if(Xb(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(t.field),op:kR(t.op),value:t.value}}}(n):n instanceof pr?function(t){const s=t.getFilters().map(o=>f4(o));return s.length===1?s[0]:{compositeFilter:{op:IR(t.op),filters:s}}}(n):Re(54877,{filter:n})}function DR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function m4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t,s,o,c=ke.min(),d=ke.min(),m=on.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.yt=e}}function MR(n){const e=NR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Uh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.Cn=new PR}addToCollectionParentIndex(e,t){return this.Cn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Ns.min())}updateCollectionGroup(e,t,s){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class PR{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new qt(ut.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new qt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p4=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(p4,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wo(0)}static cr(){return new Wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="LruGarbageCollector",VR=1048576;function fx([n,e],[t,s]){const o=ze(n,t);return o===0?ze(e,s):o}class LR{constructor(e){this.Ir=e,this.buffer=new qt(fx),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();fx(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UR{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(hx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dl(t)?ve(hx,"Ignoring IndexedDB error during garbage collection: ",t):await ul(t)}await this.Vr(3e5)})}}class zR{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(mf.ce);const s=new LR(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(dx)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dx):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,c,d,m,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,d=Date.now(),this.nthSequenceNumber(e,o))).next(_=>(s=_,m=Date.now(),this.removeTargets(e,s,t))).next(_=>(c=_,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(_=>(y=Date.now(),Mo()<=Ue.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${_} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:_})))}}function BR(n,e){return new zR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.changes=new Pa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ce.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Bc(s.mutation,o,zn.empty(),ht.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Be()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Be()){const o=xa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(c=>{let d=Dc();return c.forEach((m,g)=>{d=d.insert(m,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const s=xa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Be()))}populateOverlays(e,t,s){const o=[];return s.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,s,o){let c=Di();const d=zc(),m=function(){return zc()}();return t.forEach((g,y)=>{const b=s.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof Os)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Bc(b.mutation,y,b.mutation.getFieldMask(),ht.now())):d.set(y.key,zn.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((y,b)=>d.set(y,b)),t.forEach((y,b)=>m.set(y,new qR(b,d.get(y)??null))),m))}recalculateAndSaveOverlays(e,t){const s=zc();let o=new xt((d,m)=>d-m),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let b=s.get(g)||zn.empty();b=m.applyToLocalView(y,b),s.set(g,b);const _=(o.get(m.batchId)||Be()).add(g);o=o.insert(m.batchId,_)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,b=g.value,_=X_();b.forEach(E=>{if(!c.has(E)){const D=r4(t.get(E),s.get(E));D!==null&&_.set(E,D),c=c.add(E)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,_))}return ce.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(d){return Te.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):ce.resolve(xa());let m=Gc,g=c;return d.next(y=>ce.forEach(y,(b,_)=>(m<_.largestBatchId&&(m=_.largestBatchId),c.get(b)?ce.resolve():this.remoteDocumentCache.getEntry(e,b).next(E=>{g=g.insert(b,E)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,g,y,Be())).next(b=>({batchId:m,changes:Q_(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(s=>{let o=Dc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let d=Dc();return this.indexManager.getCollectionParents(e,c).next(m=>ce.forEach(m,g=>{const y=function(_,E){return new hl(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(b=>{b.forEach((_,E)=>{d=d.insert(_,E)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o))).next(d=>{c.forEach((g,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,fn.newInvalidDocument(b)))});let m=Dc();return d.forEach((g,y)=>{const b=c.get(g);b!==void 0&&Bc(b.mutation,y,zn.empty(),ht.now()),bf(t,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ce.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:qr(o.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:MR(o.bundledQuery),readTime:qr(o.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.overlays=new xt(Te.comparator),this.qr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const s=xa();return ce.forEach(t,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,c)=>{this.St(e,t,c)}),ce.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(s)),ce.resolve()}getOverlaysForCollection(e,t,s){const o=xa(),c=t.length+1,d=new Te(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ce.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new xt((y,b)=>y-b);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let b=c.get(y.largestBatchId);b===null&&(b=xa(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=xa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,b)=>m.set(y,b)),!(m.size()>=o)););return ce.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new uR(t,s));let c=this.qr.get(t);c===void 0&&(c=Be(),this.qr.set(t,c)),this.qr.set(t,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.Qr=new qt(Xt.$r),this.Ur=new qt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Xt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Xt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new Te(new ut([])),s=new Xt(t,e),o=new Xt(t,e+1),c=[];return this.Ur.forEachInRange([s,o],d=>{this.Gr(d),c.push(d.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Te(new ut([])),s=new Xt(t,e),o=new Xt(t,e+1);let c=Be();return this.Ur.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new Xt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Te.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Xt.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new cR(c,t,s,o);this.mutationQueue.push(d);for(const m of o)this.Zr=this.Zr.add(new Xt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ce.resolve(d)}lookupMutationBatch(e,t){return ce.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),c=o<0?0:o;return ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?k0:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Xt(t,0),o=new Xt(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],d=>{const m=this.Xr(d.Yr);c.push(m)}),ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qt(ze);return t.forEach(o=>{const c=new Xt(o,0),d=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],m=>{s=s.add(m.Yr)})}),ce.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;Te.isDocumentKey(c)||(c=c.child(""));const d=new Xt(new Te(c),0);let m=new qt(ze);return this.Zr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)},d),ce.resolve(this.ti(m))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ce.forEach(t.mutations,o=>{const c=new Xt(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Xt(t,0),o=this.Zr.firstAfterOrEqual(s);return ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.ri=e,this.docs=function(){return new xt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ce.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let s=Di();return t.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():fn.newInvalidDocument(o))}),ce.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=Di();const d=t.path,m=new Te(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||S8(T8(b),s)<=0||(o.has(b.key)||bf(t,b))&&(c=c.insert(b.key,b.mutableCopy()))}return ce.resolve(c)}getAllFromCollectionGroup(e,t,s,o){Re(9500)}ii(e,t){return ce.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new XR(this)}getSize(e){return ce.resolve(this.size)}}class XR extends FR{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ce.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.persistence=e,this.si=new Pa(t=>j0(t),M0),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new B0,this.targetCount=0,this.ai=Wo.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ce.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Wo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Pr(t),ce.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.si.forEach((d,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ce.waitFor(c).next(()=>o)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ce.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ce.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),ce.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ce.resolve(s)}containsKey(e,t){return ce.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,t){this.ui={},this.overlays={},this.ci=new mf(0),this.li=!1,this.li=!0,this.hi=new YR,this.referenceDelegate=e(this),this.Pi=new WR(this),this.indexManager=new OR,this.remoteDocumentCache=function(o){return new QR(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new jR(t),this.Ii=new $R(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new KR(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ve("MemoryPersistence","Starting transaction:",e);const o=new ZR(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,t){return ce.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class ZR extends N8{constructor(e){super(),this.currentSequenceNumber=e}}class F0{constructor(e){this.persistence=e,this.Ri=new B0,this.Vi=null}static mi(e){return new F0(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ce.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,s=>{const o=Te.fromPath(s);return this.gi(e,o).next(c=>{c||t.removeEntry(o,ke.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ce.or([()=>ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Bh{constructor(e,t){this.persistence=e,this.pi=new Pa(s=>k8(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=BR(this,t)}static mi(e,t){return new Bh(e,t)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return ce.forEach(this.pi,(s,o)=>this.br(e,s,o).next(c=>c?ce.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,t).next(m=>{m||(s++,c.removeEntry(d,ke.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mh(e.data.value)),t}br(e,t,s){return ce.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ce.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Be(),o=Be();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new q0(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return C5()?8:R8(mn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.ys(e,t).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ws(e,t,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new JR;return this.Ss(e,t,d).next(m=>{if(c.result=m,this.Vs)return this.bs(e,t,d,m.size)})}).next(()=>c.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(Mo()<=Ue.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Oo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(Mo()<=Ue.DEBUG&&ve("QueryEngine","Query:",Oo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Mo()<=Ue.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Oo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):ce.resolve())}ys(e,t){if(tx(t))return ce.resolve(null);let s=Fr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Uh(t,null,"F"),s=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Be(...c);return this.ps.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.Ds(t,m);return this.Cs(t,y,d,g.readTime)?this.ys(e,Uh(t,null,"F")):this.vs(e,y,t,g)}))})))}ws(e,t,s,o){return tx(t)||o.isEqual(ke.min())?ce.resolve(null):this.ps.getDocuments(e,s).next(c=>{const d=this.Ds(t,c);return this.Cs(t,d,s,o)?ce.resolve(null):(Mo()<=Ue.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Oo(t)),this.vs(e,d,t,E8(o,Gc)).next(m=>m))})}Ds(e,t){let s=new qt(Y_(e));return t.forEach((o,c)=>{bf(e,c)&&(s=s.add(c))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,s){return Mo()<=Ue.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Oo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ns.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="LocalStore",tC=3e8;class nC{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new xt(ze),this.xs=new Pa(c=>j0(c),M0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function rC(n,e,t,s){return new nC(n,e,t,s)}async function y4(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],m=[];let g=Be();for(const y of o){d.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of c){m.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return t.localDocuments.getDocuments(s,g).next(y=>({Ls:y,removedBatchIds:d,addedBatchIds:m}))})})}function iC(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return function(m,g,y,b){const _=y.batch,E=_.keys();let D=ce.resolve();return E.forEach(P=>{D=D.next(()=>b.getEntry(g,P)).next(F=>{const z=y.docVersions.get(P);Ze(z!==null,48541),F.version.compareTo(z)<0&&(_.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),b.addEntry(F)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(g,_))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Be();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function v4(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function sC(n,e){const t=Ie(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach((b,_)=>{const E=o.get(_);if(!E)return;m.push(t.Pi.removeMatchingKeys(c,b.removedDocuments,_).next(()=>t.Pi.addMatchingKeys(c,b.addedDocuments,_)));let D=E.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(_)!==null?D=D.withResumeToken(on.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):b.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(b.resumeToken,s)),o=o.insert(_,D),function(F,z,$){return F.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=tC?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(E,D,b)&&m.push(t.Pi.updateTargetData(c,D))});let g=Di(),y=Be();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,b))}),m.push(aC(c,d,e.documentUpdates).next(b=>{g=b.ks,y=b.qs})),!s.isEqual(ke.min())){const b=t.Pi.getLastRemoteSnapshotVersion(c).next(_=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(b)}return ce.waitFor(m).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(t.Ms=o,c))}function aC(n,e,t){let s=Be(),o=Be();return t.forEach(c=>s=s.add(c)),e.getEntries(n,s).next(c=>{let d=Di();return t.forEach((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ke.min())?(e.removeEntry(m,g.readTime),d=d.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(m,g)):ve(H0,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{ks:d,qs:o}})}function oC(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=k0),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function lC(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(c=>c?(o=c,ce.resolve(o)):t.Pi.allocateTargetId(s).next(d=>(o=new vs(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function Fg(n,e,t){const s=Ie(n),o=s.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!dl(d))throw d;ve(H0,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function mx(n,e,t){const s=Ie(n);let o=ke.min(),c=Be();return s.persistence.runTransaction("Execute query","readwrite",d=>function(g,y,b){const _=Ie(g),E=_.xs.get(b);return E!==void 0?ce.resolve(_.Ms.get(E)):_.Pi.getTargetData(y,b)}(s,d,Fr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,m.targetId).next(g=>{c=g})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,e,t?o:ke.min(),t?c:Be())).next(m=>(cC(s,Q8(e),m),{documents:m,Qs:c})))}function cC(n,e,t){let s=n.Os.get(e)||ke.min();t.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),n.Os.set(e,s)}class px{constructor(){this.activeTargetIds=tR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uC{constructor(){this.Mo=new px,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new px,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="ConnectivityMonitor";class yx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(gx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(gx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function qg(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="RestConnection",hC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,c){const d=qg(),m=this.zo(e,t.toUriEncodedString());ve(sg,`Sending RPC '${e}' ${d}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(m),b=ja(y);return this.Jo(e,m,g,s,b).then(_=>(ve(sg,`Received RPC '${e}' ${d}: `,_),_),_=>{throw Go(sg,`RPC '${e}' ${d} failed with error: `,_,"url: ",m,"request:",s),_})}Ho(e,t,s,o,c,d){return this.Go(e,t,s,o,c)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}zo(e,t){const s=hC[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class pC extends fC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,c){const d=qg();return new Promise((m,g)=>{const y=new x_;y.setWithCredentials(!0),y.listenOnce(w_.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case fh.NO_ERROR:const _=y.getResponseJson();ve(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(_)),m(_);break;case fh.TIMEOUT:ve(dn,`RPC '${e}' ${d} timed out`),g(new ge(se.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const E=y.getStatus();if(ve(dn,`RPC '${e}' ${d} failed with status:`,E,"response text:",y.getResponseText()),E>0){let D=y.getResponseJson();Array.isArray(D)&&(D=D[0]);const P=D?.error;if(P&&P.status&&P.message){const F=function($){const re=$.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(re)>=0?re:se.UNKNOWN}(P.status);g(new ge(F,P.message))}else g(new ge(se.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ge(se.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ve(dn,`RPC '${e}' ${d} completed.`)}});const b=JSON.stringify(o);ve(dn,`RPC '${e}' ${d} sending request:`,o),y.send(t,"POST",b,s,15)})}T_(e,t,s){const o=qg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=T_(),m=E_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const b=c.join("");ve(dn,`Creating RPC '${e}' stream ${o}: ${b}`,g);const _=d.createWebChannel(b,g);this.I_(_);let E=!1,D=!1;const P=new mC({Yo:z=>{D?ve(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(E||(ve(dn,`Opening RPC '${e}' stream ${o} transport.`),_.open(),E=!0),ve(dn,`RPC '${e}' stream ${o} sending:`,z),_.send(z))},Zo:()=>_.close()}),F=(z,$,re)=>{z.listen($,ne=>{try{re(ne)}catch(he){setTimeout(()=>{throw he},0)}})};return F(_,Ic.EventType.OPEN,()=>{D||(ve(dn,`RPC '${e}' stream ${o} transport opened.`),P.o_())}),F(_,Ic.EventType.CLOSE,()=>{D||(D=!0,ve(dn,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(_))}),F(_,Ic.EventType.ERROR,z=>{D||(D=!0,Go(dn,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),P.a_(new ge(se.UNAVAILABLE,"The operation could not be completed")))}),F(_,Ic.EventType.MESSAGE,z=>{if(!D){const $=z.data[0];Ze(!!$,16349);const re=$,ne=re?.error||re[0]?.error;if(ne){ve(dn,`RPC '${e}' stream ${o} received error:`,ne);const he=ne.status;let te=function(A){const k=Mt[A];if(k!==void 0)return s4(k)}(he),ue=ne.message;te===void 0&&(te=se.INTERNAL,ue="Unknown error status: "+he+" with message "+ne.message),D=!0,P.a_(new ge(te,ue)),_.close()}else ve(dn,`RPC '${e}' stream ${o} received:`,$),P.u_($)}}),F(m,__.STAT_EVENT,z=>{z.stat===Ig.PROXY?ve(dn,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Ig.NOPROXY&&ve(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(n){return new bR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="PersistentStream";class x4{constructor(e,t,s,o,c,d,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new b4(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Ii(t.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new ge(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ve(vx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ve(vx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gC extends x4{constructor(e,t,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=_R(this.serializer,e),s=function(c){if(!("targetChange"in c))return ke.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ke.min():d.readTime?qr(d.readTime):ke.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Bg(this.serializer),t.addTarget=function(c,d){let m;const g=d.target;if(m=Pg(g)?{documents:SR(c,g)}:{query:AR(c,g).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=l4(c,d.resumeToken);const y=Lg(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(ke.min())>0){m.readTime=zh(c,d.snapshotVersion.toTimestamp());const y=Lg(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=RR(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Bg(this.serializer),t.removeTarget=e,this.q_(t)}}class yC extends x4{constructor(e,t,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=TR(e.writeResults,e.commitTime),s=qr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Bg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>ER(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{}class bC extends vC{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Go(e,Ug(t,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(se.UNKNOWN,c.toString())})}Ho(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Ho(e,Ug(t,s),o,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ge(se.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class xC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ii(t),this.aa=!1):ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class wC{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{Va(this)&&(ve(Ia,"Restarting streams for network reachability change."),await async function(g){const y=Ie(g);y.Ea.add(4),await mu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Tf(y)}(this))})}),this.Ra=new xC(s,o)}}async function Tf(n){if(Va(n))for(const e of n.da)await e(!0)}async function mu(n){for(const e of n.da)await e(!1)}function w4(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),K0(t)?Y0(t):fl(t).O_()&&G0(t,e))}function $0(n,e){const t=Ie(n),s=fl(t);t.Ia.delete(e),s.O_()&&_4(t,e),t.Ia.size===0&&(s.O_()?s.L_():Va(t)&&t.Ra.set("Unknown"))}function G0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fl(n).Y_(e)}function _4(n,e){n.Va.Ue(e),fl(n).Z_(e)}function Y0(n){n.Va=new pR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),fl(n).start(),n.Ra.ua()}function K0(n){return Va(n)&&!fl(n).x_()&&n.Ia.size>0}function Va(n){return Ie(n).Ea.size===0}function E4(n){n.Va=void 0}async function _C(n){n.Ra.set("Online")}async function EC(n){n.Ia.forEach((e,t)=>{G0(n,e)})}async function TC(n,e){E4(n),K0(n)?(n.Ra.ha(e),Y0(n)):n.Ra.set("Unknown")}async function SC(n,e,t){if(n.Ra.set("Online"),e instanceof o4&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ia.delete(m),o.Va.removeTarget(m))}(n,e)}catch(s){ve(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Fh(n,s)}else if(e instanceof yh?n.Va.Ze(e):e instanceof a4?n.Va.st(e):n.Va.tt(e),!t.isEqual(ke.min()))try{const s=await v4(n.localStore);t.compareTo(s)>=0&&await function(c,d){const m=c.Va.Tt(d);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(g.resumeToken,d))}}),m.targetMismatches.forEach((g,y)=>{const b=c.Ia.get(g);if(!b)return;c.Ia.set(g,b.withResumeToken(on.EMPTY_BYTE_STRING,b.snapshotVersion)),_4(c,g);const _=new vs(b.target,g,y,b.sequenceNumber);G0(c,_)}),c.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(s){ve(Ia,"Failed to raise snapshot:",s),await Fh(n,s)}}async function Fh(n,e,t){if(!dl(e))throw e;n.Ea.add(1),await mu(n),n.Ra.set("Offline"),t||(t=()=>v4(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ve(Ia,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Tf(n)})}function T4(n,e){return e().catch(t=>Fh(n,t,e))}async function Sf(n){const e=Ie(n),t=Is(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:k0;for(;AC(e);)try{const o=await oC(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,NC(e,o)}catch(o){await Fh(e,o)}S4(e)&&A4(e)}function AC(n){return Va(n)&&n.Ta.length<10}function NC(n,e){n.Ta.push(e);const t=Is(n);t.O_()&&t.X_&&t.ea(e.mutations)}function S4(n){return Va(n)&&!Is(n).x_()&&n.Ta.length>0}function A4(n){Is(n).start()}async function RC(n){Is(n).ra()}async function CC(n){const e=Is(n);for(const t of n.Ta)e.ea(t.mutations)}async function kC(n,e,t){const s=n.Ta.shift(),o=L0.from(s,e,t);await T4(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Sf(n)}async function IC(n,e){e&&Is(n).X_&&await async function(s,o){if(function(d){return hR(d)&&d!==se.ABORTED}(o.code)){const c=s.Ta.shift();Is(s).B_(),await T4(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Sf(s)}}(n,e),S4(n)&&A4(n)}async function bx(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ve(Ia,"RemoteStore received new credentials");const s=Va(t);t.Ea.add(3),await mu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Tf(t)}async function DC(n,e){const t=Ie(n);e?(t.Ea.delete(2),await Tf(t)):e||(t.Ea.add(2),await mu(t),t.Ra.set("Unknown"))}function fl(n){return n.ma||(n.ma=function(t,s,o){const c=Ie(t);return c.sa(),new gC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{Xo:_C.bind(null,n),t_:EC.bind(null,n),r_:TC.bind(null,n),H_:SC.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),K0(n)?Y0(n):n.Ra.set("Unknown")):(await n.ma.stop(),E4(n))})),n.ma}function Is(n){return n.fa||(n.fa=function(t,s,o){const c=Ie(t);return c.sa(),new yC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:RC.bind(null,n),r_:IC.bind(null,n),ta:CC.bind(null,n),na:kC.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Sf(n)):(await n.fa.stop(),n.Ta.length>0&&(ve(Ia,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const d=Date.now()+s,m=new Q0(e,t,d,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function X0(n,e){if(Ii("AsyncQueue",`${e}: ${n}`),dl(n))return new ge(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Te.comparator(t.key,s.key):(t,s)=>Te.comparator(t.key,s.key),this.keyedMap=Dc(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.ga=new xt(Te.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class Zo{constructor(e,t,s,o,c,d,m,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,c){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Zo(e,t,Ho.emptySet(t),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class MC{constructor(){this.queries=wx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ie(t),c=o.queries;o.queries=wx(),c.forEach((d,m)=>{for(const g of m.Sa)g.onError(s)})})(this,new ge(se.ABORTED,"Firestore shutting down"))}}function wx(){return new Pa(n=>G_(n),vf)}async function W0(n,e){const t=Ie(n);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new jC,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const m=X0(d,`Initialization of query '${Oo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&J0(t)}async function Z0(n,e){const t=Ie(n),s=e.query;let o=3;const c=t.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function OC(n,e){const t=Ie(n);let s=!1;for(const o of e){const c=o.query,d=t.queries.get(c);if(d){for(const m of d.Sa)m.Fa(o)&&(s=!0);d.wa=o}}s&&J0(t)}function PC(n,e,t){const s=Ie(n),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);s.queries.delete(e)}function J0(n){n.Ca.forEach(e=>{e.next()})}var Hg,_x;(_x=Hg||(Hg={})).Ma="default",_x.Cache="cache";class ey{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Zo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.key=e}}class R4{constructor(e){this.key=e}}class VC{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=Y_(e),this.tu=new Ho(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new xx,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,_)=>{const E=o.get(b),D=bf(this.query,_)?_:null,P=!!E&&this.mutatedKeys.has(E.key),F=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let z=!1;E&&D?E.data.isEqual(D.data)?P!==F&&(s.track({type:3,doc:D}),z=!0):this.su(E,D)||(s.track({type:2,doc:D}),z=!0,(g&&this.eu(D,g)>0||y&&this.eu(D,y)<0)&&(m=!0)):!E&&D?(s.track({type:0,doc:D}),z=!0):E&&!D&&(s.track({type:1,doc:E}),z=!0,(g||y)&&(m=!0)),z&&(D?(d=d.add(D),c=F?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Cs:m,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((b,_)=>function(D,P){const F=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:z})}};return F(D)-F(P)}(b.type,_.type)||this.eu(b.doc,_.doc)),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Zo(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new R4(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new N4(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ty="SyncEngine";class LC{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class UC{constructor(e){this.key=e,this.hu=!1}}class zC{constructor(e,t,s,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Pa(m=>G_(m),vf),this.Iu=new Map,this.Eu=new Set,this.du=new xt(Te.comparator),this.Au=new Map,this.Ru=new B0,this.Vu={},this.mu=new Map,this.fu=Wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BC(n,e,t=!0){const s=M4(n);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await C4(s,e,t,!0),o}async function FC(n,e){const t=M4(n);await C4(t,e,!0,!1)}async function C4(n,e,t,s){const o=await lC(n.localStore,Fr(e)),c=o.targetId,d=n.sharedClientState.addLocalQueryTarget(c,t);let m;return s&&(m=await qC(n,e,c,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&w4(n.remoteStore,o),m}async function qC(n,e,t,s,o){n.pu=(_,E,D)=>async function(F,z,$,re){let ne=z.view.ru($);ne.Cs&&(ne=await mx(F.localStore,z.query,!1).then(({documents:R})=>z.view.ru(R,ne)));const he=re&&re.targetChanges.get(z.targetId),te=re&&re.targetMismatches.get(z.targetId)!=null,ue=z.view.applyChanges(ne,F.isPrimaryClient,he,te);return Tx(F,z.targetId,ue.au),ue.snapshot}(n,_,E,D);const c=await mx(n.localStore,e,!0),d=new VC(e,c.Qs),m=d.ru(c.documents),g=fu.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),y=d.applyChanges(m,n.isPrimaryClient,g);Tx(n,t,y.au);const b=new LC(e,t,d);return n.Tu.set(e,b),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function HC(n,e,t){const s=Ie(n),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter(d=>!vf(d,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Fg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&$0(s.remoteStore,o.targetId),$g(s,o.targetId)}).catch(ul)):($g(s,o.targetId),await Fg(s.localStore,o.targetId,!0))}async function $C(n,e){const t=Ie(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),$0(t.remoteStore,s.targetId))}async function GC(n,e,t){const s=JC(n);try{const o=await function(d,m){const g=Ie(d),y=ht.now(),b=m.reduce((D,P)=>D.add(P.key),Be());let _,E;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let P=Di(),F=Be();return g.Ns.getEntries(D,b).next(z=>{P=z,P.forEach(($,re)=>{re.isValidDocument()||(F=F.add($))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,P)).next(z=>{_=z;const $=[];for(const re of m){const ne=oR(re,_.get(re.key).overlayedDocument);ne!=null&&$.push(new Os(re.key,ne,L_(ne.value.mapValue),Nn.exists(!0)))}return g.mutationQueue.addMutationBatch(D,y,$,m)}).next(z=>{E=z;const $=z.applyToLocalDocumentSet(_,F);return g.documentOverlayCache.saveOverlays(D,z.batchId,$)})}).then(()=>({batchId:E.batchId,changes:Q_(_)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,m,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new xt(ze)),y=y.insert(m,g),d.Vu[d.currentUser.toKey()]=y}(s,o.batchId,t),await pu(s,o.changes),await Sf(s.remoteStore)}catch(o){const c=X0(o,"Failed to persist write");t.reject(c)}}async function k4(n,e){const t=Ie(n);try{const s=await sC(t.localStore,e);e.targetChanges.forEach((o,c)=>{const d=t.Au.get(c);d&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ze(d.hu,14607):o.removedDocuments.size>0&&(Ze(d.hu,42227),d.hu=!1))}),await pu(t,s,e)}catch(s){await ul(s)}}function Ex(n,e,t){const s=Ie(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((c,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const g=Ie(d);g.onlineState=m;let y=!1;g.queries.forEach((b,_)=>{for(const E of _.Sa)E.va(m)&&(y=!0)}),y&&J0(g)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function YC(n,e,t){const s=Ie(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new xt(Te.comparator);d=d.insert(c,fn.newNoDocument(c,ke.min()));const m=Be().add(c),g=new _f(ke.min(),new Map,new xt(ze),d,m);await k4(s,g),s.du=s.du.remove(c),s.Au.delete(e),ny(s)}else await Fg(s.localStore,e,!1).then(()=>$g(s,e,t)).catch(ul)}async function KC(n,e){const t=Ie(n),s=e.batch.batchId;try{const o=await iC(t.localStore,e);D4(t,s,null),I4(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await pu(t,o)}catch(o){await ul(o)}}async function QC(n,e,t){const s=Ie(n);try{const o=await function(d,m){const g=Ie(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return g.mutationQueue.lookupMutationBatch(y,m).next(_=>(Ze(_!==null,37113),b=_.keys(),g.mutationQueue.removeMutationBatch(y,_))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b)).next(()=>g.localDocuments.getDocuments(y,b))})}(s.localStore,e);D4(s,e,t),I4(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await pu(s,o)}catch(o){await ul(o)}}function I4(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function D4(n,e,t){const s=Ie(n);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function $g(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(s=>{n.Ru.containsKey(s)||j4(n,s)})}function j4(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&($0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ny(n))}function Tx(n,e,t){for(const s of t)s instanceof N4?(n.Ru.addReference(s.key,e),XC(n,s)):s instanceof R4?(ve(ty,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||j4(n,s.key)):Re(19791,{wu:s})}function XC(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(ve(ty,"New document in limbo: "+t),n.Eu.add(s),ny(n))}function ny(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Te(ut.fromString(e)),s=n.fu.next();n.Au.set(s,new UC(t)),n.du=n.du.insert(t,s),w4(n.remoteStore,new vs(Fr(yf(t.path)),s,"TargetPurposeLimboResolution",mf.ce))}}async function pu(n,e,t){const s=Ie(n),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((m,g)=>{d.push(s.pu(g,e,t).then(y=>{if((y||t)&&s.isPrimaryClient){const b=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=q0.As(g.targetId,y);c.push(b)}}))}),await Promise.all(d),s.Pu.H_(o),await async function(g,y){const b=Ie(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ce.forEach(y,E=>ce.forEach(E.Es,D=>b.persistence.referenceDelegate.addReference(_,E.targetId,D)).next(()=>ce.forEach(E.ds,D=>b.persistence.referenceDelegate.removeReference(_,E.targetId,D)))))}catch(_){if(!dl(_))throw _;ve(H0,"Failed to update sequence numbers: "+_)}for(const _ of y){const E=_.targetId;if(!_.fromCache){const D=b.Ms.get(E),P=D.snapshotVersion,F=D.withLastLimboFreeSnapshotVersion(P);b.Ms=b.Ms.insert(E,F)}}}(s.localStore,c))}async function WC(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){ve(ty,"User change. New user:",e.toKey());const s=await y4(t.localStore,e);t.currentUser=e,function(c,d){c.mu.forEach(m=>{m.forEach(g=>{g.reject(new ge(se.CANCELLED,d))})}),c.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pu(t,s.Ls)}}function ZC(n,e){const t=Ie(n),s=t.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let o=Be();const c=t.Iu.get(e);if(!c)return o;for(const d of c){const m=t.Tu.get(d);o=o.unionWith(m.view.nu)}return o}}function M4(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=k4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YC.bind(null,e),e.Pu.H_=OC.bind(null,e.eventManager),e.Pu.yu=PC.bind(null,e.eventManager),e}function JC(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QC.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return rC(this.persistence,new eC,e.initialUser,this.serializer)}Cu(e){return new g4(F0.mi,this.serializer)}Du(e){return new uC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class e9 extends qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ze(this.persistence.referenceDelegate instanceof Bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new UR(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new g4(s=>Bh.mi(s,t),this.serializer)}}class Gg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ex(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WC.bind(null,this.syncEngine),await DC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MC}()}createDatastore(e){const t=Ef(e.databaseInfo.databaseId),s=function(c){return new pC(c)}(e.databaseInfo);return function(c,d,m,g){return new bC(c,d,m,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,c,d,m){return new wC(s,o,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Ex(this.syncEngine,t,0),function(){return yx.v()?new yx:new dC}())}createSyncEngine(e,t){return function(o,c,d,m,g,y,b){const _=new zC(o,c,d,m,g,y);return b&&(_.gu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=Ie(t);ve(Ia,"RemoteStore shutting down."),s.Ea.add(5),await mu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gg.provider={build:()=>new Gg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class t9{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=C0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ve(Ds,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ve(Ds,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=X0(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function og(n,e){n.asyncQueue.verifyOperationInProgress(),ve(Ds,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async o=>{s.isEqual(o)||(await y4(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Sx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await n9(n);ve(Ds,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>bx(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>bx(e.remoteStore,o)),n._onlineComponents=e}async function n9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(Ds,"Using user provided OfflineComponentProvider");try{await og(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Go("Error using user provided cache. Falling back to memory cache: "+t),await og(n,new qh)}}else ve(Ds,"Using default OfflineComponentProvider"),await og(n,new e9(void 0));return n._offlineComponents}async function O4(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(Ds,"Using user provided OnlineComponentProvider"),await Sx(n,n._uninitializedComponentsProvider._online)):(ve(Ds,"Using default OnlineComponentProvider"),await Sx(n,new Gg))),n._onlineComponents}function r9(n){return O4(n).then(e=>e.syncEngine)}async function Hh(n){const e=await O4(n),t=e.eventManager;return t.onListen=BC.bind(null,e.syncEngine),t.onUnlisten=HC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$C.bind(null,e.syncEngine),t}function i9(n,e,t={}){const s=new Ni;return n.asyncQueue.enqueueAndForget(async()=>function(c,d,m,g,y){const b=new ry({next:E=>{b.Nu(),d.enqueueAndForget(()=>Z0(c,_));const D=E.docs.has(m);!D&&E.fromCache?y.reject(new ge(se.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&E.fromCache&&g&&g.source==="server"?y.reject(new ge(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(E)},error:E=>y.reject(E)}),_=new ey(yf(m.path),b,{includeMetadataChanges:!0,qa:!0});return W0(c,_)}(await Hh(n),n.asyncQueue,e,t,s)),s.promise}function s9(n,e,t={}){const s=new Ni;return n.asyncQueue.enqueueAndForget(async()=>function(c,d,m,g,y){const b=new ry({next:E=>{b.Nu(),d.enqueueAndForget(()=>Z0(c,_)),E.fromCache&&g.source==="server"?y.reject(new ge(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(E)},error:E=>y.reject(E)}),_=new ey(m,b,{includeMetadataChanges:!0,qa:!0});return W0(c,_)}(await Hh(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="firestore.googleapis.com",Nx=!0;class Rx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V4,this.ssl=Nx}else this.host=e.host,this.ssl=e.ssl??Nx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=p4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VR)throw new ge(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P4(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Af{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new h8;switch(s.type){case"firstParty":return new g8(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Ax.get(t);s&&(ve("ComponentProvider","Removing Datastore"),Ax.delete(t),s.terminate())}(this),Promise.resolve()}}function a9(n,e,t,s={}){n=An(n,Af);const o=ja(e),c=n._getSettings(),d={...c,emulatorOptions:n._getEmulatorOptions()},m=`${e}:${t}`;o&&(p0(`https://${m}`),g0("Firestore",!0)),c.host!==V4&&c.host!==m&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:s};if(!Ss(g,d)&&(n._setSettings(g),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=hn.MOCK_USER;else{y=jw(s.mockUserToken,n._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ge(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new hn(_)}n._authCredentials=new f8(new A_(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vi(this.firestore,e,this._query)}}class St{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(du(t,St._jsonSchema))return new St(e,s||null,new Te(ut.fromString(t.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Vt("string",St._jsonSchemaVersion),referencePath:Vt("string")};class _s extends Vi{constructor(e,t,s){super(e,t,yf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new Te(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function br(n,e,...t){if(n=bt(n),N_("collection","path",e),n instanceof Af){const s=ut.fromString(e,...t);return Bb(s),new _s(n,null,s)}{if(!(n instanceof St||n instanceof _s))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ut.fromString(e,...t));return Bb(s),new _s(n.firestore,null,s)}}function ft(n,e,...t){if(n=bt(n),arguments.length===1&&(e=C0.newId()),N_("doc","path",e),n instanceof Af){const s=ut.fromString(e,...t);return zb(s),new St(n,null,new Te(s))}{if(!(n instanceof St||n instanceof _s))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ut.fromString(e,...t));return zb(s),new St(n.firestore,n instanceof _s?n.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="AsyncQueue";class kx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new b4(this,"async_queue_retry"),this._c=()=>{const s=ag();s&&ve(Cx,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=ag();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ag();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ni;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;ve(Cx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Ii("INTERNAL UNHANDLED ERROR: ",Ix(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Q0.createAndSchedule(this,e,t,s,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:Ix(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Ix(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(n){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(n,["next","error","complete"])}class ji extends Af{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new kx,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kx(e),this._firestoreClient=void 0,await e}}}function o9(n,e){const t=typeof n=="object"?n:b0(),s=typeof n=="string"?n:Ph,o=cf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=kw("firestore");c&&a9(o,...c)}return o}function gu(n){if(n._terminated)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||l9(n),n._firestoreClient}function l9(n){const e=n._freezeSettings(),t=function(o,c,d,m){return new j8(o,c,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,P4(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new t9(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nr(on.fromBase64String(e))}catch(t){throw new ge(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nr(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:nr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,nr._jsonSchema))return nr.fromBase64String(e.bytes)}}nr._jsonSchemaVersion="firestore/bytes/1.0",nr._jsonSchema={type:Vt("string",nr._jsonSchemaVersion),bytes:Vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hr._jsonSchemaVersion}}static fromJSON(e){if(du(e,Hr._jsonSchema))return new Hr(e.latitude,e.longitude)}}Hr._jsonSchemaVersion="firestore/geoPoint/1.0",Hr._jsonSchema={type:Vt("string",Hr._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,$r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new $r(e.vectorValues);throw new ge(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$r._jsonSchemaVersion="firestore/vectorValue/1.0",$r._jsonSchema={type:Vt("string",$r._jsonSchemaVersion),vectorValues:Vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=/^__.*__$/;class u9{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,t,this.fieldTransforms):new hu(e,this.data,t,this.fieldTransforms)}}class L4{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Os(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function U4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:n})}}class Nf{constructor(e,t,s,o,c,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Nf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $h(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(U4(this.Ac)&&c9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class d9{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ef(e)}Cc(e,t,s,o=!1){return new Nf({Ac:e,methodName:t,Dc:s,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vu(n){const e=n._freezeSettings(),t=Ef(n._databaseId);return new d9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iy(n,e,t,s,o,c={}){const d=n.Cc(c.merge||c.mergeFields?2:0,e,t,o);ly("Data must be an object, but it was:",d,s);const m=F4(s,d);let g,y;if(c.merge)g=new zn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const _ of c.mergeFields){const E=Yg(e,_,t);if(!d.contains(E))throw new ge(se.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);H4(b,E)||b.push(E)}g=new zn(b),y=d.fieldTransforms.filter(_=>g.covers(_.field))}else g=null,y=d.fieldTransforms;return new u9(new Tn(m),g,y)}class Rf extends ml{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rf}}function h9(n,e,t){return new Nf({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sy extends ml{_toFieldTransform(e){return new P0(e.path,new Wc)}isEqual(e){return e instanceof sy}}class ay extends ml{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=h9(this,e,!0),s=this.vc.map(c=>pl(c,t)),o=new Xo(s);return new P0(e.path,o)}isEqual(e){return e instanceof ay&&Ss(this.vc,e.vc)}}class oy extends ml{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Jc(e.serializer,Z_(e.serializer,this.Fc));return new P0(e.path,t)}isEqual(e){return e instanceof oy&&this.Fc===e.Fc}}function z4(n,e,t,s){const o=n.Cc(1,e,t);ly("Data must be an object, but it was:",o,s);const c=[],d=Tn.empty();Ms(s,(g,y)=>{const b=cy(e,g,t);y=bt(y);const _=o.yc(b);if(y instanceof Rf)c.push(b);else{const E=pl(y,_);E!=null&&(c.push(b),d.set(b,E))}});const m=new zn(c);return new L4(d,m,o.fieldTransforms)}function B4(n,e,t,s,o,c){const d=n.Cc(1,e,t),m=[Yg(e,s,t)],g=[o];if(c.length%2!=0)throw new ge(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<c.length;E+=2)m.push(Yg(e,c[E])),g.push(c[E+1]);const y=[],b=Tn.empty();for(let E=m.length-1;E>=0;--E)if(!H4(y,m[E])){const D=m[E];let P=g[E];P=bt(P);const F=d.yc(D);if(P instanceof Rf)y.push(D);else{const z=pl(P,F);z!=null&&(y.push(D),b.set(D,z))}}const _=new zn(y);return new L4(b,_,d.fieldTransforms)}function f9(n,e,t,s=!1){return pl(t,n.Cc(s?4:3,e))}function pl(n,e){if(q4(n=bt(n)))return ly("Unsupported field value:",e,n),F4(n,e);if(n instanceof ml)return function(s,o){if(!U4(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const m of s){let g=pl(m,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}}(n,e)}return function(s,o){if((s=bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Z_(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ht.fromDate(s);return{timestampValue:zh(o.serializer,c)}}if(s instanceof ht){const c=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zh(o.serializer,c)}}if(s instanceof Hr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof nr)return{bytesValue:l4(o.serializer,s._byteString)};if(s instanceof St){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:z0(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof $r)return function(d,m){return{mapValue:{fields:{[P_]:{stringValue:V_},[Vh]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return O0(m.serializer,y)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${ff(s)}`)}(n,e)}function F4(n,e){const t={};return k_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(n,(s,o)=>{const c=pl(o,e.mc(s));c!=null&&(t[s]=c)}),{mapValue:{fields:t}}}function q4(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof Hr||n instanceof nr||n instanceof St||n instanceof ml||n instanceof $r)}function ly(n,e,t){if(!q4(t)||!R_(t)){const s=ff(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function Yg(n,e,t){if((e=bt(e))instanceof yu)return e._internalPath;if(typeof e=="string")return cy(n,e);throw $h("Field path arguments must be of type string or ",n,!1,void 0,t)}const m9=new RegExp("[~\\*/\\[\\]]");function cy(n,e,t){if(e.search(m9)>=0)throw $h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yu(...e.split("."))._internalPath}catch{throw $h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $h(n,e,t,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${s}`),d&&(g+=` in document ${o}`),g+=")"),new ge(se.INVALID_ARGUMENT,m+n+g)}function H4(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class p9 extends $4{data(){return super.data()}}function Cf(n,e){return typeof e=="string"?cy(n,e):e instanceof yu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uy{}class dy extends uy{}function La(n,e,...t){let s=[];e instanceof uy&&s.push(e),s=s.concat(t),function(c){const d=c.filter(g=>g instanceof hy).length,m=c.filter(g=>g instanceof kf).length;if(d>1||d>0&&m>0)throw new ge(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)n=o._apply(n);return n}class kf extends dy{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new kf(e,t,s)}_apply(e){const t=this._parse(e);return Y4(e._query,t),new Vi(e.firestore,e.converter,Vg(e._query,t))}_parse(e){const t=vu(e.firestore);return function(c,d,m,g,y,b,_){let E;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ge(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Mx(_,b);const P=[];for(const F of _)P.push(jx(g,c,F));E={arrayValue:{values:P}}}else E=jx(g,c,_)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Mx(_,b),E=f9(m,d,_,b==="in"||b==="not-in");return Pt.create(y,b,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Gh(n,e,t){const s=e,o=Cf("where",n);return kf._create(o,s,t)}class hy extends uy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hy(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:pr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,c){let d=o;const m=c.getFlattenedFilters();for(const g of m)Y4(d,g),d=Vg(d,g)}(e._query,t),new Vi(e.firestore,e.converter,Vg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fy extends dy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new fy(e,t)}_apply(e){const t=function(o,c,d){if(o.startAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xc(c,d)}(e._query,this._field,this._direction);return new Vi(e.firestore,e.converter,function(o,c){const d=o.explicitOrderBy.concat([c]);return new hl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function bu(n,e="asc"){const t=e,s=Cf("orderBy",n);return fy._create(s,t)}class my extends dy{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new my(e,t,s)}_apply(e){return new Vi(e.firestore,e.converter,Uh(e._query,this._limit,this._limitType))}}function g9(n){return my._create("limit",n,"F")}function jx(n,e,t){if(typeof(t=bt(t))=="string"){if(t==="")throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$_(e)&&t.indexOf("/")!==-1)throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ut.fromString(t));if(!Te.isDocumentKey(s))throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Qb(n,new Te(s))}if(t instanceof St)return Qb(n,t._key);throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(t)}.`)}function Mx(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y4(n,e){const t=function(o,c){for(const d of o)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class y9{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ms(e,(o,c)=>{s[o]=this.convertValue(c,t)}),s}convertVectorValue(e){const t=e.fields?.[Vh].arrayValue?.values?.map(s=>Ct(s.doubleValue));return new $r(t)}convertGeoPoint(e){return new Hr(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=gf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Yc(e));default:return null}}convertTimestamp(e){const t=Rs(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ut.fromString(e);Ze(m4(s),9688,{name:e});const o=new Kc(s.get(1),s.get(3)),c=new Te(s.popFirst(5));return o.isEqual(t)||Ii(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class Mc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends $4{constructor(e,t,s,o,c,d){super(e,t,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Cf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=_a._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:Vt("string",_a._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class vh extends _a{data(e={}){return super.data(e)}}class Ea{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Mc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new vh(this._firestore,this._userDataWriter,s.key,s,new Mc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const g=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Mc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Mc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),b=d.indexOf(m.doc.key)),{type:v9(m.type),doc:g,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=C0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function v9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(n){n=An(n,St);const e=An(n.firestore,ji);return i9(gu(e),n._key).then(t=>Q4(e,n,t))}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:Vt("string",Ea._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class gy extends y9{constructor(e){super(),this.firestore=e}convertBytes(e){return new nr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,t)}}function xu(n){n=An(n,Vi);const e=An(n.firestore,ji),t=gu(e),s=new gy(e);return G4(n._query),s9(t,n._query).then(o=>new Ea(e,s,n,o))}function yy(n,e,t){n=An(n,St);const s=An(n.firestore,ji),o=py(n.converter,e,t);return If(s,[iy(vu(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Nn.none())])}function gr(n,e,t,...s){n=An(n,St);const o=An(n.firestore,ji),c=vu(o);let d;return d=typeof(e=bt(e))=="string"||e instanceof yu?B4(c,"updateDoc",n._key,e,t,s):z4(c,"updateDoc",n._key,e),If(o,[d.toMutation(n._key,Nn.exists(!0))])}function K4(n,e){const t=An(n.firestore,ji),s=ft(n),o=py(n.converter,e);return If(t,[iy(vu(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Nn.exists(!1))]).then(()=>s)}function wu(n,...e){n=bt(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Dx(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Dx(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let c,d,m;if(n instanceof St)d=An(n.firestore,ji),m=yf(n._key.path),c={next:g=>{e[s]&&e[s](Q4(d,n,g))},error:e[s+1],complete:e[s+2]};else{const g=An(n,Vi);d=An(g.firestore,ji),m=g._query;const y=new gy(d);c={next:b=>{e[s]&&e[s](new Ea(d,y,g,b))},error:e[s+1],complete:e[s+2]},G4(n._query)}return function(y,b,_,E){const D=new ry(E),P=new ey(b,D,_);return y.asyncQueue.enqueueAndForget(async()=>W0(await Hh(y),P)),()=>{D.Nu(),y.asyncQueue.enqueueAndForget(async()=>Z0(await Hh(y),P))}}(gu(d),m,o,c)}function If(n,e){return function(s,o){const c=new Ni;return s.asyncQueue.enqueueAndForget(async()=>GC(await r9(s),o,c)),c.promise}(gu(n),e)}function Q4(n,e,t){const s=t.docs.get(e._key),o=new gy(n);return new _a(n,o,e._key,s,new Mc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vu(e)}set(e,t,s){this._verifyNotCommitted();const o=lg(e,this._firestore),c=py(o.converter,t,s),d=iy(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,Nn.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const c=lg(e,this._firestore);let d;return d=typeof(t=bt(t))=="string"||t instanceof yu?B4(this._dataReader,"WriteBatch.update",c._key,t,s,o):z4(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,Nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=lg(e,this._firestore);return this._mutations=this._mutations.concat(new V0(t._key,Nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ge(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lg(n,e){if((n=bt(n)).firestore!==e)throw new ge(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Rn(){return new sy("serverTimestamp")}function x9(...n){return new ay("arrayUnion",n)}function Ta(n){return new oy("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(n){return gu(n=An(n,ji)),new b9(n,e=>If(n,e))}(function(e,t=!0){(function(o){cl=o})(Ma),Na(new As("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new ji(new m8(s.getProvider("auth-internal")),new y8(d,s.getProvider("app-check-internal")),function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(y.options.projectId,b)}(d,o),d);return c={useFetchStreams:t,...c},m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ur(Pb,Vb,e),Ur(Pb,Vb,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="firebasestorage.googleapis.com",_9="storageBucket",E9=2*60*1e3,T9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Qr{constructor(e,t,s=0){super(cg(e),`Firebase Storage: ${t} (${cg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yr||(Yr={}));function cg(n){return"storage/"+n}function S9(){const n="An unknown error occurred, please check the error payload for server response.";return new Xr(Yr.UNKNOWN,n)}function A9(){return new Xr(Yr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function N9(){return new Xr(Yr.CANCELED,"User canceled the upload/download.")}function R9(n){return new Xr(Yr.INVALID_URL,"Invalid URL '"+n+"'.")}function C9(n){return new Xr(Yr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Ox(n){return new Xr(Yr.INVALID_ARGUMENT,n)}function W4(){return new Xr(Yr.APP_DELETED,"The Firebase app was deleted.")}function k9(n){return new Xr(Yr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=dr.makeFromUrl(e,t)}catch{return new dr(e,"")}if(s.path==="")return s;throw C9(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const d="(/(.*))?$",m=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function y(he){he.path_=decodeURIComponent(he.path)}const b="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",D=new RegExp(`^https?://${_}/${b}/b/${o}/o${E}`,"i"),P={bucket:1,path:3},F=t===X4?"(?:storage.googleapis.com|storage.cloud.google.com)":t,z="([^?#]*)",$=new RegExp(`^https?://${F}/${o}/${z}`,"i"),ne=[{regex:m,indices:g,postModify:c},{regex:D,indices:P,postModify:y},{regex:$,indices:{bucket:1,path:2},postModify:y}];for(let he=0;he<ne.length;he++){const te=ne[he],ue=te.regex.exec(e);if(ue){const R=ue[te.indices.bucket];let A=ue[te.indices.path];A||(A=""),s=new dr(R,A),te.postModify(s);break}}if(s==null)throw R9(e);return s}}class I9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(n,e,t){let s=1,o=null,c=null,d=!1,m=0;function g(){return m===2}let y=!1;function b(...z){y||(y=!0,e.apply(null,z))}function _(z){o=setTimeout(()=>{o=null,n(D,g())},z)}function E(){c&&clearTimeout(c)}function D(z,...$){if(y){E();return}if(z){E(),b.call(null,z,...$);return}if(g()||d){E(),b.call(null,z,...$);return}s<64&&(s*=2);let ne;m===1?(m=2,ne=0):ne=(s+Math.random())*1e3,_(ne)}let P=!1;function F(z){P||(P=!0,E(),!y&&(o!==null?(z||(m=2),clearTimeout(o),_(0)):z||(m=1)))}return _(0),c=setTimeout(()=>{d=!0,F(!0)},t),F}function j9(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(n){return n!==void 0}function Px(n,e,t,s){if(s<e)throw Ox(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw Ox(`Invalid value for '${n}'. Expected ${t} or less.`)}function O9(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Yh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Yh||(Yh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,c=e.indexOf(n)!==-1;return t||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,t,s,o,c,d,m,g,y,b,_,E=!0,D=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,F)=>{this.resolve_=P,this.reject_=F,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new th(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const m=c.getErrorCode()===Yh.NO_ERROR,g=c.getStatus();if(!m||P9(g,this.additionalRetryCodes_)&&this.retry){const b=c.getErrorCode()===Yh.ABORT;s(!1,new th(!1,null,b));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new th(y,c))})},t=(s,o)=>{const c=this.resolve_,d=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());M9(g)?c(g):c()}catch(g){d(g)}else if(m!==null){const g=S9();g.serverResponse=m.getErrorText(),this.errorCallback_?d(this.errorCallback_(m,g)):d(g)}else if(o.canceled){const g=this.appDelete_?W4():N9();d(g)}else{const g=A9();d(g)}};this.canceled_?t(!1,new th(!1,null,!0)):this.backoffId_=D9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&j9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class th{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function L9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function U9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function z9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function B9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function F9(n,e,t,s,o,c,d=!0,m=!1){const g=O9(n.urlParams),y=n.url+g,b=Object.assign({},n.headers);return z9(b,e),L9(b,t),U9(b,c),B9(b,s),new V9(y,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,d,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function H9(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t){this._service=e,t instanceof dr?this._location=t:this._location=dr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Kh(e,t)}get root(){const e=new dr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return H9(this._location.path)}get storage(){return this._service}get parent(){const e=q9(this._location.path);if(e===null)return null;const t=new dr(this._location.bucket,e);return new Kh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw k9(e)}}function Vx(n,e){const t=e?.[_9];return t==null?null:dr.makeFromBucketSpec(t,n)}function $9(n,e,t,s={}){n.host=`${e}:${t}`;const o=ja(e);o&&(p0(`https://${n.host}/b`),g0("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(n._overrideAuthToken=typeof c=="string"?c:jw(c,n.app.options.projectId))}class G9{constructor(e,t,s,o,c,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=X4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=E9,this._maxUploadRetryTime=T9,this._requests=new Set,o!=null?this._bucket=dr.makeFromBucketSpec(o,this._host):this._bucket=Vx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=dr.makeFromBucketSpec(this._url,e):this._bucket=Vx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Px("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Px("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kh(this,e)}_makeRequest(e,t,s,o,c=!0){if(this._deleted)return new I9(W4());{const d=F9(e,this._appId,s,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const Lx="@firebase/storage",Ux="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="storage";function Y9(n=b0(),e){n=bt(n);const s=cf(n,Z4).getImmediate({identifier:e}),o=kw("storage");return o&&K9(s,...o),s}function K9(n,e,t,s={}){$9(n,e,t,s)}function Q9(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new G9(t,s,o,e,Ma)}function X9(){Na(new As(Z4,Q9,"PUBLIC").setMultipleInstances(!0)),Ur(Lx,Ux,""),Ur(Lx,Ux,"esm2020")}X9();const W9={apiKey:"AIzaSyDO5YcqXk5nhPT2OXyCScTamwmedBEFxTE",authDomain:"collabrianexus.firebaseapp.com",projectId:"collabrianexus",storageBucket:"collabrianexus.firebasestorage.app",messagingSenderId:"1047185526287",appId:"1:1047185526287:web:ada10cb1be8c92c0799d7a",measurementId:"G-PNZLHYBXYT"},vy=Pw(W9),Df=l8(vy),Fe=o9(vy);Y9(vy);const Z9=(n,e)=>{const t=br(Fe,"users",n,"notifications"),s=La(t,Gh("isDismissed","==",!1),bu("timestamp","desc"));return wu(s,o=>{const c=o.docs.map(d=>({id:d.id,...d.data()}));e(c)})},Ps=async(n,e)=>{try{const t=br(Fe,"users",n,"notifications");return await K4(t,{message:e.message,type:e.type||"general",timestamp:Rn(),isRead:!1,isDismissed:!1,metadata:e.metadata||{}}),{success:!0}}catch(t){return console.error("Error creating notification:",t),{success:!1,error:t.message}}},J9=async(n,e)=>{try{const t=ft(Fe,"users",n,"notifications",e);return await gr(t,{isRead:!0}),{success:!0}}catch(t){return console.error("Error marking notification as read:",t),{success:!1,error:t.message}}},ek=async(n,e)=>{try{const t=ft(Fe,"users",n,"notifications",e);return await gr(t,{isDismissed:!0}),{success:!0}}catch(t){return console.error("Error dismissing notification:",t),{success:!1,error:t.message}}},J4=async(n,e)=>await Ps(n,{message:`🎉 Mining completed! You earned ${e} coins!`,type:"mining_completed",metadata:{coinsEarned:e}}),tk=async(n,e)=>await Ps(n,{message:`🤝 ${e} joined using your referral code! Mining rate boosted!`,type:"referral_success",metadata:{referredUsername:e}}),nk=async(n,e)=>await Ps(n,{message:`🏆 Congratulations! You earned the "${e}" badge!`,type:"badge_earned",metadata:{badgeName:e}}),rk=async(n,e)=>await Ps(n,{message:`🔥 Amazing! You've reached a ${e}-day streak!`,type:"streak_milestone",metadata:{streakCount:e}}),ik=async n=>await Ps(n,{message:"🎁 Welcome! You received a mining rate bonus for joining via referral!",type:"welcome_bonus"}),sk=async(n,e,t)=>await Ps(n,{message:`✅ Task completed: "${e}" in ${t} badge!`,type:"task_completed",metadata:{taskName:e,badgeName:t}}),ak=async(n,e,t)=>await Ps(n,{message:`🎯 ${t}% progress on "${e}" badge!`,type:"quest_progress",metadata:{badgeName:e,progress:t}}),ok=[{id:"first_steps",name:"First Steps",description:"Complete your first milestone",icon:"FaRocket",color:"text-blue-400",bgGradient:"from-blue-600/20 to-cyan-600/20",borderColor:"border-blue-500/30",tasks:[{id:1,text:"Complete profile setup",completed:!1},{id:2,text:"Start your first mining session",completed:!1},{id:3,text:"Add a profile picture",completed:!1}]},{id:"streak_master",name:"Streak Master",description:"Maintain consistent activity",icon:"FaFire",color:"text-orange-400",bgGradient:"from-orange-600/20 to-red-600/20",borderColor:"border-orange-500/30",tasks:[{id:1,text:"Login for 3 consecutive days",completed:!1},{id:2,text:"Mine for 5 days straight",completed:!1},{id:3,text:"Complete daily goals for 7 days",completed:!1},{id:4,text:"Maintain 10-day login streak",completed:!1},{id:5,text:"Achieve 15-day mining streak",completed:!1},{id:6,text:"Reach 30-day activity streak",completed:!1}]},{id:"social_butterfly",name:"Social Butterfly",description:"Build your network",icon:"FaHeart",color:"text-pink-400",bgGradient:"from-pink-600/20 to-rose-600/20",borderColor:"border-pink-500/30",tasks:[{id:1,text:"Refer your first friend",completed:!1},{id:2,text:"Get 3 successful referrals",completed:!1},{id:3,text:"Get 5 successful referrals",completed:!1}]},{id:"mining_expert",name:"Mining Expert",description:"Master the mining system",icon:"FaGem",color:"text-purple-400",bgGradient:"from-purple-600/20 to-violet-600/20",borderColor:"border-purple-500/30",tasks:[{id:1,text:"Complete 10 mining sessions",completed:!1},{id:2,text:"Mine for 100 total hours",completed:!1},{id:3,text:"Reach 100 coins mined",completed:!1}]},{id:"legend",name:"Legend",description:"Ultimate achievement",icon:"FaCrown",color:"text-yellow-400",bgGradient:"from-yellow-600/20 to-amber-600/20",borderColor:"border-yellow-500/30",tasks:[{id:1,text:"Earn all other badges",completed:!1},{id:2,text:"Refer 25+ successful users",completed:!1},{id:3,text:"Mine 1000+ coins",completed:!1},{id:4,text:"Maintain 60-day streak",completed:!1}]}],lk=async n=>{try{console.log("Initializing badges for user:",n);const e=w9(Fe);return ok.forEach(t=>{const s=ft(Fe,"users",n,"badges",t.id);e.set(s,{badgeId:t.id,name:t.name,description:t.description,icon:t.icon,color:t.color,bgGradient:t.bgGradient,borderColor:t.borderColor,tasks:t.tasks.map(o=>({...o,completed:!1,completedAt:null})),progress:0,isEarned:!1,earnedAt:null})}),await e.commit(),console.log("Badges initialized successfully"),{success:!0}}catch(e){return console.error("Error initializing badges:",e),{success:!1,error:e.message}}},ck=(n,e,t)=>{const s=t.stats||{},o=t.mining||{},c=t.social||{},d=t.profile||{};switch(n){case"first_steps":switch(e){case 1:return d.username&&d.email;case 2:return o.totalMiningSessions>=1;case 3:return d.avatar||d.profilePicture;default:return!1}case"streak_master":const m=s.currentStreak||0;switch(e){case 1:return m>=3;case 2:return m>=5;case 3:return m>=7;case 4:return m>=10;case 5:return m>=15;case 6:return m>=30;default:return!1}case"social_butterfly":const g=c.referredUsers?.length||0;switch(e){case 1:return g>=1;case 2:return g>=3;case 3:return g>=5;default:return!1}case"mining_expert":const y=o.totalMiningSessions||0,b=s.totalCoinsEarned||0,_=y*24;switch(e){case 1:return y>=10;case 2:return _>=100;case 3:return b>=100;default:return!1}case"legend":const E=c.referredUsers?.length||0,D=s.totalCoinsEarned||0,P=s.currentStreak||0;switch(e){case 1:return!1;case 2:return E>=25;case 3:return D>=1e3;case 4:return P>=60;default:return!1}default:return!1}},by=async n=>{try{const e=ft(Fe,"users",n),t=await pn(e);if(!t.exists())return{success:!1,error:"User not found"};const s=t.data(),o=await e3(n);if(!o.success)return o;for(const c of o.badges){if(c.isEarned)continue;let d=!1,m=[];const g=c.tasks.map(y=>ck(c.badgeId,y.id,s)&&!y.completed?(d=!0,m.push(y.text),{...y,completed:!0,completedAt:new Date}):y);if(d){const b=g.filter(D=>D.completed).length/g.length*100,_=b===100,E=ft(Fe,"users",n,"badges",c.badgeId);await gr(E,{tasks:g,progress:b,isEarned:_,..._&&!c.isEarned?{earnedAt:new Date}:{}});for(const D of m)await sk(n,D,c.name);!_&&b>=25&&b%25===0&&await ak(n,c.name,Math.round(b)),_&&!c.isEarned&&await nk(n,c.name)}}return{success:!0}}catch(e){return console.error("Error validating badge progress:",e),{success:!1,error:e.message}}},_u=async(n,e,t={})=>{try{return await by(n),{success:!0}}catch(s){return console.error("Error checking badge conditions:",s),{success:!1,error:s.message}}},e3=async n=>{try{const e=br(Fe,"users",n,"badges"),t=La(e,bu("badgeId"));return{success:!0,badges:(await xu(t)).docs.map(c=>({id:c.id,...c.data()}))}}catch(e){return console.error("Error getting user badges:",e),{success:!1,error:e.message,badges:[]}}},uk=(n,e)=>{const t=br(Fe,"users",n,"badges"),s=La(t,bu("badgeId"));return wu(s,o=>{const c=o.docs.map(d=>({id:d.id,...d.data()}));e(c)})},dk=(n,e)=>{const t=br(Fe,"users",n,"badges"),s=La(t,bu("badgeId"));return wu(s,async o=>{await by(n);const c=o.docs.map(d=>{const m=d.data();return{id:d.id,badgeId:m.badgeId,name:m.name,description:m.description,icon:m.icon,color:m.color,bgGradient:m.bgGradient,borderColor:m.borderColor,tasks:m.tasks||[],isEarned:m.isEarned||!1,progress:m.progress||0}});e(c)})},hk=()=>Math.random().toString(36).substring(2,8).toUpperCase(),fk=async(n,e)=>{try{console.log(`Processing referral: ${n} for new user: ${e}`);const t=br(Fe,"users"),s=La(t,Gh("profile.referralCode","==",n)),o=await xu(s);if(o.empty)return console.log("Referral code not found:",n),{success:!1,error:"Invalid referral code"};const c=o.docs[0],d=c.id,m=c.data(),g=ft(Fe,"users",e),b=(await pn(g)).data();console.log("Found referrer:",d);const _=ft(Fe,"users",d);await gr(_,{"social.totalReferrals":Ta(1),"social.referredUsers":x9(e),"mining.miningRate":(m.mining?.miningRate||3)+.1,"profile.lastActive":Rn()}),await tk(d,b.profile.username),await ik(e),await gr(g,{"profile.referredBy":d,"mining.miningRate":3.2});const E=(m.social?.totalReferrals||0)+1;return await _u(d,"REFERRAL_SUCCESS",{totalReferrals:E}),console.log("Referral processed successfully"),{success:!0,referrerUid:d,message:"Referral processed successfully! Both users received bonuses."}}catch(t){return console.error("Error processing referral:",t),{success:!1,error:t.message}}},mk=async(n,e)=>{try{const t=ft(Fe,"users",n),s={uid:n,profile:{username:e.username,email:e.email,name:e.name||e.username,avatar:"",joined:Rn(),lastActive:Rn(),referralCode:hk(),referredBy:(e.referralCode,null)},stats:{coinsEarned:0,totalCoinsEarned:0,level:1,currentTier:"Bronze Miner",nextTier:"Silver Miner",tierProgress:0,currentStreak:0,totalMined:0,rank:"#0",isVip:!1},mining:{isMining:!1,lastMiningStart:null,coinsMined:0,nextAvailable:null,totalMiningSessions:0,miningRate:3},social:{friends:[],totalReferrals:0,referredUsers:[],networkCoins:0},settings:{notifications:!0,privacy:"public"}};if(await yy(t,s),await lk(n),e.referralCode){const o=await fk(e.referralCode,n);o.success?console.log("Referral processed during user creation"):console.log("Referral processing failed:",o.error)}return{success:!0}}catch(t){return console.error("Error creating user profile:",t),{success:!1,error:t.message}}},pk=async n=>{try{const e=ft(Fe,"users",n),t=await pn(e);return t.exists()?{success:!0,data:t.data()}:{success:!1,error:"User not found"}}catch(e){return{success:!1,error:e.message}}},gk=async n=>{try{const e=ft(Fe,"users",n);await gr(e,{"profile.lastActive":Rn()})}catch(e){console.error("Error updating last active:",e)}},yk=async(n,e,t)=>{try{const o=(await HA(Df,n,e)).user;return await YA(o,{displayName:t.username}),await mk(o.uid,t),{success:!0,user:o}}catch(s){return{success:!1,error:s.message}}},vk=async(n,e)=>{try{return{success:!0,user:(await $A(Df,n,e)).user}}catch(t){return{success:!1,error:t.message}}},bk=async()=>{try{return await WA(Df),{success:!0}}catch(n){return{success:!1,error:n.message}}},xy=n=>XA(Df,n);function xk({onLogin:n}){const e=Da(),[t,s]=L.useState({email:"",password:""}),[o,c]=L.useState(!1),[d,m]=L.useState(!1),[g,y]=L.useState({}),[b,_]=L.useState(!1),E=F=>{const{name:z,value:$}=F.target;s(re=>({...re,[z]:$})),g[z]&&y(re=>({...re,[z]:""}))},D=()=>{const F={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(F.email="Please enter a valid email"):F.email="Email is required",t.password||(F.password="Password is required"),y(F),Object.keys(F).length===0},P=async F=>{if(F.preventDefault(),!D())return;_(!0);const z=await vk(t.email,t.password);_(!1),z.success?(n&&n(),e("/")):y({general:z.error})};return h.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background px-4 py-8 md:py-16 pt-20 relative overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[h.jsx("div",{className:"absolute top-20 right-20 w-64 h-64 bg-accent/20 rounded-full blur-3xl floating"}),h.jsx("div",{className:"absolute bottom-20 left-20 w-80 h-80 bg-accentLight/10 rounded-full blur-3xl",style:{animationDelay:"3s"}})]}),h.jsxs("div",{className:"w-full max-w-6xl bg-card rounded-2xl shadow-2xl flex overflow-hidden relative z-10 border border-border",children:[h.jsxs("div",{className:"flex-1 p-10 lg:p-12 flex flex-col justify-center",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("span",{className:"font-bold text-3xl text-accent",children:"Collabria Nexus"}),h.jsx("p",{className:"text-textMuted mt-2 text-sm",children:"Welcome back to your learning & earning journey"})]}),h.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-2 text-accentLight",children:"Welcome Back!"}),h.jsx("p",{className:"mb-8 text-textMuted text-lg",children:"Continue your journey of knowledge and collaboration"}),h.jsxs("form",{onSubmit:P,className:"space-y-5",children:[h.jsxs("div",{className:"relative",children:[h.jsx(BE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-accent w-5 h-5"}),h.jsx("input",{type:"email",name:"email",value:t.email,onChange:E,placeholder:"Email Address",className:`w-full pl-12 pr-4 py-3 rounded-lg border ${g.email?"border-error":"border-border"} bg-background/70 text-text placeholder-textMuted focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),g.email&&h.jsx("p",{className:"text-error text-sm mt-1",children:g.email})]}),h.jsxs("div",{className:"relative",children:[h.jsx(UE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text/40 w-5 h-5"}),h.jsx("input",{type:o?"text":"password",name:"password",value:t.password,onChange:E,placeholder:"Password",className:`w-full pl-12 pr-12 py-3 rounded-lg border ${g.password?"border-red-500":"border-border"} bg-background/50 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),h.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text/40 hover:text-accent p-1 transition-colors",children:o?h.jsx(vg,{size:20}):h.jsx(bg,{size:20})}),g.password&&h.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.password})]}),h.jsxs("div",{className:"flex justify-between items-center text-sm",children:[h.jsxs("label",{className:"flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:d,onChange:F=>m(F.target.checked),className:"accent-accent w-4 h-4 mr-2"}),h.jsx("span",{className:"text-text/70",children:"Remember me"})]}),h.jsx("a",{href:"#",className:"text-accent hover:text-accentLight transition-colors",children:"Forgot password?"})]}),h.jsx("button",{type:"submit",disabled:b,className:"w-full py-4 rounded-lg bg-gradient-to-r from-accent to-accentLight text-white font-semibold hover:shadow-lg hover:shadow-accent/25 transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center group",children:b?h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):h.jsxs(h.Fragment,{children:["Sign In",h.jsx(CE,{className:"ml-2 w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]}),h.jsxs("div",{className:"mt-8 text-center text-sm text-textMuted",children:["New to our community?"," ",h.jsx(Lr,{to:"/SignUp",className:"text-accent hover:text-accentLight hover:underline font-medium",children:"Create your account"})]}),h.jsx("div",{className:"mt-8 pt-6 border-t border-border/50",children:h.jsxs("div",{className:"flex justify-center space-x-8 text-center",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xl font-bold text-accent",children:"10K+"}),h.jsx("div",{className:"text-xs text-text/60",children:"Active Members"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xl font-bold text-accent",children:"500+"}),h.jsx("div",{className:"text-xs text-text/60",children:"Expert Mentors"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xl font-bold text-accent",children:"1M+"}),h.jsx("div",{className:"text-xs text-text/60",children:"Knowledge Shares"})]})]})})]}),h.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center bg-gradient-to-br from-background/80 to-card/50 p-12 relative",children:h.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-center",children:[h.jsx("img",{src:dw,alt:"Knowledge Access Illustration",className:"max-h-80 object-contain drop-shadow-2xl rounded-2xl mb-8 floating"}),h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"text-2xl font-bold gradient-text",children:"Your Knowledge Universe Awaits"}),h.jsx("p",{className:"text-text/70 text-lg leading-relaxed max-w-md",children:"Access your personalized dashboard, connect with mentors, and continue building your professional network in the knowledge economy."}),h.jsxs("div",{className:"bg-gradient-to-r from-accent/10 to-accent-light/10 p-6 rounded-xl border border-accent/20",children:[h.jsx("div",{className:"text-sm text-text/60 mb-2",children:"💡 Today's Insight"}),h.jsx("div",{className:"text-text/80 italic",children:'"The best way to learn is to teach others. Join discussions, share your expertise, and grow together."'})]})]})]})})]})]})}function wk({onSignUp:n}){const e=Da(),[t,s]=L.useState({username:"",email:"",password:"",confirmPassword:"",referralCode:""}),[o,c]=L.useState(!1),[d,m]=L.useState(!1),[g,y]=L.useState(!1),[b,_]=L.useState({}),[E,D]=L.useState(!1),P=$=>{const{name:re,value:ne}=$.target;s(he=>({...he,[re]:ne})),b[re]&&_(he=>({...he,[re]:""}))},F=()=>{const $={};return t.username.trim()?t.username.length<3&&($.username="Username must be at least 3 characters"):$.username="Username is required",t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||($.email="Please enter a valid email"):$.email="Email is required",t.password?t.password.length<8&&($.password="Password must be at least 8 characters"):$.password="Password is required",t.password!==t.confirmPassword&&($.confirmPassword="Passwords do not match"),o||($.terms="You must accept the terms and privacy policy"),_($),Object.keys($).length===0},z=async $=>{if($.preventDefault(),!F())return;D(!0);const re=await yk(t.email,t.password,{username:t.username,email:t.email,name:t.username,referralCode:t.referralCode});D(!1),re.success?(n&&n(),e("/dashboard")):_({general:re.error})};return h.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background px-4 py-8 md:py-16 pt-20 relative overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[h.jsx("div",{className:"absolute top-20 left-20 w-64 h-64 bg-accent/20 rounded-full blur-3xl floating"}),h.jsx("div",{className:"absolute bottom-20 right-20 w-80 h-80 bg-accentLight/10 rounded-full blur-3xl",style:{animationDelay:"2s"}})]}),h.jsxs("div",{className:"w-full max-w-6xl bg-card rounded-2xl shadow-2xl flex overflow-hidden relative z-10 border border-border",children:[h.jsxs("div",{className:"flex-1 p-10 lg:p-12 flex flex-col justify-center",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("span",{className:"font-bold text-3xl text-accent",children:"Collabria Nexus"}),h.jsx("p",{className:"text-textMuted mt-2 text-sm",children:"Empowering minds, building futures"})]}),h.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-2 text-accentLight",children:"Join Our Community"}),h.jsx("p",{className:"mb-8 text-textMuted text-lg",children:"Start your journey of knowledge sharing and collaboration"}),h.jsxs("form",{onSubmit:z,className:"space-y-5",children:[h.jsx("input",{type:"text",name:"username",value:t.username,onChange:P,placeholder:"Username",className:`w-full px-4 py-3 rounded-lg border ${b.username?"border-error":"border-border"} bg-background/70 text-text placeholder-textMuted focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),h.jsxs("div",{children:[h.jsx("input",{type:"email",name:"email",value:t.email,onChange:P,placeholder:"Email Address",className:`w-full px-4 py-3 rounded-lg border ${b.email?"border-red-500":"border-border"} bg-background/50 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),b.email&&h.jsx("p",{className:"text-red-400 text-sm mt-1",children:b.email})]}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:d?"text":"password",name:"password",value:t.password,onChange:P,placeholder:"Password",className:`w-full px-4 py-3 pr-12 rounded-lg border ${b.password?"border-red-500":"border-border"} bg-background/50 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),h.jsx("button",{type:"button",onClick:()=>m(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text/50 hover:text-accent p-1",children:d?h.jsx(vg,{size:20}):h.jsx(bg,{size:20})}),b.password&&h.jsx("p",{className:"text-red-400 text-sm mt-1",children:b.password})]}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:g?"text":"password",name:"confirmPassword",value:t.confirmPassword,onChange:P,placeholder:"Confirm Password",className:`w-full px-4 py-3 pr-12 rounded-lg border ${b.confirmPassword?"border-red-500":"border-border"} bg-background/50 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300`}),h.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text/50 hover:text-accent p-1",children:g?h.jsx(vg,{size:20}):h.jsx(bg,{size:20})}),b.confirmPassword&&h.jsx("p",{className:"text-red-400 text-sm mt-1",children:b.confirmPassword})]}),h.jsx("div",{children:h.jsx("input",{type:"text",name:"referralCode",value:t.referralCode,onChange:P,placeholder:"Referral Code (Optional)",className:"w-full px-4 py-3 rounded-lg border border-border bg-background/50 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-300"})}),h.jsxs("div",{className:"flex items-start text-sm mt-6",children:[h.jsx("input",{id:"accept",type:"checkbox",checked:o,onChange:$=>c($.target.checked),className:"accent-accent w-4 h-4 mr-3 mt-1 flex-shrink-0"}),h.jsxs("label",{htmlFor:"accept",className:"text-textMuted select-none leading-relaxed",children:["I agree to the"," ",h.jsx("a",{href:"#",className:"text-accent hover:text-accentLight underline",children:"Terms of Service"})," ","and"," ",h.jsx("a",{href:"#",className:"text-accent hover:text-accentLight underline",children:"Privacy Policy"}),"."]})]}),h.jsx("button",{type:"submit",disabled:!o||E,className:"w-full py-4 rounded-lg bg-gradient-to-r from-accent to-accentLight text-white font-semibold hover:shadow-lg hover:shadow-accent/25 transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center",children:E?h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Create Account"})]}),h.jsxs("div",{className:"mt-8 text-center text-sm text-textMuted",children:["Already part of our community?"," ",h.jsx(Lr,{to:"/login",className:"text-accent hover:text-accentLight hover:underline font-medium",children:"Sign in here"})]})]}),h.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center bg-gradient-to-br from-background/80 to-card/50 p-12 relative",children:h.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-center",children:[h.jsx("img",{src:dw,alt:"Knowledge Community Illustration",className:"max-h-80 object-contain drop-shadow-2xl rounded-2xl mb-8 floating"}),h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"text-2xl font-bold text-accentLight",children:"Join the Knowledge Revolution"}),h.jsx("p",{className:"text-textMuted text-lg leading-relaxed max-w-md",children:"Connect with experts, share insights, and collaborate on projects that matter."}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[h.jsxs("div",{className:"flex flex-col items-center p-4 glass rounded-xl bg-background/60 border border-border",children:[h.jsx(qE,{className:"w-8 h-8 text-accent mb-2"}),h.jsx("span",{className:"text-sm text-textMuted",children:"Expert Network"})]}),h.jsxs("div",{className:"flex flex-col items-center p-4 glass rounded-xl",children:[h.jsx(jE,{className:"w-8 h-8 text-accent mb-2"}),h.jsx("span",{className:"text-sm text-text/70",children:"Knowledge Base"})]}),h.jsxs("div",{className:"flex flex-col items-center p-4 glass rounded-xl",children:[h.jsx(IE,{className:"w-8 h-8 text-accent mb-2"}),h.jsx("span",{className:"text-sm text-text/70",children:"Verified Insights"})]}),h.jsxs("div",{className:"flex flex-col items-center p-4 glass rounded-xl",children:[h.jsx(VE,{className:"w-8 h-8 text-accent mb-2"}),h.jsx("span",{className:"text-sm text-text/70",children:"Global Impact"})]})]})]})]})})]})]})}var t3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zx=Zt.createContext&&Zt.createContext(t3),_k=["attr","size","title"];function Ek(n,e){if(n==null)return{};var t=Tk(n,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function Tk(n,e){if(n==null)return{};var t={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function Qh(){return Qh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Qh.apply(this,arguments)}function Bx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,s)}return t}function Xh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Bx(Object(t),!0).forEach(function(s){Sk(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Bx(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function Sk(n,e,t){return e=Ak(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ak(n){var e=Nk(n,"string");return typeof e=="symbol"?e:e+""}function Nk(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function n3(n){return n&&n.map((e,t)=>Zt.createElement(e.tag,Xh({key:t},e.attr),n3(e.child)))}function _e(n){return e=>Zt.createElement(Rk,Qh({attr:Xh({},n.attr)},e),n3(n.child))}function Rk(n){var e=t=>{var{attr:s,size:o,title:c}=n,d=Ek(n,_k),m=o||t.size||"1em",g;return t.className&&(g=t.className),n.className&&(g=(g?g+" ":"")+n.className),Zt.createElement("svg",Qh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,d,{className:g,style:Xh(Xh({color:n.color||t.color},t.style),n.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&Zt.createElement("title",null,c),n.children)};return zx!==void 0?Zt.createElement(zx.Consumer,null,t=>e(t)):e(t3)}function Ck(n){return _e({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 167.5l64.9 98.8H183.1l64.9-98.8zM496 256c0 136.9-111.1 248-248 248S0 392.9 0 256 111.1 8 248 8s248 111.1 248 248zm-99.8 82.7L248 115.5 99.8 338.7h30.4l33.6-51.7h168.6l33.6 51.7h30.2z"},child:[]}]})(n)}function kk(n){return _e({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(n)}function Ik(n){return _e({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function Dk(n){return _e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function jk(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function Mk(n){return _e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function Ok(n){return _e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(n)}function Kg(n){return _e({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(n)}function r3(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M11.5 280.6l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2zm256 0l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2z"},child:[]}]})(n)}function i3(n){return _e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function Uo(n){return _e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(n)}function Pk(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M172.2 226.8c-14.6-2.9-28.2 8.9-28.2 23.8V301c0 10.2 7.1 18.4 16.7 22 18.2 6.8 31.3 24.4 31.3 45 0 26.5-21.5 48-48 48s-48-21.5-48-48V120c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v248c0 89.5 82.1 160.2 175 140.7 54.4-11.4 98.3-55.4 109.7-109.7 17.4-82.9-37-157.2-112.5-172.2zM209 0c-9.2-.5-17 6.8-17 16v31.6c0 8.5 6.6 15.5 15 15.9 129.4 7 233.4 112 240.9 241.5.5 8.4 7.5 15 15.9 15h32.1c9.2 0 16.5-7.8 16-17C503.4 139.8 372.2 8.6 209 0zm.3 96c-9.3-.7-17.3 6.7-17.3 16.1v32.1c0 8.4 6.5 15.3 14.8 15.9 76.8 6.3 138 68.2 144.9 145.2.8 8.3 7.6 14.7 15.9 14.7h32.2c9.3 0 16.8-8 16.1-17.3-8.4-110.1-96.5-198.2-206.6-206.7z"},child:[]}]})(n)}function Wh(n){return _e({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(n)}function Fx(n){return _e({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(n)}function Zh(n){return _e({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(n)}function Vk(n){return _e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function Lk(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(n)}function Uk(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function jf(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(n)}function wy(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function s3(n){return _e({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function a3(n){return _e({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function bh(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(n)}function Qg(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function zk(n){return _e({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(n)}function Mf(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function Jh(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(n)}function Bk(n){return _e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(n)}function Es(n){return _e({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(n)}function Fk(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function qk(n){return _e({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function Ua(n){return _e({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(n)}function _y(n){return _e({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"},child:[]}]})(n)}function o3(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(n)}function ef(n){return _e({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(n)}function l3(n){return _e({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(n)}function Of(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function Ey(n){return _e({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function Hk(n){return _e({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(n)}function $k(n){return _e({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function eu(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(n)}function c3(n){return _e({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H88c-13.255 0-24 10.745-24 24v8H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h472c26.51 0 48-21.49 48-48V88c0-13.255-10.745-24-24-24zM56 400a8 8 0 0 1-8-8V144h16v248a8 8 0 0 1-8 8zm236-16H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm-208-96H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm0-96H140c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12z"},child:[]}]})(n)}function Gk(n){return _e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 48v32a16 16 0 0 1-16 16h-48v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V96h-32v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V352h-32a160 160 0 0 1 0-320h240a16 16 0 0 1 16 16z"},child:[]}]})(n)}function Yk(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(n)}function Kk(n){return _e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(n)}function Qk(n){return _e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function Ts(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(n)}function u3(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function qx(n){return _e({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(n)}function Xk(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(n)}function Hx(n){return _e({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(n)}function gl(n){return _e({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function tf(n){return _e({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function yr(n){return _e({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(n)}function Ty(n){return _e({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(n)}function Wk(n){return _e({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function Jo(n){return _e({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}const Zk=()=>{const[n,e]=L.useState("learn"),t=[{icon:Fx,title:"Curated Knowledge Base",description:"Access verified articles, company insights, and proven strategies from industry leaders.",category:"learn"},{icon:Zh,title:"Expert Mentorship",description:"Connect directly with professionals and get personalized guidance for your career growth.",category:"connect"},{icon:c3,title:"Industry News & Trends",description:"Stay updated with the latest industry developments and breakthrough innovations.",category:"discover"},{icon:l3,title:"Project Collaboration",description:"Join meaningful projects, contribute your skills, and build your professional network.",category:"grow"}],s=[{id:"discover",label:"Discover",icon:u3},{id:"connect",label:"Connect",icon:Jo},{id:"learn",label:"Learn",icon:Fx},{id:"grow",label:"Grow",icon:Mk}];return h.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[h.jsx("section",{className:"pt-24 pb-16 bg-gradient-to-b from-gray-900 to-gray-800",children:h.jsx("div",{className:"px-6 lg:px-8 w-full max-w-6xl mx-auto",children:h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("div",{className:"mb-6",children:h.jsx("span",{className:"bg-purple-600 text-white px-4 py-2 rounded-full text-sm font-semibold",children:"🚀 LAUNCHING SOON"})}),h.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-8 leading-tight",children:["Your Gateway to",h.jsx("br",{}),h.jsx("span",{className:"text-purple-400",children:"Global Knowledge"})," &",h.jsx("span",{className:"text-pink-400",children:" Expert Networks"})]}),h.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-3xl mx-auto",children:"Connect with industry experts, access verified insights, and accelerate your professional journey through authentic knowledge sharing and meaningful collaboration."}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 mb-12",children:[h.jsx("button",{className:"px-8 py-4 bg-purple-600 hover:bg-purple-700 rounded-lg font-semibold text-lg transition-colors shadow-lg",children:h.jsxs("span",{className:"flex items-center justify-center gap-2",children:[h.jsx(Ts,{}),"Get Early Access"]})}),h.jsx("button",{className:"px-8 py-4 border border-gray-600 hover:bg-gray-800 rounded-lg font-semibold text-lg transition-colors",children:h.jsxs("span",{className:"flex items-center justify-center gap-2",children:[h.jsx(Kk,{}),"Watch Demo"]})})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-8 max-w-2xl mx-auto text-center",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-1",children:"100%"}),h.jsx("div",{className:"text-sm text-gray-400",children:"Verified Content"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-pink-400 mb-1",children:"24/7"}),h.jsx("div",{className:"text-sm text-gray-400",children:"Global Access"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-cyan-400 mb-1",children:"∞"}),h.jsx("div",{className:"text-sm text-gray-400",children:"Learning Opportunities"})]})]})]})})}),h.jsx("section",{className:"py-16 bg-gray-800",children:h.jsxs("div",{className:"px-6 lg:px-8 w-full max-w-6xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"How It Works"}),h.jsx("p",{className:"text-xl text-gray-300",children:"Four simple steps to transform your professional journey"})]}),h.jsx("div",{className:"flex justify-center mb-12",children:h.jsx("div",{className:"bg-gray-900 p-2 rounded-xl inline-flex w-full max-w-full overflow-x-auto flex-wrap space-x-2 scrollbar-hide",children:s.map(o=>h.jsxs("button",{onClick:()=>e(o.id),className:`min-w-[100px] px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2 whitespace-nowrap 
          ${n===o.id?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,style:{flex:"0 0 auto"},children:[h.jsx(o.icon,{className:"text-lg"}),o.label]},o.id))})}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[h.jsx("div",{children:t.filter(o=>o.category===n).map((o,c)=>h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("div",{className:"bg-purple-600 p-3 rounded-lg",children:h.jsx(o.icon,{className:"text-2xl text-white"})}),h.jsx("h3",{className:"text-2xl font-bold",children:o.title})]}),h.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:o.description})]},c))}),h.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl p-8",children:[h.jsxs("div",{className:"bg-gradient-to-br from-purple-600/20 to-pink-600/20 rounded-xl p-6 mb-6",children:[h.jsx("h4",{className:"text-lg font-semibold mb-2 text-center",children:"Coming Soon"}),h.jsx("div",{className:"text-center text-gray-300",children:"Interactive demo and preview will be available here"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[h.jsx("span",{className:"text-gray-300",children:"Platform Features"}),h.jsx(Hx,{className:"text-green-400"})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[h.jsx("span",{className:"text-gray-300",children:"Expert Network"}),h.jsx(Jo,{className:"text-blue-400"})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[h.jsx("span",{className:"text-gray-300",children:"Global Access"}),h.jsx(ef,{className:"text-purple-400"})]})]})]})]})]})}),h.jsx("section",{className:"py-16 bg-gray-900",children:h.jsxs("div",{className:"px-6 lg:px-8 w-full max-w-6xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"Why Choose CollabriaNexus?"}),h.jsx("p",{className:"text-xl text-gray-300",children:"Built for professionals who value authentic knowledge and meaningful connections"})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-cyan-500 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4",children:h.jsx(Hx,{className:"text-2xl text-white"})}),h.jsx("h3",{className:"text-xl font-bold mb-3",children:"Verified & Authentic"}),h.jsx("p",{className:"text-gray-300",children:"All content and expert profiles are thoroughly verified to ensure authenticity and quality."})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-pink-500 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4",children:h.jsx(ef,{className:"text-2xl text-white"})}),h.jsx("h3",{className:"text-xl font-bold mb-3",children:"Global Community"}),h.jsx("p",{className:"text-gray-300",children:"Connect with professionals and experts from around the world in your field of interest."})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"bg-gradient-to-br from-green-600 to-emerald-500 w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4",children:h.jsx(Zh,{className:"text-2xl text-white"})}),h.jsx("h3",{className:"text-xl font-bold mb-3",children:"Career Growth"}),h.jsx("p",{className:"text-gray-300",children:"Access opportunities for skill development, mentorship, and collaborative projects."})]})]})]})}),h.jsx("section",{className:"py-16 bg-gradient-to-r from-purple-900 to-pink-900",children:h.jsxs("div",{className:"px-6 lg:px-8 w-full max-w-4xl mx-auto text-center",children:[h.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-6",children:"Be Among the First"}),h.jsx("p",{className:"text-xl text-gray-200 mb-8 leading-relaxed",children:"Join our exclusive waitlist and get early access to the platform that will transform how professionals connect, learn, and grow together."}),h.jsx("div",{className:"bg-white/10 backdrop-blur border border-white/20 rounded-2xl p-8 mb-8",children:h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[h.jsx("input",{type:"email",placeholder:"Enter your email address",className:"flex-1 px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-purple-500 focus:outline-none"}),h.jsx("button",{className:"px-6 py-3 bg-white text-purple-900 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Join Waitlist"})]})}),h.jsxs("div",{className:"text-sm text-gray-300 flex items-center justify-center gap-2",children:[h.jsx(gl,{className:"text-yellow-400"}),"No spam, just updates on our launch progress"]})]})})]})},Jk="/CollabriaNexus/assets/LOGO-BUWBIFdy.png";function e7(){const[n,e]=L.useState(!1),[t,s]=L.useState(!1),o=Oi();L.useEffect(()=>{const m=()=>{const g=window.scrollY>20;s(g)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]),L.useEffect(()=>{e(!1)},[o]);const c=[{to:"/",label:"Home",icon:h.jsx(Ey,{})},{to:"/blog",label:"Blogs",icon:h.jsx(Pk,{})},{to:"/about",label:"About Us",icon:h.jsx(Gk,{})},{to:"/dashboard",label:"Dashboard",icon:h.jsx(Uk,{})}],d=m=>o.pathname===m;return h.jsxs(h.Fragment,{children:[h.jsxs("nav",{className:`fixed top-0 left-0 w-full z-50 transition-all duration-300 ${t?"glass-scrolled border-b border-violet-300/40 shadow-2xl backdrop-blur-xl":"glass border-b border-violet-300/30 shadow-lg backdrop-blur-md"} rounded-b-2xl`,children:[h.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-6 py-3",children:[h.jsxs(Lr,{to:"/",className:"flex items-center group",children:[h.jsxs("div",{className:"relative",children:[h.jsx("img",{className:"w-[50px] transition-transform duration-300 group-hover:scale-110 group-hover:rotate-3",src:Jk,alt:"Logo"}),h.jsx("div",{className:"absolute inset-0 w-[50px] h-[50px] rounded-full bg-gradient-to-r from-violet-400/20 to-purple-400/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-lg"})]}),h.jsx("span",{className:"ml-3 text-xl font-bold gradient-text group-hover:scale-105 transition-transform duration-300",children:"CollabriaNexus"})]}),h.jsx("ul",{className:"hidden md:flex items-center space-x-1 font-medium",children:c.map((m,g)=>h.jsx("li",{children:h.jsxs(Lr,{to:m.to,className:`relative px-4 py-2 rounded-xl transition-all duration-300 group flex items-center gap-2 ${d(m.to)?"text-violet-300 bg-violet-500/20 shadow-lg":"text-white hover:text-violet-300 hover:bg-violet-500/10"}`,children:[h.jsx("span",{className:`transition-transform duration-300 ${d(m.to)?"scale-110":"group-hover:scale-110"}`,children:m.icon}),h.jsxs("span",{className:"relative",children:[m.label,d(m.to)&&h.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-violet-400 to-purple-400 rounded-full"})]})]})},g))}),h.jsx("button",{className:"md:hidden relative flex flex-col justify-center items-center w-10 h-10 rounded-lg hover:bg-violet-500/20 transition-colors duration-300",onClick:()=>e(!n),"aria-label":"Toggle navigation",children:n?h.jsx(tf,{className:"text-white text-xl transition-transform duration-300 rotate-180"}):h.jsx(i3,{className:"text-white text-xl transition-transform duration-300"})})]}),h.jsx("div",{className:`md:hidden overflow-hidden transition-all duration-300 ease-in-out ${n?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:h.jsx("ul",{className:"bg-gradient-to-b from-[#181828] to-[#0f0f1a] border-t border-violet-300/20 shadow-2xl rounded-b-2xl px-4 py-4 font-medium text-white",children:c.map((m,g)=>h.jsx("li",{className:"border-b border-violet-300/10 last:border-none",children:h.jsxs(Lr,{to:m.to,className:`flex items-center gap-3 py-4 px-3 rounded-xl transition-all duration-300 group ${d(m.to)?"bg-violet-500/20 text-violet-300 shadow-lg transform translate-x-2":"hover:bg-violet-500/20 hover:text-violet-300 hover:transform hover:translate-x-2"}`,onClick:()=>e(!1),children:[h.jsx("span",{className:`text-lg transition-all duration-300 ${d(m.to)?"text-violet-400 scale-110":"group-hover:text-violet-400 group-hover:scale-110"}`,children:m.icon}),h.jsxs("span",{className:"relative",children:[m.label,d(m.to)&&h.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-violet-400 to-purple-400 rounded-full"})]}),d(m.to)&&h.jsx("span",{className:"ml-auto w-2 h-2 bg-violet-400 rounded-full animate-pulse"})]})},g))})})]}),n&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300",onClick:()=>e(!1)}),h.jsx("style",{jsx:!0,children:`
        .glass {
          background: rgba(24, 24, 40, 0.85);
          backdrop-filter: blur(12px);
          -webkit-backdrop-filter: blur(12px);
        }
        
        .glass-scrolled {
          background: rgba(15, 15, 26, 0.95);
          backdrop-filter: blur(20px);
          -webkit-backdrop-filter: blur(20px);
        }
        
        .gradient-text {
          background: linear-gradient(135deg, #a855f7, #ec4899, #06b6d4);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          animation: gradient-shift 3s ease-in-out infinite;
        }
        
        @keyframes gradient-shift {
          0%, 100% { 
            background: linear-gradient(135deg, #a855f7, #ec4899, #06b6d4);
            -webkit-background-clip: text;
            background-clip: text;
          }
          50% { 
            background: linear-gradient(135deg, #06b6d4, #a855f7, #ec4899);
            -webkit-background-clip: text;
            background-clip: text;
          }
        }
        
        @keyframes fadeInDown {
          from {
            opacity: 0;
            transform: translate3d(0, -20px, 0);
          }
          to {
            opacity: 1;
            transform: translate3d(0, 0, 0);
          }
        }
        
        .animate-fadeInDown {
          animation: fadeInDown 0.3s ease-out;
        }
        
        /* Smooth scrollbar for mobile menu */
        .overflow-y-auto::-webkit-scrollbar {
          width: 4px;
        }
        
        .overflow-y-auto::-webkit-scrollbar-track {
          background: rgba(139, 92, 246, 0.1);
          border-radius: 2px;
        }
        
        .overflow-y-auto::-webkit-scrollbar-thumb {
          background: rgba(139, 92, 246, 0.5);
          border-radius: 2px;
        }
        
        .overflow-y-auto::-webkit-scrollbar-thumb:hover {
          background: rgba(139, 92, 246, 0.7);
        }
      `})]})}function t7(){return h.jsx("footer",{className:"w-full bg-[#181828] border-t border-violet-900/30 py-8 px-4 mt-auto",children:h.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"",children:h.jsx("img",{src:"./src/assets/LOGO.png",alt:"Collabria Nexus Logo",className:"w-20 h-10"})}),h.jsx("span",{className:"text-2xl font-extrabold text-violet-400 tracking-tight",children:"CollabriaNexus"}),h.jsx("span",{className:"text-gray-500 text-sm hidden sm:inline",children:"Empowering Your Journey"})]}),h.jsxs("div",{className:"flex gap-6 text-violet-400 text-2xl",children:[h.jsx("a",{href:"https://twitter.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-violet-300 transition",children:h.jsx(jk,{})}),h.jsx("a",{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-violet-300 transition",children:h.jsx(Ik,{})}),h.jsx("a",{href:"https://linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-violet-300 transition",children:h.jsx(Dk,{})}),h.jsx("a",{href:"https://discord.com/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-violet-300 transition",children:h.jsx(kk,{})})]}),h.jsxs("div",{className:"text-gray-500 text-xs text-center md:text-right",children:["© ",new Date().getFullYear()," CollabriaNexus. All rights reserved."]})]})})}var xh={exports:{}},n7=xh.exports,$x;function r7(){return $x||($x=1,function(n,e){(function(t,s){n.exports=s()})(n7,function(){var t=1e3,s=6e4,o=36e5,c="millisecond",d="second",m="minute",g="hour",y="day",b="week",_="month",E="quarter",D="year",P="date",F="Invalid Date",z=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,$=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,re={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(me){var W=["th","st","nd","rd"],I=me%100;return"["+me+(W[(I-20)%10]||W[I]||W[0])+"]"}},ne=function(me,W,I){var Y=String(me);return!Y||Y.length>=W?me:""+Array(W+1-Y.length).join(I)+me},he={s:ne,z:function(me){var W=-me.utcOffset(),I=Math.abs(W),Y=Math.floor(I/60),ee=I%60;return(W<=0?"+":"-")+ne(Y,2,"0")+":"+ne(ee,2,"0")},m:function me(W,I){if(W.date()<I.date())return-me(I,W);var Y=12*(I.year()-W.year())+(I.month()-W.month()),ee=W.clone().add(Y,_),fe=I-ee<0,C=W.clone().add(Y+(fe?-1:1),_);return+(-(Y+(I-ee)/(fe?ee-C:C-ee))||0)},a:function(me){return me<0?Math.ceil(me)||0:Math.floor(me)},p:function(me){return{M:_,y:D,w:b,d:y,D:P,h:g,m,s:d,ms:c,Q:E}[me]||String(me||"").toLowerCase().replace(/s$/,"")},u:function(me){return me===void 0}},te="en",ue={};ue[te]=re;var R="$isDayjsObject",A=function(me){return me instanceof U||!(!me||!me[R])},k=function me(W,I,Y){var ee;if(!W)return te;if(typeof W=="string"){var fe=W.toLowerCase();ue[fe]&&(ee=fe),I&&(ue[fe]=I,ee=fe);var C=W.split("-");if(!ee&&C.length>1)return me(C[0])}else{var J=W.name;ue[J]=W,ee=J}return!Y&&ee&&(te=ee),ee||!Y&&te},O=function(me,W){if(A(me))return me.clone();var I=typeof W=="object"?W:{};return I.date=me,I.args=arguments,new U(I)},M=he;M.l=k,M.i=A,M.w=function(me,W){return O(me,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var U=function(){function me(I){this.$L=k(I.locale,null,!0),this.parse(I),this.$x=this.$x||I.x||{},this[R]=!0}var W=me.prototype;return W.parse=function(I){this.$d=function(Y){var ee=Y.date,fe=Y.utc;if(ee===null)return new Date(NaN);if(M.u(ee))return new Date;if(ee instanceof Date)return new Date(ee);if(typeof ee=="string"&&!/Z$/i.test(ee)){var C=ee.match(z);if(C){var J=C[2]-1||0,de=(C[7]||"0").substring(0,3);return fe?new Date(Date.UTC(C[1],J,C[3]||1,C[4]||0,C[5]||0,C[6]||0,de)):new Date(C[1],J,C[3]||1,C[4]||0,C[5]||0,C[6]||0,de)}}return new Date(ee)}(I),this.init()},W.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},W.$utils=function(){return M},W.isValid=function(){return this.$d.toString()!==F},W.isSame=function(I,Y){var ee=O(I);return this.startOf(Y)<=ee&&ee<=this.endOf(Y)},W.isAfter=function(I,Y){return O(I)<this.startOf(Y)},W.isBefore=function(I,Y){return this.endOf(Y)<O(I)},W.$g=function(I,Y,ee){return M.u(I)?this[Y]:this.set(ee,I)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(I,Y){var ee=this,fe=!!M.u(Y)||Y,C=M.p(I),J=function(lt,at){var yt=M.w(ee.$u?Date.UTC(ee.$y,at,lt):new Date(ee.$y,at,lt),ee);return fe?yt:yt.endOf(y)},de=function(lt,at){return M.w(ee.toDate()[lt].apply(ee.toDate("s"),(fe?[0,0,0,0]:[23,59,59,999]).slice(at)),ee)},le=this.$W,ye=this.$M,Ee=this.$D,xe="set"+(this.$u?"UTC":"");switch(C){case D:return fe?J(1,0):J(31,11);case _:return fe?J(1,ye):J(0,ye+1);case b:var Ke=this.$locale().weekStart||0,Oe=(le<Ke?le+7:le)-Ke;return J(fe?Ee-Oe:Ee+(6-Oe),ye);case y:case P:return de(xe+"Hours",0);case g:return de(xe+"Minutes",1);case m:return de(xe+"Seconds",2);case d:return de(xe+"Milliseconds",3);default:return this.clone()}},W.endOf=function(I){return this.startOf(I,!1)},W.$set=function(I,Y){var ee,fe=M.p(I),C="set"+(this.$u?"UTC":""),J=(ee={},ee[y]=C+"Date",ee[P]=C+"Date",ee[_]=C+"Month",ee[D]=C+"FullYear",ee[g]=C+"Hours",ee[m]=C+"Minutes",ee[d]=C+"Seconds",ee[c]=C+"Milliseconds",ee)[fe],de=fe===y?this.$D+(Y-this.$W):Y;if(fe===_||fe===D){var le=this.clone().set(P,1);le.$d[J](de),le.init(),this.$d=le.set(P,Math.min(this.$D,le.daysInMonth())).$d}else J&&this.$d[J](de);return this.init(),this},W.set=function(I,Y){return this.clone().$set(I,Y)},W.get=function(I){return this[M.p(I)]()},W.add=function(I,Y){var ee,fe=this;I=Number(I);var C=M.p(Y),J=function(ye){var Ee=O(fe);return M.w(Ee.date(Ee.date()+Math.round(ye*I)),fe)};if(C===_)return this.set(_,this.$M+I);if(C===D)return this.set(D,this.$y+I);if(C===y)return J(1);if(C===b)return J(7);var de=(ee={},ee[m]=s,ee[g]=o,ee[d]=t,ee)[C]||1,le=this.$d.getTime()+I*de;return M.w(le,this)},W.subtract=function(I,Y){return this.add(-1*I,Y)},W.format=function(I){var Y=this,ee=this.$locale();if(!this.isValid())return ee.invalidDate||F;var fe=I||"YYYY-MM-DDTHH:mm:ssZ",C=M.z(this),J=this.$H,de=this.$m,le=this.$M,ye=ee.weekdays,Ee=ee.months,xe=ee.meridiem,Ke=function(at,yt,wt,Bn){return at&&(at[yt]||at(Y,fe))||wt[yt].slice(0,Bn)},Oe=function(at){return M.s(J%12||12,at,"0")},lt=xe||function(at,yt,wt){var Bn=at<12?"AM":"PM";return wt?Bn.toLowerCase():Bn};return fe.replace($,function(at,yt){return yt||function(wt){switch(wt){case"YY":return String(Y.$y).slice(-2);case"YYYY":return M.s(Y.$y,4,"0");case"M":return le+1;case"MM":return M.s(le+1,2,"0");case"MMM":return Ke(ee.monthsShort,le,Ee,3);case"MMMM":return Ke(Ee,le);case"D":return Y.$D;case"DD":return M.s(Y.$D,2,"0");case"d":return String(Y.$W);case"dd":return Ke(ee.weekdaysMin,Y.$W,ye,2);case"ddd":return Ke(ee.weekdaysShort,Y.$W,ye,3);case"dddd":return ye[Y.$W];case"H":return String(J);case"HH":return M.s(J,2,"0");case"h":return Oe(1);case"hh":return Oe(2);case"a":return lt(J,de,!0);case"A":return lt(J,de,!1);case"m":return String(de);case"mm":return M.s(de,2,"0");case"s":return String(Y.$s);case"ss":return M.s(Y.$s,2,"0");case"SSS":return M.s(Y.$ms,3,"0");case"Z":return C}return null}(at)||C.replace(":","")})},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(I,Y,ee){var fe,C=this,J=M.p(Y),de=O(I),le=(de.utcOffset()-this.utcOffset())*s,ye=this-de,Ee=function(){return M.m(C,de)};switch(J){case D:fe=Ee()/12;break;case _:fe=Ee();break;case E:fe=Ee()/3;break;case b:fe=(ye-le)/6048e5;break;case y:fe=(ye-le)/864e5;break;case g:fe=ye/o;break;case m:fe=ye/s;break;case d:fe=ye/t;break;default:fe=ye}return ee?fe:M.a(fe)},W.daysInMonth=function(){return this.endOf(_).$D},W.$locale=function(){return ue[this.$L]},W.locale=function(I,Y){if(!I)return this.$L;var ee=this.clone(),fe=k(I,Y,!0);return fe&&(ee.$L=fe),ee},W.clone=function(){return M.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},me}(),N=U.prototype;return O.prototype=N,[["$ms",c],["$s",d],["$m",m],["$H",g],["$W",y],["$M",_],["$y",D],["$D",P]].forEach(function(me){N[me[1]]=function(W){return this.$g(W,me[0],me[1])}}),O.extend=function(me,W){return me.$i||(me(W,U,O),me.$i=!0),O},O.locale=k,O.isDayjs=A,O.unix=function(me){return O(1e3*me)},O.en=ue[te],O.Ls=ue,O.p={},O})}(xh)),xh.exports}var i7=r7();const Xg=s0(i7),d3=L.createContext(),Vs=()=>{const n=L.useContext(d3);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},s7=({children:n})=>{const[e,t]=L.useState(null),[s,o]=L.useState(null),[c,d]=L.useState(!0);L.useEffect(()=>xy(async y=>{if(t(y),y){const b=await pk(y.uid);b.success&&o(b.data),await gk(y.uid)}else o(null);d(!1)}),[]);const m={currentUser:e,userProfile:s,setUserProfile:o,loading:c};return h.jsx(d3.Provider,{value:m,children:!c&&n})},Gx=async(n,e,t)=>{try{const s=br(Fe,"users",n,"streakData"),o=La(s,Gh("date",">=",`${e}-${t.toString().padStart(2,"0")}-01`),Gh("date","<=",`${e}-${t.toString().padStart(2,"0")}-31`)),c=await xu(o),d={};return c.docs.forEach(m=>{const g=m.data();d[g.date]={completed:g.completed,activities:g.activities||[]}}),{success:!0,streakData:d}}catch(s){return console.error("Error getting streak data:",s),{success:!1,error:s.message,streakData:{}}}},h3=async n=>{try{const e=br(Fe,"users",n,"streakData"),t=await xu(q),s=new Date,o=[];t.docs.forEach(m=>{const g=m.data();try{const y=new Date(g.date);g.completed&&y<=s&&o.push(g.date)}catch{console.error("Invalid date format:",g.date)}}),o.sort().reverse();let c=0,d=new Date(s);d.setHours(0,0,0,0);for(const m of o){const g=new Date(m);g.setHours(0,0,0,0);const y=Math.floor((d-g)/(1e3*60*60*24));if(y===0||y===1)c++,d=new Date(g),d.setDate(d.getDate()-1);else break}return c}catch(e){return console.error("Error calculating streak:",e),0}},Sy=async n=>{try{const e=br(Fe,"users",n,"streakData"),t=await xu(e),s=new Date,o=[];t.docs.forEach(m=>{const g=m.data();try{const y=new Date(g.date);g.completed&&y<=s&&o.push(y)}catch{console.error("Invalid date format:",g.date)}}),o.sort((m,g)=>m-g);let c=0,d=1;for(let m=1;m<o.length;m++)Math.floor((o[m]-o[m-1])/864e5)===1?d++:(c=Math.max(c,d),d=1);return c=Math.max(c,d),c||0}catch(e){return console.error("Error calculating longest streak:",e),0}},a7=async(n,e,t=0)=>{try{const o=[3,7,15,30,60,100,365].filter(c=>e>=c&&t<c);for(const c of o)await rk(n,c),console.log(`🔥 Streak milestone reached: ${c} days`);await _u(n,"STREAK_MILESTONE",{streakDays:e,longestStreak:await Sy(n)})}catch(s){console.error("Error checking streak milestones:",s)}},Ay=async(n,e=[])=>{try{const t=new Date().toISOString().split("T")[0],s=ft(Fe,"users",n,"streakData",t),o=ft(Fe,"users",n),d=(await pn(o)).data()?.stats?.currentStreak||0;await yy(s,{date:t,completed:!0,activities:[...new Set(e)],timestamp:Rn(),completedAt:Rn()},{merge:!0});const m=await h3(n),g=await Sy(n);return await gr(o,{"stats.currentStreak":m,"stats.longestStreak":g,"stats.totalActiveDays":Ta(1),"stats.lastStreakUpdate":Rn()}),m>d&&await a7(n,m,d),{success:!0,newStreak:m,longestStreak:g}}catch(t){return console.error("Error marking day complete:",t),{success:!1,error:t.message}}},o7=async n=>{try{const e=new Date().toISOString().split("T")[0],t=ft(Fe,"users",n,"streakData",e),s=await pn(t);let o=["mining_started"];if(s.exists()){const c=s.data().activities||[];o=[...new Set([...c,"mining_started"])]}return s.exists()?await gr(t,{activities:o,lastMiningStart:Rn()}):await Ay(n,o),{success:!0}}catch(e){return console.error("Error marking mining as streak activity:",e),{success:!1,error:e.message}}},f3=async n=>{try{const e=new Date().toISOString().split("T")[0],t=ft(Fe,"users",n,"streakData",e),s=await pn(t);let o=["mining_completed"];if(s.exists()){const c=s.data().activities||[];o=[...new Set([...c,"mining_completed"])]}return await yy(t,{date:e,completed:!0,activities:o,lastMiningCompletion:Rn(),timestamp:Rn()},{merge:!0}),!s.exists()||!s.data().completed?await Ay(n,o):{success:!0}}catch(e){return console.error("Error marking mining completion as streak activity:",e),{success:!1,error:e.message}}},Yx=async n=>{try{const e=await h3(n),t=await Sy(n),s=ft(Fe,"users",n),c=(await pn(s)).data(),d=new Date().toISOString().split("T")[0],m=ft(Fe,"users",n,"streakData",d),g=await pn(m);return{success:!0,stats:{currentStreak:e,longestStreak:t,totalActiveDays:c?.stats?.totalActiveDays||0,todayCompleted:g.exists()&&g.data().completed,todayActivities:g.exists()?g.data().activities||[]:[],lastStreakUpdate:c?.stats?.lastStreakUpdate}}}catch(e){return console.error("Error getting streak stats:",e),{success:!1,error:e.message}}},l7=n=>{const e=new Date,t=Object.keys(n).filter(c=>{try{const d=new Date(c);return n[c].completed&&d<=e}catch{return!1}}).sort().reverse();let s=0,o=new Date(e);o.setHours(0,0,0,0);for(const c of t){const d=new Date(c);d.setHours(0,0,0,0);const m=Math.floor((o-d)/(1e3*60*60*24));if(m===0||m===1)s++,o=new Date(d),o.setDate(o.getDate()-1);else break}return s},c7=["S","M","T","W","T","F","S"],u7=()=>{const{currentUser:n,userProfile:e}=Vs(),[t,s]=L.useState(Xg()),[o,c]=L.useState({}),[d,m]=L.useState(null),[g,y]=L.useState(!0),[b,_]=L.useState(null),E=Xg();L.useEffect(()=>{if(!n){y(!1);return}(async()=>{try{y(!0);const[A,k]=await Promise.all([Gx(n.uid,t.year(),t.month()+1),Yx(n.uid)]);A.success&&c(A.streakData),k.success&&m(k.stats)}catch(A){console.error("Error loading streak data:",A),_("Failed to load streak data")}finally{y(!1)}})()},[n,t]);const P=d?.currentStreak!==void 0?d.currentStreak:e?.stats?.currentStreak!==void 0?e.stats.currentStreak:l7(o),F=d?.longestStreak||0,z=async()=>{if(n)try{await Ay(n.uid,["manual_completion"]);const[R,A]=await Promise.all([Gx(n.uid,t.year(),t.month()+1),Yx(n.uid)]);R.success&&c(R.streakData),A.success&&m(A.stats)}catch(R){console.error("Error marking day complete:",R)}},re=t.startOf("month").startOf("week"),ne=Array.from({length:42},(R,A)=>re.add(A,"day")),he=()=>s(t.subtract(1,"month")),te=()=>s(t.add(1,"month")),ue=o[E.format("YYYY-MM-DD")]?.completed||!1;return n?g?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-400 mb-3"}),h.jsx("p",{className:"text-violet-300 text-sm",children:"Loading..."})]}):h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ua,{className:"text-orange-400 text-lg"}),h.jsx("h2",{className:"text-lg font-bold text-white",children:"Streak"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"text-orange-400 font-bold",children:P}),h.jsx("div",{className:"text-violet-400",children:"/"}),h.jsx("div",{className:"text-yellow-400",children:F})]})]}),h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("button",{onClick:he,className:"p-1.5 rounded-lg bg-violet-600/30 hover:bg-violet-600/50 transition-colors",children:h.jsx(s3,{className:"text-violet-300 text-sm"})}),h.jsx("span",{className:"text-white font-medium text-sm",children:t.format("MMM YYYY")}),h.jsx("button",{onClick:te,className:"p-1.5 rounded-lg bg-violet-600/30 hover:bg-violet-600/50 transition-colors",children:h.jsx(a3,{className:"text-violet-300 text-sm"})})]}),h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"text-xs text-violet-400",children:["Today: ",ue?"Completed":"Pending"]}),h.jsx("button",{onClick:z,disabled:ue,className:`px-3 py-1 rounded-md text-xs font-medium transition-colors ${ue?"bg-green-500/20 text-green-300 cursor-not-allowed":"bg-orange-500/20 hover:bg-orange-500/40 text-orange-300"}`,children:ue?h.jsx(wy,{className:"inline"}):h.jsx(Qk,{className:"inline"})})]}),h.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:c7.map((R,A)=>h.jsx("div",{className:"text-center text-xs font-medium text-violet-400 py-1",children:R},A))}),h.jsx("div",{className:"grid grid-cols-7 gap-1 flex-1",children:ne.map(R=>{const A=R.format("YYYY-MM-DD"),O=o[A]?.completed||!1,M=R.isSame(E,"day"),U=R.month()===t.month();return h.jsxs("div",{className:`
                h-8 flex items-center justify-center rounded-md text-xs font-medium
                transition-all duration-200 border
                ${U?O?"bg-orange-400/30 border-orange-500/50 text-orange-200":"bg-slate-700/50 border-slate-600/50 text-slate-300":"bg-transparent border-transparent text-slate-600"}
                ${M?"ring-2 ring-orange-400/60":""}
              `,children:[R.date(),M&&h.jsx("div",{className:"absolute w-1 h-1 bg-orange-400 rounded-full -mt-6 ml-6"})]},A)})}),h.jsx("div",{className:"mt-2 text-center",children:h.jsx("p",{className:"text-xs text-violet-500",children:"✨ Auto-tracked with mining"})})]}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-violet-300 text-sm",children:"Please log in to view your streak"})})};var Sn=function(){return Sn=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},Sn.apply(this,arguments)};function tu(n,e,t){if(t||arguments.length===2)for(var s=0,o=e.length,c;s<o;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return n.concat(c||Array.prototype.slice.call(e))}var dt="-ms-",Fc="-moz-",We="-webkit-",m3="comm",Pf="rule",Ny="decl",d7="@import",p3="@keyframes",h7="@layer",g3=Math.abs,Ry=String.fromCharCode,Wg=Object.assign;function f7(n,e){return Wt(n,0)^45?(((e<<2^Wt(n,0))<<2^Wt(n,1))<<2^Wt(n,2))<<2^Wt(n,3):0}function y3(n){return n.trim()}function _i(n,e){return(n=e.exec(n))?n[0]:n}function je(n,e,t){return n.replace(e,t)}function wh(n,e,t){return n.indexOf(e,t)}function Wt(n,e){return n.charCodeAt(e)|0}function el(n,e,t){return n.slice(e,t)}function Vr(n){return n.length}function v3(n){return n.length}function Oc(n,e){return e.push(n),n}function m7(n,e){return n.map(e).join("")}function Kx(n,e){return n.filter(function(t){return!_i(t,e)})}var Vf=1,tl=1,b3=0,rr=0,Ot=0,yl="";function Lf(n,e,t,s,o,c,d,m){return{value:n,root:e,parent:t,type:s,props:o,children:c,line:Vf,column:tl,length:d,return:"",siblings:m}}function fs(n,e){return Wg(Lf("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function jo(n){for(;n.root;)n=fs(n.root,{children:[n]});Oc(n,n.siblings)}function p7(){return Ot}function g7(){return Ot=rr>0?Wt(yl,--rr):0,tl--,Ot===10&&(tl=1,Vf--),Ot}function hr(){return Ot=rr<b3?Wt(yl,rr++):0,tl++,Ot===10&&(tl=1,Vf++),Ot}function Sa(){return Wt(yl,rr)}function _h(){return rr}function Uf(n,e){return el(yl,n,e)}function Zg(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function y7(n){return Vf=tl=1,b3=Vr(yl=n),rr=0,[]}function v7(n){return yl="",n}function ug(n){return y3(Uf(rr-1,Jg(n===91?n+2:n===40?n+1:n)))}function b7(n){for(;(Ot=Sa())&&Ot<33;)hr();return Zg(n)>2||Zg(Ot)>3?"":" "}function x7(n,e){for(;--e&&hr()&&!(Ot<48||Ot>102||Ot>57&&Ot<65||Ot>70&&Ot<97););return Uf(n,_h()+(e<6&&Sa()==32&&hr()==32))}function Jg(n){for(;hr();)switch(Ot){case n:return rr;case 34:case 39:n!==34&&n!==39&&Jg(Ot);break;case 40:n===41&&Jg(n);break;case 92:hr();break}return rr}function w7(n,e){for(;hr()&&n+Ot!==57;)if(n+Ot===84&&Sa()===47)break;return"/*"+Uf(e,rr-1)+"*"+Ry(n===47?n:hr())}function _7(n){for(;!Zg(Sa());)hr();return Uf(n,rr)}function E7(n){return v7(Eh("",null,null,null,[""],n=y7(n),0,[0],n))}function Eh(n,e,t,s,o,c,d,m,g){for(var y=0,b=0,_=d,E=0,D=0,P=0,F=1,z=1,$=1,re=0,ne="",he=o,te=c,ue=s,R=ne;z;)switch(P=re,re=hr()){case 40:if(P!=108&&Wt(R,_-1)==58){wh(R+=je(ug(re),"&","&\f"),"&\f",g3(y?m[y-1]:0))!=-1&&($=-1);break}case 34:case 39:case 91:R+=ug(re);break;case 9:case 10:case 13:case 32:R+=b7(P);break;case 92:R+=x7(_h()-1,7);continue;case 47:switch(Sa()){case 42:case 47:Oc(T7(w7(hr(),_h()),e,t,g),g);break;default:R+="/"}break;case 123*F:m[y++]=Vr(R)*$;case 125*F:case 59:case 0:switch(re){case 0:case 125:z=0;case 59+b:$==-1&&(R=je(R,/\f/g,"")),D>0&&Vr(R)-_&&Oc(D>32?Xx(R+";",s,t,_-1,g):Xx(je(R," ","")+";",s,t,_-2,g),g);break;case 59:R+=";";default:if(Oc(ue=Qx(R,e,t,y,b,o,m,ne,he=[],te=[],_,c),c),re===123)if(b===0)Eh(R,e,ue,ue,he,c,_,m,te);else switch(E===99&&Wt(R,3)===110?100:E){case 100:case 108:case 109:case 115:Eh(n,ue,ue,s&&Oc(Qx(n,ue,ue,0,0,o,m,ne,o,he=[],_,te),te),o,te,_,m,s?he:te);break;default:Eh(R,ue,ue,ue,[""],te,0,m,te)}}y=b=D=0,F=$=1,ne=R="",_=d;break;case 58:_=1+Vr(R),D=P;default:if(F<1){if(re==123)--F;else if(re==125&&F++==0&&g7()==125)continue}switch(R+=Ry(re),re*F){case 38:$=b>0?1:(R+="\f",-1);break;case 44:m[y++]=(Vr(R)-1)*$,$=1;break;case 64:Sa()===45&&(R+=ug(hr())),E=Sa(),b=_=Vr(ne=R+=_7(_h())),re++;break;case 45:P===45&&Vr(R)==2&&(F=0)}}return c}function Qx(n,e,t,s,o,c,d,m,g,y,b,_){for(var E=o-1,D=o===0?c:[""],P=v3(D),F=0,z=0,$=0;F<s;++F)for(var re=0,ne=el(n,E+1,E=g3(z=d[F])),he=n;re<P;++re)(he=y3(z>0?D[re]+" "+ne:je(ne,/&\f/g,D[re])))&&(g[$++]=he);return Lf(n,e,t,o===0?Pf:m,g,y,b,_)}function T7(n,e,t,s){return Lf(n,e,t,m3,Ry(p7()),el(n,2,-2),0,s)}function Xx(n,e,t,s,o){return Lf(n,e,t,Ny,el(n,0,s),el(n,s+1,-1),s,o)}function x3(n,e,t){switch(f7(n,e)){case 5103:return We+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return We+n+n;case 4789:return Fc+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return We+n+Fc+n+dt+n+n;case 5936:switch(Wt(n,e+11)){case 114:return We+n+dt+je(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return We+n+dt+je(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return We+n+dt+je(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return We+n+dt+n+n;case 6165:return We+n+dt+"flex-"+n+n;case 5187:return We+n+je(n,/(\w+).+(:[^]+)/,We+"box-$1$2"+dt+"flex-$1$2")+n;case 5443:return We+n+dt+"flex-item-"+je(n,/flex-|-self/g,"")+(_i(n,/flex-|baseline/)?"":dt+"grid-row-"+je(n,/flex-|-self/g,""))+n;case 4675:return We+n+dt+"flex-line-pack"+je(n,/align-content|flex-|-self/g,"")+n;case 5548:return We+n+dt+je(n,"shrink","negative")+n;case 5292:return We+n+dt+je(n,"basis","preferred-size")+n;case 6060:return We+"box-"+je(n,"-grow","")+We+n+dt+je(n,"grow","positive")+n;case 4554:return We+je(n,/([^-])(transform)/g,"$1"+We+"$2")+n;case 6187:return je(je(je(n,/(zoom-|grab)/,We+"$1"),/(image-set)/,We+"$1"),n,"")+n;case 5495:case 3959:return je(n,/(image-set\([^]*)/,We+"$1$`$1");case 4968:return je(je(n,/(.+:)(flex-)?(.*)/,We+"box-pack:$3"+dt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+We+n+n;case 4200:if(!_i(n,/flex-|baseline/))return dt+"grid-column-align"+el(n,e)+n;break;case 2592:case 3360:return dt+je(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(s,o){return e=o,_i(s.props,/grid-\w+-end/)})?~wh(n+(t=t[e].value),"span",0)?n:dt+je(n,"-start","")+n+dt+"grid-row-span:"+(~wh(t,"span",0)?_i(t,/\d+/):+_i(t,/\d+/)-+_i(n,/\d+/))+";":dt+je(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(s){return _i(s.props,/grid-\w+-start/)})?n:dt+je(je(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return je(n,/(.+)-inline(.+)/,We+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vr(n)-1-e>6)switch(Wt(n,e+1)){case 109:if(Wt(n,e+4)!==45)break;case 102:return je(n,/(.+:)(.+)-([^]+)/,"$1"+We+"$2-$3$1"+Fc+(Wt(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~wh(n,"stretch",0)?x3(je(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return je(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,c,d,m,g,y){return dt+o+":"+c+y+(d?dt+o+"-span:"+(m?g:+g-+c)+y:"")+n});case 4949:if(Wt(n,e+6)===121)return je(n,":",":"+We)+n;break;case 6444:switch(Wt(n,Wt(n,14)===45?18:11)){case 120:return je(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+We+(Wt(n,14)===45?"inline-":"")+"box$3$1"+We+"$2$3$1"+dt+"$2box$3")+n;case 100:return je(n,":",":"+dt)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return je(n,"scroll-","scroll-snap-")+n}return n}function nf(n,e){for(var t="",s=0;s<n.length;s++)t+=e(n[s],s,n,e)||"";return t}function S7(n,e,t,s){switch(n.type){case h7:if(n.children.length)break;case d7:case Ny:return n.return=n.return||n.value;case m3:return"";case p3:return n.return=n.value+"{"+nf(n.children,s)+"}";case Pf:if(!Vr(n.value=n.props.join(",")))return""}return Vr(t=nf(n.children,s))?n.return=n.value+"{"+t+"}":""}function A7(n){var e=v3(n);return function(t,s,o,c){for(var d="",m=0;m<e;m++)d+=n[m](t,s,o,c)||"";return d}}function N7(n){return function(e){e.root||(e=e.return)&&n(e)}}function R7(n,e,t,s){if(n.length>-1&&!n.return)switch(n.type){case Ny:n.return=x3(n.value,n.length,t);return;case p3:return nf([fs(n,{value:je(n.value,"@","@"+We)})],s);case Pf:if(n.length)return m7(t=n.props,function(o){switch(_i(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":jo(fs(n,{props:[je(o,/:(read-\w+)/,":"+Fc+"$1")]})),jo(fs(n,{props:[o]})),Wg(n,{props:Kx(t,s)});break;case"::placeholder":jo(fs(n,{props:[je(o,/:(plac\w+)/,":"+We+"input-$1")]})),jo(fs(n,{props:[je(o,/:(plac\w+)/,":"+Fc+"$1")]})),jo(fs(n,{props:[je(o,/:(plac\w+)/,dt+"input-$1")]})),jo(fs(n,{props:[o]})),Wg(n,{props:Kx(t,s)});break}return""})}}var C7={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ln={},nl=typeof process<"u"&&Ln!==void 0&&(Ln.REACT_APP_SC_ATTR||Ln.SC_ATTR)||"data-styled",w3="active",_3="data-styled-version",zf="6.1.19",Cy=`/*!sc*/
`,rf=typeof window<"u"&&typeof document<"u",k7=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ln!==void 0&&Ln.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ln.REACT_APP_SC_DISABLE_SPEEDY!==""?Ln.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ln.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ln!==void 0&&Ln.SC_DISABLE_SPEEDY!==void 0&&Ln.SC_DISABLE_SPEEDY!==""&&Ln.SC_DISABLE_SPEEDY!=="false"&&Ln.SC_DISABLE_SPEEDY),Bf=Object.freeze([]),rl=Object.freeze({});function I7(n,e,t){return t===void 0&&(t=rl),n.theme!==t.theme&&n.theme||e||t.theme}var E3=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),D7=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,j7=/(^-|-$)/g;function Wx(n){return n.replace(D7,"-").replace(j7,"")}var M7=/(a)(d)/gi,nh=52,Zx=function(n){return String.fromCharCode(n+(n>25?39:97))};function e0(n){var e,t="";for(e=Math.abs(n);e>nh;e=e/nh|0)t=Zx(e%nh)+t;return(Zx(e%nh)+t).replace(M7,"$1-$2")}var dg,T3=5381,zo=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},S3=function(n){return zo(T3,n)};function A3(n){return e0(S3(n)>>>0)}function O7(n){return n.displayName||n.name||"Component"}function hg(n){return typeof n=="string"&&!0}var N3=typeof Symbol=="function"&&Symbol.for,R3=N3?Symbol.for("react.memo"):60115,P7=N3?Symbol.for("react.forward_ref"):60112,V7={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},L7={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},C3={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},U7=((dg={})[P7]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dg[R3]=C3,dg);function Jx(n){return("type"in(e=n)&&e.type.$$typeof)===R3?C3:"$$typeof"in n?U7[n.$$typeof]:V7;var e}var z7=Object.defineProperty,B7=Object.getOwnPropertyNames,ew=Object.getOwnPropertySymbols,F7=Object.getOwnPropertyDescriptor,q7=Object.getPrototypeOf,tw=Object.prototype;function k3(n,e,t){if(typeof e!="string"){if(tw){var s=q7(e);s&&s!==tw&&k3(n,s,t)}var o=B7(e);ew&&(o=o.concat(ew(e)));for(var c=Jx(n),d=Jx(e),m=0;m<o.length;++m){var g=o[m];if(!(g in L7||t&&t[g]||d&&g in d||c&&g in c)){var y=F7(e,g);try{z7(n,g,y)}catch{}}}}return n}function il(n){return typeof n=="function"}function ky(n){return typeof n=="object"&&"styledComponentId"in n}function wa(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function t0(n,e){if(n.length===0)return"";for(var t=n[0],s=1;s<n.length;s++)t+=n[s];return t}function nu(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function n0(n,e,t){if(t===void 0&&(t=!1),!t&&!nu(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var s=0;s<e.length;s++)n[s]=n0(n[s],e[s]);else if(nu(e))for(var s in e)n[s]=n0(n[s],e[s]);return n}function Iy(n,e){Object.defineProperty(n,"toString",{value:e})}function Eu(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var H7=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,s=0;s<e;s++)t+=this.groupSizes[s];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,c=o;e>=c;)if((c<<=1)<0)throw Eu(16,"".concat(e));this.groupSizes=new Uint32Array(c),this.groupSizes.set(s),this.length=c;for(var d=o;d<c;d++)this.groupSizes[d]=0}for(var m=this.indexOfGroup(e+1),g=(d=0,t.length);d<g;d++)this.tag.insertRule(m,t[d])&&(this.groupSizes[e]++,m++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],s=this.indexOfGroup(e),o=s+t;this.groupSizes[e]=0;for(var c=s;c<o;c++)this.tag.deleteRule(s)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var s=this.groupSizes[e],o=this.indexOfGroup(e),c=o+s,d=o;d<c;d++)t+="".concat(this.tag.getRule(d)).concat(Cy);return t},n}(),Th=new Map,sf=new Map,Sh=1,rh=function(n){if(Th.has(n))return Th.get(n);for(;sf.has(Sh);)Sh++;var e=Sh++;return Th.set(n,e),sf.set(e,n),e},$7=function(n,e){Sh=e+1,Th.set(n,e),sf.set(e,n)},G7="style[".concat(nl,"][").concat(_3,'="').concat(zf,'"]'),Y7=new RegExp("^".concat(nl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),K7=function(n,e,t){for(var s,o=t.split(","),c=0,d=o.length;c<d;c++)(s=o[c])&&n.registerName(e,s)},Q7=function(n,e){for(var t,s=((t=e.textContent)!==null&&t!==void 0?t:"").split(Cy),o=[],c=0,d=s.length;c<d;c++){var m=s[c].trim();if(m){var g=m.match(Y7);if(g){var y=0|parseInt(g[1],10),b=g[2];y!==0&&($7(b,y),K7(n,b,g[3]),n.getTag().insertRules(y,o)),o.length=0}else o.push(m)}}},nw=function(n){for(var e=document.querySelectorAll(G7),t=0,s=e.length;t<s;t++){var o=e[t];o&&o.getAttribute(nl)!==w3&&(Q7(n,o),o.parentNode&&o.parentNode.removeChild(o))}};function X7(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var I3=function(n){var e=document.head,t=n||e,s=document.createElement("style"),o=function(m){var g=Array.from(m.querySelectorAll("style[".concat(nl,"]")));return g[g.length-1]}(t),c=o!==void 0?o.nextSibling:null;s.setAttribute(nl,w3),s.setAttribute(_3,zf);var d=X7();return d&&s.setAttribute("nonce",d),t.insertBefore(s,c),s},W7=function(){function n(e){this.element=I3(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var s=document.styleSheets,o=0,c=s.length;o<c;o++){var d=s[o];if(d.ownerNode===t)return d}throw Eu(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),Z7=function(){function n(e){this.element=I3(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var s=document.createTextNode(t);return this.element.insertBefore(s,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),J7=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),rw=rf,eI={isServer:!rf,useCSSOMInjection:!k7},D3=function(){function n(e,t,s){e===void 0&&(e=rl),t===void 0&&(t={});var o=this;this.options=Sn(Sn({},eI),e),this.gs=t,this.names=new Map(s),this.server=!!e.isServer,!this.server&&rf&&rw&&(rw=!1,nw(this)),Iy(this,function(){return function(c){for(var d=c.getTag(),m=d.length,g="",y=function(_){var E=function($){return sf.get($)}(_);if(E===void 0)return"continue";var D=c.names.get(E),P=d.getGroup(_);if(D===void 0||!D.size||P.length===0)return"continue";var F="".concat(nl,".g").concat(_,'[id="').concat(E,'"]'),z="";D!==void 0&&D.forEach(function($){$.length>0&&(z+="".concat($,","))}),g+="".concat(P).concat(F,'{content:"').concat(z,'"}').concat(Cy)},b=0;b<m;b++)y(b);return g}(o)})}return n.registerId=function(e){return rh(e)},n.prototype.rehydrate=function(){!this.server&&rf&&nw(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(Sn(Sn({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var s=t.useCSSOMInjection,o=t.target;return t.isServer?new J7(o):s?new W7(o):new Z7(o)}(this.options),new H7(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(rh(e),this.names.has(e))this.names.get(e).add(t);else{var s=new Set;s.add(t),this.names.set(e,s)}},n.prototype.insertRules=function(e,t,s){this.registerName(e,t),this.getTag().insertRules(rh(e),s)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(rh(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),tI=/&/g,nI=/^\s*\/\/.*$/gm;function j3(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(s){return"".concat(e," ").concat(s)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=j3(t.children,e)),t})}function rI(n){var e,t,s,o=rl,c=o.options,d=c===void 0?rl:c,m=o.plugins,g=m===void 0?Bf:m,y=function(E,D,P){return P.startsWith(t)&&P.endsWith(t)&&P.replaceAll(t,"").length>0?".".concat(e):E},b=g.slice();b.push(function(E){E.type===Pf&&E.value.includes("&")&&(E.props[0]=E.props[0].replace(tI,t).replace(s,y))}),d.prefix&&b.push(R7),b.push(S7);var _=function(E,D,P,F){D===void 0&&(D=""),P===void 0&&(P=""),F===void 0&&(F="&"),e=F,t=D,s=new RegExp("\\".concat(t,"\\b"),"g");var z=E.replace(nI,""),$=E7(P||D?"".concat(P," ").concat(D," { ").concat(z," }"):z);d.namespace&&($=j3($,d.namespace));var re=[];return nf($,A7(b.concat(N7(function(ne){return re.push(ne)})))),re};return _.hash=g.length?g.reduce(function(E,D){return D.name||Eu(15),zo(E,D.name)},T3).toString():"",_}var iI=new D3,r0=rI(),M3=Zt.createContext({shouldForwardProp:void 0,styleSheet:iI,stylis:r0});M3.Consumer;Zt.createContext(void 0);function iw(){return L.useContext(M3)}var O3=function(){function n(e,t){var s=this;this.inject=function(o,c){c===void 0&&(c=r0);var d=s.name+c.hash;o.hasNameForId(s.id,d)||o.insertRules(s.id,d,c(s.rules,d,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Iy(this,function(){throw Eu(12,String(s.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=r0),this.name+e.hash},n}(),sI=function(n){return n>="A"&&n<="Z"};function sw(n){for(var e="",t=0;t<n.length;t++){var s=n[t];if(t===1&&s==="-"&&n[0]==="-")return n;sI(s)?e+="-"+s.toLowerCase():e+=s}return e.startsWith("ms-")?"-"+e:e}var P3=function(n){return n==null||n===!1||n===""},V3=function(n){var e,t,s=[];for(var o in n){var c=n[o];n.hasOwnProperty(o)&&!P3(c)&&(Array.isArray(c)&&c.isCss||il(c)?s.push("".concat(sw(o),":"),c,";"):nu(c)?s.push.apply(s,tu(tu(["".concat(o," {")],V3(c),!1),["}"],!1)):s.push("".concat(sw(o),": ").concat((e=o,(t=c)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in C7||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return s};function Aa(n,e,t,s){if(P3(n))return[];if(ky(n))return[".".concat(n.styledComponentId)];if(il(n)){if(!il(c=n)||c.prototype&&c.prototype.isReactComponent||!e)return[n];var o=n(e);return Aa(o,e,t,s)}var c;return n instanceof O3?t?(n.inject(t,s),[n.getName(s)]):[n]:nu(n)?V3(n):Array.isArray(n)?Array.prototype.concat.apply(Bf,n.map(function(d){return Aa(d,e,t,s)})):[n.toString()]}function aI(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(il(t)&&!ky(t))return!1}return!0}var oI=S3(zf),lI=function(){function n(e,t,s){this.rules=e,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&aI(e),this.componentId=t,this.baseHash=zo(oI,t),this.baseStyle=s,D3.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))o=wa(o,this.staticRulesId);else{var c=t0(Aa(this.rules,e,t,s)),d=e0(zo(this.baseHash,c)>>>0);if(!t.hasNameForId(this.componentId,d)){var m=s(c,".".concat(d),void 0,this.componentId);t.insertRules(this.componentId,d,m)}o=wa(o,d),this.staticRulesId=d}else{for(var g=zo(this.baseHash,s.hash),y="",b=0;b<this.rules.length;b++){var _=this.rules[b];if(typeof _=="string")y+=_;else if(_){var E=t0(Aa(_,e,t,s));g=zo(g,E+b),y+=E}}if(y){var D=e0(g>>>0);t.hasNameForId(this.componentId,D)||t.insertRules(this.componentId,D,s(y,".".concat(D),void 0,this.componentId)),o=wa(o,D)}}return o},n}(),L3=Zt.createContext(void 0);L3.Consumer;var fg={};function cI(n,e,t){var s=ky(n),o=n,c=!hg(n),d=e.attrs,m=d===void 0?Bf:d,g=e.componentId,y=g===void 0?function(he,te){var ue=typeof he!="string"?"sc":Wx(he);fg[ue]=(fg[ue]||0)+1;var R="".concat(ue,"-").concat(A3(zf+ue+fg[ue]));return te?"".concat(te,"-").concat(R):R}(e.displayName,e.parentComponentId):g,b=e.displayName,_=b===void 0?function(he){return hg(he)?"styled.".concat(he):"Styled(".concat(O7(he),")")}(n):b,E=e.displayName&&e.componentId?"".concat(Wx(e.displayName),"-").concat(e.componentId):e.componentId||y,D=s&&o.attrs?o.attrs.concat(m).filter(Boolean):m,P=e.shouldForwardProp;if(s&&o.shouldForwardProp){var F=o.shouldForwardProp;if(e.shouldForwardProp){var z=e.shouldForwardProp;P=function(he,te){return F(he,te)&&z(he,te)}}else P=F}var $=new lI(t,E,s?o.componentStyle:void 0);function re(he,te){return function(ue,R,A){var k=ue.attrs,O=ue.componentStyle,M=ue.defaultProps,U=ue.foldedComponentIds,N=ue.styledComponentId,me=ue.target,W=Zt.useContext(L3),I=iw(),Y=ue.shouldForwardProp||I.shouldForwardProp,ee=I7(R,W,M)||rl,fe=function(Ee,xe,Ke){for(var Oe,lt=Sn(Sn({},xe),{className:void 0,theme:Ke}),at=0;at<Ee.length;at+=1){var yt=il(Oe=Ee[at])?Oe(lt):Oe;for(var wt in yt)lt[wt]=wt==="className"?wa(lt[wt],yt[wt]):wt==="style"?Sn(Sn({},lt[wt]),yt[wt]):yt[wt]}return xe.className&&(lt.className=wa(lt.className,xe.className)),lt}(k,R,ee),C=fe.as||me,J={};for(var de in fe)fe[de]===void 0||de[0]==="$"||de==="as"||de==="theme"&&fe.theme===ee||(de==="forwardedAs"?J.as=fe.forwardedAs:Y&&!Y(de,C)||(J[de]=fe[de]));var le=function(Ee,xe){var Ke=iw(),Oe=Ee.generateAndInjectStyles(xe,Ke.styleSheet,Ke.stylis);return Oe}(O,fe),ye=wa(U,N);return le&&(ye+=" "+le),fe.className&&(ye+=" "+fe.className),J[hg(C)&&!E3.has(C)?"class":"className"]=ye,A&&(J.ref=A),L.createElement(C,J)}(ne,he,te)}re.displayName=_;var ne=Zt.forwardRef(re);return ne.attrs=D,ne.componentStyle=$,ne.displayName=_,ne.shouldForwardProp=P,ne.foldedComponentIds=s?wa(o.foldedComponentIds,o.styledComponentId):"",ne.styledComponentId=E,ne.target=s?o.target:n,Object.defineProperty(ne,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(he){this._foldedDefaultProps=s?function(te){for(var ue=[],R=1;R<arguments.length;R++)ue[R-1]=arguments[R];for(var A=0,k=ue;A<k.length;A++)n0(te,k[A],!0);return te}({},o.defaultProps,he):he}}),Iy(ne,function(){return".".concat(ne.styledComponentId)}),c&&k3(ne,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),ne}function aw(n,e){for(var t=[n[0]],s=0,o=e.length;s<o;s+=1)t.push(e[s],n[s+1]);return t}var ow=function(n){return Object.assign(n,{isCss:!0})};function U3(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(il(n)||nu(n))return ow(Aa(aw(Bf,tu([n],e,!0))));var s=n;return e.length===0&&s.length===1&&typeof s[0]=="string"?Aa(s):ow(Aa(aw(s,e)))}function i0(n,e,t){if(t===void 0&&(t=rl),!e)throw Eu(1,e);var s=function(o){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];return n(e,t,U3.apply(void 0,tu([o],c,!1)))};return s.attrs=function(o){return i0(n,e,Sn(Sn({},t),{attrs:Array.prototype.concat(t.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return i0(n,e,Sn(Sn({},t),o))},s}var z3=function(n){return i0(cI,n)},Ht=z3;E3.forEach(function(n){Ht[n]=z3(n)});function B3(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var s=t0(U3.apply(void 0,tu([n],e,!1))),o=A3(s);return new O3(o,s)}const uI=B3`
  from {
    opacity: 0;
    transform: translateX(100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
`,dI=B3`
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.95);
  }
`,ih=Ht.div`
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
  font-family: "Inter", "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #2d1b69 0%, #4a1e72 50%, #663399 100%);
  border-radius: 16px;
  border: 1px solid rgba(147, 51, 234, 0.3);
  min-height: 400px;
  box-shadow: 0 8px 32px rgba(147, 51, 234, 0.2);

  @media (max-width: 768px) {
    padding: 16px;
    margin: 10px;
  }
`,sh=Ht.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 1px solid rgba(147, 51, 234, 0.3);
`,ah=Ht.h1`
  font-size: clamp(1.5rem, 3vw, 2rem);
  font-weight: 700;
  color: #ffffff;
  margin: 0;
  display: flex;
  align-items: center;
  gap: 12px;
`,hI=Ht.span`
  background: linear-gradient(135deg, #9333ea, #a855f7);
  color: #ffffff;
  font-size: 0.75rem;
  font-weight: 600;
  padding: 4px 8px;
  border-radius: 12px;
  min-width: 20px;
  text-align: center;
  box-shadow: 0 2px 8px rgba(147, 51, 234, 0.3);
`,fI=Ht.div`
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 60px 20px;
  color: rgba(255, 255, 255, 0.6);
`,mg=Ht.div`
  text-align: center;
  padding: 60px 20px;
  color: rgba(255, 255, 255, 0.6);
`,mI=Ht.div`
  font-size: 4rem;
  margin-bottom: 16px;
  opacity: 0.4;
`,pg=Ht.h3`
  font-size: 1.2rem;
  color: rgba(255, 255, 255, 0.8);
  margin: 0;
  font-weight: 500;
`,pI=Ht.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,gI=Ht.div`
  background: linear-gradient(
    135deg,
    rgba(45, 27, 105, 0.8) 0%,
    rgba(74, 30, 114, 0.8) 100%
  );
  backdrop-filter: blur(10px);
  border-radius: 12px;
  padding: 20px;
  border: 1px solid
    ${n=>n.isRead?"rgba(147, 51, 234, 0.25)":"rgba(147, 51, 234, 0.5)"};
  position: relative;
  transition: all 0.3s ease;
  animation: ${uI} 0.3s ease-out;
  opacity: ${n=>n.isRead?.7:1};

  &.removing {
    animation: ${dI} 0.3s ease-out forwards;
  }

  &:hover {
    transform: translateX(4px);
    border-color: rgba(147, 51, 234, 0.5);
    box-shadow: 0 4px 20px rgba(147, 51, 234, 0.2);
    background: linear-gradient(
      135deg,
      rgba(45, 27, 105, 0.9) 0%,
      rgba(74, 30, 114, 0.9) 100%
    );
    opacity: 1;
  }

  @media (max-width: 480px) {
    padding: 16px;
  }
`,yI=Ht.div`
  display: flex;
  align-items: flex-start;
  gap: 16px;
`,vI=Ht.div`
  background: linear-gradient(
    135deg,
    rgba(147, 51, 234, 0.3),
    rgba(168, 85, 247, 0.3)
  );
  border-radius: 8px;
  padding: 8px;
  color: ${n=>n.color||"#a855f7"};
  font-size: 1.1rem;
  flex-shrink: 0;
  border: 1px solid rgba(147, 51, 234, 0.2);
`,bI=Ht.div`
  flex: 1;
`,xI=Ht.div`
  color: #ffffff;
  font-size: 0.95rem;
  line-height: 1.4;
  margin-bottom: 8px;
  font-weight: 500;
`,wI=Ht.div`
  color: rgba(255, 255, 255, 0.6);
  font-size: 0.8rem;
  font-weight: 400;
`,_I=Ht.button`
  background: none;
  border: none;
  color: rgba(255, 255, 255, 0.5);
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  transition: all 0.2s ease;
  position: absolute;
  top: 16px;
  right: 16px;

  &:hover {
    color: #a855f7;
    background: rgba(147, 51, 234, 0.2);
  }
`,EI=Ht.div`
  display: flex;
  gap: 8px;
  margin-top: 12px;
`,TI=Ht.button`
  background: ${n=>n.primary?"linear-gradient(135deg, #9333ea, #a855f7)":"rgba(147, 51, 234, 0.2)"};
  color: #ffffff;
  border: none;
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    opacity: 0.8;
    transform: translateY(-1px);
  }
`,SI=n=>{switch(n){case"mining_completed":return h.jsx(Jh,{});case"badge_earned":return h.jsx(yr,{});case"task_completed":return h.jsx(wy,{});case"quest_progress":return h.jsx(Ck,{});case"referral_success":return h.jsx(Jo,{});case"streak_milestone":return h.jsx(Ua,{});case"welcome_bonus":return h.jsx(o3,{});case"level_up":return h.jsx(gl,{});default:return h.jsx(Uo,{})}},AI=n=>{switch(n){case"mining_completed":return"#fbbf24";case"badge_earned":return"#8b5cf6";case"task_completed":return"#10b981";case"quest_progress":return"#06b6d4";case"referral_success":return"#10b981";case"streak_milestone":return"#f97316";case"welcome_bonus":return"#06b6d4";case"level_up":return"#f59e0b";default:return"#a855f7"}};function NI(){const{currentUser:n}=Vs(),[e,t]=L.useState([]),[s,o]=L.useState(!0),[c,d]=L.useState(null);L.useEffect(()=>{if(!n){o(!1);return}let b;return(async()=>{try{o(!0),b=Z9(n.uid,E=>{console.log("Notifications received:",E),t(E),o(!1)}),setTimeout(()=>{o(!1)},5e3)}catch(E){console.error("Error loading notifications:",E),d("Failed to load notifications"),o(!1)}})(),()=>{b&&b()}},[n]);const m=async b=>{const _=document.querySelector(`[data-id="${b}"]`);if(_){_.classList.add("removing");try{await ek(n.uid,b),setTimeout(()=>{t(E=>E.filter(D=>D.id!==b))},300)}catch(E){console.error("Error dismissing notification:",E),_.classList.remove("removing")}}},g=async b=>{try{await J9(n.uid,b),t(_=>_.map(E=>E.id===b?{...E,isRead:!0}:E))}catch(_){console.error("Error marking notification as read:",_)}},y=e.filter(b=>!b.isRead&&!b.isDismissed).length;return n?s?h.jsxs(ih,{children:[h.jsx(sh,{children:h.jsxs(ah,{children:[h.jsx(Uo,{}),"Notifications"]})}),h.jsx(fI,{children:h.jsxs("div",{style:{textAlign:"center"},children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mx-auto mb-4"}),h.jsx("p",{children:"Loading notifications..."})]})})]}):c?h.jsxs(ih,{children:[h.jsx(sh,{children:h.jsxs(ah,{children:[h.jsx(Uo,{}),"Notifications"]})}),h.jsxs(mg,{children:[h.jsx(pg,{children:"Error loading notifications"}),h.jsx("p",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.9rem",marginTop:"8px"},children:c})]})]}):h.jsxs(ih,{children:[h.jsx(sh,{children:h.jsxs(ah,{children:[h.jsx(Uo,{}),"Notifications",y>0&&h.jsx(hI,{children:y})]})}),e.length===0?h.jsxs(mg,{children:[h.jsx(mI,{children:"🎉"}),h.jsx(pg,{children:"All caught up!"}),h.jsx("p",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.9rem",marginTop:"8px"},children:"No new notifications right now"})]}):h.jsx(pI,{children:e.map(b=>h.jsxs(gI,{"data-id":b.id,isRead:b.isRead,children:[h.jsxs(yI,{children:[h.jsx(vI,{color:AI(b.type),children:SI(b.type)}),h.jsxs(bI,{children:[h.jsx(xI,{children:b.message}),h.jsx(wI,{children:Xg(b.timestamp?.toDate?b.timestamp.toDate():b.timestamp).format("MMM D, hh:mm A")}),!b.isRead&&h.jsx(EI,{children:h.jsx(TI,{primary:!0,onClick:()=>g(b.id),children:"Mark as Read"})})]})]}),h.jsx(_I,{onClick:()=>m(b.id),children:h.jsx(tf,{})})]},b.id))})]}):h.jsxs(ih,{children:[h.jsx(sh,{children:h.jsxs(ah,{children:[h.jsx(Uo,{}),"Notifications"]})}),h.jsx(mg,{children:h.jsx(pg,{children:"Please log in to view notifications"})})]})}const RI=(n,e)=>{const t={className:`text-3xl ${e?"text-yellow-400":"text-gray-500"}`,size:32};switch(n){case"FaRocket":return h.jsx(Ts,{...t});case"FaFire":return h.jsx(Ua,{...t});case"FaHeart":return h.jsx(Of,{...t});case"FaGem":return h.jsx(_y,{...t});case"FaCog":return h.jsx(Mf,{...t});case"FaCrown":return h.jsx(Es,{...t});case"FaTrophy":return h.jsx(yr,{...t});case"FaStar":return h.jsx(gl,{...t});default:return h.jsx(yr,{...t})}},CI=()=>h.jsx("div",{className:"flex flex-1 items-center justify-center min-h-[300px]",children:h.jsxs("div",{className:"text-center px-6 py-2 max-w-md mx-auto",children:[h.jsxs("div",{className:"relative mb-8",children:[h.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[h.jsx("div",{className:"animate-bounce delay-0",children:h.jsx(yr,{className:"text-5xl text-gray-600"})}),h.jsx("div",{className:"animate-bounce delay-100",children:h.jsx(eu,{className:"text-4xl text-gray-500"})}),h.jsx("div",{className:"animate-bounce delay-200",children:h.jsx(Kg,{className:"text-5xl text-gray-600"})})]}),h.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[h.jsx("div",{className:"absolute top-0 left-4 animate-float delay-0",children:h.jsx("span",{className:"text-2xl opacity-60",children:"🏆"})}),h.jsx("div",{className:"absolute top-2 right-4 animate-float delay-300",children:h.jsx("span",{className:"text-xl opacity-50",children:"⭐"})}),h.jsx("div",{className:"absolute bottom-0 left-8 animate-float delay-500",children:h.jsx("span",{className:"text-lg opacity-40",children:"🎯"})}),h.jsx("div",{className:"absolute bottom-2 right-8 animate-float delay-700",children:h.jsx("span",{className:"text-xl opacity-45",children:"💎"})})]})]}),h.jsxs("div",{className:"space-y-0",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-300 mb-3",children:"No Achievements Yet"}),h.jsx("p",{className:"text-gray-400 text-base leading-relaxed mb-6 pb-2 ",children:"Start your journey to earn amazing badges and achievements!"}),h.jsx("div",{className:"mt-2 pb-5",children:h.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-600/20 to-blue-600/20 text-purple-300 px-4 py-2 rounded-lg border border-purple-500/30",children:[h.jsx(gl,{className:"text-sm animate-pulse"}),h.jsx("span",{className:"text-sm font-medium",children:"Complete challenges to unlock badges!"})]})})]})]})});function kI(){const{currentUser:n}=Vs(),[e,t]=L.useState([]),[s,o]=L.useState(!0),[c,d]=L.useState(null);return L.useEffect(()=>{if(!n){o(!1);return}(async()=>{try{o(!0);const g=await e3(n.uid);g.success?t(g.badges):d(g.error)}catch(g){console.error("Error loading badges:",g),d("Failed to load achievements")}finally{o(!1)}})()},[n]),s?h.jsx("div",{className:"w-full flex flex-col",children:h.jsx("div",{className:"flex items-center justify-center py-16 min-h-[300px]",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"relative mb-6",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-500/30 border-t-purple-400 mx-auto"}),h.jsx("div",{className:"absolute inset-0 animate-ping rounded-full h-12 w-12 border-2 border-purple-400/20"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-gray-300 font-medium",children:"Loading achievements..."}),h.jsx("p",{className:"text-gray-500 text-sm animate-pulse",children:"Fetching your progress"})]})]})})}):c?h.jsx("div",{className:"w-full flex flex-col",children:h.jsx("div",{className:"flex items-center justify-center py-16 min-h-[300px]",children:h.jsxs("div",{className:"text-center max-w-md mx-auto px-6",children:[h.jsx("div",{className:"mb-6",children:h.jsx("div",{className:"w-16 h-16 mx-auto bg-red-500/20 rounded-full flex items-center justify-center border border-red-500/30",children:h.jsx("span",{className:"text-2xl",children:"❌"})})}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("h3",{className:"text-lg font-semibold text-red-400",children:"Unable to Load Achievements"}),h.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:c}),h.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-500/20 hover:bg-red-500/30 text-red-300 px-4 py-2 rounded-lg text-sm font-medium transition-colors border border-red-500/30",children:"Try Again"})]})]})})}):h.jsxs("div",{className:"w-full flex flex-col",children:[h.jsx("div",{className:"mb-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg flex items-center justify-center",children:h.jsx(yr,{className:"text-white text-sm"})}),h.jsx("h2",{className:"text-xl font-bold text-white",children:"Achievements"})]}),e.length>0&&h.jsxs("div",{className:"bg-gradient-to-r from-purple-600/20 to-blue-600/20 border border-purple-500/30 rounded-lg px-4 py-2",children:[h.jsx("span",{className:"text-gray-400 text-sm",children:"Progress: "}),h.jsxs("span",{className:"text-purple-400 font-semibold",children:[e.filter(m=>m.isEarned).length,"/",e.length]})]})]})}),h.jsx("div",{className:"flex-1",children:e.length===0?h.jsx(CI,{}):h.jsx("div",{className:"flex overflow-x-auto space-x-6 px-2 pb-4 scrollbar-hide",children:e.map(m=>h.jsxs("div",{className:`min-w-[240px] max-w-[260px] border rounded-xl p-5 flex flex-col justify-between shadow-lg flex-shrink-0 transition-all duration-300 hover:scale-105 hover:shadow-xl ${m.isEarned?"bg-gradient-to-br from-[#2a2a3c] via-[#2d2d40] to-[#3a3a4c] border-yellow-500/40 hover:shadow-yellow-500/25":"bg-gradient-to-br from-[#1a1a2c] to-[#1d1d30] border-gray-600/50 opacity-75 hover:opacity-90"}`,style:{minHeight:"220px"},children:[h.jsxs("div",{className:"flex items-start justify-between mb-4",children:[h.jsx("div",{className:`flex items-center justify-center w-14 h-14 rounded-xl transition-all duration-300 ${m.isEarned?"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 border border-yellow-500/30":"bg-gradient-to-br from-purple-600/10 to-blue-600/10 border border-gray-600/30"}`,children:RI(m.icon,m.isEarned)}),m.isEarned&&h.jsxs("div",{className:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-400 text-xs px-3 py-1.5 rounded-full border border-green-500/40 font-medium",children:[h.jsx("span",{className:"mr-1",children:"✓"}),"Earned"]})]}),h.jsxs("div",{className:"flex-1 space-y-3",children:[h.jsxs("div",{children:[h.jsx("h3",{className:`text-lg font-bold mb-2 line-clamp-2 ${m.isEarned?"text-white":"text-gray-400"}`,children:m.name}),h.jsx("p",{className:`text-sm leading-relaxed line-clamp-3 ${m.isEarned?"text-gray-300":"text-gray-500"}`,children:m.description})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-xs font-medium text-gray-400",children:"Progress"}),h.jsxs("span",{className:`text-xs font-semibold ${m.isEarned?"text-green-400":"text-gray-400"}`,children:[m.tasks?m.tasks.filter(g=>g.completed).length:0,"/",m.tasks?m.tasks.length:0]})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-full bg-gray-700/50 rounded-full h-2.5 overflow-hidden",children:h.jsx("div",{className:`h-full rounded-full transition-all duration-700 ease-out ${m.isEarned?"bg-gradient-to-r from-green-400 via-emerald-500 to-green-600":"bg-gradient-to-r from-purple-500 via-blue-500 to-purple-600"}`,style:{width:`${m.progress||0}%`}})}),m.isEarned&&h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400/20 to-emerald-500/20 rounded-full animate-pulse"})]})]})]}),m.isEarned&&m.earnedAt&&h.jsx("div",{className:"mt-4 pt-3 border-t border-gray-600/30",children:h.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[h.jsx("span",{className:"text-yellow-400",children:"🗓️"}),h.jsxs("span",{children:["Earned: ",new Date(m.earnedAt.seconds*1e3).toLocaleDateString()]})]})})]},m.id||m.badgeId))})}),h.jsx("style",{jsx:!0,children:`
        @keyframes float {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          33% { transform: translateY(-10px) rotate(1deg); }
          66% { transform: translateY(5px) rotate(-1deg); }
        }
        
        .animate-float {
          animation: float 3s ease-in-out infinite;
        }
        
        .line-clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
        
        .line-clamp-3 {
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
        
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
        
        .delay-0 { animation-delay: 0ms; }
        .delay-100 { animation-delay: 100ms; }
        .delay-200 { animation-delay: 200ms; }
        .delay-300 { animation-delay: 300ms; }
        .delay-500 { animation-delay: 500ms; }
        .delay-700 { animation-delay: 700ms; }
      `})]})}const II=({isMining:n})=>h.jsx("div",{className:"cube-container",children:h.jsxs("div",{className:`cube ${n?"rotate":""}`,children:[h.jsx("div",{className:"s1"}),h.jsx("div",{className:"s2"}),h.jsx("div",{className:"s3"}),h.jsx("div",{className:"s4"}),h.jsx("div",{className:"s5"}),h.jsx("div",{className:"s6"})]})}),DI=async n=>{try{const e=ft(Fe,"users",n),t=await pn(e);return t.exists()?t.data().mining?.isMining?{success:!1,error:"Mining already in progress"}:(await gr(e,{"mining.isMining":!0,"mining.lastMiningStart":Rn(),"mining.coinsMined":0,"profile.lastActive":Rn()}),await o7(n),await _u(n,"MINING_STARTED"),{success:!0}):{success:!1,error:"User not found"}}catch(e){return console.error("Error starting mining session:",e),{success:!1,error:e.message}}},jI=async n=>{try{const e=ft(Fe,"users",n),t=await pn(e);if(!t.exists())return{success:!1,error:"User not found"};const s=t.data();if(!s.mining?.isMining||!s.mining?.lastMiningStart)return{success:!1,error:"No mining session in progress"};const o=await K4(br(Fe,"serverTime"),{ts:Rn()}),d=(await pn(o)).data().ts.toDate(),m=s.mining.lastMiningStart.toDate(),g=d-m,y=s.mining.miningRate||3,b=24*60*60*1e3,_=Math.min(g,b),E=parseFloat((_/b*y).toFixed(1));return await gr(e,{"stats.coinsEarned":Ta(E),"stats.totalCoinsEarned":Ta(E),"mining.coinsMined":0,"mining.totalMiningSessions":Ta(1),"mining.isMining":!1,"mining.lastMiningStart":null,"mining.nextAvailable":null}),await J4(n,E),await f3(n),await _u(n,"MINING_COMPLETED",{totalSessions:(s.mining.totalMiningSessions||0)+1}),{success:!0,coinsEarned:E}}catch(e){return{success:!1,error:e.message}}},MI=(n,e)=>{const t=ft(Fe,"users",n);return wu(t,s=>{s.exists()&&e(s.data().mining)})},gg=24*60*60*1e3,OI=3,PI=OI/24,VI=()=>{const{currentUser:n,userProfile:e,setUserProfile:t}=Vs(),[s,o]=L.useState(0),[c,d]=L.useState(0),[m,g]=L.useState(!1),[y,b]=L.useState(null),[_,E]=L.useState(!1),[D,P]=L.useState(null),F=L.useRef(null),z=L.useRef(null),$=W=>{const I=new Date(W.seconds?W.seconds*1e3:W),Y=Date.now();return Math.floor((Y-I.getTime())/6e4)},re=(W,I)=>W/1440*I,ne=(W,I)=>{F.current&&clearInterval(F.current);let Y=W;F.current=setInterval(()=>{Y+=I/86400,o(Y),d(Y*.12)},1e3)},he=async W=>{const I=$(W),Y=ue.miningRate||3;if(I>=1440){await M();return}const ee=re(I,Y);o(ee),d(ee*.12),ne(ee,Y)},te=e&&e.stats?{coinsEarned:e.stats.coinsEarned??0,totalCoinsEarned:e.stats.totalCoinsEarned??0,level:e.stats.level??1,currentTier:e.stats.currentTier??"Bronze Miner",nextTier:e.stats.nextTier??"Silver Miner",tierProgress:e.stats.tierProgress??0,currentStreak:e.stats.currentStreak??0,totalMined:e.stats.totalMined??0,rank:e.stats.rank??"#0",isVip:e.stats.isVip??!1}:{coinsEarned:0,totalCoinsEarned:0,level:1,currentTier:"Bronze Miner",nextTier:"Silver Miner",tierProgress:0,currentStreak:0,totalMined:0,rank:"#0",isVip:!1},ue=e&&e.mining?{isMining:e.mining.isMining??!1,lastMiningStart:e.mining.lastMiningStart??null,coinsMined:e.mining.coinsMined??0,nextAvailable:e.mining.nextAvailable??null,totalMiningSessions:e.mining.totalMiningSessions??0,miningRate:e.mining.miningRate??3}:{isMining:!1,lastMiningStart:null,coinsMined:0,nextAvailable:null,totalMiningSessions:0,miningRate:3},R=e&&e.profile?{referralCode:e.profile.referralCode??"",username:e.profile.username??"",email:e.profile.email??""}:{referralCode:""};L.useEffect(()=>{if(n&&e){const W=ue;if(g(W.isMining||!1),o(W.coinsMined||0),d((W.coinsMined||0)*.12),b(W.nextAvailable?new Date(W.nextAvailable).getTime():null),z.current=MI(n.uid,I=>{g(I.isMining||!1),o(I.coinsMined||0),d((I.coinsMined||0)*.12),b(I.nextAvailable?new Date(I.nextAvailable).getTime():null)}),W.isMining&&W.lastMiningStart){const I=new Date(W.lastMiningStart.seconds?W.lastMiningStart.seconds*1e3:W.lastMiningStart);Date.now()-I.getTime()<gg?he(W.lastMiningStart):M()}}return()=>{F.current&&clearInterval(F.current),z.current&&z.current()}},[n,e]);const A=async()=>{const W=await addDoc(collection(db,"serverTime"),{ts:Y()}),Y=(await getDoc(W)).data().ts.toDate();return Y},k=async W=>{const Y=await A()-W.getTime(),ee=ue.miningRate||3,fe=Math.max(0,Math.min(Y/gg*ee,ee));o(parseFloat(fe.toFixed(4))),d(parseFloat((fe*.12).toFixed(4)))},O=async()=>{if(!n){P("Please log in to start mining");return}if(!(y&&Date.now()<y)){E(!0),P(null);try{const W=await DI(n.uid);if(W.success){o(0),d(0);const I=new Date;k(I),t(Y=>({...Y,mining:{...ue,isMining:!0,lastMiningStart:I,coinsMined:0,nextAvailable:new Date(I.getTime()+gg)}}))}else P(W.error)}catch(W){P("Failed to start mining session"),console.error("Mining start error:",W)}E(!1)}},M=async()=>{if(n)try{const W=await jI(n.uid);W.success?(g(!1),b(null),o(W.coinsEarned),t(I=>({...I,mining:{...ue,isMining:!1,nextAvailable:null,totalMiningSessions:(ue.totalMiningSessions||0)+1},stats:{...te,coinsEarned:(te.coinsEarned||0)+W.coinsEarned,totalCoinsEarned:(te.totalCoinsEarned||0)+W.coinsEarned}}))):P(W.error)}catch{P("Failed to complete mining session")}},U=()=>{if(!y)return"";const W=y-Date.now();if(W<=0)return"You can mine now!";const I=Math.floor(W/(1e3*60*60)),Y=Math.floor(W%(1e3*60*60)/(1e3*60));return`${I}h ${Y}m remaining`},N=()=>ue.miningRate||PI,me=()=>{if(R.referralCode){const W=`${window.location.origin}/signup?ref=${R.referralCode}`;navigator.clipboard.writeText(W),alert("Referral link copied to clipboard! ðŸš€")}else alert("Referral code not available yet. Please try again in a moment.")};return!n||!e?h.jsx("div",{className:"w-full h-full flex items-center justify-center p-6 bg-gradient-to-br from-[#251354] via-[#261547] to-[#321c64] rounded-2xl",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-400 mx-auto mb-4"}),h.jsx("p",{className:"text-purple-300",children:"Loading mining dashboard..."})]})}):h.jsxs("div",{className:"w-full h-full flex flex-col gap-6 p-4 sm:p-6 bg-gradient-to-br from-[#251354] via-[#261547] to-[#321c64] rounded-2xl shadow-lg border border-purple-900/20 transition-all duration-300",children:[D&&h.jsxs("div",{className:"fixed top-4 right-4 left-4 sm:left-auto z-50 bg-red-500/20 border border-red-500 text-red-300 px-4 py-2 rounded-lg flex justify-between items-center max-w-xs mx-auto sm:max-w-full",children:[h.jsx("span",{children:D}),h.jsx("button",{onClick:()=>P(null),className:"ml-2 text-red-400 hover:text-red-200",children:"X"})]}),h.jsxs("h2",{className:"text-2xl font-bold text-purple-300 mb-4 flex items-center gap-3",children:["Mining Dashboard",h.jsx("span",{className:"text-sm bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full",children:m?"ACTIVE":"INACTIVE"})]}),h.jsx("div",{className:"w-full flex items-center justify-center py-8 sm:py-12",children:h.jsx(II,{isMining:m})}),h.jsxs("div",{className:"w-full flex flex-col gap-4",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[h.jsxs("div",{className:"flex-1 bg-gradient-to-t from-[#221c34] to-[#35246b] px-5 py-4 rounded-lg shadow border border-purple-600/30 text-center transition-all duration-200 hover:scale-[1.03]",children:[h.jsx("p",{className:"text-xs text-purple-300 uppercase tracking-wider font-semibold",children:"Coins Mined"}),h.jsx("p",{className:"text-2xl text-yellow-400 font-extrabold drop-shadow",children:s.toFixed(4)})]}),h.jsxs("div",{className:"flex-1 bg-gradient-to-t from-[#221c34] to-[#35246b] px-5 py-4 rounded-lg shadow border border-purple-600/30 text-center transition-all duration-200 hover:scale-[1.03] mt-3 sm:mt-0",children:[h.jsx("p",{className:"text-xs text-purple-300 uppercase tracking-wider font-semibold",children:"USD Equivalent"}),h.jsxs("p",{className:"text-2xl text-green-400 font-extrabold drop-shadow",children:["$",c.toFixed(4)]})]})]}),h.jsxs("div",{className:"bg-gradient-to-t from-[#221c34] to-[#312567] px-5 py-4 rounded-lg shadow border border-purple-600/30 text-center",children:[h.jsx("p",{className:"text-xs text-purple-300 uppercase tracking-wider font-semibold",children:"Mining Rate"}),h.jsxs("p",{className:"text-lg text-purple-400 font-bold drop-shadow",children:[N().toFixed(6)," coins/hour"]})]}),h.jsxs("div",{className:"bg-gradient-to-t from-[#221c34] to-[#312567] px-5 py-4 rounded-lg shadow border border-purple-600/30 text-center",children:[h.jsx("p",{className:"text-xs text-purple-300 uppercase tracking-wider font-semibold",children:"Total Earned"}),h.jsxs("p",{className:"text-lg text-blue-400 font-bold drop-shadow",children:[(te.totalCoinsEarned||0).toFixed(2)," coins"]})]}),h.jsx("div",{className:"flex flex-col items-center mt-2 w-full",children:m?h.jsxs("p",{className:"text-sm text-green-400 font-semibold flex items-center mb-2 transition-all duration-300",children:["Mining in progress... ",h.jsx("span",{className:"text-purple-300",children:U()})]}):h.jsxs("button",{onClick:O,disabled:_||y&&Date.now()<y,className:`mt-1 px-5 py-3 rounded-md font-semibold text-sm shadow-lg w-full transition-all duration-200 flex items-center gap-2 ${_||y&&Date.now()<y?"bg-gray-500 cursor-not-allowed text-white":"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-purple-400 hover:to-pink-400 text-white"}`,children:[_&&h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),y&&Date.now()<y?`Come back in ${U()}`:_?"Starting...":"Start Mining"]})}),h.jsx("div",{className:"text-center mt-4 w-full",children:h.jsxs("button",{onClick:me,className:"w-full sm:w-auto bg-gradient-to-r from-purple-600 to-indigo-500 hover:from-indigo-500 hover:to-purple-600 text-white px-4 py-3 rounded-md shadow-md transition-all duration-200 flex items-center justify-center gap-2",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Share Referral Link"]})})]})]})},LI="/CollabriaNexus/assets/LOGO-BUWBIFdy.png",UI=n=>({FaRocket:Ts,FaFire:Ua,FaHeart:Of,FaGem:_y,FaCog:Mf,FaCrown:Es,FaTrophy:yr,FaMedal:eu})[n]||yr,zI=()=>{const{currentUser:n}=Vs(),[e,t]=L.useState(0),[s,o]=L.useState([]),[c,d]=L.useState(!0);L.useEffect(()=>{if(!n){d(!1);return}return dk(n.uid,E=>{o(E),d(!1)})},[n]),L.useEffect(()=>{n&&by(n.uid)},[n]);const m=()=>{t(_=>_===0?s.length-1:_-1)},g=()=>{t(_=>_===s.length-1?0:_+1)};if(!n)return h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-violet-400 text-sm",children:"Please log in to view quests"})});if(c)return h.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-400 mb-3"}),h.jsx("p",{className:"text-violet-400 text-sm",children:"Loading quests..."})]});if(s.length===0)return h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-violet-400 text-sm",children:"No quests available"})});const y=s[e],b=UI(y.icon);return h.jsxs("div",{className:"h-full flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 bg-violet-500/10 rounded-xl p-3 border border-violet-500/20",children:[h.jsx("button",{onClick:m,disabled:s.length<=1,"aria-label":"Previous Badge",className:"p-2 rounded-full bg-violet-600 hover:bg-violet-500 disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-violet-500/25",children:h.jsx(s3,{className:"text-white text-sm"})}),h.jsxs("div",{className:"flex-1 text-center px-4",children:[h.jsxs("div",{className:"flex items-center justify-center gap-3 mb-1",children:[h.jsx("div",{className:`text-xl ${y.color}`,children:h.jsx(b,{})}),h.jsx("h3",{className:"text-white font-bold text-lg truncate",children:s.length>0?s[e].name:"No Badges"}),y.isEarned&&h.jsx(yr,{className:"text-lg text-yellow-400 flex-shrink-0"})]}),h.jsxs("p",{className:"text-violet-400 text-xs",children:[e+1," of ",s.length]})]}),h.jsx("button",{onClick:g,disabled:s.length<=1,"aria-label":"Next Badge",className:"p-2 rounded-full bg-violet-600 hover:bg-violet-500 disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-violet-500/25",children:h.jsx(a3,{className:"text-white text-sm"})})]}),h.jsxs("div",{className:"flex-1 flex flex-col",children:[h.jsxs("div",{className:"mb-3",children:[h.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[h.jsx("span",{children:"Progress"}),h.jsxs("span",{children:[Math.round(y.progress),"%"]})]}),h.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1.5",children:h.jsx("div",{className:"bg-gradient-to-r from-violet-500 to-purple-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${y.progress}%`}})})]}),h.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:y.tasks.map(_=>h.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg transition-all duration-200 ${_.completed?"bg-green-500/10 border border-green-500/20":"bg-gray-700/30 border border-gray-600/30"}`,children:[h.jsx("div",{className:`text-sm flex-shrink-0 ${_.completed?"text-green-400":"text-gray-500"}`,children:_.completed?h.jsx(wy,{}):h.jsx(bh,{})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:`text-xs font-medium truncate ${_.completed?"text-green-300":"text-gray-300"}`,children:_.text}),_.completed&&_.completedAt&&h.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["✅"," ",new Date(_.completedAt.seconds?_.completedAt.seconds*1e3:_.completedAt).toLocaleDateString()]})]})]},_.id))}),h.jsx("div",{className:"mt-3 text-center",children:y.isEarned?h.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-400",children:[h.jsx(yr,{className:"text-sm"}),h.jsx("span",{className:"text-xs font-semibold",children:"Badge Earned! 🎉"})]}):h.jsx("p",{className:"text-gray-500 text-xs",children:"Complete all tasks to earn this badge"})}),h.jsx("div",{className:"mt-2 text-center",children:h.jsx("p",{className:"text-xs text-violet-500",children:"✨ Updates automatically"})})]})]})};function BI(){const{currentUser:n,userProfile:e}=Vs(),[t,s]=L.useState(!1),[o,c]=L.useState("");L.useEffect(()=>{const E=new Date().getHours();E<12?c("Good Morning"):E<18?c("Good Afternoon"):c("Good Evening")},[]);const d=e&&e.stats?{totalCoinsEarned:e.stats.totalCoinsEarned??0,level:e.stats.level??1,isVip:e.stats.isVip??!1}:{totalCoinsEarned:0,level:1,isVip:!1},m=e&&e.profile?{username:e.profile.username??"User",avatar:e.profile.avatar??"",email:e.profile.email??""}:{username:"User",avatar:""};if(!n||!e)return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-400 mx-auto mb-4"}),h.jsx("p",{className:"text-slate-300 text-lg",children:"Loading your dashboard..."}),h.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Setting up your personalized experience"})]})});const g=[{icon:Ey,path:"/dashboard",label:"Home"},{icon:Ty,path:"/friends",label:"Friends"},{icon:c3,path:"/work-in-progress",label:"News"}],y=()=>m.avatar?m.avatar:`https://api.dicebear.com/7.x/initials/svg?seed=${m.username}&backgroundColor=6366f1&fontSize=40`,[b,_]=Zt.useState(null);return console.log(n,e),h.jsxs("div",{className:"min-h-screen pt-20 bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white relative overflow-hidden",children:[h.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[h.jsx("div",{className:"absolute top-0 left-10 w-72 h-72 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),h.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-violet-500/5 rounded-full blur-3xl animate-pulse delay-1000"}),h.jsx("div",{className:"absolute top-1/2 left-1/2 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse delay-500"})]}),t&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-30 md:hidden",onClick:()=>s(!1)}),h.jsxs("aside",{className:`
    fixed 
    top-1/2 left-4 transform -translate-y-1/2
    md:top-1/2 md:left-4 md:transform md:-translate-y-1/2
    w-80 md:w-20 
    bg-gradient-to-b from-slate-900/95 to-slate-800/95 
    backdrop-blur-2xl border border-violet-400/20 rounded-3xl
    flex flex-col justify-between py-8 
    shadow-2xl shadow-violet-500/20 hover:shadow-violet-500/30
    transition-all duration-700 ease-out z-40
    ${t?"translate-x-0 opacity-100":"-translate-x-full md:translate-x-0 opacity-0 md:opacity-100"}
    max-h-[80vh] overflow-hidden
    before:absolute before:inset-0 before:rounded-3xl before:p-[1px]
    before:bg-gradient-to-b before:from-violet-400/30 before:via-purple-500/20 before:to-transparent
    before:mask-gradient before:pointer-events-none before:-z-10
  `,children:[h.jsx("div",{className:"absolute top-8 right-6 w-16 h-16 bg-violet-500/10 rounded-full blur-xl animate-pulse"}),h.jsx("div",{className:"absolute bottom-20 left-4 w-12 h-12 bg-purple-500/10 rounded-full blur-lg animate-pulse delay-1000"}),h.jsx("button",{onClick:()=>s(!1),className:`absolute top-6 right-6 text-violet-300 hover:text-white md:hidden \r
               p-3 bg-violet-600/20 rounded-xl hover:bg-violet-600/40 \r
               transition-all duration-300 hover:scale-110 hover:rotate-90\r
               border border-violet-500/30 hover:border-violet-400/50\r
               backdrop-blur-sm shadow-lg`,children:h.jsx(tf,{className:"text-lg"})}),h.jsx("div",{className:"w-full px-6 md:px-3 mb-4 pr-16",children:h.jsxs("div",{className:"flex items-center justify-center md:justify-center",children:[h.jsx("div",{className:"w-10 h-10rounded-xl flex items-center justify-center shadow-lg",children:h.jsx("span",{className:"text-white font-bold text-lg",children:h.jsx("img",{src:LI,alt:"Logo",className:"w-10 h-6"})})}),h.jsx("span",{className:"ml-3 md:hidden text-white font-bold text-xl bg-gradient-to-r from-violet-200 to-purple-200 bg-clip-text text-transparent",children:"CollabriaNexus"})]})}),h.jsx("div",{className:"flex flex-col gap-3 w-full px-6 md:px-3 flex-1",children:g.map((E,D)=>h.jsx(Lr,{to:E.path,className:"w-full",children:h.jsxs("button",{className:`
            group relative w-full md:w-14 h-14 flex items-center justify-start md:justify-center
            text-violet-300 hover:text-white transition-all duration-500
            rounded-2xl transform hover:scale-105 active:scale-95
            border border-transparent overflow-hidden
            ${D===0?"bg-gradient-to-r from-violet-600/40 to-purple-600/40 text-violet-100 border-violet-400/50 shadow-lg shadow-violet-500/20":"hover:bg-gradient-to-r hover:from-violet-600/30 hover:to-purple-600/30 hover:border-violet-400/40 hover:shadow-lg hover:shadow-violet-500/25"}
          `,style:{animationDelay:`${D*150}ms`,animation:"slideInLeft 0.8s ease-out forwards"},onMouseEnter:()=>_(D),onMouseLeave:()=>_(null),children:[h.jsx("div",{className:`
            absolute inset-0 bg-gradient-to-r from-violet-600/20 to-purple-600/20 
            transform transition-transform duration-500 ease-out
            ${b===D?"scale-100 opacity-100":"scale-0 opacity-0"}
          `}),h.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-2xl",children:h.jsx("div",{className:`
              absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent
              transform -skew-x-12 transition-transform duration-700
              ${b===D?"translate-x-full":"-translate-x-full"}
            `})}),h.jsx(E.icon,{className:`text-xl md:text-lg ml-4 md:ml-0 text-current flex-shrink-0 relative z-10 \r
                               transition-transform duration-300 group-hover:scale-110`}),h.jsx("span",{className:`ml-4 md:hidden font-semibold text-current relative z-10 \r
                          transition-all duration-300 group-hover:translate-x-1`,children:E.label}),D===0&&h.jsx("div",{className:"absolute right-2 md:right-1 w-2 h-2 bg-violet-400 rounded-full animate-pulse shadow-lg shadow-violet-400/50"}),h.jsxs("div",{className:`
            absolute left-20 bg-slate-900/95 backdrop-blur-md text-white 
            px-4 py-3 rounded-xl text-sm font-medium
            transition-all duration-300 pointer-events-none hidden md:block 
            border border-violet-500/30 shadow-xl shadow-violet-500/10 z-50
            ${b===D?"opacity-100 translate-x-2":"opacity-0 translate-x-0"}
          `,children:[E.label,h.jsx("div",{className:`absolute left-0 top-1/2 transform -translate-x-1 -translate-y-1/2 \r
                           w-2 h-2 bg-slate-900 rotate-45 border-l border-b border-violet-500/30`})]})]})},E.path))}),h.jsx("div",{className:"w-full px-6 md:px-3 my-6",children:h.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-violet-500/30 to-transparent"})}),h.jsx("div",{className:"w-full px-6 md:px-3",children:h.jsx(Lr,{to:"/profile",children:h.jsxs("div",{className:`group flex md:justify-center items-center p-2 rounded-lg \r
                   hover:bg-slate-800/40 transition-all duration-200 cursor-pointer`,children:[h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:y(),alt:m.username,className:`w-10 h-10 rounded-full border border-slate-600 \r
                     group-hover:border-violet-400 transition-colors object-cover`}),h.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 rounded-full \r
                       border border-slate-800`})]}),h.jsxs("div",{className:"ml-3 md:hidden",children:[h.jsx("p",{className:"text-white font-medium text-sm",children:m.username}),d.isVip&&h.jsxs("p",{className:"text-yellow-400 text-xs flex items-center",children:[h.jsx(Es,{className:"w-3 h-3 mr-1"}),"VIP"]})]})]})})})]}),h.jsx("style",{jsx:!0,children:`
  @keyframes slideInLeft {
    from {
      opacity: 0;
      transform: translateX(-30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  .mask-gradient {
    mask: linear-gradient(180deg, transparent, black 10px, black calc(100% - 10px), transparent);
  }
`}),h.jsx("button",{className:`
          fixed bottom-6 left-6 z-50 w-14 h-14 
          bg-gradient-to-r from-violet-600 to-purple-600 rounded-full 
          shadow-lg shadow-violet-500/40 flex items-center justify-center 
          hover:shadow-xl hover:shadow-violet-500/60 transition-all duration-300 
          transform hover:scale-110 active:scale-95 md:hidden
          border border-violet-400/30 hover:border-violet-300
          ${t?"rotate-180":"rotate-0"}
        `,onClick:()=>s(!t),children:t?h.jsx(tf,{className:"text-white text-xl"}):h.jsx(i3,{className:"text-white text-xl"})}),h.jsxs("div",{className:"min-h-screen overflow-y-auto",children:[h.jsxs("div",{className:"px-6 py-8 md:ml-32",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-violet-400 to-purple-400 bg-clip-text text-transparent",children:[o,", ",m.username,"! 👋"]}),h.jsxs("p",{className:"text-slate-300 mt-2 flex items-center gap-2",children:[h.jsx(jf,{className:"text-violet-400"}),"Ready to boost your productivity today?"]})]}),h.jsx("div",{className:"hidden md:block",children:h.jsxs("div",{className:"flex items-center gap-4 bg-slate-800/60 backdrop-blur-sm rounded-xl px-4 py-2 border border-violet-500/30 shadow-lg",children:[h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-sm text-violet-300",children:"Total Coins"}),h.jsx("p",{className:"text-xl font-bold text-yellow-400",children:(d.totalCoinsEarned||0).toLocaleString()})]}),h.jsx("div",{className:"w-12 h-12 text-4xl bg-gradient-to-r from-yellow-300 to-orange-300 rounded-full flex items-center justify-center shadow-md",children:"💰"})]})})]}),h.jsxs("div",{className:"md:hidden mt-4 grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-xl px-4 py-3 border border-violet-500/30",children:[h.jsx("p",{className:"text-xs text-violet-300",children:"Total Coins"}),h.jsx("p",{className:"text-lg font-bold text-yellow-400",children:(d.totalCoinsEarned||0).toLocaleString()})]}),h.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-xl px-4 py-3 border border-violet-500/30",children:[h.jsx("p",{className:"text-xs text-violet-300",children:"Level"}),h.jsx("p",{className:"text-lg font-bold text-blue-400",children:d.level||1})]})]})]}),h.jsxs("main",{className:"px-6 pb-8 md:ml-32 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[h.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 relative overflow-hidden min-h-[350px]",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),h.jsx("div",{className:"relative z-10",children:h.jsx(VI,{})})]}),h.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 min-h-[350px] relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-cyan-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),h.jsx("div",{className:"relative z-10 h-full",children:h.jsx(NI,{})})]})]}),h.jsxs("div",{className:"flex flex-col gap-6",children:[h.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 h-[350px] relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-600/5 to-orange-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),h.jsx("div",{className:"relative z-10 h-full",children:h.jsx(kI,{})})]}),h.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 h-[365px] relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600/5 to-red-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),h.jsx("div",{className:"relative z-10 h-full",children:h.jsx(u7,{})})]}),h.jsxs("div",{className:"group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 hover:bg-slate-800/80 h-[450px] relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),h.jsxs("div",{className:"relative z-10 h-full",children:[h.jsxs("h2",{className:"text-xl font-bold text-violet-300 mb-4 flex items-center gap-3",children:[h.jsx(eu,{className:"text-purple-400"}),"Badge Quests",h.jsx("div",{className:"px-2 py-1 bg-purple-500/20 border border-purple-500/30 rounded-full text-xs text-purple-400 font-semibold",children:"EARN"})]}),h.jsx(zI,{})]})]})]})]})]})]})}const lw=[{id:1,title:"The Complete Guide to Cryptocurrency: Everything You Need to Know in 2025",date:"August 2025",author:"Editorial Team",category:"Crypto & Blockchain Fundamentals",image:"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&h=400&fit=crop",excerpt:"A comprehensive guide covering everything about cryptocurrency in 2025: fundamentals, wallets, security, investing, and the future of digital assets.",content:`
Blog Post 1: The Complete Guide to Cryptocurrency: Everything You Need to Know in 2025
Introduction: Welcome to the Future of Digital Finance
Cryptocurrency has evolved from a niche digital experiment to a mainstream financial phenomenon that's reshaping how we think about money, investments, and economic systems. In 2025, the cryptocurrency market has matured significantly, offering both unprecedented opportunities and complex challenges for newcomers and experienced investors alike.

With over 10,000 different cryptocurrencies in circulation and a total market capitalization exceeding $2.5 trillion, understanding this digital asset ecosystem has become essential for anyone serious about modern finance. Whether you're looking to diversify your investment portfolio, explore new technologies, or participate in the decentralized finance revolution, this comprehensive guide provides everything you need to navigate the cryptocurrency landscape safely and effectively.

From the fundamental concepts of blockchain technology to advanced trading strategies and security practices, we'll explore every aspect of cryptocurrency that matters in today's digital economy. By the end of this guide, you'll have the knowledge and confidence to make informed decisions about cryptocurrency investments and participation in this revolutionary financial ecosystem.

Chapter 1: Understanding Cryptocurrency Fundamentals
What is Cryptocurrency?
Cryptocurrency represents a revolutionary form of digital or virtual currency that uses cryptographic techniques to secure transactions and control the creation of new units. Unlike traditional fiat currencies issued by central banks, cryptocurrencies operate on decentralized networks, typically built on blockchain technology that ensures transparency, security, and independence from government control.

The term "cryptocurrency" combines "cryptography" and "currency," highlighting the mathematical encryption methods that secure these digital assets. Each cryptocurrency transaction is verified by network participants and recorded on a public ledger called a blockchain, creating an immutable record that prevents fraud and double-spending.

Key characteristics that distinguish cryptocurrency from traditional money include decentralization (no central authority controls the currency), transparency (all transactions are publicly recorded), immutability (transactions cannot be reversed or altered), and global accessibility (anyone with internet access can participate).

The Blockchain Revolution
Blockchain technology serves as the foundation for most cryptocurrencies, functioning as a distributed ledger that maintains a continuously growing list of transaction records, called blocks, linked and secured using cryptography. This revolutionary technology eliminates the need for intermediaries like banks or payment processors.

Each block contains a cryptographic hash of the previous block, a timestamp, and transaction data. Once recorded, the data in any given block cannot be altered retroactively without altering all subsequent blocks, making blockchain incredibly secure and resistant to fraud.

The decentralized nature of blockchain means that no single entity controls the network. Instead, thousands of computers (nodes) around the world maintain copies of the ledger, making it virtually impossible to manipulate or destroy. This distributed consensus mechanism ensures trust without requiring a trusted third party.

Major Cryptocurrency Categories
Store of Value Cryptocurrencies: Bitcoin leads this category, designed to function as "digital gold" – a scarce, durable asset that maintains value over time. With a fixed supply of 21 million coins, Bitcoin offers protection against inflation and currency debasement.

Smart Contract Platforms: Ethereum pioneered programmable blockchain technology, enabling developers to create decentralized applications (DApps) and smart contracts that automatically execute when predetermined conditions are met. These platforms host entire ecosystems of financial services, games, and business applications.

Stablecoins: These cryptocurrencies maintain stable value by pegging to external references like fiat currencies or commodities. USDT (Tether) and USDC (USD Coin) provide stability while retaining the benefits of cryptocurrency technology, serving as bridges between traditional finance and the crypto ecosystem.

Utility Tokens: Many cryptocurrencies serve specific functions within their respective ecosystems. BNB (Binance Coin) offers trading fee discounts on the Binance exchange, while LINK (Chainlink) facilitates data transfer between blockchains and external data sources.

Chapter 2: Getting Started with Cryptocurrency
Choosing the Right Cryptocurrency Exchange
Selecting a reputable cryptocurrency exchange is your first crucial step into the crypto world. Consider factors like security reputation (look for exchanges with strong track records and regulatory compliance), available cryptocurrencies (ensure they offer the coins you want to trade), trading fees (compare maker/taker fees across platforms), and user interface (choose platforms that match your experience level).

Major exchanges like Coinbase, Binance, and Kraken offer different advantages. Coinbase provides exceptional user-friendliness for beginners with educational resources and simple purchasing options. Binance offers the largest selection of cryptocurrencies and advanced trading features for experienced users. Kraken balances security with comprehensive features, making it suitable for intermediate traders.

Always verify exchange regulatory compliance in your jurisdiction. Many regions now require cryptocurrency exchanges to obtain proper licenses and follow strict security protocols. Regulated exchanges typically offer better consumer protections and insurance coverage for digital assets.

Setting Up Your Digital Wallet
Cryptocurrency wallets store your digital assets and enable transactions on blockchain networks. Understanding wallet types is essential for security and functionality.

Hot Wallets (software wallets) connect to the internet, offering convenience for frequent trading and transactions. Mobile apps like Trust Wallet or MetaMask provide easy access to your cryptocurrencies and DeFi applications. However, internet connectivity creates potential security vulnerabilities.

Cold Wallets (hardware wallets) store cryptocurrency keys offline, providing maximum security against hacking attempts. Devices like Ledger Nano S or Trezor require physical access to authorize transactions, making them ideal for long-term storage of significant amounts.

Paper Wallets represent the ultimate cold storage solution – your private keys printed or written on physical paper. While completely secure from digital attacks, paper wallets require careful handling to prevent loss or damage.

Making Your First Cryptocurrency Purchase
Start small with your initial cryptocurrency investment to learn the process and understand market dynamics before committing significant funds. Most beginners should begin with major cryptocurrencies like Bitcoin or Ethereum, which offer stability and widespread acceptance.

The purchasing process typically involves account verification (providing identification documents to comply with know-your-customer requirements), funding your account (linking bank accounts or credit cards), placing orders (choosing between market orders for immediate purchase or limit orders for specific prices), and securing your assets (transferring purchased cryptocurrency to your personal wallet).

Dollar-cost averaging represents an excellent strategy for beginners – investing fixed amounts regularly regardless of price fluctuations. This approach reduces the impact of market volatility and helps build positions over time without trying to time the market perfectly.

Chapter 3: Advanced Cryptocurrency Concepts
Understanding Market Dynamics and Analysis
Cryptocurrency markets operate 24/7 with extreme volatility creating both opportunities and risks. Successful participants understand both technical analysis (studying price charts and patterns to predict future movements) and fundamental analysis (evaluating project value, team competency, and market adoption potential).

Key technical indicators include moving averages (showing price trends over time), relative strength index (measuring overbought/oversold conditions), and volume analysis (confirming price movements with trading activity). However, cryptocurrency markets often behave differently from traditional markets due to lower liquidity and higher emotional trading.

Fundamental analysis in cryptocurrency involves evaluating project whitepapers, development activity, partnership announcements, regulatory developments, and adoption metrics. Strong projects typically have clear use cases, active development teams, growing user bases, and real-world applications driving demand.

DeFi and the New Financial Ecosystem
Decentralized Finance (DeFi) represents one of cryptocurrency's most revolutionary applications, recreating traditional financial services without intermediaries. DeFi protocols enable lending, borrowing, trading, and earning interest on cryptocurrency holdings through smart contracts.

Popular DeFi activities include yield farming (providing liquidity to earn token rewards), staking (locking tokens to support network security and earn rewards), and liquidity mining (earning governance tokens for participating in decentralized exchanges).

While DeFi offers unprecedented financial freedom and earning opportunities, it also carries significant risks including smart contract vulnerabilities, impermanent loss, and regulatory uncertainty. Participants must carefully research protocols and understand the risks before committing funds.

Security Best Practices and Risk Management
Cryptocurrency security requires constant vigilance and multiple layers of protection. Never share private keys or seed phrases with anyone, use strong, unique passwords for all accounts, enable two-factor authentication wherever possible, and keep software updated with the latest security patches.

Common scams to avoid include phishing attacks (fake websites stealing login credentials), Ponzi schemes (promising unrealistic returns), fake giveaways (social media scams impersonating celebrities), and rug pulls (developers abandoning projects after raising funds).

Diversification remains crucial in cryptocurrency investing. Never invest more than you can afford to lose, spread investments across multiple projects and asset classes, and maintain emergency funds in traditional savings accounts. The cryptocurrency market's volatility means prices can drop 50% or more in short periods.

Conclusion: Your Cryptocurrency Journey Begins
Cryptocurrency represents more than just digital money – it's a technological revolution that's creating new economic possibilities and challenging traditional financial systems. As we move through 2025, cryptocurrency adoption continues accelerating among individuals, businesses, and even governments worldwide.

Success in cryptocurrency requires continuous learning, careful risk management, and patience to weather market volatility. Start with small investments, focus on understanding the technology and market dynamics, prioritize security above all else, and never invest based on fear of missing out or social media hype.

The cryptocurrency ecosystem evolves rapidly with new innovations, regulations, and opportunities emerging regularly. Stay informed through reputable sources, join cryptocurrency communities to learn from experienced participants, and always conduct thorough research before making investment decisions.

Remember that cryptocurrency investing involves significant risks, and past performance doesn't guarantee future results. However, for those willing to learn and participate responsibly, cryptocurrency offers unprecedented opportunities to be part of the future of finance.

Ready to start your cryptocurrency journey? Begin by choosing a reputable exchange, setting up a secure wallet, and making your first small purchase of a major cryptocurrency like Bitcoin or Ethereum. The world of digital assets awaits – approach it with knowledge, caution, and excitement for the possibilities ahead.

Disclaimer: This content is for educational purposes only and does not constitute financial advice. Cryptocurrency investments carry substantial risk, and you should consult with qualified financial professionals before making investment decisions.


`},{id:2,title:"DApps Revolution: How Decentralized Applications Are Changing the Digital World",date:"August 2025",author:"Editorial Team",category:"Crypto & Blockchain Fundamentals",image:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&h=400&fit=crop",excerpt:"Explore the impact and future of DApps, smart contract platforms, and user-owned networks transforming industries with blockchain.",content:`
Blog Post 2: DApps Revolution: How Decentralized Applications Are Changing the Digital World
Introduction: The Dawn of Decentralized Digital Applications
Decentralized applications, commonly known as DApps, represent one of the most transformative innovations in the digital technology landscape. Unlike traditional applications that rely on centralized servers and corporate control, DApps operate on blockchain networks, offering users unprecedented ownership, transparency, and freedom from censorship.

In 2025, the DApp ecosystem has matured significantly, with over 10,000 active decentralized applications spanning finance, gaming, social media, and productivity tools. These applications have collectively processed over $200 billion in transaction volume, demonstrating real-world utility and user adoption that extends far beyond speculative trading.

The DApp revolution challenges fundamental assumptions about how digital applications should operate, who should control user data, and how value should be distributed among stakeholders. From decentralized finance protocols that eliminate traditional banking intermediaries to gaming platforms where players truly own their digital assets, DApps are creating new economic models and user experiences.

Understanding DApps is crucial for anyone interested in the future of technology, digital ownership, and the evolution toward a more open internet. This comprehensive guide explores what makes DApps revolutionary, their current applications, and how they're reshaping industries across the digital economy.

Chapter 1: Understanding Decentralized Applications
What Are DApps and How Do They Differ?
Decentralized applications are software programs that run on distributed networks, typically blockchain platforms, rather than centralized servers controlled by single entities. This fundamental architectural difference creates applications that are censorship-resistant, transparent, and user-owned in ways that traditional applications cannot achieve.

The core distinction lies in governance and control. Traditional applications like Facebook, Uber, or Netflix are controlled by their respective companies, which can change rules, access user data, or shut down services at will. DApps, conversely, operate according to immutable smart contracts deployed on blockchain networks, creating predictable, unchangeable rules that even the original developers cannot arbitrarily modify.

Data ownership represents another crucial difference. Traditional apps store user data on company servers, giving corporations complete control over personal information and digital assets. DApps enable users to maintain control of their data through cryptographic keys, ensuring that personal information and digital assets remain under individual ownership.

Economic models in DApps often benefit users directly through token incentives, governance participation, and value sharing mechanisms. Instead of extracting value for shareholders, many DApps distribute economic benefits to users who contribute to network growth and maintenance.

Blockchain Infrastructure and Smart Contract Functionality
DApps rely on blockchain infrastructure to provide immutable backend logic through smart contracts – self-executing programs that automatically enforce predetermined rules without requiring trusted intermediaries. These smart contracts serve as the application's backend, handling everything from user authentication to complex financial transactions.

Ethereum dominates the DApp ecosystem, hosting over 3,000 active applications due to its robust smart contract capabilities and extensive developer tools. However, alternative blockchains like Solana, Polygon, and Binance Smart Chain have gained significant traction by offering faster transaction speeds and lower costs for DApp operation.

Interoperability between different blockchain networks enables DApps to leverage multiple platforms simultaneously. Cross-chain bridges and protocols allow applications to access liquidity, users, and functionality from various blockchain ecosystems, creating more robust and feature-rich applications.

Scalability solutions including Layer 2 networks and sharding help DApps handle increasing user demand while maintaining decentralization benefits. These technical improvements address early limitations around transaction speed and cost that previously hindered mainstream DApp adoption.

Benefits: Censorship Resistance, User Ownership, and Transparency
Censorship resistance ensures that DApps remain accessible even when governments or corporations attempt to restrict access. Since DApps operate on distributed networks with thousands of nodes worldwide, shutting down a decentralized application requires coordinated action across multiple jurisdictions, making censorship extremely difficult.

User ownership extends beyond data control to include genuine ownership of digital assets, accounts, and even portions of the applications themselves. Users can own NFTs representing game items, governance tokens providing voting rights, or liquidity provider tokens generating passive income from DeFi protocols.

Transparency means all application logic, transactions, and governance decisions are publicly auditable on the blockchain. Users can verify exactly how applications operate, ensuring that advertised features match actual functionality and that no hidden backdoors or unfair advantages exist.

Permissionless innovation allows developers worldwide to build upon existing DApps without requiring approval from gatekeepers. This composability creates rapid innovation cycles where new applications can integrate existing protocols, leading to feature-rich platforms that would take years to develop from scratch.

Chapter 2: DApp Categories and Use Cases
DeFi Applications: Lending, Borrowing, and Trading Platforms
Decentralized Finance (DeFi) represents the largest and most mature DApp category, with over $80 billion in total value locked across various protocols. DeFi applications recreate traditional financial services without requiring banks, brokers, or other intermediaries, offering global access and often superior terms.

Lending protocols like Aave and Compound enable users to lend cryptocurrency assets to earn interest or borrow against collateral without credit checks or geographical restrictions. These protocols use algorithmic interest rate models that automatically adjust rates based on supply and demand, often providing better returns than traditional savings accounts.

Decentralized exchanges (DEXs) such as Uniswap and SushiSwap facilitate cryptocurrency trading through automated market maker mechanisms, eliminating the need for centralized exchanges that can freeze accounts or require extensive verification procedures. DEXs provide 24/7 trading access and often offer better privacy than centralized alternatives.

Yield farming platforms enable users to earn token rewards by providing liquidity to various DeFi protocols. These applications gamify liquidity provision, creating economic incentives that bootstrap new protocols while offering users earning opportunities that traditional finance cannot match.

Gaming DApps: Play-to-Earn and NFT Integration
Play-to-earn gaming has emerged as one of the most compelling DApp use cases, enabling players to earn real economic value through gameplay. Games like Axie Infinity and The Sandbox have created virtual economies where players own tradeable assets and can generate sustainable income through skilled gameplay and asset management.

NFT integration allows players to truly own in-game assets that can be traded, sold, or used across multiple games. This ownership model contrasts sharply with traditional gaming where players lose all progress and assets when they stop playing or when game servers shut down.

Virtual worlds and metaverse platforms built as DApps enable users to own virtual land, create experiences, and monetize their creativity directly. These platforms provide tools for user-generated content while ensuring creators retain ownership and control over their digital creations.

Gaming guilds and scholarships have emerged as new economic models where experienced players lend game assets to newcomers, sharing earned rewards. This system provides accessibility for players who cannot afford initial game investments while creating passive income for asset owners.

Social Media DApps: Content Creation and Monetization
Decentralized social media platforms like Lens Protocol and Mirror offer content creators direct monetization opportunities without platform intermediaries taking significant revenue shares. Creators can build direct relationships with audiences and maintain ownership of their follower networks.

Content monetization mechanisms include token rewards for popular content, subscription models using cryptocurrency, and NFT sales for exclusive content. These systems enable creators to diversify income streams while reducing dependence on advertising-based models that compromise user privacy.

Community governance allows users to participate in platform decision-making through token-based voting systems. This democratic approach ensures that platform evolution serves user interests rather than maximizing corporate profits at user expense.

Data sovereignty means users control their social media profiles, posts, and connections through blockchain-based identity systems. Users can move between different social media interfaces while maintaining their social graph and content history.

Chapter 3: Technical Requirements and User Experience
Wallet Integration and Blockchain Interaction
Cryptocurrency wallets serve as the primary interface between users and DApps, handling authentication, transaction signing, and asset management. Popular wallets like MetaMask, Trust Wallet, and Coinbase Wallet have streamlined the user experience while maintaining security through local key storage.

Web3 authentication replaces traditional username/password systems with cryptographic signatures, providing stronger security while eliminating the need for password management. Users sign messages with their private keys to prove identity without revealing sensitive information.

Transaction approvals require users to explicitly authorize each blockchain interaction, providing transparency about costs and actions but creating additional friction compared to traditional applications. Wallet improvements and transaction batching help reduce this friction while maintaining security.

Multi-chain compatibility enables DApps to operate across different blockchain networks, allowing users to choose optimal networks based on transaction costs, speed, and security requirements. Cross-chain infrastructure continues improving to provide seamless user experiences across multiple blockchains.

Gas Fees and Transaction Costs
Gas fees represent the cost of executing transactions and smart contract interactions on blockchain networks. These fees fluctuate based on network congestion and can significantly impact user experience, particularly for frequent or small-value transactions.

Layer 2 solutions like Polygon, Arbitrum, and Optimism provide significant cost reductions while maintaining security through their connection to main blockchain networks. Many DApps have migrated to or added support for these scaling solutions to improve user accessibility.

Fee optimization strategies help users minimize transaction costs through techniques like transaction batching, off-peak timing, and choosing appropriate gas price settings. DApps increasingly implement these optimizations automatically to improve user experience.

Alternative consensus mechanisms like Proof-of-Stake networks often provide lower transaction costs than Proof-of-Work networks, making DApps more accessible to users in regions with lower purchasing power.

User Experience Challenges and Solutions
Complexity barriers remain significant for mainstream users unfamiliar with cryptocurrency concepts. DApps increasingly implement progressive disclosure interfaces that hide technical complexity while gradually educating users about blockchain benefits.

Mobile accessibility has improved dramatically with native mobile DApp browsers and wallet integrations. Mobile-first DApp design ensures accessibility for users in emerging markets where smartphones are the primary internet access method.

Error handling and recovery mechanisms help users understand and resolve failed transactions, insufficient balances, or network congestion issues. Better error messages and recovery options reduce user frustration and support broader adoption.

Onboarding improvements include fiat on-ramps, gasless transactions for new users, and guided tutorials that explain DApp functionality without overwhelming technical details. These improvements lower barriers to entry for users transitioning from traditional applications.

Conclusion: The Future of Decentralized Applications
The DApp revolution represents more than technological innovation – it embodies a fundamental shift toward user empowerment, digital ownership, and economic sovereignty. As blockchain infrastructure continues improving and user experience barriers diminish, DApps are positioned to challenge and potentially replace many traditional applications across multiple industries.

The financial incentives inherent in many DApps create powerful network effects that accelerate adoption and development. Users become stakeholders with economic interests in application success, creating more engaged communities and sustainable growth models than traditional venture capital-funded applications.

However, challenges remain around scalability, user experience, and regulatory uncertainty. The most successful DApps will be those that balance decentralization benefits with practical usability, ensuring that technical sophistication doesn't compromise accessibility for mainstream users.

The next phase of DApp evolution will likely focus on seamless user experiences that abstract away blockchain complexity while preserving the benefits of decentralization. As this technology matures, we can expect DApps to become the standard for applications that prioritize user ownership, transparency, and community governance.

Ready to explore the DApp ecosystem? Start by setting up a Web3 wallet, exploring DeFi protocols with small amounts, and participating in decentralized communities to experience firsthand how these applications are reshaping digital interactions.

Disclaimer: DApps and blockchain technology involve technical and financial risks. Smart contracts may contain bugs, and cryptocurrency transactions are irreversible. Always research applications thoroughly and start with small amounts when exploring new DApps.


`},{id:3,title:"Crypto Mining Industry: Opportunities, Technologies, and Environmental Impact",date:"August 2025",author:"Editorial Team",category:"Crypto & Blockchain Fundamentals",image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=800&h=400&fit=crop",excerpt:"A deep dive into the crypto mining world: tech, profitability, sustainability, and new opportunities in 2025.",content:`
Blog Post 3: Crypto Mining Industry: Opportunities, Technologies, and Environmental Impact

Meta Description: Explore the crypto mining industry in 2025. Learn about mining technologies, profitability factors, environmental sustainability, and investment opportunities in cryptocurrency mining.

Category: Crypto & Blockchain Fundamentals | Word Count: 1,200 words | Keywords: crypto mining, mining profitability, sustainable mining, ASIC miners, renewable energy

Introduction: The Evolution of Cryptocurrency Mining
The cryptocurrency mining industry has undergone dramatic transformation since Bitcoin's early days when individuals could mine coins using personal computers. In 2025, crypto mining represents a sophisticated, industrial-scale operation involving cutting-edge technology, massive energy infrastructure, and complex economic calculations that determine profitability across global markets.

With the total crypto mining market exceeding $2.5 billion annually and supporting network security for thousands of blockchain projects, mining has evolved from a hobbyist activity into a critical infrastructure industry. This transformation brings both unprecedented opportunities for investors and operators, as well as significant responsibilities regarding energy consumption and environmental sustainability.

Modern mining operations range from small-scale home setups earning supplemental income to massive industrial facilities consuming as much electricity as small cities. The industry's maturation has created diverse participation opportunities, from direct hardware ownership to cloud mining services and mining company investments.

Understanding the mining landscape is essential for anyone considering participation in this sector or seeking to comprehend how blockchain networks maintain security and process transactions. This comprehensive analysis explores current mining technologies, economic factors driving profitability, environmental considerations, and emerging opportunities in the evolving crypto mining ecosystem.

Chapter 1: Mining Technologies and Methods
Proof of Work vs Proof of Stake Mechanisms
Proof of Work (PoW) mining requires computational power to solve cryptographic puzzles, with miners competing to find solutions that validate new blocks and earn rewards. Bitcoin, Litecoin, and many other cryptocurrencies rely on PoW consensus, creating continuous demand for mining hardware and electricity.

The PoW process involves hash rate competition where miners with more computational power have higher chances of finding valid blocks and earning rewards. This competitive dynamic drives technological advancement and infrastructure investment while ensuring network security through the economic cost of potential attacks.

Proof of Stake (PoS) represents an alternative consensus mechanism that requires validators to lock up cryptocurrency holdings rather than expend computational energy. Ethereum's transition to PoS in 2022 eliminated traditional mining while maintaining network security through economic incentives tied to staked assets.

Hybrid models combine elements of both consensus mechanisms, allowing miners to participate in network security while reducing overall energy consumption. These systems attempt to balance the proven security of PoW with the energy efficiency of PoS mechanisms.

ASIC Mining Hardware and Efficiency Improvements
Application-Specific Integrated Circuits (ASICs) dominate Bitcoin mining due to their superior efficiency compared to general-purpose hardware. Modern ASICs like the Antminer S19 XP achieve hash rates exceeding 140 TH/s while consuming approximately 3,000 watts, representing significant efficiency improvements over earlier generations.

Hardware evolution continues advancing with each generation providing 10-30% efficiency improvements. These gains come from smaller chip manufacturing processes, better heat management, and optimized circuit designs that maximize hash rate per watt consumed.

Manufacturer competition between companies like Bitmain, MicroBT, and Canaan drives rapid innovation and price competition. Supply chain disruptions and semiconductor shortages have created volatility in hardware availability and pricing, impacting mining profitability calculations.

Liquid cooling systems and immersion cooling technologies enable ASICs to operate at higher performance levels while reducing noise and extending hardware lifespan. These cooling innovations allow higher-density mining operations in controlled environments.

GPU Mining for Alternative Cryptocurrencies
Graphics Processing Units (GPUs) remain viable for mining alternative cryptocurrencies that use memory-intensive algorithms resistant to ASIC optimization. Ethereum Classic, Ravencoin, and various other altcoins provide GPU mining opportunities for individuals and small operations.

Mining algorithm diversity creates opportunities for different hardware types, with some cryptocurrencies specifically designed to remain ASIC-resistant to preserve decentralization and accessibility for smaller miners. These algorithms often require substantial memory or frequent algorithm changes.

Gaming GPU repurposing allows individuals to mine cryptocurrencies using existing gaming hardware during idle periods. While less efficient than dedicated mining hardware, this approach provides entry-level mining experience without significant additional investment.

Mining profitability calculators help GPU miners identify the most profitable cryptocurrencies to mine based on current hardware capabilities, electricity costs, and market prices. Profit-switching mining pools automatically direct hash power to the most profitable options.

Cloud Mining and Mining Pool Participation
Cloud mining services enable individuals to purchase mining capacity from large-scale operations without managing hardware, electricity, or maintenance directly. Reputable providers offer transparent pricing and regular payouts, though returns often exceed what individuals could achieve independently.

Mining pools combine computational power from multiple miners to increase chances of finding blocks and earning consistent rewards. Pool participants receive payouts proportional to their contributed hash rate, reducing the variance associated with solo mining.

Pool selection criteria include fee structures, payout methods, geographic distribution, and pool size. Larger pools provide more consistent payouts but may contribute to mining centralization, while smaller pools offer higher payout variance but support network decentralization.

Smart contracts and decentralized pools are emerging to provide trustless mining pool operations where payouts are automatically distributed according to predetermined rules without requiring trust in pool operators.

Chapter 2: Economic Analysis and Profitability
Mining Profitability Calculations and Factors
Revenue calculation depends on hash rate, network difficulty, block rewards, and cryptocurrency prices. Miners must continuously monitor these variables as they fluctuate based on market conditions and network participation levels.

Cost structure analysis includes hardware acquisition, electricity consumption, cooling, maintenance, and facility costs. Electricity typically represents 60-80% of ongoing operational expenses, making energy costs the primary factor in mining location decisions.

Break-even analysis helps miners determine when their operations will recover initial hardware investments. In volatile cryptocurrency markets, break-even periods can range from 6 months to over 2 years depending on market conditions and operational efficiency.

Difficulty adjustments automatically modify mining competition levels based on network hash rate, directly impacting individual miner profitability. Understanding difficulty cycles helps miners optimize operations and plan hardware deployment timing.

Electricity Costs and Geographic Advantages
Regional electricity pricing varies dramatically worldwide, with some locations offering rates below $0.03 per kWh while others exceed $0.20 per kWh. This variation creates significant competitive advantages for miners in regions with cheap, abundant electricity.

Renewable energy access provides both cost advantages and environmental benefits. Hydroelectric, solar, and wind power installations often generate electricity at costs below traditional grid pricing while supporting sustainability goals.

Industrial electricity contracts negotiate better rates for high-volume consumption, with some mining operations securing rates 30-50% below residential pricing through direct agreements with power producers or by locating near generation facilities.

Geographic arbitrage opportunities exist where miners can relocate operations to regions with favorable electricity costs, regulatory environments, and climate conditions that reduce cooling requirements.

Hardware Investment and ROI Considerations
Capital expenditure planning requires careful consideration of hardware costs, expected lifespan, and technological obsolescence rates. Mining hardware typically depreciates rapidly as newer, more efficient models enter the market.

Financing options include equipment leasing, revenue sharing agreements, and traditional loans secured by mining hardware. These alternatives allow miners to expand operations without large upfront capital investments.

Hardware resale values provide partial recovery of initial investments when upgrading to newer equipment. Secondary markets for used mining hardware serve smaller operations and hobbyist miners seeking lower-cost entry points.

Operational scaling strategies balance growth opportunities with risk management, as rapid expansion can strain cash flow while conservative approaches may miss profitable opportunities during favorable market conditions.

Mining as Business vs Hobby Activity
Business-scale operations require comprehensive planning including legal entity formation, tax strategy, insurance coverage, and regulatory compliance. Professional mining operations often achieve better economies of scale and operational efficiency.

Hobby mining provides learning opportunities and supplemental income without the complexity of business operations. Home miners often focus on education and experimentation rather than maximizing profitability.

Tax implications differ significantly between business and hobby classification, affecting deduction eligibility, depreciation schedules, and loss treatment. Professional tax advice becomes essential for significant mining operations.

Scalability considerations help determine whether mining should remain a hobby or transition to business operations based on profitability, available capital, and personal goals.

Chapter 3: Environmental Impact and Sustainability
Energy Consumption Analysis and Concerns
Network energy usage for Bitcoin mining is estimated between 100-150 TWh annually, comparable to countries like Argentina or the Netherlands. This substantial energy consumption has generated significant environmental concerns and regulatory scrutiny worldwide.

Energy intensity per transaction calculations often misrepresent mining energy usage by attributing total network consumption to transaction processing rather than security provision. Bitcoin's energy usage secures the entire network regardless of transaction volume.

Comparative analysis with traditional financial systems reveals that Bitcoin mining may consume less energy than global banking infrastructure when accounting for bank branches, data centers, ATMs, and payment processing systems.

Efficiency improvements in mining hardware and operations continue reducing energy consumption per unit of security provided. Next-generation ASICs and optimization techniques help maintain network security with lower environmental impact.

Renewable Energy Adoption in Mining Operations
Renewable energy integration has accelerated as miners seek cost advantages and environmental sustainability. Large-scale mining operations increasingly co-locate with solar, wind, and hydroelectric installations to access clean, cheap electricity.

Grid balancing services allow mining operations to provide valuable grid stabilization by modulating electricity consumption based on supply and demand fluctuations. This flexibility helps integrate intermittent renewable sources into electrical grids.

Stranded energy utilization enables mining operations to monetize otherwise wasted energy from remote renewable installations or flared natural gas, creating economic value from energy that would otherwise be lost.

Sustainability reporting and third-party verification help mining companies demonstrate environmental responsibility to investors and stakeholders concerned about climate impact.

Green Mining Practices and Certifications
Sustainable mining councils and industry organizations develop standards and certification programs for environmentally responsible mining operations. These frameworks help investors identify and support sustainable mining companies.

Carbon offset programs allow mining operations to compensate for emissions through verified environmental projects. While controversial among some environmentalists, offsets provide transitional solutions while renewable energy infrastructure develops.

Heat recovery systems capture waste heat from mining operations for beneficial uses like building heating, greenhouse operations, or industrial processes. These systems improve overall energy efficiency and reduce environmental impact.

Lifecycle assessment approaches evaluate total environmental impact including hardware manufacturing, transportation, operation, and disposal. Comprehensive assessments help identify optimization opportunities across the entire mining value chain.

Regulatory Landscape and Future Outlook
Environmental regulations increasingly target high-energy cryptocurrency mining operations, with some jurisdictions implementing restrictions or additional oversight requirements. Miners must stay informed about evolving regulatory landscapes.

Carbon taxation proposals could significantly impact mining profitability in regions that implement carbon pricing mechanisms. Operations using renewable energy would gain competitive advantages under carbon pricing systems.

International cooperation on mining standards and environmental practices helps establish industry best practices while addressing concerns about regulatory arbitrage where operations move to less regulated jurisdictions.

Technology roadmaps for more efficient mining hardware and renewable energy infrastructure provide pathways for continued industry growth while addressing environmental concerns.

Conclusion: The Future of Sustainable Cryptocurrency Mining
The cryptocurrency mining industry stands at a critical juncture where technological advancement, economic opportunity, and environmental responsibility must align for long-term sustainability. As blockchain networks continue securing trillions of dollars in digital assets, mining operations are evolving to meet both profitability and sustainability goals.

Technological innovations in hardware efficiency, renewable energy integration, and operational optimization are reducing the environmental impact per unit of network security. These improvements demonstrate that cryptocurrency mining can evolve toward greater sustainability without compromising the security benefits that make blockchain networks valuable.

The industry's future likely includes increased regulatory scrutiny, mandatory sustainability reporting, and incentives for renewable energy adoption. Mining operations that proactively address environmental concerns while maintaining profitability will be best positioned for long-term success.

Investment opportunities in the mining sector range from direct hardware ownership to mining company stocks and renewable energy infrastructure development. Each approach offers different risk profiles and return potential, allowing diverse participation in the industry's growth.

Consider your role in sustainable mining by researching renewable energy mining operations, evaluating environmental impact factors in investment decisions, and supporting initiatives that advance both blockchain security and environmental responsibility.

Disclaimer: Cryptocurrency mining involves significant financial and operational risks including hardware obsolescence, regulatory changes, and market volatility. Environmental and regulatory factors may impact mining profitability and legal compliance requirements.

`},{id:4,title:"Spot Trading Mastery: Strategies for Successful Cryptocurrency Trading",date:"August 2025",author:"Editorial Team",category:"Trading",image:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=800&h=400&fit=crop",excerpt:"Learn proven spot trading strategies, risk management, and technical analysis for success in today's crypto markets.",content:`
Blog Post 4: Spot Trading Mastery: Strategies for Successful Cryptocurrency Trading

Introduction: Mastering the Art of Cryptocurrency Spot Trading
Spot trading represents the most fundamental form of cryptocurrency trading, where traders buy and sell digital assets for immediate delivery at current market prices. Unlike derivatives or futures trading, spot trading involves actual ownership of cryptocurrencies, making it an ideal starting point for newcomers while offering sophisticated strategies for experienced traders.

In 2025, the cryptocurrency spot trading market processes over $50 billion in daily volume across hundreds of exchanges, providing unprecedented liquidity and opportunity for traders worldwide. This mature market offers various strategies ranging from scalping quick profits to long-term position building, each requiring different skills and risk tolerance levels.

Successful spot trading combines technical analysis, fundamental research, risk management, and psychological discipline. The most profitable traders develop systematic approaches that remove emotion from decision-making while adapting to rapidly changing market conditions. Whether you're seeking supplemental income or building a full-time trading career, understanding spot trading fundamentals is essential.

This comprehensive guide explores proven trading strategies, risk management techniques, and the tools necessary for consistent profitability in cryptocurrency markets. By mastering these concepts and developing disciplined execution, you can navigate market volatility and build long-term trading success.

Chapter 1: Technical Analysis for Crypto Trading
Chart Patterns and Trend Analysis
Trend identification forms the foundation of successful trading, with the principle "the trend is your friend" remaining crucial in cryptocurrency markets. Uptrends consist of higher highs and higher lows, indicating bullish sentiment, while downtrends show lower highs and lower lows, suggesting bearish conditions.

Chart patterns provide visual representations of market psychology and potential future price movements. Bull flags and pennants often indicate trend continuation after brief consolidations, while head and shoulders patterns frequently signal trend reversals. These patterns work especially well in cryptocurrency markets due to their emotional nature.

Trendlines connect significant highs or lows to identify support and resistance levels where price reactions commonly occur. Ascending trendlines connecting higher lows indicate upward momentum, while descending trendlines connecting lower highs suggest downward pressure. Breaking these trendlines often signals trend changes.

Moving averages smooth price action and help identify trend direction and strength. The 50-day and 200-day moving averages serve as dynamic support/resistance levels, with crossovers generating buy/sell signals. When price remains above ascending moving averages, the trend typically favors buyers.

Key Technical Indicators and Their Applications
Relative Strength Index (RSI) measures momentum and identifies overbought/oversold conditions. RSI readings above 70 suggest potential selling pressure, while readings below 30 indicate possible buying opportunities. Divergence between price and RSI often precedes trend reversals.

MACD (Moving Average Convergence Divergence) combines trend following and momentum indicators to generate trading signals. Bullish crossovers occur when the MACD line crosses above the signal line, while bearish crossovers happen when it crosses below. Histogram changes provide early warning of momentum shifts.

Bollinger Bands use standard deviations around a moving average to identify volatility and potential reversal points. Price touching the upper band suggests overbought conditions, while touching the lower band indicates oversold conditions. Band squeezes often precede significant price movements.

Volume analysis confirms price movements and identifies accumulation or distribution phases. Volume spikes during breakouts validate the movement's strength, while declining volume during rallies suggests weakness. On-balance volume helps identify whether smart money is buying or selling.

Support and Resistance Level Identification
Horizontal support and resistance occur at price levels where buying or selling pressure historically emerged. These levels often coincide with psychological round numbers (like $50,000 for Bitcoin) or previous swing highs and lows. Multiple touches of these levels increase their significance.

Fibonacci retracements help identify potential reversal levels based on mathematical relationships found in nature and markets. Key levels include 38.2%, 50%, and 61.8% retracements of significant moves. These levels often act as support during uptrends and resistance during downtrends.

Pivot points calculate support and resistance levels based on previous day's high, low, and closing prices. Floor trader pivots provide intraday levels, while Fibonacci pivots offer alternative calculations. These levels help day traders identify potential reversal points.

Dynamic support and resistance comes from moving averages and trendlines that adjust with price action. Exponential moving averages react faster to price changes than simple moving averages, providing more responsive support/resistance levels for short-term trading.

Volume Analysis and Market Sentiment
Volume precedes price in many market movements, making volume analysis crucial for confirming trends and identifying reversals. Accumulation occurs when volume increases during price advances, indicating strong buying interest. Distribution happens when volume rises during price declines, suggesting selling pressure.

Volume indicators like Chaikin Money Flow and Money Flow Index combine price and volume data to identify buying and selling pressure. Positive readings suggest accumulation, while negative readings indicate distribution. These indicators help confirm price movements.

Market sentiment indicators measure trader positioning and emotional extremes that often coincide with market turning points. Fear and Greed Index quantifies market emotions, with extreme fear often presenting buying opportunities and extreme greed suggesting caution.

Social sentiment analysis monitors cryptocurrency discussions on social media platforms to gauge retail investor sentiment. Positive sentiment spikes during rallies may indicate overheating, while negative sentiment during declines could signal capitulation and potential bottoms.

Chapter 2: Risk Management and Position Sizing
Portfolio Allocation Strategies
Risk capital allocation represents the most critical aspect of trading success, with the fundamental rule being never risk more than you can afford to lose completely. Professional traders typically risk 1-5% of their total capital per trade, ensuring that even a series of losses won't destroy their account.

Position sizing calculations use various methods to determine appropriate trade sizes based on account balance, risk tolerance, and trade setup quality. Fixed fractional method risks a fixed percentage per trade, while Kelly criterion optimizes position sizes based on win rate and average win/loss ratios.

Diversification across cryptocurrencies reduces correlation risk while maintaining exposure to the overall crypto market growth. Bitcoin and Ethereum provide relatively stable core positions, while altcoins offer higher risk/reward potential. Balancing these allocations helps optimize risk-adjusted returns.

Time diversification involves scaling into positions over time rather than entering full positions immediately. Dollar-cost averaging into trades can reduce impact of short-term volatility while building positions at favorable average prices.

Stop-Loss and Take-Profit Order Placement
Stop-loss orders automatically close positions when losses reach predetermined levels, preventing emotional decision-making during adverse price movements. Percentage-based stops use fixed percentages below entry prices, while technical stops place orders beyond key support/resistance levels.

Trailing stops adjust stop-loss levels as prices move favorably, locking in profits while allowing trades to run. Fixed dollar trailing stops maintain constant dollar distances, while percentage trailing stops adjust based on price percentages. This technique helps capture extended moves while protecting gains.

Take-profit strategies secure gains at predetermined levels based on technical analysis or risk/reward ratios. Partial profit-taking involves selling portions of positions at multiple levels, reducing risk while maintaining upside exposure. This approach balances profit realization with trend-following potential.

Risk-reward ratios help evaluate trade quality before entry by comparing potential gains to potential losses. Minimum 2:1 ratios ensure that winners can overcome losers even with 50% win rates. Higher ratios provide more buffer for trading mistakes and market uncertainty.

Diversification Across Different Cryptocurrencies
Correlation analysis helps identify cryptocurrencies that move independently, providing true diversification benefits. Bitcoin dominance affects altcoin performance, with low dominance periods often favoring altcoin trading strategies. Understanding these relationships improves portfolio construction.

Market cap diversification balances large-cap stability with small-cap growth potential. Large-cap cryptocurrencies like Bitcoin and Ethereum provide stability and liquidity, while mid-cap and small-cap alternatives offer higher growth potential with increased volatility.

Sector diversification within cryptocurrency markets includes DeFi tokens, layer-1 protocols, gaming tokens, and utility tokens. Different sectors perform well during different market phases, with rotation strategies capitalizing on changing investor preferences.

Geographic and regulatory diversification considers how different cryptocurrencies might be affected by regional regulations or adoption trends. Global perspective helps identify opportunities while avoiding concentration in potentially restricted jurisdictions.

Emotional Control and Trading Psychology
Emotional discipline separates successful traders from those who struggle with consistency. Fear prevents traders from taking valid setups, while greed causes them to hold losing positions or risk excessive capital. Developing rules-based approaches helps overcome these natural tendencies.

Trading journals track not just trades but emotions, market conditions, and decision-making processes. Post-trade analysis identifies patterns in successful and unsuccessful trades, helping improve future decision-making. Regular review of trading journals enhances self-awareness and performance.

Meditation and mindfulness practices help traders maintain emotional equilibrium during stressful market conditions. Pre-market routines that include meditation, exercise, or other centering activities prepare traders mentally for market challenges. These practices improve focus and decision-making quality.

Support systems including trading communities, mentors, or professional coaches provide accountability and guidance during difficult periods. Peer feedback helps identify blind spots and biases that individual traders might miss. Professional development investments often yield significant returns in trading performance.

Chapter 3: Trading Platforms and Tools
Exchange Selection Criteria and Features
Security reputation ranks as the top priority when selecting cryptocurrency exchanges, with traders needing confidence that their funds remain safe from hacking or internal fraud. Regulated exchanges in major jurisdictions typically offer better security and customer protection than unregulated alternatives.

Liquidity and volume directly impact trading execution quality, with high-volume exchanges providing better price stability and lower slippage. Order book depth indicates how much volume can be traded without significantly moving prices, crucial for larger position sizes.

Trading fees structure affects profitability, especially for frequent traders. Maker/taker fee models reward liquidity providers while charging liquidity takers. Volume-based discounts reduce costs for high-volume traders, while native token discounts provide additional savings for holding exchange tokens.

Available trading pairs determine which cryptocurrencies can be traded directly without multiple conversions. Fiat on-ramps enable direct cryptocurrency purchases with traditional currencies, while extensive altcoin selections provide more trading opportunities beyond major cryptocurrencies.

Trading Interface and Order Types
User interface design impacts trading efficiency and decision-making speed. Professional trading platforms offer advanced charting tools, multiple order types, and customizable layouts. Mobile optimization ensures traders can manage positions and monitor markets anywhere.

Order types beyond basic market and limit orders provide sophisticated execution options. Stop-loss orders provide automatic risk management, while take-profit orders secure gains automatically. Trailing stops adjust with price movements to lock in profits while allowing continued upside participation.

Advanced order types like stop-limit, fill-or-kill, and iceberg orders help optimize execution in different market conditions. Conditional orders trigger based on technical indicators or price relationships, automating trading strategies even when traders aren't actively monitoring markets.

API integration allows algorithmic trading and automated strategy execution. RESTful APIs enable portfolio management and order placement, while WebSocket feeds provide real-time market data for automated systems. These tools help scale trading operations beyond manual execution.

Portfolio Tracking and Analysis Tools
Portfolio management software aggregates holdings across multiple exchanges and wallets, providing comprehensive views of total cryptocurrency positions. Real-time updates ensure accurate portfolio valuations and performance tracking across diverse holdings.

Performance analytics measure trading success through metrics like Sharpe ratio, maximum drawdown, and win/loss ratios. These metrics help identify strengths and weaknesses in trading approaches, guiding strategy improvements and risk management adjustments.

Tax reporting integration automatically calculates gains/losses and generates reports for tax compliance. FIFO, LIFO, and specific identification methods provide options for optimizing tax liabilities while maintaining accurate records of all trading activity.

Alert systems notify traders of significant price movements, technical indicator signals, or news events affecting their portfolios. Customizable alerts help traders stay informed without constantly monitoring markets, improving work-life balance while maintaining market awareness.

Security Measures for Trading Accounts
Two-factor authentication provides essential security beyond passwords, with authenticator apps offering better security than SMS-based systems. Hardware security keys provide the highest level of account protection against sophisticated attacks.

API key management limits exposure when using third-party tools or trading bots. Read-only keys for portfolio tracking minimize risk, while trading keys should have IP restrictions and withdrawal limitations. Regular key rotation reduces long-term exposure risks.

Withdrawal security includes whitelisted addresses, time delays, and email confirmations for large withdrawals. These measures prevent unauthorized access from resulting in immediate fund loss, providing opportunities to detect and prevent theft.

Cold storage integration keeps the majority of funds offline while maintaining trading balances for active strategies. Hardware wallets or multi-signature storage provides secure long-term storage while keeping necessary funds accessible for trading opportunities.

Conclusion: Building Consistent Trading Success
Spot trading mastery requires combining technical analysis skills with disciplined risk management and emotional control. The most successful traders develop systematic approaches that remove guesswork and emotional decision-making from their trading process while remaining adaptable to changing market conditions.

Consistency comes from following proven strategies rather than seeking perfect trades. Even profitable traders experience losses, but their risk management and position sizing ensure that winning trades more than compensate for losing ones. Focus on process improvement rather than short-term results.

The cryptocurrency market's 24/7 nature provides continuous opportunities but also demands strong discipline to avoid overtrading. Setting specific trading hours and maintaining work-life balance prevents burnout while ensuring adequate rest for optimal decision-making.

Technology tools and platform features continue improving, making sophisticated trading strategies accessible to individual traders. Embracing these tools while maintaining fundamental analysis and risk management principles provides the best foundation for long-term success.

Start your spot trading journey by practicing with small positions, maintaining detailed trading journals, and focusing on capital preservation while you develop skills and confidence in the dynamic cryptocurrency markets.

Disclaimer: Cryptocurrency trading involves substantial risk of loss and is not suitable for all investors. Past performance does not guarantee future results. Only trade with capital you can afford to lose completely.


`},{id:5,title:"DeFi Explained: The Future of Decentralized Finance and How to Get Started",date:"August 2025",author:"Editorial Team",category:"DeFi",image:"https://images.unsplash.com/photo-1503676382389-4809596d5290?w=800&h=400&fit=crop",excerpt:"An in-depth explanation of DeFi, its risks, protocols, and practical steps for safe and profitable participation.",content:`
Blog Post 5: DeFi Explained: The Future of Decentralized Finance and How to Get Started

Introduction: The Decentralized Finance Revolution
Decentralized Finance (DeFi) represents one of the most transformative applications of blockchain technology, recreating traditional financial services without intermediaries like banks, brokers, or insurance companies. Built on smart contract platforms primarily Ethereum, DeFi protocols enable lending, borrowing, trading, and earning interest through code-based automation rather than human-controlled institutions.

The DeFi ecosystem has experienced explosive growth, with Total Value Locked (TVL) exceeding $200 billion across hundreds of protocols in 2025. This growth reflects users' desire for financial services that offer better rates, global accessibility, and user ownership of funds without requiring permission from traditional gatekeepers.

DeFi democratizes access to financial services, enabling anyone with an internet connection to participate in sophisticated financial strategies previously available only to institutional investors. From earning yield on savings to accessing uncollateralized loans through reputation systems, DeFi creates opportunities that don't exist in traditional finance.

However, DeFi also introduces new risks including smart contract vulnerabilities, impermanent loss, and regulatory uncertainty that participants must understand before committing significant funds. This comprehensive guide explores DeFi's core concepts, major protocols, risk management strategies, and practical steps for safe participation in decentralized finance.

Chapter 1: Core DeFi Protocols and Services
Lending and Borrowing Platforms
Lending protocols like Aave, Compound, and Maker enable users to earn interest by supplying cryptocurrency assets to liquidity pools that borrowers can access. These platforms use algorithmic interest rate models that automatically adjust rates based on supply and demand, often providing better returns than traditional savings accounts.

Collateralized borrowing allows users to access liquidity without selling their cryptocurrency holdings. Borrowers deposit crypto assets as collateral and receive loans in stablecoins or other cryptocurrencies. Over-collateralization requirements (typically 150-200%) protect lenders from default risk while enabling borrowers to maintain crypto exposure.

Flash loans represent a DeFi innovation enabling uncollateralized borrowing within single transactions. These loans must be repaid within the same transaction block, enabling sophisticated arbitrage and liquidation strategies. Flash loans demonstrate DeFi's programmable money capabilities that traditional finance cannot replicate.

Governance tokens distributed to protocol users provide voting rights and revenue sharing from platform fees. Liquidity mining programs reward users with these tokens for providing liquidity, creating incentives for early adoption and protocol growth while distributing ownership to users rather than shareholders.

Decentralized Exchanges and Liquidity Provision
Automated Market Makers (AMMs) like Uniswap, SushiSwap, and PancakeSwap enable cryptocurrency trading without traditional order books. These platforms use constant product formulas to price assets based on available liquidity, enabling continuous trading even for less liquid assets.

Liquidity providers deposit equal values of two cryptocurrencies into trading pairs, earning fees from each trade that uses their liquidity. Trading fees typically range from 0.05% to 1% per trade, with fees distributed proportionally to liquidity providers based on their pool share.

Impermanent loss occurs when the relative prices of assets in liquidity pools change, potentially resulting in less value than simply holding the assets. Divergence loss increases with price volatility, making stablecoin pairs safer for conservative liquidity providers while volatile pairs offer higher fee potential.

Liquidity pool tokens (LP tokens) represent ownership shares in specific trading pairs and can be used as collateral in lending protocols or staked for additional rewards. This composability enables complex strategies combining multiple DeFi protocols for optimized returns.

Yield Farming and Liquidity Mining
Yield farming involves moving cryptocurrency assets between different DeFi protocols to maximize returns through various incentive programs. Farmers constantly evaluate APY opportunities across platforms while considering gas fees, smart contract risks, and token price volatility.

Liquidity mining rewards additional tokens for participating in specific protocols, often providing returns exceeding traditional lending rates. These programs bootstrap new protocols by attracting liquidity while distributing governance tokens to active users who become stakeholders in protocol success.

Compound strategies involve automatically reinvesting earned rewards to maximize compound growth. Auto-compounding platforms like Yearn Finance automate this process, applying sophisticated strategies that individual users might find complex or expensive to implement manually.

Risk-adjusted returns help farmers evaluate opportunities by considering smart contract risks, impermanent loss potential, and token price volatility alongside advertised APYs. Sustainable yields generally range from 5-20% annually, while higher rates often indicate higher risks or temporary incentive programs.

Synthetic Assets and Derivatives
Synthetic assets enable exposure to traditional financial instruments like stocks, commodities, and currencies through cryptocurrency-based protocols. Synthetix and Mirror Protocol create synthetic versions of assets like Tesla stock or gold that can be traded 24/7 without traditional market limitations.

Collateralized synthetic assets require users to deposit cryptocurrency collateral to mint synthetic tokens representing traditional assets. Over-collateralization protects against price volatility while enabling global access to assets that might be restricted in certain jurisdictions.

Prediction markets like Augur and Polymarket enable betting on real-world events using cryptocurrency. These platforms aggregate information about future events while providing liquidity for various outcome positions. Decentralized oracles provide reliable real-world data for settlement.

Options and futures protocols recreate traditional derivatives markets with cryptocurrency settlement. Perpetual swaps enable leveraged trading without expiration dates, while options protocols provide hedging and speculation tools for sophisticated DeFi users.

Chapter 2: Risks and Security Considerations
Smart Contract Risks and Audit Importance
Smart contract vulnerabilities represent the primary risk in DeFi participation, with bugs potentially resulting in complete loss of deposited funds. Code audits by reputable firms provide some assurance, but audits cannot guarantee complete security as new attack vectors continue emerging.

Protocol maturity correlates with reduced risk, as older protocols have withstood more potential attacks and bug discoveries. Battle-tested protocols like Uniswap and Aave have processed billions in transactions without major exploits, while newer protocols carry higher uncertainty despite potential higher rewards.

Upgrade mechanisms in smart contracts create additional risks if protocol developers maintain control over contract modifications. Immutable contracts cannot be changed but also cannot be fixed if bugs are discovered. Governance-controlled upgrades provide flexibility but require trust in token holder decision-making.

Insurance protocols like Nexus Mutual provide coverage against smart contract failures for major DeFi protocols. Premium costs typically range from 2-10% annually, reducing yield but providing protection against catastrophic losses from protocol exploits.

Impermanent Loss in Liquidity Provision
Impermanent loss calculation compares liquidity provider returns to simply holding assets individually. Loss increases as asset price divergence grows, with 50% price changes typically resulting in 5-6% impermanent loss before considering earned fees.

Fee compensation can offset impermanent loss in high-volume trading pairs where earned fees exceed divergence losses. Stablecoin pairs minimize impermanent loss risk while providing steady fee income, making them suitable for risk-averse liquidity providers.

Active management strategies involve monitoring impermanent loss and removing liquidity when divergence becomes excessive. Rebalancing thresholds help automate these decisions, though frequent transactions increase gas costs and complexity.

Single-sided staking options eliminate impermanent loss by requiring deposits of only one asset type. These protocols often provide lower yields than liquidity provision but appeal to users who want to maintain specific asset exposure while earning returns.

Regulatory Uncertainty and Compliance
Regulatory frameworks for DeFi remain uncertain in most jurisdictions, with potential changes affecting protocol operation and user access. Geographic restrictions already limit access to some protocols for users in certain countries, particularly the United States.

Tax implications for DeFi activities can be complex, with yield farming potentially triggering taxable events for each reward claim or liquidity position change. Professional tax advice becomes essential for active DeFi participants with significant holdings or complex strategies.

KYC/AML requirements may eventually extend to DeFi protocols, potentially compromising the permissionless nature that makes decentralized finance attractive. Decentralized identity solutions attempt to provide compliance features while preserving privacy and accessibility.

Protocol compliance strategies include geographic blocking, KYC integration, or transitioning to fully decentralized governance structures that remove identifiable protocol operators. These decisions significantly impact user experience and protocol accessibility.

Rug Pulls and Project Due Diligence
Rug pull risks occur when protocol developers retain control over user funds and suddenly withdraw liquidity or abandon projects. Anonymous teams, unlocked token supplies, and centralized control mechanisms represent red flags that suggest elevated rug pull risks.

Due diligence processes should examine team credentials, code quality, audit reports, tokenomics, and community engagement before participating in newer protocols. Gradual exposure through small initial deposits helps limit losses while evaluating protocol reliability.

Token distribution analysis reveals whether projects have fair launch mechanisms or concentrated ownership that could enable price manipulation. Vesting schedules for team tokens and liquidity lock periods provide additional security by preventing immediate token dumps.

Community governance development indicates healthy protocol evolution with decision-making distributed among stakeholders rather than concentrated with developers. Governance participation rates and proposal quality help assess community engagement and protocol maturity.

Chapter 3: Getting Started Guide
Wallet Setup and Security Practices
Web3 wallet selection determines your interface with DeFi protocols, with popular options including MetaMask, Trust Wallet, and Coinbase Wallet. Browser extension wallets provide convenient desktop access, while mobile wallets enable DeFi participation anywhere.

Private key security remains paramount in DeFi where you maintain complete control over funds. Hardware wallet integration provides optimal security for significant holdings, while seed phrase backup and secure storage prevent permanent loss of funds.

Network configuration enables access to different blockchain ecosystems beyond Ethereum, including Polygon, Binance Smart Chain, and Arbitrum. Multiple networks provide cost optimization opportunities and access to different protocol ecosystems.

Transaction signing understanding helps users verify they're approving intended actions rather than malicious transactions. Unlimited approvals should be used cautiously, and revoke.cash helps remove unnecessary token approvals that could be exploited.

Choosing Reliable DeFi Protocols
Protocol research should prioritize security audits, Total Value Locked, age and stability, and team transparency. DeFiPulse and similar platforms provide TVL rankings and basic protocol information for initial screening.

Community assessment involves examining Discord/Telegram activity, governance participation, developer activity, and educational resources. Healthy communities provide support, identify issues early, and contribute to protocol improvement.

Yield comparison across similar protocols helps identify competitive rates while considering additional factors like token emission schedules, fee structures, and withdrawal restrictions. Sustainable yields generally indicate healthier long-term protocol economics.

Integration partnerships with established protocols and institutional adoption provide additional credibility signals. Cross-protocol composability enables more sophisticated strategies while suggesting broader ecosystem acceptance.

Starting with Small Amounts and Learning
Educational investment approach involves committing small amounts to learn protocol mechanics before scaling up positions. Gas fee consideration ensures that transaction costs don't exceed potential returns for small test transactions.

Yield tracking helps measure actual returns including all costs and token price changes. Portfolio trackers like Zapper and DeBank aggregate DeFi positions across multiple protocols for comprehensive return calculation.

Strategy development progresses from simple single-protocol participation to complex multi-protocol yield optimization. Paper trading or testnet experimentation helps understand protocol mechanics without risking real funds.

Risk assessment skills develop through experience and education about various DeFi risks. Position sizing based on risk levels ensures that potential losses remain manageable while allowing meaningful upside participation.

Tax Implications and Record Keeping
Transaction recording becomes crucial for tax compliance, with every DeFi interaction potentially creating taxable events. Automated tracking tools like Koinly and TokenTax help manage complex DeFi transaction histories.

Yield farming taxation often treats received tokens as income at receipt value, with subsequent sales generating capital gains or losses. Professional guidance becomes essential for significant DeFi activity to ensure compliance and optimization.

Cost basis tracking for received tokens and LP positions requires detailed records of transaction timing and market prices. FIFO, LIFO, and specific identification methods provide options for optimizing tax liability legally.

Reporting requirements vary by jurisdiction but generally require comprehensive transaction reporting for significant cryptocurrency activities. Audit preparation involves maintaining detailed records and receipts for all DeFi transactions and strategies.

Conclusion: Embracing the Future of Finance
DeFi represents a paradigm shift toward user-owned financial infrastructure that provides global access, improved rates, and innovative services impossible in traditional finance. As the ecosystem matures, opportunities for participation continue expanding while risks become better understood and managed.

Success in DeFi requires continuous learning, careful risk management, and gradual scaling as you develop expertise and confidence. Start with established protocols, maintain detailed records, and never invest more than you can afford to lose while exploring this innovative financial frontier.

The composability and innovation pace in DeFi create opportunities for early participants to benefit from new financial primitives and economic models. However, the experimental nature of many protocols demands careful evaluation and risk assessment before significant capital commitment.

As regulatory frameworks develop and security practices improve, DeFi will likely become more accessible to mainstream users while retaining the core benefits of decentralization, transparency, and user ownership that make it revolutionary.

Begin your DeFi journey by setting up a secure wallet, researching established protocols, and starting with small positions in well-audited platforms to gain hands-on experience with decentralized finance.

Disclaimer: DeFi protocols involve significant risks including smart contract vulnerabilities, impermanent loss, and potential total loss of funds. This information is for educational purposes and does not constitute financial advice.


`}],FI=()=>{const[n,e]=L.useState(null),[t,s]=L.useState("All"),o=["All","Getting Started","Strategy","Education","Market Insights","Community","Security"],c=t==="All"?lw:lw.filter(d=>d.category===t);return h.jsxs("div",{className:"bg-[#0f0f1a] min-h-screen text-white px-6 py-10 pt-20",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"📰 MineVerse Blog"}),h.jsx("p",{className:"text-gray-300 text-lg max-w-2xl mx-auto",children:"Stay updated with the latest insights, strategies, and trends in digital mining and cryptocurrency"})]}),h.jsx("div",{className:"max-w-5xl mx-auto mb-8",children:h.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:o.map(d=>h.jsx("button",{onClick:()=>s(d),className:`px-4 py-2 rounded-full transition text-sm ${t===d?"bg-purple-600 text-white":"bg-[#1d1d2e] hover:bg-purple-600 text-gray-300"}`,children:d},d))})}),h.jsx("div",{className:"max-w-5xl mx-auto grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(d=>h.jsxs("div",{className:"bg-[#1d1d2e] rounded-lg overflow-hidden shadow-lg hover:shadow-purple-500/20 transition-all duration-300 hover:scale-105",children:[h.jsx("img",{src:d.image,alt:d.title,className:"w-full h-48 object-cover"}),h.jsxs("div",{className:"p-5",children:[d.category&&h.jsx("span",{className:"inline-block bg-purple-600 text-xs px-2 py-1 rounded-full mb-2",children:d.category}),h.jsx("h2",{className:"text-lg font-bold mb-2 line-clamp-2",children:d.title}),h.jsxs("div",{className:"flex items-center text-xs text-gray-400 mb-3",children:[h.jsx("span",{children:d.date}),h.jsx("span",{className:"mx-2",children:"•"}),h.jsx("span",{children:d.author})]}),h.jsx("p",{className:"text-gray-300 text-sm mb-4 line-clamp-3",children:d.excerpt}),h.jsx("button",{className:"w-full bg-purple-600 hover:bg-purple-700 transition px-4 py-2 rounded-md text-sm font-medium",onClick:()=>e(d),children:"Read Full Article"})]})]},d.id))}),n&&h.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-50 animate-fadeIn p-4",children:h.jsxs("div",{className:"bg-[#1d1d2e] max-w-4xl w-full rounded-lg shadow-lg overflow-y-auto max-h-[90vh]",children:[h.jsx("img",{src:n.image,alt:n.title,className:"w-full h-64 object-cover"}),h.jsxs("div",{className:"p-6",children:[n.category&&h.jsx("span",{className:"inline-block bg-purple-600 text-xs px-3 py-1 rounded-full mb-4",children:n.category}),h.jsx("h2",{className:"text-3xl font-bold mb-3",children:n.title}),h.jsxs("div",{className:"flex items-center text-sm text-gray-400 mb-6",children:[h.jsx("span",{children:n.date}),h.jsx("span",{className:"mx-2",children:"•"}),h.jsxs("span",{children:["by ",n.author]})]}),h.jsx("div",{className:"text-gray-300 leading-relaxed whitespace-pre-line prose prose-invert max-w-none",children:n.content}),h.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[h.jsx("button",{onClick:()=>e(null),className:"bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded-md text-white transition",children:"Close"}),h.jsx("button",{className:"bg-purple-600 hover:bg-purple-700 px-6 py-2 rounded-md text-white transition",children:"Share Article"})]})]})]})}),h.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
        .line-clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
        .line-clamp-3 {
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
        .prose h1, .prose h2, .prose h3 {
          color: #fff;
          margin-top: 1.5em;
          margin-bottom: 0.5em;
        }
        .prose strong {
          color: #a855f7;
        }
        .prose ul {
          margin: 1em 0;
        }
        .prose li {
          margin: 0.5em 0;
        }
      `})]})},qI=()=>{const n=[{number:"∞",label:"Potential Connections",icon:Jo},{number:"0",label:"Day One - We Start Here",icon:Ts},{number:"24/7",label:"Knowledge Never Sleeps",icon:Zh},{number:"100%",label:"Authenticity Guaranteed",icon:gl}],e=[{icon:Zh,title:"Expert Mentorship",description:"Connect with industry leaders who guide your journey from beginner to expert",color:"bg-blue-500"},{icon:Hk,title:"Mystery Solving",description:"Tackle real-world case studies and unsolved challenges with brilliant minds",color:"bg-yellow-500"},{icon:ef,title:"Global Network",description:"Access a worldwide community of passionate professionals and innovators",color:"bg-green-500"},{icon:zk,title:"Project Collaboration",description:"Join ambitious projects, earn fees or ESOPs, and build your professional network",color:"bg-purple-500"},{icon:jf,title:"Company Insights",description:"Discover how successful companies operate with verified, authentic information",color:"bg-red-500"},{icon:l3,title:"Niche Communities",description:"Find your tribe in focused chat rooms designed around specific interests and skills",color:"bg-indigo-500"}],t=[{icon:qk,text:"To become the world's most-used platform outside social media and entertainment"},{icon:Of,text:"Where passion meets purpose and knowledge transforms lives"},{icon:ef,text:"Connecting minds across borders, cultures, and disciplines"},{icon:Wh,text:"Accelerating human potential through authentic collaboration"}];return h.jsxs("div",{className:"bg-gray-900 text-white min-h-screen",children:[h.jsx("section",{className:"min-h-screen pt-24 flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:h.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:h.jsxs("div",{className:"text-center max-w-5xl mx-auto",children:[h.jsx("div",{className:"mb-6",children:h.jsx("span",{className:"bg-purple-600 text-white px-4 py-2 rounded-full text-sm font-semibold tracking-wide",children:"🚀 LAUNCHING SOON"})}),h.jsxs("h1",{className:"text-4xl sm:text-6xl lg:text-7xl xl:text-8xl font-bold mb-6 leading-tight",children:["Welcome to",h.jsx("br",{}),h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Collabria ~ Nexus"})]}),h.jsxs("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-300 mb-12 leading-relaxed max-w-4xl mx-auto",children:["The revolutionary platform where ",h.jsx("span",{className:"text-purple-400 font-semibold",children:"knowledge meets passion"}),",",h.jsx("span",{className:"text-pink-400 font-semibold",children:" experts guide beginners"}),", and",h.jsx("span",{className:"text-cyan-400 font-semibold",children:" global minds collaborate"})," to solve tomorrow's challenges"]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 sm:gap-6 mb-16",children:[h.jsx("button",{className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg font-bold text-lg hover:from-purple-700 hover:to-pink-700 transform hover:scale-105 transition-all duration-300 shadow-lg",children:h.jsxs("span",{className:"flex items-center justify-center gap-2",children:[h.jsx(Ts,{}),"Join the Revolution"]})}),h.jsx("button",{className:"px-8 py-4 border-2 border-gray-600 rounded-lg font-bold text-lg hover:bg-gray-800 transition-all duration-300",children:"Learn More"})]}),h.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((s,o)=>h.jsx("div",{className:"text-center",children:h.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-6 hover:bg-gray-750 transition-all duration-300",children:[h.jsx(s.icon,{className:"text-3xl text-purple-400 mx-auto mb-3"}),h.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-white",children:s.number}),h.jsx("div",{className:"text-sm text-gray-400 mt-2",children:s.label})]})},o))})]})})}),h.jsx("section",{className:"py-16 lg:py-24 bg-gray-800",children:h.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 text-white",children:"Our Vision"}),h.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto",children:"We're not just building an app — we're crafting the future of human connection and knowledge sharing"})]}),h.jsx("div",{className:"grid sm:grid-cols-2 gap-6 lg:gap-8 mb-16",children:t.map((s,o)=>h.jsxs("div",{className:"flex items-start gap-4 p-6 bg-gray-900 border border-gray-700 rounded-xl hover:bg-gray-850 transition-all duration-300",children:[h.jsx(s.icon,{className:"text-2xl text-purple-400 flex-shrink-0 mt-1"}),h.jsx("p",{className:"text-gray-300 leading-relaxed",children:s.text})]},o))}),h.jsxs("div",{className:"text-center bg-gradient-to-r from-purple-900/50 to-pink-900/50 border border-purple-500/30 rounded-2xl p-8 lg:p-12",children:[h.jsx("h3",{className:"text-2xl lg:text-3xl font-bold mb-4 text-purple-200",children:"The World's Next Essential Platform"}),h.jsxs("p",{className:"text-lg lg:text-xl text-gray-300 leading-relaxed",children:["Beyond social media, beyond entertainment — we're creating the definitive space where",h.jsx("span",{className:"text-purple-400 font-semibold",children:" knowledge, passion, and authentic human connection "}),"converge to accelerate human potential and solve the world's most pressing challenges."]})]})]})})}),h.jsx("section",{className:"py-16 lg:py-24 bg-gray-900",children:h.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 text-white",children:"What Makes Us Different"}),h.jsx("p",{className:"text-lg sm:text-xl text-gray-300",children:"Six pillars that will transform how the world collaborates"})]}),h.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:e.map((s,o)=>h.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl p-8 hover:bg-gray-750 hover:border-gray-600 transition-all duration-300 hover:scale-105",children:[h.jsx("div",{className:`inline-flex p-4 rounded-xl ${s.color} mb-6`,children:h.jsx(s.icon,{className:"text-2xl text-white"})}),h.jsx("h3",{className:"text-xl lg:text-2xl font-bold mb-4 text-white",children:s.title}),h.jsx("p",{className:"text-gray-300 leading-relaxed",children:s.description})]},o))})]})})}),h.jsx("section",{className:"py-16 lg:py-24 bg-gray-800",children:h.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:h.jsx("div",{className:"max-w-6xl mx-auto",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12",children:[h.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl p-8 lg:p-10",children:[h.jsx("h2",{className:"text-2xl lg:text-3xl font-bold mb-6 text-purple-400",children:"Our Mission"}),h.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"To democratize knowledge sharing and create authentic connections between experts and learners worldwide. We believe that everyone has something valuable to teach and something meaningful to learn."}),h.jsxs("ul",{className:"space-y-3 text-gray-400",children:[h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),"Connect passionate minds across the globe"]}),h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),"Verify and authenticate all knowledge shared"]}),h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),"Create opportunities for meaningful collaboration"]})]})]}),h.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl p-8 lg:p-10",children:[h.jsx("h2",{className:"text-2xl lg:text-3xl font-bold mb-6 text-pink-400",children:"Our Values"}),h.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"Built on the foundation of authenticity, accessibility, and human potential. We're creating a platform where knowledge flows freely and connections form naturally."}),h.jsxs("ul",{className:"space-y-3 text-gray-400",children:[h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full"}),"Authenticity in every interaction"]}),h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full"}),"Inclusive and accessible to everyone"]}),h.jsxs("li",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full"}),"Focused on genuine human connection"]})]})]})]})})})}),h.jsx("section",{className:"py-16 lg:py-24 bg-gray-900",children:h.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:h.jsx("div",{className:"max-w-4xl mx-auto text-center",children:h.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-pink-900/30 border border-purple-500/30 rounded-2xl p-8 lg:p-12",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-8 text-white",children:"This Is Just The Beginning"}),h.jsx("p",{className:"text-lg sm:text-xl text-gray-300 mb-8 leading-relaxed",children:"We're starting from zero, but we're thinking infinite. Every great platform began with a vision, a first user, and the courage to reimagine what's possible."}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6 mb-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-5xl lg:text-6xl font-bold text-purple-400 mb-2",children:"Day 0"}),h.jsx("div",{className:"text-gray-400",children:"Where we are"})]}),h.jsx("div",{className:"text-2xl text-gray-500 rotate-90 sm:rotate-0",children:"→"}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-pink-400 mb-2",children:"The Future"}),h.jsx("div",{className:"text-gray-400",children:"Starts now"})]})]}),h.jsx("blockquote",{className:"text-lg lg:text-xl text-gray-400 italic border-l-4 border-purple-500 pl-6",children:'"Every expert was once a beginner. Every pro was once an amateur. Every icon was once an unknown."'})]})})})}),h.jsx("section",{className:"py-16 lg:py-24 bg-gradient-to-r from-purple-900 to-pink-900",children:h.jsx("div",{className:"w-full px-6 sm:px-8 lg:px-12",children:h.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[h.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 text-white",children:"Ready to Shape the Future?"}),h.jsx("p",{className:"text-lg sm:text-xl text-gray-200 mb-12 leading-relaxed",children:"Be among the first to experience the platform that will connect minds, accelerate learning, and transform how the world collaborates"}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center mb-8",children:[h.jsx("button",{className:"px-12 py-4 bg-white text-purple-900 rounded-lg font-bold text-lg hover:bg-gray-100 transform hover:scale-105 transition-all duration-300 shadow-lg",children:h.jsxs("span",{className:"flex items-center justify-center gap-2",children:[h.jsx(Ts,{}),"Get Early Access"]})}),h.jsx("button",{className:"px-12 py-4 border-2 border-white/30 text-white rounded-lg font-bold text-lg hover:bg-white/10 transition-all duration-300",children:"Subscribe for Updates"})]}),h.jsx("div",{className:"text-sm text-gray-300",children:h.jsx("p",{children:"🌟 Join our waitlist and be part of something revolutionary"})})]})})})]})},HI=()=>h.jsxs("div",{className:"bg-[#0f0f1a] text-white min-h-screen py-20 px-6",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-purple-400",children:"Contact Us"}),h.jsx("p",{className:"mt-4 text-gray-300 max-w-2xl mx-auto text-base md:text-lg",children:"Got questions, feedback, or ideas? We’d love to hear from you. Drop us a message and we’ll get back to you as soon as possible."})]}),h.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-2 gap-12 items-start",children:[h.jsxs("form",{className:"bg-[#1d1d2e] p-8 rounded-lg shadow-lg border border-purple-600/30 space-y-6",children:[[{label:"Name",type:"text",placeholder:"Your name"},{label:"Email",type:"email",placeholder:"you@example.com"},{label:"Subject",type:"text",placeholder:"Subject"}].map(({label:n,type:e,placeholder:t},s)=>h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-left text-gray-300 mb-1",children:n}),h.jsx("input",{type:e,placeholder:t,className:"w-full px-4 py-2 rounded-md bg-[#0f0f1a] border border-gray-700 focus:border-purple-500 focus:outline-none text-white text-sm",required:!0})]},s)),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-left text-gray-300 mb-1",children:"Message"}),h.jsx("textarea",{placeholder:"Write your message...",rows:"5",className:"w-full px-4 py-2 rounded-md bg-[#0f0f1a] border border-gray-700 focus:border-purple-500 focus:outline-none text-white text-sm resize-none",required:!0})]}),h.jsx("button",{type:"submit",className:"w-full py-2 bg-gradient-to-r from-pink-500 to-purple-600 rounded-md font-semibold hover:opacity-90 transition",children:"Send Message"})]}),h.jsxs("div",{className:"bg-[#1d1d2e] p-8 rounded-lg shadow-lg border border-purple-600/30 flex flex-col justify-between space-y-6",children:[[{icon:h.jsx(Fk,{className:"text-purple-400 text-xl"}),title:"Email",value:"support@mineverse.com"},{icon:h.jsx(Yk,{className:"text-purple-400 text-xl"}),title:"Phone",value:"+1 (555) 123-4567"},{icon:h.jsx($k,{className:"text-purple-400 text-xl"}),title:"Address",value:"123 Crypto Street, Blockchain City, 00000"}].map(({icon:n,title:e,value:t},s)=>h.jsxs("div",{className:"flex items-start space-x-4",children:[n,h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:e}),h.jsx("p",{className:"text-gray-300 text-sm",children:t})]})]},s)),h.jsx("div",{className:"pt-2 border-t border-gray-700 mt-4",children:h.jsx("p",{className:"text-sm text-gray-400",children:"Our support team is available 24/7 to assist you with your mining journey."})})]})]})]}),$I=async n=>{try{const e=ft(Fe,"users",n),t=await pn(e);if(!t.exists())return{success:!0,friends:[]};const o=t.data().social?.referredUsers||[];if(o.length===0)return{success:!0,friends:[]};const c=[];for(const d of o){const m=await pn(ft(Fe,"users",d));if(m.exists()){const g=m.data();c.push({id:d,name:g.profile?.username||"Unknown",avatar:g.profile?.avatar||`https://api.dicebear.com/7.x/initials/svg?seed=${g.profile?.username}`,mining:g.mining?.isMining||!1,lastActive:g.profile?.lastActive?KI(g.profile.lastActive.toDate()):"Unknown",joined:g.profile?.joined?g.profile.joined.toDate().toLocaleDateString():"Unknown",coinsEarned:g.stats?.totalCoinsEarned||0,level:g.stats?.level||1,streak:g.stats?.currentStreak||0,isVip:g.stats?.isVip||!1})}}return{success:!0,friends:c}}catch(e){return console.error("Error getting referred friends:",e),{success:!1,error:e.message,friends:[]}}},GI=async n=>{try{const e=ft(Fe,"users",n),t=await pn(e);if(!t.exists())return{success:!1,error:"User not found"};const s=t.data(),o=s.social?.referredUsers||[];let c=0,d=0,m=0;for(const g of o){const y=await pn(ft(Fe,"users",g));if(y.exists()){const b=y.data();c+=b.stats?.totalCoinsEarned||0,b.mining?.isMining&&d++,b.stats?.isVip&&m++}}return{success:!0,stats:{totalFriends:o.length,activeNow:d,networkCoins:c,vipMembers:m,referralCode:s.profile?.referralCode||""}}}catch(e){return console.error("Error getting network stats:",e),{success:!1,error:e.message}}},YI=async(n,e,t)=>{try{return await Ps(e,{message:"👋 You got a poke from a friend! Time to start mining! ⛏️",type:"poke_notification",metadata:{fromUid:n,friendName:t}}),{success:!0,message:`Poked ${t}! They'll get a notification.`}}catch(s){return console.error("Error poking friend:",s),{success:!1,error:s.message}}},KI=n=>{const t=new Date-n,s=Math.floor(t/6e4),o=Math.floor(t/36e5),c=Math.floor(t/864e5);return s<1?"Just now":s<60?`${s} mins ago`:o<24?`${o} hours ago`:c===1?"1 day ago":`${c} days ago`};function QI(){Da();const{currentUser:n,userProfile:e}=Vs(),[t,s]=L.useState(""),[o,c]=L.useState("all"),[d,m]=L.useState(!1),[g,y]=L.useState(!1),[b,_]=L.useState([]),[E,D]=L.useState({totalFriends:0,activeNow:0,networkCoins:0,vipMembers:0,referralCode:""}),[P,F]=L.useState(!0),[z,$]=L.useState(null);L.useEffect(()=>{if(!n){F(!1);return}(async()=>{try{F(!0);const ue=await $I(n.uid);ue.success?_(ue.friends):$(ue.error);const R=await GI(n.uid);R.success&&D(R.stats)}catch(ue){console.error("Error loading friends data:",ue),$("Failed to load friends data")}finally{F(!1)}})()},[n]);const re=async te=>{if(!n)return;const ue=document.getElementById(`friend-${te.id}`);ue&&(ue.classList.add("animate-pulse"),setTimeout(()=>{ue.classList.remove("animate-pulse")},1e3));try{(await YI(n.uid,te.id,te.name)).success?alert(`You poked ${te.name}! 🚀 They'll get a notification to start mining!`):alert("Failed to poke friend. Please try again.")}catch(R){console.error("Error poking friend:",R),alert("Failed to poke friend. Please try again.")}},ne=()=>{const te=e?.profile?.referralCode||E.referralCode;te?(navigator.clipboard.writeText(te),y(!0),setTimeout(()=>y(!1),2e3)):alert("Referral code not available")},he=b.filter(te=>{const ue=te.name.toLowerCase().includes(t.toLowerCase()),R=o==="all"||o==="active"&&te.mining||o==="inactive"&&!te.mining||o==="vip"&&te.isVip;return ue&&R});return n?P?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white pt-20 px-4 sm:px-6 lg:px-12 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-400 mx-auto mb-4"}),h.jsx("p",{className:"text-slate-400",children:"Loading your referral network..."})]})}):h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white pt-20 px-4 sm:px-6 lg:px-12 relative overflow-hidden",children:[h.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[h.jsx("div",{className:"absolute top-32 left-20 w-64 h-64 bg-violet-500/10 rounded-full blur-3xl animate-pulse"}),h.jsx("div",{className:"absolute bottom-32 right-20 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),z&&h.jsx("div",{className:"relative z-10 mb-4 bg-red-500/20 border border-red-500 text-red-300 px-4 py-3 rounded-lg",children:z}),h.jsxs("div",{className:"relative z-10 mb-8",children:[h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-violet-400 to-purple-400 bg-clip-text text-transparent mb-2",children:"Your Referral Network 🌐"}),h.jsxs("p",{className:"text-slate-400 flex items-center gap-2",children:[h.jsx(Jo,{className:"text-violet-400"}),"Build your team and earn together"]})]}),h.jsxs("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 rounded-xl font-semibold shadow-lg hover:shadow-violet-500/30 transition-all duration-300 transform hover:scale-105 flex items-center gap-2",children:[h.jsx(Wk,{}),"Invite Friends"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[h.jsx("div",{className:"bg-slate-800/60 backdrop-blur-xl border border-violet-500/20 rounded-xl p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-sm",children:"Total Friends"}),h.jsx("p",{className:"text-2xl font-bold text-violet-400",children:E.totalFriends})]}),h.jsx(Jo,{className:"text-violet-400 text-2xl"})]})}),h.jsx("div",{className:"bg-slate-800/60 backdrop-blur-xl border border-green-500/20 rounded-xl p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-sm",children:"Active Now"}),h.jsx("p",{className:"text-2xl font-bold text-green-400",children:E.activeNow})]}),h.jsx(bh,{className:"text-green-400 text-2xl"})]})}),h.jsx("div",{className:"bg-slate-800/60 backdrop-blur-xl border border-yellow-500/20 rounded-xl p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-sm",children:"Network Coins"}),h.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:E.networkCoins.toLocaleString()})]}),h.jsx(jf,{className:"text-yellow-400 text-2xl"})]})}),h.jsx("div",{className:"bg-slate-800/60 backdrop-blur-xl border border-purple-500/20 rounded-xl p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-sm",children:"VIP Members"}),h.jsx("p",{className:"text-2xl font-bold text-purple-400",children:E.vipMembers})]}),h.jsx(Es,{className:"text-purple-400 text-2xl"})]})})]})]}),h.jsxs("div",{className:"relative z-10 mb-6 flex flex-col sm:flex-row gap-4",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(u3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),h.jsx("input",{type:"text",placeholder:"Search friends...",value:t,onChange:te=>s(te.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-800/60 backdrop-blur-xl border border-violet-500/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 transition-all duration-300"})]}),h.jsxs("select",{value:o,onChange:te=>c(te.target.value),className:"px-4 py-3 bg-slate-800/60 backdrop-blur-xl border border-violet-500/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-violet-500/50 transition-all duration-300",children:[h.jsx("option",{value:"all",children:"All Friends"}),h.jsx("option",{value:"active",children:"Active"}),h.jsx("option",{value:"inactive",children:"Inactive"}),h.jsx("option",{value:"vip",children:"VIP Members"})]})]}),h.jsx("div",{className:"relative z-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-4",children:he.map((te,ue)=>h.jsxs("div",{id:`friend-${te.id}`,className:"group bg-slate-800/60 backdrop-blur-xl border border-violet-500/20 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:shadow-violet-500/20 transition-all duration-500 transform hover:scale-105 hover:bg-slate-800/80 relative overflow-hidden",style:{animationDelay:`${ue*100}ms`},children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl"}),te.isVip&&h.jsx("div",{className:"absolute top-3 right-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full p-1",children:h.jsx(Es,{className:"text-white text-xs"})}),h.jsxs("div",{className:"relative z-10 text-center",children:[h.jsxs("div",{className:"relative inline-block mb-4",children:[h.jsx("img",{src:te.avatar,alt:te.name,className:"w-20 h-20 rounded-full border-3 border-violet-400 shadow-lg group-hover:shadow-violet-400/50 transition-all duration-300"}),h.jsx("div",{className:`
                  absolute -bottom-1 -right-1 w-6 h-6 rounded-full border-3 border-slate-800 flex items-center justify-center text-xs
                  ${te.mining?"bg-green-500 animate-pulse":"bg-gray-500"}
                `,children:te.mining?"⚡":"💤"})]}),h.jsx("h2",{className:"text-lg font-bold text-white mb-1 group-hover:text-violet-300 transition-colors",children:te.name}),h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[h.jsxs("span",{className:"px-2 py-1 bg-violet-600/20 border border-violet-500/30 rounded-full text-xs text-violet-300",children:["Level ",te.level]}),te.streak>0&&h.jsxs("span",{className:"px-2 py-1 bg-orange-600/20 border border-orange-500/30 rounded-full text-xs text-orange-300 flex items-center gap-1",children:[h.jsx(Ua,{})," ",te.streak]})]}),te.mining?h.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-400 font-medium mb-3",children:[h.jsx(bh,{className:"text-xs animate-pulse"}),h.jsx("span",{children:"Mining Active"})]}):h.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400 font-medium mb-3",children:[h.jsx(bh,{className:"text-xs"}),h.jsxs("span",{className:"text-xs",children:["Last seen: ",te.lastActive]})]}),h.jsx("div",{className:"grid grid-cols-1 gap-2 mb-4",children:h.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-2",children:[h.jsxs("div",{className:"text-yellow-400 font-bold text-sm",children:["💰 ",te.coinsEarned.toLocaleString()]}),h.jsx("div",{className:"text-xs text-slate-400",children:"Coins Earned"})]})}),h.jsxs("p",{className:"text-xs text-slate-500 mb-4",children:["Joined: ",te.joined]}),h.jsxs("div",{className:"space-y-2",children:[!te.mining&&h.jsxs("button",{onClick:()=>re(te),className:"w-full px-4 py-2 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white rounded-lg flex items-center justify-center gap-2 shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:[h.jsx(Uo,{className:"animate-bounce"}),"Poke to Mine"]}),h.jsxs("button",{disabled:!0,className:"w-full px-4 py-2 bg-slate-700/50 text-white rounded-lg flex items-center justify-center gap-2 cursor-not-allowed border border-slate-600/50",children:[h.jsx(o3,{}),"Send Gift (Coming Soon)"]})]})]})]},te.id))}),he.length===0&&!P&&h.jsxs("div",{className:"relative z-10 text-center py-12",children:[h.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),h.jsx("h3",{className:"text-xl font-semibold text-slate-300 mb-2",children:b.length===0?"No referrals yet":"No friends found"}),h.jsx("p",{className:"text-slate-400 mb-6",children:b.length===0?"Invite friends using your referral code to build your network":"Try adjusting your search or filter criteria"}),b.length===0?h.jsx("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-violet-600 hover:bg-violet-500 rounded-lg text-white transition-all duration-300",children:"Invite Friends"}):h.jsx("button",{onClick:()=>{s(""),c("all")},className:"px-6 py-3 bg-violet-600 hover:bg-violet-500 rounded-lg text-white transition-all duration-300",children:"Clear Filters"})]}),d&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 border border-violet-500/30 rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("div",{className:"text-4xl mb-2",children:"🚀"}),h.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Invite Friends"}),h.jsx("p",{className:"text-slate-400",children:"Share your referral code and earn together!"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-violet-500/20",children:[h.jsx("p",{className:"text-sm text-slate-400 mb-2",children:"Your Referral Code"}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("code",{className:"text-lg font-bold text-violet-400 bg-slate-800 px-3 py-1 rounded",children:e?.profile?.referralCode||E.referralCode||"Loading..."}),h.jsx("button",{onClick:ne,className:`p-2 rounded-lg transition-all duration-300 ${g?"bg-green-600 text-white":"bg-violet-600 hover:bg-violet-500 text-white"}`,children:g?"✓":h.jsx(Bk,{})})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("button",{onClick:()=>{const ue=`Join me on MineVerse and start earning! Use my referral code: ${e?.profile?.referralCode||E.referralCode}`;navigator.share?navigator.share({text:ue}):(navigator.clipboard.writeText(ue),alert("Referral message copied to clipboard!"))},className:"px-4 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg text-white font-medium transition-all duration-300 flex items-center justify-center gap-2",children:[h.jsx(Xk,{}),"Share"]}),h.jsx("button",{onClick:()=>m(!1),className:"px-4 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg text-white font-medium transition-all duration-300",children:"Close"})]})]})]})})]}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-white pt-20 px-4 sm:px-6 lg:px-12 flex items-center justify-center",children:h.jsx("div",{className:"text-center",children:h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Please log in to view your referral network"})})})}const XI=(n,e)=>{const t=br(Fe,"users",n,"activities"),s=La(t,bu("timestamp","desc"),g9(10));return wu(s,o=>{const c=o.docs.map(d=>({id:d.id,...d.data()}));e(c)})},WI=n=>({FaCoins:Jh,FaUserFriends:Ty,FaTrophy:yr,FaRocket:Ts,FaStar:gl,FaFire:Ua,FaGem:_y,FaCog:Mf})[n]||Qg;function ZI(){const n=Da(),{currentUser:e,userProfile:t,logout:s}=Vs(),[o,c]=L.useState("overview"),[d,m]=L.useState(!1),[g,y]=L.useState([]),[b,_]=L.useState([]),[E,D]=L.useState(!0),[P,F]=L.useState(!1),[z,$]=L.useState(!1);L.useEffect(()=>{if(!e){D(!1);return}let N,me;return(async()=>{try{N=XI(e.uid,I=>{y(I)}),me=uk(e.uid,I=>{_(I)}),D(!1),setTimeout(()=>$(!0),500)}catch(I){console.error("Error loading profile data:",I),D(!1)}})(),()=>{N&&N(),me&&me()}},[e]),L.useEffect(()=>{t&&D(!1)},[t]);const re=Zt.useMemo(()=>!t||!t.stats?{totalCoinsEarned:0,level:1,currentTier:"Bronze Miner",nextTier:"Silver Miner",tierProgress:0,currentStreak:0,totalMined:0,rank:"#0",isVip:!1}:{totalCoinsEarned:t.stats.totalCoinsEarned??0,level:t.stats.level??1,currentTier:t.stats.currentTier??"Bronze Miner",nextTier:t.stats.nextTier??"Silver Miner",tierProgress:t.stats.tierProgress??0,currentStreak:t.stats.currentStreak??0,totalMined:t.stats.totalMined??0,rank:t.stats.rank??"#0",isVip:t.stats.isVip??!1},[t]),ne=Zt.useMemo(()=>!t||!t.profile?{username:"User",name:"User",email:"",avatar:"",referralCode:"",joined:new Date,lastActive:new Date}:{username:t.profile.username??"User",name:t.profile.name??t.profile.username??"User",email:t.profile.email??"",avatar:t.profile.avatar??"",referralCode:t.profile.referralCode??"",joined:t.profile.joined??new Date,lastActive:t.profile.lastActive??new Date},[t]),he=Zt.useMemo(()=>!t||!t.social?{totalReferrals:0}:{totalReferrals:t.social.totalReferrals??0},[t]),te=Zt.useMemo(()=>!t||!t.mining?{isMining:!1,totalMiningSessions:0}:{isMining:t.mining.isMining??!1,totalMiningSessions:t.mining.totalMiningSessions??0},[t]);if(!e)return h.jsx("div",{className:"min-h-screen pt-20 bg-gradient-to-br from-slate-900 via-violet-900/40 to-slate-900 text-white flex items-center justify-center",children:h.jsxs("div",{className:"text-center backdrop-blur-xl bg-slate-800/30 rounded-3xl p-12 border border-violet-500/30 shadow-2xl",children:[h.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-red-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx(Of,{className:"text-3xl text-white animate-pulse"})}),h.jsx("p",{className:"text-red-400 mb-6 text-xl font-semibold",children:"Please log in to view profile"}),h.jsx("button",{onClick:()=>n("/login"),className:"px-8 py-4 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 rounded-2xl font-bold text-white shadow-lg hover:shadow-violet-500/30 transform hover:scale-105 transition-all duration-300",children:"Go to Login"})]})});if(E||!t)return h.jsx("div",{className:"min-h-screen pt-20 bg-gradient-to-br from-slate-900 via-violet-900/40 to-slate-900 text-white flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"relative mb-8",children:[h.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-4 border-transparent border-t-violet-400 border-r-purple-400 mx-auto"}),h.jsx("div",{className:"absolute inset-0 rounded-full h-20 w-20 border-4 border-transparent border-b-pink-400 border-l-blue-400 mx-auto animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),h.jsxs("div",{className:"backdrop-blur-xl bg-slate-800/30 rounded-3xl p-8 border border-violet-500/30",children:[h.jsx("p",{className:"text-slate-300 text-xl font-semibold mb-2",children:"Loading profile..."}),h.jsx("p",{className:"text-slate-500 text-sm",children:t?"📊 Loading profile data...":"🚀 Fetching user data..."}),h.jsx("div",{className:"mt-4 flex justify-center",children:h.jsxs("div",{className:"flex space-x-1",children:[h.jsx("div",{className:"w-2 h-2 bg-violet-400 rounded-full animate-bounce"}),h.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),h.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})});const ue=()=>{if(!ne.referralCode){alert("Referral code not available yet. Please try again in a moment.");return}const N=`Join CollabriaNexus with my code: ${ne.referralCode}`;navigator.clipboard.writeText(N),alert("Referral code copied! 🚀")},R=async()=>{try{await bk()(),n("/login")}catch(N){console.error("Error logging out:",N),alert("Failed to logout. Please try again.")}},A=()=>ne.avatar?ne.avatar:`https://api.dicebear.com/7.x/initials/svg?seed=${ne.username}&backgroundColor=6366f1&fontSize=40`,k=N=>N?.seconds?new Date(N.seconds*1e3).toLocaleDateString("en-US",{month:"long",year:"numeric"}):new Date(N).toLocaleDateString("en-US",{month:"long",year:"numeric"}),O=N=>{if(N?.seconds){const me=new Date(N.seconds*1e3),I=new Date-me,Y=Math.floor(I/6e4),ee=Math.floor(I/36e5),fe=Math.floor(I/864e5);return Y<1?"Just now":Y<60?`${Y} mins ago`:ee<24?`${ee} hours ago`:`${fe} days ago`}return"Recently"},M=({id:N,label:me,isActive:W,onClick:I,icon:Y})=>h.jsxs("button",{onClick:()=>I(N),className:`
        relative px-6 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center gap-3 group overflow-hidden
        ${W?"bg-gradient-to-r from-violet-600 to-purple-600 text-white shadow-lg shadow-violet-500/30 scale-105":"text-slate-400 hover:text-violet-300 hover:bg-slate-700/50 hover:scale-105"}
      `,children:[h.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-violet-600/10 to-purple-600/10 transition-opacity duration-300 ${W?"opacity-0":"opacity-0 group-hover:opacity-100"}`}),h.jsx(Y,{className:`text-lg transition-transform duration-300 ${W?"scale-110":"group-hover:scale-110"}`}),h.jsx("span",{className:"relative z-10",children:me}),W&&h.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-12 h-1 bg-white/50 rounded-full"})]}),U=({icon:N,value:me,label:W,color:I,delay:Y=0})=>h.jsxs("div",{className:`
        group bg-slate-800/70 backdrop-blur-xl border border-violet-500/30 rounded-3xl p-8 
        shadow-xl hover:shadow-2xl transition-all duration-700 hover:bg-slate-800/80 text-center
        transform hover:scale-105 hover:-translate-y-2
        ${z?"animate-slideInUp opacity-100":"opacity-0 translate-y-8"}
      `,style:{animationDelay:`${Y}ms`,animationFillMode:"forwards"},children:[h.jsx("div",{className:`
        flex items-center justify-center w-20 h-20 rounded-3xl mb-6 mx-auto
        bg-gradient-to-br ${I} border border-white/20
        group-hover:scale-110 group-hover:rotate-12 transition-transform duration-500
        shadow-lg group-hover:shadow-xl
      `,children:h.jsx(N,{className:"text-4xl text-white drop-shadow-lg"})}),h.jsx("h2",{className:"text-4xl font-bold text-white mb-3 group-hover:scale-110 transition-transform duration-300",children:typeof me=="number"?me.toLocaleString():me}),h.jsx("p",{className:"text-slate-400 text-sm font-medium group-hover:text-slate-300 transition-colors duration-300",children:W}),h.jsx("div",{className:"absolute top-4 right-4 w-3 h-3 bg-white/20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),h.jsx("div",{className:"absolute bottom-4 left-4 w-2 h-2 bg-white/10 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]});return h.jsxs("div",{className:"min-h-screen pt-20 bg-gradient-to-br from-slate-900 via-violet-900/40 to-slate-900 text-white relative overflow-hidden",children:[h.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[h.jsx("div",{className:"absolute top-0 left-10 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),h.jsx("div",{className:"absolute bottom-20 right-10 w-[32rem] h-[32rem] bg-violet-500/8 rounded-full blur-3xl animate-pulse delay-1000"}),h.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[40rem] h-[40rem] bg-pink-500/5 rounded-full blur-3xl animate-pulse delay-2000"}),h.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-violet-400/30 rounded-full animate-float"}),h.jsx("div",{className:"absolute top-3/4 right-1/4 w-3 h-3 bg-purple-400/30 rounded-full animate-float delay-1000"}),h.jsx("div",{className:"absolute top-1/2 right-1/3 w-1.5 h-1.5 bg-pink-400/30 rounded-full animate-float delay-2000"})]}),h.jsx("div",{className:"relative z-10 px-6 py-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("button",{onClick:()=>n(-1),className:"group flex items-center gap-3 px-6 py-3 bg-slate-800/60 backdrop-blur-xl rounded-2xl border border-violet-500/30 text-violet-300 hover:text-white hover:bg-slate-800/80 transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-violet-500/20",children:[h.jsx(r3,{className:"text-sm group-hover:-translate-x-1 transition-transform duration-300"}),h.jsx("span",{className:"font-medium",children:"Back to Dashboard"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>m(!d),className:"p-4 bg-slate-800/60 backdrop-blur-xl rounded-2xl border border-violet-500/30 text-violet-300 hover:text-white hover:bg-slate-800/80 transition-all duration-300 hover:scale-110 hover:rotate-90 hover:shadow-lg hover:shadow-violet-500/20",children:h.jsx(Mf,{className:"text-lg"})}),d&&h.jsxs("div",{className:"absolute right-0 top-16 bg-slate-900/95 backdrop-blur-xl border border-violet-500/30 rounded-2xl shadow-2xl shadow-violet-500/20 z-50 px-2 py-2 min-w-[200px] animate-slideInDown",children:[h.jsxs("button",{onClick:R,className:"w-full text-left px-4 py-3 mb-1 bg-gradient-to-r from-red-600/30 to-pink-600/30 hover:from-red-600/50 hover:to-pink-600/50 rounded-xl text-white font-semibold transition-all duration-300 flex items-center gap-3 group",children:[h.jsx(Ok,{className:"rotate-45 group-hover:scale-110 transition-transform duration-300"}),"Logout"]}),h.jsxs("button",{onClick:()=>m(!1),className:"w-full text-left px-4 py-3 bg-slate-800/50 hover:bg-slate-800/70 rounded-xl text-violet-300 font-medium transition-all duration-300 flex items-center gap-3 group",children:[h.jsx(Wh,{className:"group-hover:scale-110 transition-transform duration-300"}),"Close"]})]})]})]})}),h.jsxs("div",{className:"relative  px-6 pb-8",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsxs("div",{className:"relative inline-block mb-8 group",onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:`absolute -inset-4 bg-gradient-to-r from-violet-400 via-purple-400 to-pink-400 rounded-full opacity-20 blur-xl transition-all duration-700 ${P?"scale-110 opacity-40":"scale-100"}`}),h.jsx("img",{src:A(),alt:ne.name,className:`
                  relative w-40 h-40 rounded-full border-4 border-gradient-to-r from-violet-400 to-pink-400 
                  shadow-[0_8px_40px_0_rgba(120,56,255,0.6)] bg-gradient-to-tr from-violet-400/20 to-pink-400/20
                  transition-all duration-700 group-hover:scale-110 group-hover:rotate-6
                  ${P?"shadow-[0_12px_60px_0_rgba(120,56,255,0.8)]":""}
                `}),h.jsx("div",{className:`
                absolute -bottom-3 -right-3 bg-gradient-to-r from-violet-600 to-purple-600 rounded-full p-4 
                border-4 border-slate-900 shadow-xl cursor-pointer group-hover:scale-110 transition-all duration-500
                hover:shadow-2xl hover:shadow-violet-500/50 hover:from-violet-500 hover:to-purple-500
                ${P?"animate-bounce":""}
              `,children:h.jsx(Lk,{className:"text-white text-lg"})}),h.jsx("div",{className:`
                absolute top-3 right-3 w-8 h-8 rounded-full border-4 border-slate-900 shadow-lg flex items-center justify-center
                ${te.isMining?"bg-gradient-to-r from-green-400 to-emerald-500 animate-pulse":"bg-gradient-to-r from-gray-400 to-gray-500"}
              `,children:te.isMining&&h.jsx(Wh,{className:"text-white text-xs animate-pulse"})})]}),h.jsx("div",{className:"absolute -top-4 -left-4 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 rounded-full px-4 py-2 text-base font-bold text-white shadow-xl border-4 border-slate-900 animate-pulse",children:h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Es,{className:"text-sm"}),"LVL ",re.level]})}),re.isVip&&h.jsx("div",{className:"absolute -top-2 right-8 text-yellow-400 text-2xl animate-bounce",children:h.jsx(Es,{className:"drop-shadow-lg"})})]}),h.jsxs("div",{className:"space-y-4 mb-8",children:[h.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-violet-300 via-pink-300 to-violet-300 bg-clip-text text-transparent animate-shimmer",children:ne.name}),h.jsxs("p",{className:"text-violet-400 font-semibold text-xl flex items-center justify-center gap-2",children:[h.jsxs("span",{children:["@",ne.username]}),re.isVip&&h.jsx(Es,{className:"text-yellow-400 text-lg animate-pulse"})]}),h.jsx("p",{className:"text-slate-400 font-medium",children:ne.email})]}),h.jsxs("div",{className:"max-w-lg mx-auto mb-8",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("span",{className:"text-base font-semibold text-slate-300 flex items-center gap-2",children:[h.jsx(eu,{className:"text-violet-400"}),re.currentTier]}),h.jsxs("span",{className:"text-sm text-slate-400 bg-slate-800/50 px-3 py-1 rounded-full",children:[re.tierProgress,"% to ",re.nextTier]})]}),h.jsx("div",{className:"w-full bg-slate-700/50 rounded-full h-4 overflow-hidden border border-violet-500/20",children:h.jsxs("div",{className:"bg-gradient-to-r from-violet-500 via-purple-500 to-pink-500 h-4 rounded-full relative overflow-hidden transition-all duration-1000 shadow-lg",style:{width:`${re.tierProgress}%`},children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/30 to-transparent animate-shimmer"}),h.jsx("div",{className:"absolute right-0 top-0 h-full w-8 bg-white/20 animate-pulse"})]})})]}),h.jsxs("div",{className:"flex justify-center gap-8 mb-12",children:[h.jsxs("div",{className:"group text-center p-4 rounded-2xl bg-slate-800/30 backdrop-blur-sm border border-violet-500/20 hover:bg-slate-800/50 transition-all duration-300 hover:scale-110",children:[h.jsxs("div",{className:"text-3xl font-bold text-yellow-400 mb-1 flex items-center justify-center gap-2 group-hover:scale-110 transition-transform duration-300",children:[h.jsx(Ua,{className:"text-orange-400"}),re.currentStreak]}),h.jsx("div",{className:"text-xs text-slate-400 font-medium",children:"Day Streak"})]}),h.jsxs("div",{className:"group text-center p-4 rounded-2xl bg-slate-800/30 backdrop-blur-sm border border-violet-500/20 hover:bg-slate-800/50 transition-all duration-300 hover:scale-110",children:[h.jsxs("div",{className:"text-3xl font-bold text-violet-400 mb-1 flex items-center justify-center gap-2 group-hover:scale-110 transition-transform duration-300",children:[h.jsx(yr,{className:"text-yellow-500"}),re.rank]}),h.jsx("div",{className:"text-xs text-slate-400 font-medium",children:"Global Rank"})]}),h.jsxs("div",{className:"group text-center p-4 rounded-2xl bg-slate-800/30 backdrop-blur-sm border border-violet-500/20 hover:bg-slate-800/50 transition-all duration-300 hover:scale-110",children:[h.jsxs("div",{className:"text-3xl font-bold text-green-400 mb-1 flex items-center justify-center gap-2 group-hover:scale-110 transition-transform duration-300",children:[h.jsx(Ts,{className:"text-blue-400"}),te.totalMiningSessions]}),h.jsx("div",{className:"text-xs text-slate-400 font-medium",children:"Sessions"})]})]})]}),h.jsx("div",{className:"flex justify-center mb-12",children:h.jsx("div",{className:"bg-slate-800/60 backdrop-blur-xl rounded-3xl p-2 border border-violet-500/30 shadow-2xl",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx(M,{id:"overview",label:"Overview",icon:jf,isActive:o==="overview",onClick:c}),h.jsx(M,{id:"activity",label:"Activity",icon:Qg,isActive:o==="activity",onClick:c}),h.jsx(M,{id:"badges",label:"Badges",icon:Kg,isActive:o==="badges",onClick:c})]})})}),o==="overview"&&h.jsxs("div",{className:"space-y-12",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8",children:[h.jsx(U,{icon:Jh,value:re.totalCoinsEarned,label:"Total Coins Earned",color:"from-yellow-500/20 to-orange-500/20",delay:100}),h.jsx(U,{icon:Ty,value:he.totalReferrals,label:"Friends Referred",color:"from-blue-500/20 to-cyan-500/20",delay:200}),h.jsx(U,{icon:qx,value:ne.referralCode||"Loading...",label:"Your Referral Code",color:"from-pink-500/20 to-rose-500/20",delay:300})]}),h.jsx("div",{className:"flex justify-center",children:h.jsxs("button",{onClick:ue,className:"group relative px-12 py-6 bg-gradient-to-r from-violet-600 via-purple-600 to-pink-600 hover:from-violet-500 hover:via-purple-500 hover:to-pink-500 rounded-3xl text-white font-bold shadow-2xl shadow-violet-500/30 flex items-center gap-4 hover:scale-105 transform transition-all duration-500 border border-white/10 overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),h.jsx(qx,{className:"text-2xl group-hover:rotate-12 group-hover:scale-110 transition-transform duration-300 relative z-10"}),h.jsxs("div",{className:"relative z-10",children:[h.jsx("div",{className:"text-xl",children:"Share Referral Code & Earn Rewards"}),h.jsx("div",{className:"text-sm opacity-80",children:"Invite friends and get bonuses"})]}),h.jsxs("div",{className:"ml-4 px-4 py-2 bg-white/20 rounded-2xl text-base font-bold relative z-10 group-hover:bg-white/30 transition-colors duration-300 flex items-center gap-2",children:[h.jsx(Jh,{className:"text-yellow-400"}),"+50 coins"]}),h.jsx("div",{className:"absolute inset-0 bg-white/10 rounded-3xl scale-0 group-hover:scale-100 transition-transform duration-700 opacity-50"})]})})]}),o==="activity"&&h.jsx("div",{className:"space-y-8",children:g.length>0?h.jsx("div",{className:"grid gap-4",children:g.map((N,me)=>{const W=WI(N.icon);return h.jsx("div",{className:"group bg-slate-800/50 backdrop-blur-xl border border-violet-500/20 rounded-2xl p-6 hover:bg-slate-800/70 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg hover:shadow-violet-500/20",style:{animationDelay:`${me*100}ms`},children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-violet-500/20 to-purple-500/20 rounded-xl flex items-center justify-center border border-violet-500/30 group-hover:scale-110 transition-transform duration-300",children:h.jsx(W,{className:"text-violet-400 text-lg"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-white mb-1",children:N.title}),h.jsx("p",{className:"text-slate-400 text-sm",children:N.description})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-violet-400 font-semibold text-lg",children:["+",N.coinsEarned," coins"]}),h.jsx("div",{className:"text-slate-500 text-xs",children:O(N.timestamp)})]})]})},N.id||me)})}):h.jsxs("div",{className:"text-center py-16",children:[h.jsx("div",{className:"w-24 h-24 bg-slate-800/50 rounded-full flex items-center justify-center mx-auto mb-6 border border-violet-500/20",children:h.jsx(Qg,{className:"text-4xl text-slate-400"})}),h.jsx("h3",{className:"text-2xl font-bold text-slate-300 mb-2",children:"No Recent Activity"}),h.jsx("p",{className:"text-slate-500 max-w-md mx-auto",children:"Start mining, referring friends, or completing tasks to see your activity here!"})]})}),o==="badges"&&h.jsx("div",{className:"space-y-8",children:b.length>0?h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map((N,me)=>h.jsxs("div",{className:"group bg-slate-800/50 backdrop-blur-xl border border-violet-500/20 rounded-2xl p-6 text-center hover:bg-slate-800/70 transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-violet-500/20",style:{animationDelay:`${me*150}ms`},children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 rounded-full flex items-center justify-center mx-auto mb-4 border border-yellow-500/30 group-hover:scale-110 transition-transform duration-300",children:h.jsx(eu,{className:"text-3xl text-yellow-400"})}),h.jsx("h3",{className:"font-bold text-white mb-2",children:N.name}),h.jsx("p",{className:"text-slate-400 text-sm mb-3",children:N.description}),h.jsxs("div",{className:"text-xs text-violet-400 bg-violet-500/10 px-3 py-1 rounded-full inline-block",children:["Earned ",O(N.earnedAt)]})]},N.id||me))}):h.jsxs("div",{className:"text-center py-16",children:[h.jsx("div",{className:"w-24 h-24 bg-slate-800/50 rounded-full flex items-center justify-center mx-auto mb-6 border border-violet-500/20",children:h.jsx(Kg,{className:"text-4xl text-slate-400"})}),h.jsx("h3",{className:"text-2xl font-bold text-slate-300 mb-2",children:"No Badges Yet"}),h.jsx("p",{className:"text-slate-500 max-w-md mx-auto",children:"Complete achievements and milestones to earn your first badge!"})]})}),h.jsx("div",{className:"flex justify-center mt-16",children:h.jsxs("div",{className:"group flex items-center gap-3 px-6 py-3 bg-slate-800/50 backdrop-blur-xl rounded-2xl border border-violet-500/20 hover:bg-slate-800/70 transition-all duration-300 hover:scale-105",children:[h.jsx(Vk,{className:"text-violet-400 text-lg group-hover:scale-110 transition-transform duration-300"}),h.jsxs("span",{className:"text-slate-400 font-medium",children:["Member since ",k(ne.joined)]}),h.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse ml-2"})]})})]}),h.jsx("style",{jsx:!0,children:`
        @keyframes slideInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes slideInDown {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes shimmer {
          0% {
            background-position: -200% center;
          }
          100% {
            background-position: 200% center;
          }
        }
        
        @keyframes float {
          0%, 100% {
            transform: translateY(0px);
          }
          50% {
            transform: translateY(-10px);
          }
        }
        
        .animate-slideInUp {
          animation: slideInUp 0.8s ease-out;
        }
        
        .animate-slideInDown {
          animation: slideInDown 0.3s ease-out;
        }
        
        .animate-shimmer {
          background-size: 200% auto;
          animation: shimmer 3s linear infinite;
        }
        
        .animate-float {
          animation: float 6s ease-in-out infinite;
        }
      `})]})}function JI(){const n=Da();return h.jsxs("div",{className:"min-h-screen bg-[#0f0f1a] text-white flex items-center justify-center px-4 py-20",children:[h.jsxs("div",{className:"max-w-3xl w-full bg-gradient-to-b from-[#0f1016]/60 via-[#12121b]/60 to-[#0f0f14]/60 border border-violet-400/10 rounded-2xl shadow-2xl p-8 relative overflow-hidden",children:[h.jsx("div",{className:"absolute -left-20 -top-20 w-72 h-72 rounded-full bg-violet-600/10 blur-3xl animate-blob"}),h.jsx("div",{className:"absolute -right-28 -bottom-24 w-96 h-96 rounded-full bg-pink-500/6 blur-3xl animate-blob animation-delay-2000"}),h.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center gap-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"rounded-full bg-gradient-to-tr from-pink-500 to-violet-600 p-4 shadow-xl",children:h.jsx(Wh,{className:"text-white text-2xl"})}),h.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight text-white",children:"Work in Progress"})]}),h.jsx("p",{className:"max-w-2xl text-gray-300 text-sm md:text-base leading-relaxed",children:"We’re forging something shiny behind the scenes — features that make mining smoother, smarter, and more fun. Hang tight, miner. Good things take time... and a little bit of ⚡ magic."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-2",children:[h.jsxs("button",{onClick:()=>n(-1),className:"flex items-center gap-2 justify-center px-5 py-2 rounded-lg bg-violet-600 hover:bg-violet-500 transition shadow",children:[h.jsx(r3,{})," Back"]}),h.jsxs(Lr,{to:"/dashboard",className:"flex items-center gap-2 justify-center px-5 py-2 rounded-lg bg-transparent border border-violet-600 text-violet-300 hover:bg-violet-600/10 transition shadow",children:[h.jsx(Ey,{})," Go to Dashboard"]})]}),h.jsx("div",{className:"mt-4 text-xs text-gray-500",children:"Want updates? We can add an email subscribe soon — tell me if you want that."})]})]}),h.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px,0px) scale(1); }
          33% { transform: translate(30px,-20px) scale(1.05); }
          66% { transform: translate(-20px,20px) scale(0.95); }
          100% { transform: translate(0px,0px) scale(1); }
        }
        .animate-blob { animation: blob 6s infinite ease-in-out; }
        .animation-delay-2000 { animation-delay: 2s; }
      `})]})}const eD=3,tD=24*60*60*1e3,nD=async n=>{try{const e=ft(Fe,"users",n),t=await pn(e);if(!t.exists())return;const s=t.data(),o=new Date;if(s.mining?.isMining&&s.mining?.lastMiningStart){const c=s.mining.lastMiningStart.toDate(),d=o-c,m=24*60*60*1e3;if(d>=m){const g=s.mining?.coinsMined||eD;return await gr(e,{"mining.isMining":!1,"mining.coinsMined":g,"mining.totalMiningSessions":Ta(1),"stats.totalCoinsEarned":Ta(g),"mining.nextAvailable":new Date(o.getTime()+tD)}),await J4(n,g),await f3(n),await _u(n,"MINING_COMPLETED",{totalSessions:(s.mining?.totalMiningSessions||0)+1}),console.log("Completed"),{sessionAutoCompleted:!0,coinsEarned:g}}}return console.log("incpmplete"),{sessionAutoCompleted:!1}}catch(e){console.error("Error initializing app:",e)}},yg=({children:n})=>{const[e,t]=L.useState(null),[s,o]=L.useState(!0);return L.useEffect(()=>xy(async d=>{if(t(!!d),o(!1),d)try{await nD(d.uid)}catch(m){console.error("Error initializing app for user:",m)}}),[]),s?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),h.jsx("p",{className:"text-textMuted",children:"Loading..."})]})}):e?n:h.jsx(h0,{to:"/login",replace:!0})},cw=({children:n})=>{const[e,t]=L.useState(null),[s,o]=L.useState(!0);return L.useEffect(()=>xy(d=>{t(!!d),o(!1)}),[]),s?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"}),h.jsx("p",{className:"text-textMuted",children:"Loading..."})]})}):e?h.jsx(h0,{to:"/dashboard",replace:!0}):n};function rD(){return h.jsx(s7,{children:h.jsxs(n5,{basename:"/CollabriaNexus",children:[h.jsx(e7,{}),h.jsxs(jT,{children:[h.jsx(tr,{path:"/",element:h.jsx(Zk,{})}),h.jsx(tr,{path:"/blog",element:h.jsx(FI,{})}),h.jsx(tr,{path:"/about",element:h.jsx(qI,{})}),h.jsx(tr,{path:"/contact",element:h.jsx(HI,{})}),h.jsx(tr,{path:"/work-in-progress",element:h.jsx(JI,{})}),h.jsx(tr,{path:"/login",element:h.jsx(cw,{children:h.jsx(xk,{onLogin:()=>{}})})}),h.jsx(tr,{path:"/signup",element:h.jsx(cw,{children:h.jsx(wk,{onSignUp:()=>{}})})}),h.jsx(tr,{path:"/dashboard",element:h.jsx(yg,{children:h.jsx(BI,{})})}),h.jsx(tr,{path:"/friends",element:h.jsx(yg,{children:h.jsx(QI,{})})}),h.jsx(tr,{path:"/profile",element:h.jsx(yg,{children:h.jsx(ZI,{})})}),h.jsx(tr,{path:"*",element:h.jsx(h0,{to:"/",replace:!0})})]}),h.jsx(t7,{})]})})}_E.createRoot(document.getElementById("root")).render(h.jsx(Zt.StrictMode,{children:h.jsx(rD,{})}));
